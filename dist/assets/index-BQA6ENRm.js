(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zm={exports:{}},ad={},Bm={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function jk(){if(zv)return at;zv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function N(V,J,me){this.props=V,this.context=J,this.refs=T,this.updater=me||S}N.prototype.isReactComponent={},N.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},N.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function C(){}C.prototype=N.prototype;function M(V,J,me){this.props=V,this.context=J,this.refs=T,this.updater=me||S}var A=M.prototype=new C;A.constructor=M,_(A,N.prototype),A.isPureReactComponent=!0;var L=Array.isArray,z=Object.prototype.hasOwnProperty,X={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function B(V,J,me){var ye,we={},ve=null,_e=null;if(J!=null)for(ye in J.ref!==void 0&&(_e=J.ref),J.key!==void 0&&(ve=""+J.key),J)z.call(J,ye)&&!O.hasOwnProperty(ye)&&(we[ye]=J[ye]);var ke=arguments.length-2;if(ke===1)we.children=me;else if(1<ke){for(var Re=Array(ke),Ye=0;Ye<ke;Ye++)Re[Ye]=arguments[Ye+2];we.children=Re}if(V&&V.defaultProps)for(ye in ke=V.defaultProps,ke)we[ye]===void 0&&(we[ye]=ke[ye]);return{$$typeof:e,type:V,key:ve,ref:_e,props:we,_owner:X.current}}function q(V,J){return{$$typeof:e,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function ee(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function fe(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return J[me]})}var oe=/\/+/g;function ue(V,J){return typeof V=="object"&&V!==null&&V.key!=null?fe(""+V.key):J.toString(36)}function $(V,J,me,ye,we){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(ve){case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case e:case t:_e=!0}}if(_e)return _e=V,we=we(_e),V=ye===""?"."+ue(_e,0):ye,L(we)?(me="",V!=null&&(me=V.replace(oe,"$&/")+"/"),$(we,J,me,"",function(Ye){return Ye})):we!=null&&(ee(we)&&(we=q(we,me+(!we.key||_e&&_e.key===we.key?"":(""+we.key).replace(oe,"$&/")+"/")+V)),J.push(we)),1;if(_e=0,ye=ye===""?".":ye+":",L(V))for(var ke=0;ke<V.length;ke++){ve=V[ke];var Re=ye+ue(ve,ke);_e+=$(ve,J,me,Re,we)}else if(Re=v(V),typeof Re=="function")for(V=Re.call(V),ke=0;!(ve=V.next()).done;)ve=ve.value,Re=ye+ue(ve,ke++),_e+=$(ve,J,me,Re,we);else if(ve==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return _e}function ne(V,J,me){if(V==null)return V;var ye=[],we=0;return $(V,ye,"","",function(ve){return J.call(me,ve,we++)}),ye}function Y(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var H={current:null},F={transition:null},K={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:F,ReactCurrentOwner:X};function G(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ne,forEach:function(V,J,me){ne(V,function(){J.apply(this,arguments)},me)},count:function(V){var J=0;return ne(V,function(){J++}),J},toArray:function(V){return ne(V,function(J){return J})||[]},only:function(V){if(!ee(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},at.Component=N,at.Fragment=n,at.Profiler=a,at.PureComponent=M,at.StrictMode=s,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,at.act=G,at.cloneElement=function(V,J,me){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ye=_({},V.props),we=V.key,ve=V.ref,_e=V._owner;if(J!=null){if(J.ref!==void 0&&(ve=J.ref,_e=X.current),J.key!==void 0&&(we=""+J.key),V.type&&V.type.defaultProps)var ke=V.type.defaultProps;for(Re in J)z.call(J,Re)&&!O.hasOwnProperty(Re)&&(ye[Re]=J[Re]===void 0&&ke!==void 0?ke[Re]:J[Re])}var Re=arguments.length-2;if(Re===1)ye.children=me;else if(1<Re){ke=Array(Re);for(var Ye=0;Ye<Re;Ye++)ke[Ye]=arguments[Ye+2];ye.children=ke}return{$$typeof:e,type:V.type,key:we,ref:ve,props:ye,_owner:_e}},at.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},at.createElement=B,at.createFactory=function(V){var J=B.bind(null,V);return J.type=V,J},at.createRef=function(){return{current:null}},at.forwardRef=function(V){return{$$typeof:d,render:V}},at.isValidElement=ee,at.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Y}},at.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},at.startTransition=function(V){var J=F.transition;F.transition={};try{V()}finally{F.transition=J}},at.unstable_act=G,at.useCallback=function(V,J){return H.current.useCallback(V,J)},at.useContext=function(V){return H.current.useContext(V)},at.useDebugValue=function(){},at.useDeferredValue=function(V){return H.current.useDeferredValue(V)},at.useEffect=function(V,J){return H.current.useEffect(V,J)},at.useId=function(){return H.current.useId()},at.useImperativeHandle=function(V,J,me){return H.current.useImperativeHandle(V,J,me)},at.useInsertionEffect=function(V,J){return H.current.useInsertionEffect(V,J)},at.useLayoutEffect=function(V,J){return H.current.useLayoutEffect(V,J)},at.useMemo=function(V,J){return H.current.useMemo(V,J)},at.useReducer=function(V,J,me){return H.current.useReducer(V,J,me)},at.useRef=function(V){return H.current.useRef(V)},at.useState=function(V){return H.current.useState(V)},at.useSyncExternalStore=function(V,J,me){return H.current.useSyncExternalStore(V,J,me)},at.useTransition=function(){return H.current.useTransition()},at.version="18.3.1",at}var Bv;function Kd(){return Bv||(Bv=1,Bm.exports=jk()),Bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Ok(){if(Uv)return ad;Uv=1;var e=Kd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,g){var y,x={},v=null,S=null;g!==void 0&&(v=""+g),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(S=h.ref);for(y in h)s.call(h,y)&&!u.hasOwnProperty(y)&&(x[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:t,type:d,key:v,ref:S,props:x,_owner:a.current}}return ad.Fragment=n,ad.jsx=c,ad.jsxs=c,ad}var Hv;function $k(){return Hv||(Hv=1,zm.exports=Ok()),zm.exports}var k=$k(),P=Kd();const vy=yy(P);var bp={},Um={exports:{}},_r={},Hm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Fk(){return Wv||(Wv=1,function(e){function t(F,K){var G=F.length;F.push(K);e:for(;0<G;){var V=G-1>>>1,J=F[V];if(0<a(J,K))F[V]=K,F[G]=J,G=V;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var K=F[0],G=F.pop();if(G!==K){F[0]=G;e:for(var V=0,J=F.length,me=J>>>1;V<me;){var ye=2*(V+1)-1,we=F[ye],ve=ye+1,_e=F[ve];if(0>a(we,G))ve<J&&0>a(_e,we)?(F[V]=_e,F[ve]=G,V=ve):(F[V]=we,F[ye]=G,V=ye);else if(ve<J&&0>a(_e,G))F[V]=_e,F[ve]=G,V=ve;else break e}}return K}function a(F,K){var G=F.sortIndex-K.sortIndex;return G!==0?G:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],g=[],y=1,x=null,v=3,S=!1,_=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var K=n(g);K!==null;){if(K.callback===null)s(g);else if(K.startTime<=F)s(g),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(g)}}function L(F){if(T=!1,A(F),!_)if(n(h)!==null)_=!0,Y(z);else{var K=n(g);K!==null&&H(L,K.startTime-F)}}function z(F,K){_=!1,T&&(T=!1,C(B),B=-1),S=!0;var G=v;try{for(A(K),x=n(h);x!==null&&(!(x.expirationTime>K)||F&&!fe());){var V=x.callback;if(typeof V=="function"){x.callback=null,v=x.priorityLevel;var J=V(x.expirationTime<=K);K=e.unstable_now(),typeof J=="function"?x.callback=J:x===n(h)&&s(h),A(K)}else s(h);x=n(h)}if(x!==null)var me=!0;else{var ye=n(g);ye!==null&&H(L,ye.startTime-K),me=!1}return me}finally{x=null,v=G,S=!1}}var X=!1,O=null,B=-1,q=5,ee=-1;function fe(){return!(e.unstable_now()-ee<q)}function oe(){if(O!==null){var F=e.unstable_now();ee=F;var K=!0;try{K=O(!0,F)}finally{K?ue():(X=!1,O=null)}}else X=!1}var ue;if(typeof M=="function")ue=function(){M(oe)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=oe,ue=function(){ne.postMessage(null)}}else ue=function(){N(oe,0)};function Y(F){O=F,X||(X=!0,ue())}function H(F,K){B=N(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){_||S||(_=!0,Y(z))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var G=v;v=K;try{return F()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=v;v=F;try{return K()}finally{v=G}},e.unstable_scheduleCallback=function(F,K,G){var V=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?V+G:V):G=V,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,F={id:y++,callback:K,priorityLevel:F,startTime:G,expirationTime:J,sortIndex:-1},G>V?(F.sortIndex=G,t(g,F),n(h)===null&&F===n(g)&&(T?(C(B),B=-1):T=!0,H(L,G-V))):(F.sortIndex=J,t(h,F),_||S||(_=!0,Y(z))),F},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(F){var K=v;return function(){var G=v;v=K;try{return F.apply(this,arguments)}finally{v=G}}}}(Wm)),Wm}var Kv;function Vk(){return Kv||(Kv=1,Hm.exports=Fk()),Hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function zk(){if(Yv)return _r;Yv=1;var e=Kd(),t=Vk();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function v(r){return h.call(x,r)?!0:h.call(y,r)?!1:g.test(r)?x[r]=!0:(y[r]=!0,!1)}function S(r,i,f,p){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:f!==null?!f.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,f,p){if(i===null||typeof i>"u"||S(r,i,f,p))return!0;if(p)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(r,i,f,p,w,E,D){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=r,this.type=i,this.sanitizeURL=E,this.removeEmptyString=D}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new T(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];N[i]=new T(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new T(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new T(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new T(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new T(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new T(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new T(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new T(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new T(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new T(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,i,f,p){var w=N.hasOwnProperty(i)?N[i]:null;(w!==null?w.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,f,w,p)&&(f=null),p||w===null?v(i)&&(f===null?r.removeAttribute(i):r.setAttribute(i,""+f)):w.mustUseProperty?r[w.propertyName]=f===null?w.type===3?!1:"":f:(i=w.attributeName,p=w.attributeNamespace,f===null?r.removeAttribute(i):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,p?r.setAttributeNS(p,i,f):r.setAttribute(i,f))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),X=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),fe=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,V;function J(r){if(V===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var me=!1;function ye(r,i){if(!r||me)return"";me=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var p=ce}Reflect.construct(r,[],i)}else{try{i.call()}catch(ce){p=ce}r.call(i.prototype)}else{try{throw Error()}catch(ce){p=ce}r()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var w=ce.stack.split(`
`),E=p.stack.split(`
`),D=w.length-1,U=E.length-1;1<=D&&0<=U&&w[D]!==E[U];)U--;for(;1<=D&&0<=U;D--,U--)if(w[D]!==E[U]){if(D!==1||U!==1)do if(D--,U--,0>U||w[D]!==E[U]){var Q=`
`+w[D].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=D&&0<=U);break}}}finally{me=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?J(r):""}function we(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case X:return"Portal";case q:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case $:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fe:return(r.displayName||"Context")+".Consumer";case ee:return(r._context.displayName||"Context")+".Provider";case oe:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ne:return i=r.displayName||null,i!==null?i:ve(r.type)||"Memo";case Y:i=r._payload,r=r._init;try{return ve(r(i))}catch{}}return null}function _e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ye(r){var i=Re(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),p=""+r[i];if(!r.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,E=f.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return w.call(this)},set:function(D){p=""+D,E.call(this,D)}}),Object.defineProperty(r,i,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function qe(r){r._valueTracker||(r._valueTracker=Ye(r))}function Ne(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var f=i.getValue(),p="";return r&&(p=Re(r)?r.checked?"true":"false":r.value),r=p,r!==f?(i.setValue(r),!0):!1}function Pe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ke(r,i){var f=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??r._wrapperState.initialChecked})}function ot(r,i){var f=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;f=ke(i.value!=null?i.value:f),r._wrapperState={initialChecked:p,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Et(r,i){i=i.checked,i!=null&&A(r,"checked",i,!1)}function cn(r,i){Et(r,i);var f=ke(i.value),p=i.type;if(f!=null)p==="number"?(f===0&&r.value===""||r.value!=f)&&(r.value=""+f):r.value!==""+f&&(r.value=""+f);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?sr(r,i.type,f):i.hasOwnProperty("defaultValue")&&sr(r,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function li(r,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,f||i===r.value||(r.value=i),r.defaultValue=i}f=r.name,f!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,f!==""&&(r.name=f)}function sr(r,i,f){(i!=="number"||Pe(r.ownerDocument)!==r)&&(f==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+f&&(r.defaultValue=""+f))}var Fe=Array.isArray;function be(r,i,f,p){if(r=r.options,i){i={};for(var w=0;w<f.length;w++)i["$"+f[w]]=!0;for(f=0;f<r.length;f++)w=i.hasOwnProperty("$"+r[f].value),r[f].selected!==w&&(r[f].selected=w),w&&p&&(r[f].defaultSelected=!0)}else{for(f=""+ke(f),i=null,w=0;w<r.length;w++){if(r[w].value===f){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}i!==null||r[w].disabled||(i=r[w])}i!==null&&(i.selected=!0)}}function ze(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function He(r,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(n(92));if(Fe(f)){if(1<f.length)throw Error(n(93));f=f[0]}i=f}i==null&&(i=""),f=i}r._wrapperState={initialValue:ke(f)}}function gt(r,i){var f=ke(i.value),p=ke(i.defaultValue);f!=null&&(f=""+f,f!==r.value&&(r.value=f),i.defaultValue==null&&r.defaultValue!==f&&(r.defaultValue=f)),p!=null&&(r.defaultValue=""+p)}function vt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var bt,Yt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,p,w){MSApp.execUnsafeLocalFunction(function(){return r(i,f,p,w)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=bt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function an(r,i){if(i){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=i;return}}r.textContent=i}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(r){la.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),kn[i]=kn[r]})});function ao(r,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||kn.hasOwnProperty(r)&&kn[r]?(""+i).trim():i+"px"}function lo(r,i){r=r.style;for(var f in i)if(i.hasOwnProperty(f)){var p=f.indexOf("--")===0,w=ao(f,i[f],p);f==="float"&&(f="cssFloat"),p?r.setProperty(f,w):r[f]=w}}var ua=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gs(r,i){if(i){if(ua[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ms(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function fa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var da=null,ui=null,ci=null;function kl(r){if(r=vn(r)){if(typeof da!="function")throw Error(n(280));var i=r.stateNode;i&&(i=du(i),da(r.stateNode,r.type,i))}}function ha(r){ui?ci?ci.push(r):ci=[r]:ui=r}function Tl(){if(ui){var r=ui,i=ci;if(ci=ui=null,kl(r),i)for(r=0;r<i.length;r++)kl(i[r])}}function Nl(r,i){return r(i)}function pa(){}var ga=!1;function Pl(r,i,f){if(ga)return r(i,f);ga=!0;try{return Nl(r,i,f)}finally{ga=!1,(ui!==null||ci!==null)&&(pa(),Tl())}}function ys(r,i){var f=r.stateNode;if(f===null)return null;var p=du(f);if(p===null)return null;f=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(n(231,i,typeof f));return f}var vs=!1;if(d)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){vs=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{vs=!1}function ma(r,i,f,p,w,E,D,U,Q){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(f,ce)}catch(Se){this.onError(Se)}}var ws=!1,uo=null,co=!1,ya=null,Lc={onError:function(r){ws=!0,uo=r}};function jc(r,i,f,p,w,E,D,U,Q){ws=!1,uo=null,ma.apply(Lc,arguments)}function Al(r,i,f,p,w,E,D,U,Q){if(jc.apply(this,arguments),ws){if(ws){var ce=uo;ws=!1,uo=null}else throw Error(n(198));co||(co=!0,ya=ce)}}function Ur(r){var i=r,f=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(f=i.return),r=i.return;while(r)}return i.tag===3?f:null}function va(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Rl(r){if(Ur(r)!==r)throw Error(n(188))}function Oc(r){var i=r.alternate;if(!i){if(i=Ur(r),i===null)throw Error(n(188));return i!==r?null:r}for(var f=r,p=i;;){var w=f.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){f=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===f)return Rl(w),r;if(E===p)return Rl(w),i;E=E.sibling}throw Error(n(188))}if(f.return!==p.return)f=w,p=E;else{for(var D=!1,U=w.child;U;){if(U===f){D=!0,f=w,p=E;break}if(U===p){D=!0,p=w,f=E;break}U=U.sibling}if(!D){for(U=E.child;U;){if(U===f){D=!0,f=E,p=w;break}if(U===p){D=!0,p=E,f=w;break}U=U.sibling}if(!D)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?r:i}function Dl(r){return r=Oc(r),r!==null?Ml(r):null}function Ml(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Ml(r);if(i!==null)return i;r=r.sibling}return null}var Il=t.unstable_scheduleCallback,Ll=t.unstable_cancelCallback,Ss=t.unstable_shouldYield,$c=t.unstable_requestPaint,Ct=t.unstable_now,Fc=t.unstable_getCurrentPriorityLevel,xa=t.unstable_ImmediatePriority,jl=t.unstable_UserBlockingPriority,_s=t.unstable_NormalPriority,Ol=t.unstable_LowPriority,fo=t.unstable_IdlePriority,ho=null,or=null;function Vc(r){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(ho,r,void 0,(r.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:Vl,$l=Math.log,Fl=Math.LN2;function Vl(r){return r>>>=0,r===0?32:31-($l(r)/Fl|0)|0}var Cr=64,po=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function kr(r,i){var f=r.pendingLanes;if(f===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,D=f&268435455;if(D!==0){var U=D&~w;U!==0?p=ji(U):(E&=D,E!==0&&(p=ji(E)))}else D=f&~w,D!==0?p=ji(D):E!==0&&(p=ji(E));if(p===0)return 0;if(i!==0&&i!==p&&(i&w)===0&&(w=p&-p,E=i&-i,w>=E||w===16&&(E&4194240)!==0))return i;if((p&4)!==0&&(p|=f&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=p;0<i;)f=31-qn(i),w=1<<f,p|=r[f],i&=~w;return p}function zl(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(r,i){for(var f=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var D=31-qn(E),U=1<<D,Q=w[D];Q===-1?((U&f)===0||(U&p)!==0)&&(w[D]=zl(U,i)):Q<=i&&(r.expiredLanes|=U),E&=~U}}function Es(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bc(){var r=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),r}function wa(r){for(var i=[],f=0;31>f;f++)i.push(r);return i}function Sa(r,i,f){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qn(i),r[i]=f}function oh(r,i){var f=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<f;){var w=31-qn(f),E=1<<w;i[w]=0,p[w]=-1,r[w]=-1,f&=~E}}function _a(r,i){var f=r.entangledLanes|=i;for(r=r.entanglements;f;){var p=31-qn(f),w=1<<p;w&i|r[p]&i&&(r[p]|=i),f&=~w}}var mt=0;function bs(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Uc,Bl,ah,Hc,Wc,Ul=!1,Ea=[],Oi=null,$i=null,Fi=null,go=new Map,ba=new Map,Vi=[],Yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lh(r,i){switch(r){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(i.pointerId)}}function Cs(r,i,f,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:i,domEventName:f,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},i!==null&&(i=vn(i),i!==null&&Bl(i)),r):(r.eventSystemFlags|=p,i=r.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),r)}function Xg(r,i,f,p,w){switch(i){case"focusin":return Oi=Cs(Oi,r,i,f,p,w),!0;case"dragenter":return $i=Cs($i,r,i,f,p,w),!0;case"mouseover":return Fi=Cs(Fi,r,i,f,p,w),!0;case"pointerover":var E=w.pointerId;return go.set(E,Cs(go.get(E)||null,r,i,f,p,w)),!0;case"gotpointercapture":return E=w.pointerId,ba.set(E,Cs(ba.get(E)||null,r,i,f,p,w)),!0}return!1}function uh(r){var i=Yr(r.target);if(i!==null){var f=Ur(i);if(f!==null){if(i=f.tag,i===13){if(i=va(f),i!==null){r.blockedOn=i,Wc(r.priority,function(){ah(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hl(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var f=Yl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(f===null){f=r.nativeEvent;var p=new f.constructor(f.type,f);ca=p,f.target.dispatchEvent(p),ca=null}else return i=vn(f),i!==null&&Bl(i),r.blockedOn=f,!1;i.shift()}return!0}function ch(r,i,f){Hl(r)&&f.delete(i)}function qg(){Ul=!1,Oi!==null&&Hl(Oi)&&(Oi=null),$i!==null&&Hl($i)&&($i=null),Fi!==null&&Hl(Fi)&&(Fi=null),go.forEach(ch),ba.forEach(ch)}function xt(r,i){r.blockedOn===i&&(r.blockedOn=null,Ul||(Ul=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qg)))}function yt(r){function i(w){return xt(w,r)}if(0<Ea.length){xt(Ea[0],r);for(var f=1;f<Ea.length;f++){var p=Ea[f];p.blockedOn===r&&(p.blockedOn=null)}}for(Oi!==null&&xt(Oi,r),$i!==null&&xt($i,r),Fi!==null&&xt(Fi,r),go.forEach(i),ba.forEach(i),f=0;f<Vi.length;f++)p=Vi[f],p.blockedOn===r&&(p.blockedOn=null);for(;0<Vi.length&&(f=Vi[0],f.blockedOn===null);)uh(f),f.blockedOn===null&&Vi.shift()}var mo=L.ReactCurrentBatchConfig,Wl=!0;function Gg(r,i,f,p){var w=mt,E=mo.transition;mo.transition=null;try{mt=1,Kc(r,i,f,p)}finally{mt=w,mo.transition=E}}function Qg(r,i,f,p){var w=mt,E=mo.transition;mo.transition=null;try{mt=4,Kc(r,i,f,p)}finally{mt=w,mo.transition=E}}function Kc(r,i,f,p){if(Wl){var w=Yl(r,i,f,p);if(w===null)cf(r,i,p,Kl,f),lh(r,p);else if(Xg(w,r,i,f,p))p.stopPropagation();else if(lh(r,p),i&4&&-1<Yg.indexOf(r)){for(;w!==null;){var E=vn(w);if(E!==null&&Uc(E),E=Yl(r,i,f,p),E===null&&cf(r,i,p,Kl,f),E===w)break;w=E}w!==null&&p.stopPropagation()}else cf(r,i,p,null,f)}}var Kl=null;function Yl(r,i,f,p){if(Kl=null,r=fa(p),r=Yr(r),r!==null)if(i=Ur(r),i===null)r=null;else if(f=i.tag,f===13){if(r=va(i),r!==null)return r;r=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Kl=r,null}function fh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fc()){case xa:return 1;case jl:return 4;case _s:case Ol:return 16;case fo:return 536870912;default:return 16}default:return 16}}var Rt=null,Ca=null,Hr=null;function Yc(){if(Hr)return Hr;var r,i=Ca,f=i.length,p,w="value"in Rt?Rt.value:Rt.textContent,E=w.length;for(r=0;r<f&&i[r]===w[r];r++);var D=f-r;for(p=1;p<=D&&i[f-p]===w[E-p];p++);return Hr=w.slice(r,1<p?1-p:void 0)}function yo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Tn(){return!0}function Xc(){return!1}function On(r){function i(f,p,w,E,D){this._reactName=f,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(f=r[U],this[U]=f?f(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Tn:Xc,this.isPropagationStopped=Xc,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),i}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=On(ks),vo=G({},ks,{view:0,detail:0}),dh=On(vo),Nn,qc,mn,ql=G({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==mn&&(mn&&r.type==="mousemove"?(Nn=r.screenX-mn.screenX,qc=r.screenY-mn.screenY):qc=Nn=0,mn=r),Nn)},movementY:function(r){return"movementY"in r?r.movementY:qc}}),Gc=On(ql),zi=G({},ql,{dataTransfer:0}),Gl=On(zi),Qc=G({},vo,{relatedTarget:0}),kt=On(Qc),Bi=G({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=On(Bi),Zg=G({},ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Jc=On(Zg),Jg=G({},ks,{data:0}),hh=On(Jg),em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ql[r])?!!i[r]:!1}function ef(){return xo}var gh=G({},vo,{key:function(r){if(r.key){var i=em[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ph[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mh=On(gh),tf=G({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=On(tf),yh=G({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),tm=On(yh),nf=G({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),rf=On(nf),nm=G({},ql,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vh=On(nm),Gn=[9,13,27,32],ka=d&&"CompositionEvent"in window,fi=null;d&&"documentMode"in document&&(fi=document.documentMode);var xh=d&&"TextEvent"in window&&!fi,sf=d&&(!ka||fi&&8<fi&&11>=fi),wh=" ",Sh=!1;function _h(r,i){switch(r){case"keyup":return Gn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var wo=!1;function So(r,i){switch(r){case"compositionend":return Eh(i);case"keypress":return i.which!==32?null:(Sh=!0,wh);case"textInput":return r=i.data,r===wh&&Sh?null:r;default:return null}}function rm(r,i){if(wo)return r==="compositionend"||!ka&&_h(r,i)?(r=Yc(),Hr=Ca=Rt=null,wo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return sf&&i.locale!=="ko"?null:i.data;default:return null}}var im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!im[r.type]:i==="textarea"}function of(r,i,f,p){ha(p),i=lu(i,"onChange"),0<i.length&&(f=new Xl("onChange","change",null,f,p),r.push({event:f,listeners:i}))}var ar=null,Ui=null;function sm(r){Ah(r,0)}function eu(r){var i=et(r);if(Ne(i))return r}function om(r,i){if(r==="change")return i}var Ts=!1;if(d){var Qn;if(d){var tu="oninput"in document;if(!tu){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),tu=typeof bh.oninput=="function"}Qn=tu}else Qn=!1;Ts=Qn&&(!document.documentMode||9<document.documentMode)}function Ch(){ar&&(ar.detachEvent("onpropertychange",kh),Ui=ar=null)}function kh(r){if(r.propertyName==="value"&&eu(Ui)){var i=[];of(i,Ui,r,fa(r)),Pl(sm,i)}}function am(r,i,f){r==="focusin"?(Ch(),ar=i,Ui=f,ar.attachEvent("onpropertychange",kh)):r==="focusout"&&Ch()}function lm(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eu(Ui)}function _o(r,i){if(r==="click")return eu(i)}function re(r,i){if(r==="input"||r==="change")return eu(i)}function he(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var le=typeof Object.is=="function"?Object.is:he;function De(r,i){if(le(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var f=Object.keys(r),p=Object.keys(i);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var w=f[p];if(!h.call(i,w)||!le(r[w],i[w]))return!1}return!0}function Je(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dt(r,i){var f=Je(r);r=0;for(var p;f;){if(f.nodeType===3){if(p=r+f.textContent.length,r<=i&&p>=i)return{node:f,offset:i-r};r=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Je(f)}}function Xt(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Xt(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function wt(){for(var r=window,i=Pe();i instanceof r.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)r=i.contentWindow;else break;i=Pe(r.document)}return i}function Ta(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function um(r){var i=wt(),f=r.focusedElem,p=r.selectionRange;if(i!==f&&f&&f.ownerDocument&&Xt(f.ownerDocument.documentElement,f)){if(p!==null&&Ta(f)){if(i=p.start,r=p.end,r===void 0&&(r=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(r,f.value.length);else if(r=(i=f.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var w=f.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=dt(f,E);var D=dt(f,p);w&&D&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==D.node||r.focusOffset!==D.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(i),r.extend(D.node,D.offset)):(i.setEnd(D.node,D.offset),r.addRange(i)))}}for(i=[],r=f;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)r=i[f],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lr=d&&"documentMode"in document&&11>=document.documentMode,di=null,af=null,Wr=null,Eo=!1;function Na(r,i,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Eo||di==null||di!==Pe(p)||(p=di,"selectionStart"in p&&Ta(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wr&&De(Wr,p)||(Wr=p,p=lu(af,"onSelect"),0<p.length&&(i=new Xl("onSelect","select",null,i,f),r.push({event:i,listeners:p}),i.target=di)))}function ht(r,i){var f={};return f[r.toLowerCase()]=i.toLowerCase(),f["Webkit"+r]="webkit"+i,f["Moz"+r]="moz"+i,f}var bo={animationend:ht("Animation","AnimationEnd"),animationiteration:ht("Animation","AnimationIteration"),animationstart:ht("Animation","AnimationStart"),transitionend:ht("Transition","TransitionEnd")},nu={},Pa={};d&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ru(r){if(nu[r])return nu[r];if(!bo[r])return r;var i=bo[r],f;for(f in i)if(i.hasOwnProperty(f)&&f in Pa)return nu[r]=i[f];return r}var Th=ru("animationend"),Nh=ru("animationiteration"),Aa=ru("animationstart"),hi=ru("transitionend"),Ra=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(r,i){Ra.set(r,i),u(i,[r])}for(var iu=0;iu<lf.length;iu++){var su=lf[iu],ou=su.toLowerCase(),Ph=su[0].toUpperCase()+su.slice(1);Tr(ou,"on"+Ph)}Tr(Th,"onAnimationEnd"),Tr(Nh,"onAnimationIteration"),Tr(Aa,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(hi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ns=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Da(r,i,f){var p=r.type||"unknown-event";r.currentTarget=f,Al(p,i,void 0,r),r.currentTarget=null}function Ah(r,i){i=(i&4)!==0;for(var f=0;f<r.length;f++){var p=r[f],w=p.event;p=p.listeners;e:{var E=void 0;if(i)for(var D=p.length-1;0<=D;D--){var U=p[D],Q=U.instance,ce=U.currentTarget;if(U=U.listener,Q!==E&&w.isPropagationStopped())break e;Da(w,U,ce),E=Q}else for(D=0;D<p.length;D++){if(U=p[D],Q=U.instance,ce=U.currentTarget,U=U.listener,Q!==E&&w.isPropagationStopped())break e;Da(w,U,ce),E=Q}}}if(co)throw r=ya,co=!1,ya=null,r}function Nt(r,i){var f=i[fu];f===void 0&&(f=i[fu]=new Set);var p=r+"__bubble";f.has(p)||(au(i,r,2,!1),f.add(p))}function uf(r,i,f){var p=0;i&&(p|=4),au(f,r,p,i)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Hi(r){if(!r[Ps]){r[Ps]=!0,s.forEach(function(f){f!=="selectionchange"&&(Ns.has(f)||uf(f,!1,r),uf(f,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ps]||(i[Ps]=!0,uf("selectionchange",!1,i))}}function au(r,i,f,p){switch(fh(i)){case 1:var w=Gg;break;case 4:w=Qg;break;default:w=Kc}f=w.bind(null,i,f,r),w=void 0,!vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(i,f,{capture:!0,passive:w}):r.addEventListener(i,f,!0):w!==void 0?r.addEventListener(i,f,{passive:w}):r.addEventListener(i,f,!1)}function cf(r,i,f,p,w){var E=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var U=p.stateNode.containerInfo;if(U===w||U.nodeType===8&&U.parentNode===w)break;if(D===4)for(D=p.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&(Q=D.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;D=D.return}for(;U!==null;){if(D=Yr(U),D===null)return;if(Q=D.tag,Q===5||Q===6){p=E=D;continue e}U=U.parentNode}}p=p.return}Pl(function(){var ce=E,Se=fa(f),Ce=[];e:{var xe=Ra.get(r);if(xe!==void 0){var Me=Xl,Le=r;switch(r){case"keypress":if(yo(f)===0)break e;case"keydown":case"keyup":Me=mh;break;case"focusin":Le="focus",Me=kt;break;case"focusout":Le="blur",Me=kt;break;case"beforeblur":case"afterblur":Me=kt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=tm;break;case Th:case Nh:case Aa:Me=Zc;break;case hi:Me=rf;break;case"scroll":Me=dh;break;case"wheel":Me=vh;break;case"copy":case"cut":case"paste":Me=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Zl}var je=(i&4)!==0,zt=!je&&r==="scroll",se=je?xe!==null?xe+"Capture":null:xe;je=[];for(var te=ce,ae;te!==null;){ae=te;var Te=ae.stateNode;if(ae.tag===5&&Te!==null&&(ae=Te,se!==null&&(Te=ys(te,se),Te!=null&&je.push(Co(te,Te,ae)))),zt)break;te=te.return}0<je.length&&(xe=new Me(xe,Le,null,f,Se),Ce.push({event:xe,listeners:je}))}}if((i&7)===0){e:{if(xe=r==="mouseover"||r==="pointerover",Me=r==="mouseout"||r==="pointerout",xe&&f!==ca&&(Le=f.relatedTarget||f.fromElement)&&(Yr(Le)||Le[Zn]))break e;if((Me||xe)&&(xe=Se.window===Se?Se:(xe=Se.ownerDocument)?xe.defaultView||xe.parentWindow:window,Me?(Le=f.relatedTarget||f.toElement,Me=ce,Le=Le?Yr(Le):null,Le!==null&&(zt=Ur(Le),Le!==zt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Me=null,Le=ce),Me!==Le)){if(je=Gc,Te="onMouseLeave",se="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(je=Zl,Te="onPointerLeave",se="onPointerEnter",te="pointer"),zt=Me==null?xe:et(Me),ae=Le==null?xe:et(Le),xe=new je(Te,te+"leave",Me,f,Se),xe.target=zt,xe.relatedTarget=ae,Te=null,Yr(Se)===ce&&(je=new je(se,te+"enter",Le,f,Se),je.target=ae,je.relatedTarget=zt,Te=je),zt=Te,Me&&Le)t:{for(je=Me,se=Le,te=0,ae=je;ae;ae=ko(ae))te++;for(ae=0,Te=se;Te;Te=ko(Te))ae++;for(;0<te-ae;)je=ko(je),te--;for(;0<ae-te;)se=ko(se),ae--;for(;te--;){if(je===se||se!==null&&je===se.alternate)break t;je=ko(je),se=ko(se)}je=null}else je=null;Me!==null&&qt(Ce,xe,Me,je,!1),Le!==null&&zt!==null&&qt(Ce,zt,Le,je,!0)}}e:{if(xe=ce?et(ce):window,Me=xe.nodeName&&xe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&xe.type==="file")var Oe=om;else if(Jl(xe))if(Ts)Oe=re;else{Oe=lm;var Be=am}else(Me=xe.nodeName)&&Me.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Oe=_o);if(Oe&&(Oe=Oe(r,ce))){of(Ce,Oe,f,Se);break e}Be&&Be(r,xe,ce),r==="focusout"&&(Be=xe._wrapperState)&&Be.controlled&&xe.type==="number"&&sr(xe,"number",xe.value)}switch(Be=ce?et(ce):window,r){case"focusin":(Jl(Be)||Be.contentEditable==="true")&&(di=Be,af=ce,Wr=null);break;case"focusout":Wr=af=di=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Na(Ce,f,Se);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":Na(Ce,f,Se)}var Ue;if(ka)e:{switch(r){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else wo?_h(r,f)&&(Xe="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(sf&&f.locale!=="ko"&&(wo||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&wo&&(Ue=Yc()):(Rt=Se,Ca="value"in Rt?Rt.value:Rt.textContent,wo=!0)),Be=lu(ce,Xe),0<Be.length&&(Xe=new hh(Xe,r,null,f,Se),Ce.push({event:Xe,listeners:Be}),Ue?Xe.data=Ue:(Ue=Eh(f),Ue!==null&&(Xe.data=Ue)))),(Ue=xh?So(r,f):rm(r,f))&&(ce=lu(ce,"onBeforeInput"),0<ce.length&&(Se=new hh("onBeforeInput","beforeinput",null,f,Se),Ce.push({event:Se,listeners:ce}),Se.data=Ue))}Ah(Ce,i)})}function Co(r,i,f){return{instance:r,listener:i,currentTarget:f}}function lu(r,i){for(var f=i+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=ys(r,f),E!=null&&p.unshift(Co(r,E,w)),E=ys(r,i),E!=null&&p.push(Co(r,E,w))),r=r.return}return p}function ko(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qt(r,i,f,p,w){for(var E=i._reactName,D=[];f!==null&&f!==p;){var U=f,Q=U.alternate,ce=U.stateNode;if(Q!==null&&Q===p)break;U.tag===5&&ce!==null&&(U=ce,w?(Q=ys(f,E),Q!=null&&D.unshift(Co(f,Q,U))):w||(Q=ys(f,E),Q!=null&&D.push(Co(f,Q,U)))),f=f.return}D.length!==0&&r.push({event:i,listeners:D})}var yn=/\r\n?/g,cm=/\u0000|\uFFFD/g;function Rh(r){return(typeof r=="string"?r:""+r).replace(yn,`
`).replace(cm,"")}function Ma(r,i,f){if(i=Rh(i),Rh(r)!==i&&f)throw Error(n(425))}function uu(){}var Ia=null,As=null;function La(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wi=typeof setTimeout=="function"?setTimeout:void 0,ja=typeof clearTimeout=="function"?clearTimeout:void 0,To=typeof Promise=="function"?Promise:void 0,cu=typeof queueMicrotask=="function"?queueMicrotask:typeof To<"u"?function(r){return To.resolve(null).then(r).catch(No)}:Wi;function No(r){setTimeout(function(){throw r})}function ff(r,i){var f=i,p=0;do{var w=f.nextSibling;if(r.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(p===0){r.removeChild(w),yt(i);return}p--}else f!=="$"&&f!=="$?"&&f!=="$!"||p++;f=w}while(f);yt(i)}function Ki(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Dh(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return r;i--}else f==="/$"&&i++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Po,Yi="__reactProps$"+Po,Zn="__reactContainer$"+Po,fu="__reactEvents$"+Po,I="__reactListeners$"+Po,Ao="__reactHandles$"+Po;function Yr(r){var i=r[Kr];if(i)return i;for(var f=r.parentNode;f;){if(i=f[Zn]||f[Kr]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(r=Dh(r);r!==null;){if(f=r[Kr])return f;r=Dh(r)}return i}r=f,f=r.parentNode}return null}function vn(r){return r=r[Kr]||r[Zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function et(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function du(r){return r[Yi]||null}var df=[],Ro=-1;function $n(r){return{current:r}}function Pt(r){0>Ro||(r.current=df[Ro],df[Ro]=null,Ro--)}function Tt(r,i){Ro++,df[Ro]=r.current,r.current=i}var Xi={},xn=$n(Xi),Fn=$n(!1),Pn=Xi;function Do(r,i){var f=r.type.contextTypes;if(!f)return Xi;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in f)w[E]=i[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=w),w}function Vn(r){return r=r.childContextTypes,r!=null}function hu(){Pt(Fn),Pt(xn)}function Mh(r,i,f){if(xn.current!==Xi)throw Error(n(168));Tt(xn,i),Tt(Fn,f)}function Ih(r,i,f){var p=r.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var w in p)if(!(w in i))throw Error(n(108,_e(r)||"Unknown",w));return G({},f,p)}function ur(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Xi,Pn=xn.current,Tt(xn,r),Tt(Fn,Fn.current),!0}function Lh(r,i,f){var p=r.stateNode;if(!p)throw Error(n(169));f?(r=Ih(r,i,Pn),p.__reactInternalMemoizedMergedChildContext=r,Pt(Fn),Pt(xn),Tt(xn,r)):Pt(Fn),Tt(Fn,f)}var gi=null,pu=!1,hf=!1;function jh(r){gi===null?gi=[r]:gi.push(r)}function Rs(r){pu=!0,jh(r)}function qi(){if(!hf&&gi!==null){hf=!0;var r=0,i=mt;try{var f=gi;for(mt=1;r<f.length;r++){var p=f[r];do p=p(!0);while(p!==null)}gi=null,pu=!1}catch(w){throw gi!==null&&(gi=gi.slice(r+1)),Il(xa,qi),w}finally{mt=i,hf=!1}}return null}var Mo=[],wn=0,gu=null,mu=0,cr=[],fr=0,Ds=null,Xr=1,qr="";function Ms(r,i){Mo[wn++]=mu,Mo[wn++]=gu,gu=r,mu=i}function Oh(r,i,f){cr[fr++]=Xr,cr[fr++]=qr,cr[fr++]=Ds,Ds=r;var p=Xr;r=qr;var w=32-qn(p)-1;p&=~(1<<w),f+=1;var E=32-qn(i)+w;if(30<E){var D=w-w%5;E=(p&(1<<D)-1).toString(32),p>>=D,w-=D,Xr=1<<32-qn(i)+w|f<<w|p,qr=E+r}else Xr=1<<E|f<<w|p,qr=r}function Oa(r){r.return!==null&&(Ms(r,1),Oh(r,1,0))}function Is(r){for(;r===gu;)gu=Mo[--wn],Mo[wn]=null,mu=Mo[--wn],Mo[wn]=null;for(;r===Ds;)Ds=cr[--fr],cr[fr]=null,qr=cr[--fr],cr[fr]=null,Xr=cr[--fr],cr[fr]=null}var Sn=null,Jn=null,At=!1,Nr=null;function Gr(r,i){var f=vr(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=r,i=r.deletions,i===null?(r.deletions=[f],r.flags|=16):i.push(f)}function yu(r,i){switch(r.tag){case 5:var f=r.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Sn=r,Jn=Ki(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Sn=r,Jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Ds!==null?{id:Xr,overflow:qr}:null,r.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=vr(18,null,null,0),f.stateNode=i,f.return=r,r.child=f,Sn=r,Jn=null,!0):!1;default:return!1}}function mi(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zn(r){if(At){var i=Jn;if(i){var f=i;if(!yu(r,i)){if(mi(r))throw Error(n(418));i=Ki(f.nextSibling);var p=Sn;i&&yu(r,i)?Gr(p,f):(r.flags=r.flags&-4097|2,At=!1,Sn=r)}}else{if(mi(r))throw Error(n(418));r.flags=r.flags&-4097|2,At=!1,Sn=r}}}function $h(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function $a(r){if(r!==Sn)return!1;if(!At)return $h(r),At=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!La(r.type,r.memoizedProps)),i&&(i=Jn)){if(mi(r))throw pf(),Error(n(418));for(;i;)Gr(r,i),i=Ki(i.nextSibling)}if($h(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"){if(i===0){Jn=Ki(r.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}r=r.nextSibling}Jn=null}}else Jn=Sn?Ki(r.stateNode.nextSibling):null;return!0}function pf(){for(var r=Jn;r;)r=Ki(r.nextSibling)}function Qr(){Jn=Sn=null,At=!1}function Zr(r){Nr===null?Nr=[r]:Nr.push(r)}var Fh=L.ReactCurrentBatchConfig;function Fa(r,i,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var p=f.stateNode}if(!p)throw Error(n(147,r));var w=p,E=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(D){var U=w.refs;D===null?delete U[E]:U[E]=D},i._stringRef=E,i)}if(typeof r!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,r))}return r}function Ls(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Vh(r){var i=r._init;return i(r._payload)}function gf(r){function i(se,te){if(r){var ae=se.deletions;ae===null?(se.deletions=[te],se.flags|=16):ae.push(te)}}function f(se,te){if(!r)return null;for(;te!==null;)i(se,te),te=te.sibling;return null}function p(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function w(se,te){return se=Lr(se,te),se.index=0,se.sibling=null,se}function E(se,te,ae){return se.index=ae,r?(ae=se.alternate,ae!==null?(ae=ae.index,ae<te?(se.flags|=2,te):ae):(se.flags|=2,te)):(se.flags|=1048576,te)}function D(se){return r&&se.alternate===null&&(se.flags|=2),se}function U(se,te,ae,Te){return te===null||te.tag!==6?(te=td(ae,se.mode,Te),te.return=se,te):(te=w(te,ae),te.return=se,te)}function Q(se,te,ae,Te){var Oe=ae.type;return Oe===O?Se(se,te,ae.props.children,Te,ae.key):te!==null&&(te.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Y&&Vh(Oe)===te.type)?(Te=w(te,ae.props),Te.ref=Fa(se,te,ae),Te.return=se,Te):(Te=Zu(ae.type,ae.key,ae.props,null,se.mode,Te),Te.ref=Fa(se,te,ae),Te.return=se,Te)}function ce(se,te,ae,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=nd(ae,se.mode,Te),te.return=se,te):(te=w(te,ae.children||[]),te.return=se,te)}function Se(se,te,ae,Te,Oe){return te===null||te.tag!==7?(te=Ks(ae,se.mode,Te,Oe),te.return=se,te):(te=w(te,ae),te.return=se,te)}function Ce(se,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=td(""+te,se.mode,ae),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case z:return ae=Zu(te.type,te.key,te.props,null,se.mode,ae),ae.ref=Fa(se,null,te),ae.return=se,ae;case X:return te=nd(te,se.mode,ae),te.return=se,te;case Y:var Te=te._init;return Ce(se,Te(te._payload),ae)}if(Fe(te)||K(te))return te=Ks(te,se.mode,ae,null),te.return=se,te;Ls(se,te)}return null}function xe(se,te,ae,Te){var Oe=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Oe!==null?null:U(se,te,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case z:return ae.key===Oe?Q(se,te,ae,Te):null;case X:return ae.key===Oe?ce(se,te,ae,Te):null;case Y:return Oe=ae._init,xe(se,te,Oe(ae._payload),Te)}if(Fe(ae)||K(ae))return Oe!==null?null:Se(se,te,ae,Te,null);Ls(se,ae)}return null}function Me(se,te,ae,Te,Oe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return se=se.get(ae)||null,U(te,se,""+Te,Oe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case z:return se=se.get(Te.key===null?ae:Te.key)||null,Q(te,se,Te,Oe);case X:return se=se.get(Te.key===null?ae:Te.key)||null,ce(te,se,Te,Oe);case Y:var Be=Te._init;return Me(se,te,ae,Be(Te._payload),Oe)}if(Fe(Te)||K(Te))return se=se.get(ae)||null,Se(te,se,Te,Oe,null);Ls(te,Te)}return null}function Le(se,te,ae,Te){for(var Oe=null,Be=null,Ue=te,Xe=te=0,tn=null;Ue!==null&&Xe<ae.length;Xe++){Ue.index>Xe?(tn=Ue,Ue=null):tn=Ue.sibling;var pt=xe(se,Ue,ae[Xe],Te);if(pt===null){Ue===null&&(Ue=tn);break}r&&Ue&&pt.alternate===null&&i(se,Ue),te=E(pt,te,Xe),Be===null?Oe=pt:Be.sibling=pt,Be=pt,Ue=tn}if(Xe===ae.length)return f(se,Ue),At&&Ms(se,Xe),Oe;if(Ue===null){for(;Xe<ae.length;Xe++)Ue=Ce(se,ae[Xe],Te),Ue!==null&&(te=E(Ue,te,Xe),Be===null?Oe=Ue:Be.sibling=Ue,Be=Ue);return At&&Ms(se,Xe),Oe}for(Ue=p(se,Ue);Xe<ae.length;Xe++)tn=Me(Ue,se,Xe,ae[Xe],Te),tn!==null&&(r&&tn.alternate!==null&&Ue.delete(tn.key===null?Xe:tn.key),te=E(tn,te,Xe),Be===null?Oe=tn:Be.sibling=tn,Be=tn);return r&&Ue.forEach(function(as){return i(se,as)}),At&&Ms(se,Xe),Oe}function je(se,te,ae,Te){var Oe=K(ae);if(typeof Oe!="function")throw Error(n(150));if(ae=Oe.call(ae),ae==null)throw Error(n(151));for(var Be=Oe=null,Ue=te,Xe=te=0,tn=null,pt=ae.next();Ue!==null&&!pt.done;Xe++,pt=ae.next()){Ue.index>Xe?(tn=Ue,Ue=null):tn=Ue.sibling;var as=xe(se,Ue,pt.value,Te);if(as===null){Ue===null&&(Ue=tn);break}r&&Ue&&as.alternate===null&&i(se,Ue),te=E(as,te,Xe),Be===null?Oe=as:Be.sibling=as,Be=as,Ue=tn}if(pt.done)return f(se,Ue),At&&Ms(se,Xe),Oe;if(Ue===null){for(;!pt.done;Xe++,pt=ae.next())pt=Ce(se,pt.value,Te),pt!==null&&(te=E(pt,te,Xe),Be===null?Oe=pt:Be.sibling=pt,Be=pt);return At&&Ms(se,Xe),Oe}for(Ue=p(se,Ue);!pt.done;Xe++,pt=ae.next())pt=Me(Ue,se,Xe,pt.value,Te),pt!==null&&(r&&pt.alternate!==null&&Ue.delete(pt.key===null?Xe:pt.key),te=E(pt,te,Xe),Be===null?Oe=pt:Be.sibling=pt,Be=pt);return r&&Ue.forEach(function(Pm){return i(se,Pm)}),At&&Ms(se,Xe),Oe}function zt(se,te,ae,Te){if(typeof ae=="object"&&ae!==null&&ae.type===O&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case z:e:{for(var Oe=ae.key,Be=te;Be!==null;){if(Be.key===Oe){if(Oe=ae.type,Oe===O){if(Be.tag===7){f(se,Be.sibling),te=w(Be,ae.props.children),te.return=se,se=te;break e}}else if(Be.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Y&&Vh(Oe)===Be.type){f(se,Be.sibling),te=w(Be,ae.props),te.ref=Fa(se,Be,ae),te.return=se,se=te;break e}f(se,Be);break}else i(se,Be);Be=Be.sibling}ae.type===O?(te=Ks(ae.props.children,se.mode,Te,ae.key),te.return=se,se=te):(Te=Zu(ae.type,ae.key,ae.props,null,se.mode,Te),Te.ref=Fa(se,te,ae),Te.return=se,se=Te)}return D(se);case X:e:{for(Be=ae.key;te!==null;){if(te.key===Be)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){f(se,te.sibling),te=w(te,ae.children||[]),te.return=se,se=te;break e}else{f(se,te);break}else i(se,te);te=te.sibling}te=nd(ae,se.mode,Te),te.return=se,se=te}return D(se);case Y:return Be=ae._init,zt(se,te,Be(ae._payload),Te)}if(Fe(ae))return Le(se,te,ae,Te);if(K(ae))return je(se,te,ae,Te);Ls(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(f(se,te.sibling),te=w(te,ae),te.return=se,se=te):(f(se,te),te=td(ae,se.mode,Te),te.return=se,se=te),D(se)):f(se,te)}return zt}var Vt=gf(!0),vu=gf(!1),Va=$n(null),er=null,Gi=null,Io=null;function yi(){Io=Gi=er=null}function xu(r){var i=Va.current;Pt(Va),r._currentValue=i}function fn(r,i,f){for(;r!==null;){var p=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),r===f)break;r=r.return}}function Qi(r,i){er=r,Io=Gi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Rn=!0),r.firstContext=null)}function dr(r){var i=r._currentValue;if(Io!==r)if(r={context:r,memoizedValue:i,next:null},Gi===null){if(er===null)throw Error(n(308));Gi=r,er.dependencies={lanes:0,firstContext:r}}else Gi=Gi.next=r;return i}var js=null;function mf(r){js===null?js=[r]:js.push(r)}function wu(r,i,f,p){var w=i.interleaved;return w===null?(f.next=f,mf(i)):(f.next=w.next,w.next=f),i.interleaved=f,vi(r,p)}function vi(r,i){r.lanes|=i;var f=r.alternate;for(f!==null&&(f.lanes|=i),f=r,r=r.return;r!==null;)r.childLanes|=i,f=r.alternate,f!==null&&(f.childLanes|=i),f=r,r=r.return;return f.tag===3?f.stateNode:null}var hr=!1;function Su(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xi(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(r,i,f){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ct&2)!==0){var w=p.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),p.pending=i,vi(r,f)}return w=p.interleaved,w===null?(i.next=i,mf(p)):(i.next=w.next,w.next=i),p.interleaved=i,vi(r,f)}function _u(r,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var p=i.lanes;p&=r.pendingLanes,f|=p,i.lanes=f,_a(r,f)}}function Bh(r,i){var f=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var w=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var D={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?w=E=D:E=E.next=D,f=f.next}while(f!==null);E===null?w=E=i:E=E.next=i}else w=E=i;f={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=i:r.next=i,f.lastBaseUpdate=i}function Lo(r,i,f,p){var w=r.updateQueue;hr=!1;var E=w.firstBaseUpdate,D=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var Q=U,ce=Q.next;Q.next=null,D===null?E=ce:D.next=ce,D=Q;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,U=Se.lastBaseUpdate,U!==D&&(U===null?Se.firstBaseUpdate=ce:U.next=ce,Se.lastBaseUpdate=Q))}if(E!==null){var Ce=w.baseState;D=0,Se=ce=Q=null,U=E;do{var xe=U.lane,Me=U.eventTime;if((p&xe)===xe){Se!==null&&(Se=Se.next={eventTime:Me,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Le=r,je=U;switch(xe=i,Me=f,je.tag){case 1:if(Le=je.payload,typeof Le=="function"){Ce=Le.call(Me,Ce,xe);break e}Ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=je.payload,xe=typeof Le=="function"?Le.call(Me,Ce,xe):Le,xe==null)break e;Ce=G({},Ce,xe);break e;case 2:hr=!0}}U.callback!==null&&U.lane!==0&&(r.flags|=64,xe=w.effects,xe===null?w.effects=[U]:xe.push(U))}else Me={eventTime:Me,lane:xe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Se===null?(ce=Se=Me,Q=Ce):Se=Se.next=Me,D|=xe;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;xe=U,U=xe.next,xe.next=null,w.lastBaseUpdate=xe,w.shared.pending=null}}while(!0);if(Se===null&&(Q=Ce),w.baseState=Q,w.firstBaseUpdate=ce,w.lastBaseUpdate=Se,i=w.shared.interleaved,i!==null){w=i;do D|=w.lane,w=w.next;while(w!==i)}else E===null&&(w.shared.lanes=0);ns|=D,r.lanes=D,r.memoizedState=Ce}}function yf(r,i,f){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var p=r[i],w=p.callback;if(w!==null){if(p.callback=null,p=f,typeof w!="function")throw Error(n(191,w));w.call(p)}}}var za={},Jr=$n(za),Ba=$n(za),jo=$n(za);function wi(r){if(r===za)throw Error(n(174));return r}function vf(r,i){switch(Tt(jo,i),Tt(Ba,r),Tt(Jr,za),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ft(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ft(i,r)}Pt(Jr),Tt(Jr,i)}function Zi(){Pt(Jr),Pt(Ba),Pt(jo)}function xf(r){wi(jo.current);var i=wi(Jr.current),f=Ft(i,r.type);i!==f&&(Tt(Ba,r),Tt(Jr,f))}function Eu(r){Ba.current===r&&(Pt(Jr),Pt(Ba))}var Dt=$n(0);function Os(r){for(var i=r;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wf=[];function bu(){for(var r=0;r<wf.length;r++)wf[r]._workInProgressVersionPrimary=null;wf.length=0}var Ua=L.ReactCurrentDispatcher,Sf=L.ReactCurrentBatchConfig,Ji=0,Lt=null,Bt=null,Jt=null,Oo=!1,Ha=!1,$s=0,rt=0;function _n(){throw Error(n(321))}function _f(r,i){if(i===null)return!1;for(var f=0;f<i.length&&f<r.length;f++)if(!le(r[f],i[f]))return!1;return!0}function Fs(r,i,f,p,w,E){if(Ji=E,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ua.current=r===null||r.memoizedState===null?dm:Ru,r=f(p,w),Ha){E=0;do{if(Ha=!1,$s=0,25<=E)throw Error(n(301));E+=1,Jt=Bt=null,i.updateQueue=null,Ua.current=zo,r=f(p,w)}while(Ha)}if(Ua.current=Au,i=Bt!==null&&Bt.next!==null,Ji=0,Jt=Bt=Lt=null,Oo=!1,i)throw Error(n(300));return r}function Cu(){var r=$s!==0;return $s=0,r}function ei(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Lt.memoizedState=Jt=r:Jt=Jt.next=r,Jt}function gr(){if(Bt===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var i=Jt===null?Lt.memoizedState:Jt.next;if(i!==null)Jt=i,Bt=r;else{if(r===null)throw Error(n(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Jt===null?Lt.memoizedState=Jt=r:Jt=Jt.next=r}return Jt}function En(r,i){return typeof i=="function"?i(r):i}function Ef(r){var i=gr(),f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=Bt,w=p.baseQueue,E=f.pending;if(E!==null){if(w!==null){var D=w.next;w.next=E.next,E.next=D}p.baseQueue=w=E,f.pending=null}if(w!==null){E=w.next,p=p.baseState;var U=D=null,Q=null,ce=E;do{var Se=ce.lane;if((Ji&Se)===Se)Q!==null&&(Q=Q.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:r(p,ce.action);else{var Ce={lane:Se,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Q===null?(U=Q=Ce,D=p):Q=Q.next=Ce,Lt.lanes|=Se,ns|=Se}ce=ce.next}while(ce!==null&&ce!==E);Q===null?D=p:Q.next=U,le(p,i.memoizedState)||(Rn=!0),i.memoizedState=p,i.baseState=D,i.baseQueue=Q,f.lastRenderedState=p}if(r=f.interleaved,r!==null){w=r;do E=w.lane,Lt.lanes|=E,ns|=E,w=w.next;while(w!==r)}else w===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function $o(r){var i=gr(),f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=f.dispatch,w=f.pending,E=i.memoizedState;if(w!==null){f.pending=null;var D=w=w.next;do E=r(E,D.action),D=D.next;while(D!==w);le(E,i.memoizedState)||(Rn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),f.lastRenderedState=E}return[E,p]}function ku(){}function bf(r,i){var f=Lt,p=gr(),w=i(),E=!le(p.memoizedState,w);if(E&&(p.memoizedState=w,Rn=!0),p=p.queue,ti(Si.bind(null,f,p,r),[r]),p.getSnapshot!==i||E||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,Fo(9,Bn.bind(null,f,p,w,i),void 0,null),un===null)throw Error(n(349));(Ji&30)!==0||Cf(f,i,w)}return w}function Cf(r,i,f){r.flags|=16384,r={getSnapshot:i,value:f},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.stores=[r]):(f=i.stores,f===null?i.stores=[r]:f.push(r))}function Bn(r,i,f,p){i.value=f,i.getSnapshot=p,Tu(i)&&kf(r)}function Si(r,i,f){return f(function(){Tu(i)&&kf(r)})}function Tu(r){var i=r.getSnapshot;r=r.value;try{var f=i();return!le(r,f)}catch{return!0}}function kf(r){var i=vi(r,1);i!==null&&Ir(i,r,1,-1)}function Wa(r){var i=ei();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:r},i.queue=r,r=r.dispatch=Xh.bind(null,Lt,r),[i.memoizedState,r]}function Fo(r,i,f,p){return r={tag:r,create:i,destroy:f,deps:p,next:null},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.lastEffect=r.next=r):(f=i.lastEffect,f===null?i.lastEffect=r.next=r:(p=f.next,f.next=r,r.next=p,i.lastEffect=r)),r}function Nu(){return gr().memoizedState}function Ka(r,i,f,p){var w=ei();Lt.flags|=r,w.memoizedState=Fo(1|i,f,void 0,p===void 0?null:p)}function Vo(r,i,f,p){var w=gr();p=p===void 0?null:p;var E=void 0;if(Bt!==null){var D=Bt.memoizedState;if(E=D.destroy,p!==null&&_f(p,D.deps)){w.memoizedState=Fo(i,f,E,p);return}}Lt.flags|=r,w.memoizedState=Fo(1|i,f,E,p)}function Pu(r,i){return Ka(8390656,8,r,i)}function ti(r,i){return Vo(2048,8,r,i)}function Uh(r,i){return Vo(4,2,r,i)}function _i(r,i){return Vo(4,4,r,i)}function Tf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Nf(r,i,f){return f=f!=null?f.concat([r]):null,Vo(4,4,Tf.bind(null,i,r),f)}function Ya(){}function Hh(r,i){var f=gr();i=i===void 0?null:i;var p=f.memoizedState;return p!==null&&i!==null&&_f(i,p[1])?p[0]:(f.memoizedState=[r,i],r)}function Wh(r,i){var f=gr();i=i===void 0?null:i;var p=f.memoizedState;return p!==null&&i!==null&&_f(i,p[1])?p[0]:(r=r(),f.memoizedState=[r,i],r)}function Kh(r,i,f){return(Ji&21)===0?(r.baseState&&(r.baseState=!1,Rn=!0),r.memoizedState=f):(le(f,i)||(f=Bc(),Lt.lanes|=f,ns|=f,r.baseState=!0),i)}function Yh(r,i){var f=mt;mt=f!==0&&4>f?f:4,r(!0);var p=Sf.transition;Sf.transition={};try{r(!1),i()}finally{mt=f,Sf.transition=p}}function Pf(){return gr().memoizedState}function fm(r,i,f){var p=ss(r);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},Af(r))An(i,f);else if(f=wu(r,i,f,p),f!==null){var w=In();Ir(f,r,p,w),Pr(f,i,p)}}function Xh(r,i,f){var p=ss(r),w={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(Af(r))An(i,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var D=i.lastRenderedState,U=E(D,f);if(w.hasEagerState=!0,w.eagerState=U,le(U,D)){var Q=i.interleaved;Q===null?(w.next=w,mf(i)):(w.next=Q.next,Q.next=w),i.interleaved=w;return}}catch{}finally{}f=wu(r,i,w,p),f!==null&&(w=In(),Ir(f,r,p,w),Pr(f,i,p))}}function Af(r){var i=r.alternate;return r===Lt||i!==null&&i===Lt}function An(r,i){Ha=Oo=!0;var f=r.pending;f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i}function Pr(r,i,f){if((f&4194240)!==0){var p=i.lanes;p&=r.pendingLanes,f|=p,i.lanes=f,_a(r,f)}}var Au={readContext:dr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},dm={readContext:dr,useCallback:function(r,i){return ei().memoizedState=[r,i===void 0?null:i],r},useContext:dr,useEffect:Pu,useImperativeHandle:function(r,i,f){return f=f!=null?f.concat([r]):null,Ka(4194308,4,Tf.bind(null,i,r),f)},useLayoutEffect:function(r,i){return Ka(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ka(4,2,r,i)},useMemo:function(r,i){var f=ei();return i=i===void 0?null:i,r=r(),f.memoizedState=[r,i],r},useReducer:function(r,i,f){var p=ei();return i=f!==void 0?f(i):i,p.memoizedState=p.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},p.queue=r,r=r.dispatch=fm.bind(null,Lt,r),[p.memoizedState,r]},useRef:function(r){var i=ei();return r={current:r},i.memoizedState=r},useState:Wa,useDebugValue:Ya,useDeferredValue:function(r){return ei().memoizedState=r},useTransition:function(){var r=Wa(!1),i=r[0];return r=Yh.bind(null,r[1]),ei().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,f){var p=Lt,w=ei();if(At){if(f===void 0)throw Error(n(407));f=f()}else{if(f=i(),un===null)throw Error(n(349));(Ji&30)!==0||Cf(p,i,f)}w.memoizedState=f;var E={value:f,getSnapshot:i};return w.queue=E,Pu(Si.bind(null,p,E,r),[r]),p.flags|=2048,Fo(9,Bn.bind(null,p,E,f,i),void 0,null),f},useId:function(){var r=ei(),i=un.identifierPrefix;if(At){var f=qr,p=Xr;f=(p&~(1<<32-qn(p)-1)).toString(32)+f,i=":"+i+"R"+f,f=$s++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=rt++,i=":"+i+"r"+f.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Ru={readContext:dr,useCallback:Hh,useContext:dr,useEffect:ti,useImperativeHandle:Nf,useInsertionEffect:Uh,useLayoutEffect:_i,useMemo:Wh,useReducer:Ef,useRef:Nu,useState:function(){return Ef(En)},useDebugValue:Ya,useDeferredValue:function(r){var i=gr();return Kh(i,Bt.memoizedState,r)},useTransition:function(){var r=Ef(En)[0],i=gr().memoizedState;return[r,i]},useMutableSource:ku,useSyncExternalStore:bf,useId:Pf,unstable_isNewReconciler:!1},zo={readContext:dr,useCallback:Hh,useContext:dr,useEffect:ti,useImperativeHandle:Nf,useInsertionEffect:Uh,useLayoutEffect:_i,useMemo:Wh,useReducer:$o,useRef:Nu,useState:function(){return $o(En)},useDebugValue:Ya,useDeferredValue:function(r){var i=gr();return Bt===null?i.memoizedState=r:Kh(i,Bt.memoizedState,r)},useTransition:function(){var r=$o(En)[0],i=gr().memoizedState;return[r,i]},useMutableSource:ku,useSyncExternalStore:bf,useId:Pf,unstable_isNewReconciler:!1};function mr(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var f in r)i[f]===void 0&&(i[f]=r[f]);return i}return i}function Du(r,i,f,p){i=r.memoizedState,f=f(p,i),f=f==null?i:G({},i,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Mu={isMounted:function(r){return(r=r._reactInternals)?Ur(r)===r:!1},enqueueSetState:function(r,i,f){r=r._reactInternals;var p=In(),w=ss(r),E=xi(p,w);E.payload=i,f!=null&&(E.callback=f),i=pr(r,E,w),i!==null&&(Ir(i,r,w,p),_u(i,r,w))},enqueueReplaceState:function(r,i,f){r=r._reactInternals;var p=In(),w=ss(r),E=xi(p,w);E.tag=1,E.payload=i,f!=null&&(E.callback=f),i=pr(r,E,w),i!==null&&(Ir(i,r,w,p),_u(i,r,w))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var f=In(),p=ss(r),w=xi(f,p);w.tag=2,i!=null&&(w.callback=i),i=pr(r,w,p),i!==null&&(Ir(i,r,p,f),_u(i,r,p))}};function Rf(r,i,f,p,w,E,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,D):i.prototype&&i.prototype.isPureReactComponent?!De(f,p)||!De(w,E):!0}function Vs(r,i,f){var p=!1,w=Xi,E=i.contextType;return typeof E=="object"&&E!==null?E=dr(E):(w=Vn(i)?Pn:xn.current,p=i.contextTypes,E=(p=p!=null)?Do(r,w):Xi),i=new i(f,E),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Mu,r.stateNode=i,i._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),i}function Bo(r,i,f,p){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,p),i.state!==r&&Mu.enqueueReplaceState(i,i.state,null)}function Df(r,i,f,p){var w=r.stateNode;w.props=f,w.state=r.memoizedState,w.refs={},Su(r);var E=i.contextType;typeof E=="object"&&E!==null?w.context=dr(E):(E=Vn(i)?Pn:xn.current,w.context=Do(r,E)),w.state=r.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Du(r,i,E,f),w.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&Mu.enqueueReplaceState(w,w.state,null),Lo(r,f,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function zs(r,i){try{var f="",p=i;do f+=we(p),p=p.return;while(p);var w=f}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:i,stack:w,digest:null}}function Iu(r,i,f){return{value:r,source:null,stack:f??null,digest:i??null}}function Uo(r,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var qh=typeof WeakMap=="function"?WeakMap:Map;function Xa(r,i,f){f=xi(-1,f),f.tag=3,f.payload={element:null};var p=i.value;return f.callback=function(){Wu||(Wu=!0,Xf=p),Uo(r,i)},f}function Lu(r,i,f){f=xi(-1,f),f.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=i.value;f.payload=function(){return p(w)},f.callback=function(){Uo(r,i)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){Uo(r,i),typeof p!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var D=i.stack;this.componentDidCatch(i.value,{componentStack:D!==null?D:""})}),f}function qa(r,i,f){var p=r.pingCache;if(p===null){p=r.pingCache=new qh;var w=new Set;p.set(i,w)}else w=p.get(i),w===void 0&&(w=new Set,p.set(i,w));w.has(f)||(w.add(f),r=wm.bind(null,r,i,f),i.then(r,r))}function Gh(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Mf(r,i,f,p,w){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=xi(-1,1),i.tag=2,pr(f,i,1))),f.lanes|=1),r):(r.flags|=65536,r.lanes=w,r)}var ju=L.ReactCurrentOwner,Rn=!1;function dn(r,i,f,p){i.child=r===null?vu(i,null,f,p):Vt(i,r.child,f,p)}function Qh(r,i,f,p,w){f=f.render;var E=i.ref;return Qi(i,w),p=Fs(r,i,f,p,E,w),f=Cu(),r!==null&&!Rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Ar(r,i,w)):(At&&f&&Oa(i),i.flags|=1,dn(r,i,p,w),i.child)}function If(r,i,f,p,w){if(r===null){var E=f.type;return typeof E=="function"&&!Qu(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=E,ni(r,i,E,p,w)):(r=Zu(f.type,null,p,i,i.mode,w),r.ref=i.ref,r.return=i,i.child=r)}if(E=r.child,(r.lanes&w)===0){var D=E.memoizedProps;if(f=f.compare,f=f!==null?f:De,f(D,p)&&r.ref===i.ref)return Ar(r,i,w)}return i.flags|=1,r=Lr(E,p),r.ref=i.ref,r.return=i,i.child=r}function ni(r,i,f,p,w){if(r!==null){var E=r.memoizedProps;if(De(E,p)&&r.ref===i.ref)if(Rn=!1,i.pendingProps=p=E,(r.lanes&w)!==0)(r.flags&131072)!==0&&(Rn=!0);else return i.lanes=r.lanes,Ar(r,i,w)}return Of(r,i,f,p,w)}function Lf(r,i,f){var p=i.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Yo,nr),nr|=f;else{if((f&1073741824)===0)return r=E!==null?E.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Tt(Yo,nr),nr|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:f,Tt(Yo,nr),nr|=p}else E!==null?(p=E.baseLanes|f,i.memoizedState=null):p=f,Tt(Yo,nr),nr|=p;return dn(r,i,w,f),i.child}function jf(r,i){var f=i.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Of(r,i,f,p,w){var E=Vn(f)?Pn:xn.current;return E=Do(i,E),Qi(i,w),f=Fs(r,i,f,p,E,w),p=Cu(),r!==null&&!Rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Ar(r,i,w)):(At&&p&&Oa(i),i.flags|=1,dn(r,i,f,w),i.child)}function $f(r,i,f,p,w){if(Vn(f)){var E=!0;ur(i)}else E=!1;if(Qi(i,w),i.stateNode===null)$u(r,i),Vs(i,f,p),Df(i,f,p,w),p=!0;else if(r===null){var D=i.stateNode,U=i.memoizedProps;D.props=U;var Q=D.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=dr(ce):(ce=Vn(f)?Pn:xn.current,ce=Do(i,ce));var Se=f.getDerivedStateFromProps,Ce=typeof Se=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ce||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==p||Q!==ce)&&Bo(i,D,p,ce),hr=!1;var xe=i.memoizedState;D.state=xe,Lo(i,p,D,w),Q=i.memoizedState,U!==p||xe!==Q||Fn.current||hr?(typeof Se=="function"&&(Du(i,f,Se,p),Q=i.memoizedState),(U=hr||Rf(i,f,U,p,xe,Q,ce))?(Ce||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(i.flags|=4194308)):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=Q),D.props=p,D.state=Q,D.context=ce,p=U):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{D=i.stateNode,zh(r,i),U=i.memoizedProps,ce=i.type===i.elementType?U:mr(i.type,U),D.props=ce,Ce=i.pendingProps,xe=D.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=dr(Q):(Q=Vn(f)?Pn:xn.current,Q=Do(i,Q));var Me=f.getDerivedStateFromProps;(Se=typeof Me=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==Ce||xe!==Q)&&Bo(i,D,p,Q),hr=!1,xe=i.memoizedState,D.state=xe,Lo(i,p,D,w);var Le=i.memoizedState;U!==Ce||xe!==Le||Fn.current||hr?(typeof Me=="function"&&(Du(i,f,Me,p),Le=i.memoizedState),(ce=hr||Rf(i,f,ce,p,xe,Le,Q)||!1)?(Se||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(p,Le,Q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(p,Le,Q)),typeof D.componentDidUpdate=="function"&&(i.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=Le),D.props=p,D.state=Le,D.context=Q,p=ce):(typeof D.componentDidUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=1024),p=!1)}return Ff(r,i,f,p,E,w)}function Ff(r,i,f,p,w,E){jf(r,i);var D=(i.flags&128)!==0;if(!p&&!D)return w&&Lh(i,f,!1),Ar(r,i,E);p=i.stateNode,ju.current=i;var U=D&&typeof f.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,r!==null&&D?(i.child=Vt(i,r.child,null,E),i.child=Vt(i,null,U,E)):dn(r,i,U,E),i.memoizedState=p.state,w&&Lh(i,f,!0),i.child}function Zh(r){var i=r.stateNode;i.pendingContext?Mh(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Mh(r,i.context,!1),vf(r,i.containerInfo)}function ri(r,i,f,p,w){return Qr(),Zr(w),i.flags|=256,dn(r,i,f,p),i.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Qa(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ou(r,i,f){var p=i.pendingProps,w=Dt.current,E=!1,D=(i.flags&128)!==0,U;if((U=D)||(U=r!==null&&r.memoizedState===null?!1:(w&2)!==0),U?(E=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),Tt(Dt,w&1),r===null)return zn(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(D=p.children,r=p.fallback,E?(p=i.mode,E=i.child,D={mode:"hidden",children:D},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=Ju(D,p,0,null),r=Ks(r,p,f,null),E.return=i,r.return=i,E.sibling=r,i.child=E,i.child.memoizedState=Qa(f),i.memoizedState=Ga,r):Ho(i,D));if(w=r.memoizedState,w!==null&&(U=w.dehydrated,U!==null))return We(r,i,D,p,U,w,f);if(E){E=p.fallback,D=i.mode,w=r.child,U=w.sibling;var Q={mode:"hidden",children:p.children};return(D&1)===0&&i.child!==w?(p=i.child,p.childLanes=0,p.pendingProps=Q,i.deletions=null):(p=Lr(w,Q),p.subtreeFlags=w.subtreeFlags&14680064),U!==null?E=Lr(U,E):(E=Ks(E,D,f,null),E.flags|=2),E.return=i,p.return=i,p.sibling=E,i.child=p,p=E,E=i.child,D=r.child.memoizedState,D=D===null?Qa(f):{baseLanes:D.baseLanes|f,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=r.childLanes&~f,i.memoizedState=Ga,p}return E=r.child,r=E.sibling,p=Lr(E,{mode:"visible",children:p.children}),(i.mode&1)===0&&(p.lanes=f),p.return=i,p.sibling=null,r!==null&&(f=i.deletions,f===null?(i.deletions=[r],i.flags|=16):f.push(r)),i.child=p,i.memoizedState=null,p}function Ho(r,i){return i=Ju({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ei(r,i,f,p){return p!==null&&Zr(p),Vt(i,r.child,null,f),r=Ho(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function We(r,i,f,p,w,E,D){if(f)return i.flags&256?(i.flags&=-257,p=Iu(Error(n(422))),Ei(r,i,D,p)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(E=p.fallback,w=i.mode,p=Ju({mode:"visible",children:p.children},w,0,null),E=Ks(E,w,D,null),E.flags|=2,p.return=i,E.return=i,p.sibling=E,i.child=p,(i.mode&1)!==0&&Vt(i,r.child,null,D),i.child.memoizedState=Qa(D),i.memoizedState=Ga,E);if((i.mode&1)===0)return Ei(r,i,D,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var U=p.dgst;return p=U,E=Error(n(419)),p=Iu(E,p,void 0),Ei(r,i,D,p)}if(U=(D&r.childLanes)!==0,Rn||U){if(p=un,p!==null){switch(D&-D){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(p.suspendedLanes|D))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,vi(r,w),Ir(p,r,w,-1))}return ed(),p=Iu(Error(n(421))),Ei(r,i,D,p)}return w.data==="$?"?(i.flags|=128,i.child=r.child,i=Sm.bind(null,r),w._reactRetry=i,null):(r=E.treeContext,Jn=Ki(w.nextSibling),Sn=i,At=!0,Nr=null,r!==null&&(cr[fr++]=Xr,cr[fr++]=qr,cr[fr++]=Ds,Xr=r.id,qr=r.overflow,Ds=i),i=Ho(i,p.children),i.flags|=4096,i)}function Za(r,i,f){r.lanes|=i;var p=r.alternate;p!==null&&(p.lanes|=i),fn(r.return,i,f)}function Ja(r,i,f,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:w}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=f,E.tailMode=w)}function es(r,i,f){var p=i.pendingProps,w=p.revealOrder,E=p.tail;if(dn(r,i,p.children,f),p=Dt.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Za(r,f,i);else if(r.tag===19)Za(r,f,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Tt(Dt,p),(i.mode&1)===0)i.memoizedState=null;else switch(w){case"forwards":for(f=i.child,w=null;f!==null;)r=f.alternate,r!==null&&Os(r)===null&&(w=f),f=f.sibling;f=w,f===null?(w=i.child,i.child=null):(w=f.sibling,f.sibling=null),Ja(i,!1,w,f,E);break;case"backwards":for(f=null,w=i.child,i.child=null;w!==null;){if(r=w.alternate,r!==null&&Os(r)===null){i.child=w;break}r=w.sibling,w.sibling=f,f=w,w=r}Ja(i,!0,f,null,E);break;case"together":Ja(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $u(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ar(r,i,f){if(r!==null&&(i.dependencies=r.dependencies),ns|=i.lanes,(f&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,f=Lr(r,r.pendingProps),i.child=f,f.return=i;r.sibling!==null;)r=r.sibling,f=f.sibling=Lr(r,r.pendingProps),f.return=i;f.sibling=null}return i.child}function Jh(r,i,f){switch(i.tag){case 3:Zh(i),Qr();break;case 5:xf(i);break;case 1:Vn(i.type)&&ur(i);break;case 4:vf(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,w=i.memoizedProps.value;Tt(Va,p._currentValue),p._currentValue=w;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(Tt(Dt,Dt.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?Ou(r,i,f):(Tt(Dt,Dt.current&1),r=Ar(r,i,f),r!==null?r.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(p=(f&i.childLanes)!==0,(r.flags&128)!==0){if(p)return es(r,i,f);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Tt(Dt,Dt.current),p)break;return null;case 22:case 23:return i.lanes=0,Lf(r,i,f)}return Ar(r,i,f)}var hn,Vf,ep,zf;hn=function(r,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Vf=function(){},ep=function(r,i,f,p){var w=r.memoizedProps;if(w!==p){r=i.stateNode,wi(Jr.current);var E=null;switch(f){case"input":w=Ke(r,w),p=Ke(r,p),E=[];break;case"select":w=G({},w,{value:void 0}),p=G({},p,{value:void 0}),E=[];break;case"textarea":w=ze(r,w),p=ze(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=uu)}gs(f,p);var D;f=null;for(ce in w)if(!p.hasOwnProperty(ce)&&w.hasOwnProperty(ce)&&w[ce]!=null)if(ce==="style"){var U=w[ce];for(D in U)U.hasOwnProperty(D)&&(f||(f={}),f[D]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?E||(E=[]):(E=E||[]).push(ce,null));for(ce in p){var Q=p[ce];if(U=w!=null?w[ce]:void 0,p.hasOwnProperty(ce)&&Q!==U&&(Q!=null||U!=null))if(ce==="style")if(U){for(D in U)!U.hasOwnProperty(D)||Q&&Q.hasOwnProperty(D)||(f||(f={}),f[D]="");for(D in Q)Q.hasOwnProperty(D)&&U[D]!==Q[D]&&(f||(f={}),f[D]=Q[D])}else f||(E||(E=[]),E.push(ce,f)),f=Q;else ce==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,U=U?U.__html:void 0,Q!=null&&U!==Q&&(E=E||[]).push(ce,Q)):ce==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(ce,""+Q):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(Q!=null&&ce==="onScroll"&&Nt("scroll",r),E||U===Q||(E=[])):(E=E||[]).push(ce,Q))}f&&(E=E||[]).push("style",f);var ce=E;(i.updateQueue=ce)&&(i.flags|=4)}},zf=function(r,i,f,p){f!==p&&(i.flags|=4)};function el(r,i){if(!At)switch(r.tailMode){case"hidden":i=r.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function pn(r){var i=r.alternate!==null&&r.alternate.child===r.child,f=0,p=0;if(i)for(var w=r.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=f,i}function hm(r,i,f){var p=i.pendingProps;switch(Is(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return Vn(i.type)&&hu(),pn(i),null;case 3:return p=i.stateNode,Zi(),Pt(Fn),Pt(xn),bu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&($a(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nr!==null&&(Qf(Nr),Nr=null))),Vf(r,i),pn(i),null;case 5:Eu(i);var w=wi(jo.current);if(f=i.type,r!==null&&i.stateNode!=null)ep(r,i,f,p,w),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(n(166));return pn(i),null}if(r=wi(Jr.current),$a(i)){p=i.stateNode,f=i.type;var E=i.memoizedProps;switch(p[Kr]=i,p[Yi]=E,r=(i.mode&1)!==0,f){case"dialog":Nt("cancel",p),Nt("close",p);break;case"iframe":case"object":case"embed":Nt("load",p);break;case"video":case"audio":for(w=0;w<pi.length;w++)Nt(pi[w],p);break;case"source":Nt("error",p);break;case"img":case"image":case"link":Nt("error",p),Nt("load",p);break;case"details":Nt("toggle",p);break;case"input":ot(p,E),Nt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Nt("invalid",p);break;case"textarea":He(p,E),Nt("invalid",p)}gs(f,E),w=null;for(var D in E)if(E.hasOwnProperty(D)){var U=E[D];D==="children"?typeof U=="string"?p.textContent!==U&&(E.suppressHydrationWarning!==!0&&Ma(p.textContent,U,r),w=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(E.suppressHydrationWarning!==!0&&Ma(p.textContent,U,r),w=["children",""+U]):a.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&Nt("scroll",p)}switch(f){case"input":qe(p),li(p,E,!0);break;case"textarea":qe(p),vt(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=uu)}p=w,i.updateQueue=p,p!==null&&(i.flags|=4)}else{D=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(f)),r==="http://www.w3.org/1999/xhtml"?f==="script"?(r=D.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=D.createElement(f,{is:p.is}):(r=D.createElement(f),f==="select"&&(D=r,p.multiple?D.multiple=!0:p.size&&(D.size=p.size))):r=D.createElementNS(r,f),r[Kr]=i,r[Yi]=p,hn(r,i,!1,!1),i.stateNode=r;e:{switch(D=ms(f,p),f){case"dialog":Nt("cancel",r),Nt("close",r),w=p;break;case"iframe":case"object":case"embed":Nt("load",r),w=p;break;case"video":case"audio":for(w=0;w<pi.length;w++)Nt(pi[w],r);w=p;break;case"source":Nt("error",r),w=p;break;case"img":case"image":case"link":Nt("error",r),Nt("load",r),w=p;break;case"details":Nt("toggle",r),w=p;break;case"input":ot(r,p),w=Ke(r,p),Nt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=G({},p,{value:void 0}),Nt("invalid",r);break;case"textarea":He(r,p),w=ze(r,p),Nt("invalid",r);break;default:w=p}gs(f,w),U=w;for(E in U)if(U.hasOwnProperty(E)){var Q=U[E];E==="style"?lo(r,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Yt(r,Q)):E==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&an(r,Q):typeof Q=="number"&&an(r,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&Nt("scroll",r):Q!=null&&A(r,E,Q,D))}switch(f){case"input":qe(r),li(r,p,!1);break;case"textarea":qe(r),vt(r);break;case"option":p.value!=null&&r.setAttribute("value",""+ke(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?be(r,!!p.multiple,E,!1):p.defaultValue!=null&&be(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=uu)}switch(f){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return pn(i),null;case 6:if(r&&i.stateNode!=null)zf(r,i,r.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(n(166));if(f=wi(jo.current),wi(Jr.current),$a(i)){if(p=i.stateNode,f=i.memoizedProps,p[Kr]=i,(E=p.nodeValue!==f)&&(r=Sn,r!==null))switch(r.tag){case 3:Ma(p.nodeValue,f,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ma(p.nodeValue,f,(r.mode&1)!==0)}E&&(i.flags|=4)}else p=(f.nodeType===9?f:f.ownerDocument).createTextNode(p),p[Kr]=i,i.stateNode=p}return pn(i),null;case 13:if(Pt(Dt),p=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(At&&Jn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)pf(),Qr(),i.flags|=98560,E=!1;else if(E=$a(i),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Kr]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),E=!1}else Nr!==null&&(Qf(Nr),Nr=null),E=!0;if(!E)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Dt.current&1)!==0?en===0&&(en=3):ed())),i.updateQueue!==null&&(i.flags|=4),pn(i),null);case 4:return Zi(),Vf(r,i),r===null&&Hi(i.stateNode.containerInfo),pn(i),null;case 10:return xu(i.type._context),pn(i),null;case 17:return Vn(i.type)&&hu(),pn(i),null;case 19:if(Pt(Dt),E=i.memoizedState,E===null)return pn(i),null;if(p=(i.flags&128)!==0,D=E.rendering,D===null)if(p)el(E,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(D=Os(r),D!==null){for(i.flags|=128,el(E,!1),p=D.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=f,f=i.child;f!==null;)E=f,r=p,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,r=D.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),f=f.sibling;return Tt(Dt,Dt.current&1|2),i.child}r=r.sibling}E.tail!==null&&Ct()>Bs&&(i.flags|=128,p=!0,el(E,!1),i.lanes=4194304)}else{if(!p)if(r=Os(D),r!==null){if(i.flags|=128,p=!0,f=r.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),el(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!At)return pn(i),null}else 2*Ct()-E.renderingStartTime>Bs&&f!==1073741824&&(i.flags|=128,p=!0,el(E,!1),i.lanes=4194304);E.isBackwards?(D.sibling=i.child,i.child=D):(f=E.last,f!==null?f.sibling=D:i.child=D,E.last=D)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=Ct(),i.sibling=null,f=Dt.current,Tt(Dt,p?f&1|2:f&1),i):(pn(i),null);case 22:case 23:return Jf(),p=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(i.flags|=8192),p&&(i.mode&1)!==0?(nr&1073741824)!==0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function pm(r,i){switch(Is(i),i.tag){case 1:return Vn(i.type)&&hu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Zi(),Pt(Fn),Pt(xn),bu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Eu(i),null;case 13:if(Pt(Dt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Qr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Pt(Dt),null;case 4:return Zi(),null;case 10:return xu(i.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Fu=!1,Mt=!1,Dn=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Wo(r,i){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){jt(r,i,p)}else f.current=null}function tl(r,i,f){try{f()}catch(p){jt(r,i,p)}}var tp=!1;function gm(r,i){if(Ia=Wl,r=wt(),Ta(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var D=0,U=-1,Q=-1,ce=0,Se=0,Ce=r,xe=null;t:for(;;){for(var Me;Ce!==f||w!==0&&Ce.nodeType!==3||(U=D+w),Ce!==E||p!==0&&Ce.nodeType!==3||(Q=D+p),Ce.nodeType===3&&(D+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)xe=Ce,Ce=Me;for(;;){if(Ce===r)break t;if(xe===f&&++ce===w&&(U=D),xe===E&&++Se===p&&(Q=D),(Me=Ce.nextSibling)!==null)break;Ce=xe,xe=Ce.parentNode}Ce=Me}f=U===-1||Q===-1?null:{start:U,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(As={focusedElem:r,selectionRange:f},Wl=!1,Ie=i;Ie!==null;)if(i=Ie,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ie=r;else for(;Ie!==null;){i=Ie;try{var Le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var je=Le.memoizedProps,zt=Le.memoizedState,se=i.stateNode,te=se.getSnapshotBeforeUpdate(i.elementType===i.type?je:mr(i.type,je),zt);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=i.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){jt(i,i.return,Te)}if(r=i.sibling,r!==null){r.return=i.return,Ie=r;break}Ie=i.return}return Le=tp,tp=!1,Le}function bi(r,i,f){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&tl(i,f,E)}w=w.next}while(w!==p)}}function nl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&r)===r){var p=f.create;f.destroy=p()}f=f.next}while(f!==i)}}function Vu(r){var i=r.ref;if(i!==null){var f=r.stateNode;switch(r.tag){case 5:r=f;break;default:r=f}typeof i=="function"?i(r):i.current=r}}function np(r){var i=r.alternate;i!==null&&(r.alternate=null,np(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Kr],delete i[Yi],delete i[fu],delete i[I],delete i[Ao])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rp(r){return r.tag===5||r.tag===3||r.tag===4}function ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bf(r,i,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(r,i):f.insertBefore(r,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(r,f)):(i=f,i.appendChild(r)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=uu));else if(p!==4&&(r=r.child,r!==null))for(Bf(r,i,f),r=r.sibling;r!==null;)Bf(r,i,f),r=r.sibling}function zu(r,i,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?f.insertBefore(r,i):f.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(zu(r,i,f),r=r.sibling;r!==null;)zu(r,i,f),r=r.sibling}var ln=null,Rr=!1;function ii(r,i,f){for(f=f.child;f!==null;)Uf(r,i,f),f=f.sibling}function Uf(r,i,f){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(ho,f)}catch{}switch(f.tag){case 5:Mt||Wo(f,i);case 6:var p=ln,w=Rr;ln=null,ii(r,i,f),ln=p,Rr=w,ln!==null&&(Rr?(r=ln,f=f.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)):ln.removeChild(f.stateNode));break;case 18:ln!==null&&(Rr?(r=ln,f=f.stateNode,r.nodeType===8?ff(r.parentNode,f):r.nodeType===1&&ff(r,f),yt(r)):ff(ln,f.stateNode));break;case 4:p=ln,w=Rr,ln=f.stateNode.containerInfo,Rr=!0,ii(r,i,f),ln=p,Rr=w;break;case 0:case 11:case 14:case 15:if(!Mt&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&tl(f,i,D),w=w.next}while(w!==p)}ii(r,i,f);break;case 1:if(!Mt&&(Wo(f,i),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch(U){jt(f,i,U)}ii(r,i,f);break;case 21:ii(r,i,f);break;case 22:f.mode&1?(Mt=(p=Mt)||f.memoizedState!==null,ii(r,i,f),Mt=p):ii(r,i,f);break;default:ii(r,i,f)}}function Ko(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new Dn),i.forEach(function(p){var w=_m.bind(null,r,p);f.has(p)||(f.add(p),p.then(w,w))})}}function tr(r,i){var f=i.deletions;if(f!==null)for(var p=0;p<f.length;p++){var w=f[p];try{var E=r,D=i,U=D;e:for(;U!==null;){switch(U.tag){case 5:ln=U.stateNode,Rr=!1;break e;case 3:ln=U.stateNode.containerInfo,Rr=!0;break e;case 4:ln=U.stateNode.containerInfo,Rr=!0;break e}U=U.return}if(ln===null)throw Error(n(160));Uf(E,D,w),ln=null,Rr=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(ce){jt(w,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Hf(i,r),i=i.sibling}function Hf(r,i){var f=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tr(i,r),Dr(r),p&4){try{bi(3,r,r.return),nl(3,r)}catch(je){jt(r,r.return,je)}try{bi(5,r,r.return)}catch(je){jt(r,r.return,je)}}break;case 1:tr(i,r),Dr(r),p&512&&f!==null&&Wo(f,f.return);break;case 5:if(tr(i,r),Dr(r),p&512&&f!==null&&Wo(f,f.return),r.flags&32){var w=r.stateNode;try{an(w,"")}catch(je){jt(r,r.return,je)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,D=f!==null?f.memoizedProps:E,U=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{U==="input"&&E.type==="radio"&&E.name!=null&&Et(w,E),ms(U,D);var ce=ms(U,E);for(D=0;D<Q.length;D+=2){var Se=Q[D],Ce=Q[D+1];Se==="style"?lo(w,Ce):Se==="dangerouslySetInnerHTML"?Yt(w,Ce):Se==="children"?an(w,Ce):A(w,Se,Ce,ce)}switch(U){case"input":cn(w,E);break;case"textarea":gt(w,E);break;case"select":var xe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Me=E.value;Me!=null?be(w,!!E.multiple,Me,!1):xe!==!!E.multiple&&(E.defaultValue!=null?be(w,!!E.multiple,E.defaultValue,!0):be(w,!!E.multiple,E.multiple?[]:"",!1))}w[Yi]=E}catch(je){jt(r,r.return,je)}}break;case 6:if(tr(i,r),Dr(r),p&4){if(r.stateNode===null)throw Error(n(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(je){jt(r,r.return,je)}}break;case 3:if(tr(i,r),Dr(r),p&4&&f!==null&&f.memoizedState.isDehydrated)try{yt(i.containerInfo)}catch(je){jt(r,r.return,je)}break;case 4:tr(i,r),Dr(r);break;case 13:tr(i,r),Dr(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Yf=Ct())),p&4&&Ko(r);break;case 22:if(Se=f!==null&&f.memoizedState!==null,r.mode&1?(Mt=(ce=Mt)||Se,tr(i,r),Mt=ce):tr(i,r),Dr(r),p&8192){if(ce=r.memoizedState!==null,(r.stateNode.isHidden=ce)&&!Se&&(r.mode&1)!==0)for(Ie=r,Se=r.child;Se!==null;){for(Ce=Ie=Se;Ie!==null;){switch(xe=Ie,Me=xe.child,xe.tag){case 0:case 11:case 14:case 15:bi(4,xe,xe.return);break;case 1:Wo(xe,xe.return);var Le=xe.stateNode;if(typeof Le.componentWillUnmount=="function"){p=xe,f=xe.return;try{i=p,Le.props=i.memoizedProps,Le.state=i.memoizedState,Le.componentWillUnmount()}catch(je){jt(p,f,je)}}break;case 5:Wo(xe,xe.return);break;case 22:if(xe.memoizedState!==null){ts(Ce);continue}}Me!==null?(Me.return=xe,Ie=Me):ts(Ce)}Se=Se.sibling}e:for(Se=null,Ce=r;;){if(Ce.tag===5){if(Se===null){Se=Ce;try{w=Ce.stateNode,ce?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(U=Ce.stateNode,Q=Ce.memoizedProps.style,D=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,U.style.display=ao("display",D))}catch(je){jt(r,r.return,je)}}}else if(Ce.tag===6){if(Se===null)try{Ce.stateNode.nodeValue=ce?"":Ce.memoizedProps}catch(je){jt(r,r.return,je)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===r)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===r)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===r)break e;Se===Ce&&(Se=null),Ce=Ce.return}Se===Ce&&(Se=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:tr(i,r),Dr(r),p&4&&Ko(r);break;case 21:break;default:tr(i,r),Dr(r)}}function Dr(r){var i=r.flags;if(i&2){try{e:{for(var f=r.return;f!==null;){if(rp(f)){var p=f;break e}f=f.return}throw Error(n(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(an(w,""),p.flags&=-33);var E=ip(r);zu(r,E,w);break;case 3:case 4:var D=p.stateNode.containerInfo,U=ip(r);Bf(r,U,D);break;default:throw Error(n(161))}}catch(Q){jt(r,r.return,Q)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Bu(r,i,f){Ie=r,Wf(r)}function Wf(r,i,f){for(var p=(r.mode&1)!==0;Ie!==null;){var w=Ie,E=w.child;if(w.tag===22&&p){var D=w.memoizedState!==null||Fu;if(!D){var U=w.alternate,Q=U!==null&&U.memoizedState!==null||Mt;U=Fu;var ce=Mt;if(Fu=D,(Mt=Q)&&!ce)for(Ie=w;Ie!==null;)D=Ie,Q=D.child,D.tag===22&&D.memoizedState!==null?sp(w):Q!==null?(Q.return=D,Ie=Q):sp(w);for(;E!==null;)Ie=E,Wf(E),E=E.sibling;Ie=w,Fu=U,Mt=ce}Mr(r)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,Ie=E):Mr(r)}}function Mr(r){for(;Ie!==null;){var i=Ie;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||nl(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!Mt)if(f===null)p.componentDidMount();else{var w=i.elementType===i.type?f.memoizedProps:mr(i.type,f.memoizedProps);p.componentDidUpdate(w,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&yf(i,E,p);break;case 3:var D=i.updateQueue;if(D!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}yf(i,D,f)}break;case 5:var U=i.stateNode;if(f===null&&i.flags&4){f=U;var Q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var Se=ce.memoizedState;if(Se!==null){var Ce=Se.dehydrated;Ce!==null&&yt(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||i.flags&512&&Vu(i)}catch(xe){jt(i,i.return,xe)}}if(i===r){Ie=null;break}if(f=i.sibling,f!==null){f.return=i.return,Ie=f;break}Ie=i.return}}function ts(r){for(;Ie!==null;){var i=Ie;if(i===r){Ie=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Ie=f;break}Ie=i.return}}function sp(r){for(;Ie!==null;){var i=Ie;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{nl(4,i)}catch(Q){jt(i,f,Q)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var w=i.return;try{p.componentDidMount()}catch(Q){jt(i,w,Q)}}var E=i.return;try{Vu(i)}catch(Q){jt(i,E,Q)}break;case 5:var D=i.return;try{Vu(i)}catch(Q){jt(i,D,Q)}}}catch(Q){jt(i,i.return,Q)}if(i===r){Ie=null;break}var U=i.sibling;if(U!==null){U.return=i.return,Ie=U;break}Ie=i.return}}var op=Math.ceil,Uu=L.ReactCurrentDispatcher,Kf=L.ReactCurrentOwner,yr=L.ReactCurrentBatchConfig,ct=0,un=null,Gt=null,gn=0,nr=0,Yo=$n(0),en=0,rl=null,ns=0,il=0,Hu=0,sl=null,Un=null,Yf=0,Bs=1/0,Ci=null,Wu=!1,Xf=null,rs=null,Ku=!1,is=null,Mn=0,ol=0,qf=null,Yu=-1,al=0;function In(){return(ct&6)!==0?Ct():Yu!==-1?Yu:Yu=Ct()}function ss(r){return(r.mode&1)===0?1:(ct&2)!==0&&gn!==0?gn&-gn:Fh.transition!==null?(al===0&&(al=Bc()),al):(r=mt,r!==0||(r=window.event,r=r===void 0?16:fh(r.type)),r)}function Ir(r,i,f,p){if(50<ol)throw ol=0,qf=null,Error(n(185));Sa(r,f,p),((ct&2)===0||r!==un)&&(r===un&&((ct&2)===0&&(il|=f),en===4&&os(r,gn)),Hn(r,p),f===1&&ct===0&&(i.mode&1)===0&&(Bs=Ct()+500,pu&&qi()))}function Hn(r,i){var f=r.callbackNode;zc(r,i);var p=kr(r,r===un?gn:0);if(p===0)f!==null&&Ll(f),r.callbackNode=null,r.callbackPriority=0;else if(i=p&-p,r.callbackPriority!==i){if(f!=null&&Ll(f),i===1)r.tag===0?Rs(ap.bind(null,r)):jh(ap.bind(null,r)),cu(function(){(ct&6)===0&&qi()}),f=null;else{switch(bs(p)){case 1:f=xa;break;case 4:f=jl;break;case 16:f=_s;break;case 536870912:f=fo;break;default:f=_s}f=pp(f,Xu.bind(null,r))}r.callbackPriority=i,r.callbackNode=f}}function Xu(r,i){if(Yu=-1,al=0,(ct&6)!==0)throw Error(n(327));var f=r.callbackNode;if(Xo()&&r.callbackNode!==f)return null;var p=kr(r,r===un?gn:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||i)i=qu(r,p);else{i=p;var w=ct;ct|=2;var E=up();(un!==r||gn!==i)&&(Ci=null,Bs=Ct()+500,Hs(r,i));do try{vm();break}catch(U){lp(r,U)}while(!0);yi(),Uu.current=E,ct=w,Gt!==null?i=0:(un=null,gn=0,i=en)}if(i!==0){if(i===2&&(w=Es(r),w!==0&&(p=w,i=Gf(r,w))),i===1)throw f=rl,Hs(r,0),os(r,p),Hn(r,Ct()),f;if(i===6)os(r,p);else{if(w=r.current.alternate,(p&30)===0&&!mm(w)&&(i=qu(r,p),i===2&&(E=Es(r),E!==0&&(p=E,i=Gf(r,E))),i===1))throw f=rl,Hs(r,0),os(r,p),Hn(r,Ct()),f;switch(r.finishedWork=w,r.finishedLanes=p,i){case 0:case 1:throw Error(n(345));case 2:Ws(r,Un,Ci);break;case 3:if(os(r,p),(p&130023424)===p&&(i=Yf+500-Ct(),10<i)){if(kr(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){In(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=Wi(Ws.bind(null,r,Un,Ci),i);break}Ws(r,Un,Ci);break;case 4:if(os(r,p),(p&4194240)===p)break;for(i=r.eventTimes,w=-1;0<p;){var D=31-qn(p);E=1<<D,D=i[D],D>w&&(w=D),p&=~E}if(p=w,p=Ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*op(p/1960))-p,10<p){r.timeoutHandle=Wi(Ws.bind(null,r,Un,Ci),p);break}Ws(r,Un,Ci);break;case 5:Ws(r,Un,Ci);break;default:throw Error(n(329))}}}return Hn(r,Ct()),r.callbackNode===f?Xu.bind(null,r):null}function Gf(r,i){var f=sl;return r.current.memoizedState.isDehydrated&&(Hs(r,i).flags|=256),r=qu(r,i),r!==2&&(i=Un,Un=f,i!==null&&Qf(i)),r}function Qf(r){Un===null?Un=r:Un.push.apply(Un,r)}function mm(r){for(var i=r;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var w=f[p],E=w.getSnapshot;w=w.value;try{if(!le(E(),w))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(r,i){for(i&=~Hu,i&=~il,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var f=31-qn(i),p=1<<f;r[f]=-1,i&=~p}}function ap(r){if((ct&6)!==0)throw Error(n(327));Xo();var i=kr(r,0);if((i&1)===0)return Hn(r,Ct()),null;var f=qu(r,i);if(r.tag!==0&&f===2){var p=Es(r);p!==0&&(i=p,f=Gf(r,p))}if(f===1)throw f=rl,Hs(r,0),os(r,i),Hn(r,Ct()),f;if(f===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ws(r,Un,Ci),Hn(r,Ct()),null}function Zf(r,i){var f=ct;ct|=1;try{return r(i)}finally{ct=f,ct===0&&(Bs=Ct()+500,pu&&qi())}}function Us(r){is!==null&&is.tag===0&&(ct&6)===0&&Xo();var i=ct;ct|=1;var f=yr.transition,p=mt;try{if(yr.transition=null,mt=1,r)return r()}finally{mt=p,yr.transition=f,ct=i,(ct&6)===0&&qi()}}function Jf(){nr=Yo.current,Pt(Yo)}function Hs(r,i){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==-1&&(r.timeoutHandle=-1,ja(f)),Gt!==null)for(f=Gt.return;f!==null;){var p=f;switch(Is(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&hu();break;case 3:Zi(),Pt(Fn),Pt(xn),bu();break;case 5:Eu(p);break;case 4:Zi();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:xu(p.type._context);break;case 22:case 23:Jf()}f=f.return}if(un=r,Gt=r=Lr(r.current,null),gn=nr=i,en=0,rl=null,Hu=il=ns=0,Un=sl=null,js!==null){for(i=0;i<js.length;i++)if(f=js[i],p=f.interleaved,p!==null){f.interleaved=null;var w=p.next,E=f.pending;if(E!==null){var D=E.next;E.next=w,p.next=D}f.pending=p}js=null}return r}function lp(r,i){do{var f=Gt;try{if(yi(),Ua.current=Au,Oo){for(var p=Lt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}Oo=!1}if(Ji=0,Jt=Bt=Lt=null,Ha=!1,$s=0,Kf.current=null,f===null||f.return===null){en=1,rl=i,Gt=null;break}e:{var E=r,D=f.return,U=f,Q=i;if(i=gn,U.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ce=Q,Se=U,Ce=Se.tag;if((Se.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var xe=Se.alternate;xe?(Se.updateQueue=xe.updateQueue,Se.memoizedState=xe.memoizedState,Se.lanes=xe.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Me=Gh(D);if(Me!==null){Me.flags&=-257,Mf(Me,D,U,E,i),Me.mode&1&&qa(E,ce,i),i=Me,Q=ce;var Le=i.updateQueue;if(Le===null){var je=new Set;je.add(Q),i.updateQueue=je}else Le.add(Q);break e}else{if((i&1)===0){qa(E,ce,i),ed();break e}Q=Error(n(426))}}else if(At&&U.mode&1){var zt=Gh(D);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),Mf(zt,D,U,E,i),Zr(zs(Q,U));break e}}E=Q=zs(Q,U),en!==4&&(en=2),sl===null?sl=[E]:sl.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var se=Xa(E,Q,i);Bh(E,se);break e;case 1:U=Q;var te=E.type,ae=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(rs===null||!rs.has(ae)))){E.flags|=65536,i&=-i,E.lanes|=i;var Te=Lu(E,U,i);Bh(E,Te);break e}}E=E.return}while(E!==null)}fp(f)}catch(Oe){i=Oe,Gt===f&&f!==null&&(Gt=f=f.return);continue}break}while(!0)}function up(){var r=Uu.current;return Uu.current=Au,r===null?Au:r}function ed(){(en===0||en===3||en===2)&&(en=4),un===null||(ns&268435455)===0&&(il&268435455)===0||os(un,gn)}function qu(r,i){var f=ct;ct|=2;var p=up();(un!==r||gn!==i)&&(Ci=null,Hs(r,i));do try{ym();break}catch(w){lp(r,w)}while(!0);if(yi(),ct=f,Uu.current=p,Gt!==null)throw Error(n(261));return un=null,gn=0,en}function ym(){for(;Gt!==null;)cp(Gt)}function vm(){for(;Gt!==null&&!Ss();)cp(Gt)}function cp(r){var i=hp(r.alternate,r,nr);r.memoizedProps=r.pendingProps,i===null?fp(r):Gt=i,Kf.current=null}function fp(r){var i=r;do{var f=i.alternate;if(r=i.return,(i.flags&32768)===0){if(f=hm(f,i,nr),f!==null){Gt=f;return}}else{if(f=pm(f,i),f!==null){f.flags&=32767,Gt=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,Gt=null;return}}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=r}while(i!==null);en===0&&(en=5)}function Ws(r,i,f){var p=mt,w=yr.transition;try{yr.transition=null,mt=1,xm(r,i,f,p)}finally{yr.transition=w,mt=p}return null}function xm(r,i,f,p){do Xo();while(is!==null);if((ct&6)!==0)throw Error(n(327));f=r.finishedWork;var w=r.finishedLanes;if(f===null)return null;if(r.finishedWork=null,r.finishedLanes=0,f===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var E=f.lanes|f.childLanes;if(oh(r,E),r===un&&(Gt=un=null,gn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ku||(Ku=!0,pp(_s,function(){return Xo(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=yr.transition,yr.transition=null;var D=mt;mt=1;var U=ct;ct|=4,Kf.current=null,gm(r,f),Hf(f,r),um(As),Wl=!!Ia,As=Ia=null,r.current=f,Bu(f),$c(),ct=U,mt=D,yr.transition=E}else r.current=f;if(Ku&&(Ku=!1,is=r,Mn=w),E=r.pendingLanes,E===0&&(rs=null),Vc(f.stateNode),Hn(r,Ct()),i!==null)for(p=r.onRecoverableError,f=0;f<i.length;f++)w=i[f],p(w.value,{componentStack:w.stack,digest:w.digest});if(Wu)throw Wu=!1,r=Xf,Xf=null,r;return(Mn&1)!==0&&r.tag!==0&&Xo(),E=r.pendingLanes,(E&1)!==0?r===qf?ol++:(ol=0,qf=r):ol=0,qi(),null}function Xo(){if(is!==null){var r=bs(Mn),i=yr.transition,f=mt;try{if(yr.transition=null,mt=16>r?16:r,is===null)var p=!1;else{if(r=is,is=null,Mn=0,(ct&6)!==0)throw Error(n(331));var w=ct;for(ct|=4,Ie=r.current;Ie!==null;){var E=Ie,D=E.child;if((Ie.flags&16)!==0){var U=E.deletions;if(U!==null){for(var Q=0;Q<U.length;Q++){var ce=U[Q];for(Ie=ce;Ie!==null;){var Se=Ie;switch(Se.tag){case 0:case 11:case 15:bi(8,Se,E)}var Ce=Se.child;if(Ce!==null)Ce.return=Se,Ie=Ce;else for(;Ie!==null;){Se=Ie;var xe=Se.sibling,Me=Se.return;if(np(Se),Se===ce){Ie=null;break}if(xe!==null){xe.return=Me,Ie=xe;break}Ie=Me}}}var Le=E.alternate;if(Le!==null){var je=Le.child;if(je!==null){Le.child=null;do{var zt=je.sibling;je.sibling=null,je=zt}while(je!==null)}}Ie=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,Ie=D;else e:for(;Ie!==null;){if(E=Ie,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:bi(9,E,E.return)}var se=E.sibling;if(se!==null){se.return=E.return,Ie=se;break e}Ie=E.return}}var te=r.current;for(Ie=te;Ie!==null;){D=Ie;var ae=D.child;if((D.subtreeFlags&2064)!==0&&ae!==null)ae.return=D,Ie=ae;else e:for(D=te;Ie!==null;){if(U=Ie,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:nl(9,U)}}catch(Oe){jt(U,U.return,Oe)}if(U===D){Ie=null;break e}var Te=U.sibling;if(Te!==null){Te.return=U.return,Ie=Te;break e}Ie=U.return}}if(ct=w,qi(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(ho,r)}catch{}p=!0}return p}finally{mt=f,yr.transition=i}}return!1}function Gu(r,i,f){i=zs(f,i),i=Xa(r,i,1),r=pr(r,i,1),i=In(),r!==null&&(Sa(r,1,i),Hn(r,i))}function jt(r,i,f){if(r.tag===3)Gu(r,r,f);else for(;i!==null;){if(i.tag===3){Gu(i,r,f);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))){r=zs(f,r),r=Lu(i,r,1),i=pr(i,r,1),r=In(),i!==null&&(Sa(i,1,r),Hn(i,r));break}}i=i.return}}function wm(r,i,f){var p=r.pingCache;p!==null&&p.delete(i),i=In(),r.pingedLanes|=r.suspendedLanes&f,un===r&&(gn&f)===f&&(en===4||en===3&&(gn&130023424)===gn&&500>Ct()-Yf?Hs(r,0):Hu|=f),Hn(r,i)}function dp(r,i){i===0&&((r.mode&1)===0?i=1:(i=po,po<<=1,(po&130023424)===0&&(po=4194304)));var f=In();r=vi(r,i),r!==null&&(Sa(r,i,f),Hn(r,f))}function Sm(r){var i=r.memoizedState,f=0;i!==null&&(f=i.retryLane),dp(r,f)}function _m(r,i){var f=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(f=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(i),dp(r,f)}var hp;hp=function(r,i,f){if(r!==null)if(r.memoizedProps!==i.pendingProps||Fn.current)Rn=!0;else{if((r.lanes&f)===0&&(i.flags&128)===0)return Rn=!1,Jh(r,i,f);Rn=(r.flags&131072)!==0}else Rn=!1,At&&(i.flags&1048576)!==0&&Oh(i,mu,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;$u(r,i),r=i.pendingProps;var w=Do(i,xn.current);Qi(i,f),w=Fs(null,i,p,r,w,f);var E=Cu();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Vn(p)?(E=!0,ur(i)):E=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Su(i),w.updater=Mu,i.stateNode=w,w._reactInternals=i,Df(i,p,r,f),i=Ff(null,i,p,!0,E,f)):(i.tag=0,At&&E&&Oa(i),dn(null,i,w,f),i=i.child),i;case 16:p=i.elementType;e:{switch($u(r,i),r=i.pendingProps,w=p._init,p=w(p._payload),i.type=p,w=i.tag=bm(p),r=mr(p,r),w){case 0:i=Of(null,i,p,r,f);break e;case 1:i=$f(null,i,p,r,f);break e;case 11:i=Qh(null,i,p,r,f);break e;case 14:i=If(null,i,p,mr(p.type,r),f);break e}throw Error(n(306,p,""))}return i;case 0:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:mr(p,w),Of(r,i,p,w,f);case 1:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:mr(p,w),$f(r,i,p,w,f);case 3:e:{if(Zh(i),r===null)throw Error(n(387));p=i.pendingProps,E=i.memoizedState,w=E.element,zh(r,i),Lo(i,p,null,f);var D=i.memoizedState;if(p=D.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){w=zs(Error(n(423)),i),i=ri(r,i,p,f,w);break e}else if(p!==w){w=zs(Error(n(424)),i),i=ri(r,i,p,f,w);break e}else for(Jn=Ki(i.stateNode.containerInfo.firstChild),Sn=i,At=!0,Nr=null,f=vu(i,null,p,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Qr(),p===w){i=Ar(r,i,f);break e}dn(r,i,p,f)}i=i.child}return i;case 5:return xf(i),r===null&&zn(i),p=i.type,w=i.pendingProps,E=r!==null?r.memoizedProps:null,D=w.children,La(p,w)?D=null:E!==null&&La(p,E)&&(i.flags|=32),jf(r,i),dn(r,i,D,f),i.child;case 6:return r===null&&zn(i),null;case 13:return Ou(r,i,f);case 4:return vf(i,i.stateNode.containerInfo),p=i.pendingProps,r===null?i.child=Vt(i,null,p,f):dn(r,i,p,f),i.child;case 11:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:mr(p,w),Qh(r,i,p,w,f);case 7:return dn(r,i,i.pendingProps,f),i.child;case 8:return dn(r,i,i.pendingProps.children,f),i.child;case 12:return dn(r,i,i.pendingProps.children,f),i.child;case 10:e:{if(p=i.type._context,w=i.pendingProps,E=i.memoizedProps,D=w.value,Tt(Va,p._currentValue),p._currentValue=D,E!==null)if(le(E.value,D)){if(E.children===w.children&&!Fn.current){i=Ar(r,i,f);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var U=E.dependencies;if(U!==null){D=E.child;for(var Q=U.firstContext;Q!==null;){if(Q.context===p){if(E.tag===1){Q=xi(-1,f&-f),Q.tag=2;var ce=E.updateQueue;if(ce!==null){ce=ce.shared;var Se=ce.pending;Se===null?Q.next=Q:(Q.next=Se.next,Se.next=Q),ce.pending=Q}}E.lanes|=f,Q=E.alternate,Q!==null&&(Q.lanes|=f),fn(E.return,f,i),U.lanes|=f;break}Q=Q.next}}else if(E.tag===10)D=E.type===i.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(n(341));D.lanes|=f,U=D.alternate,U!==null&&(U.lanes|=f),fn(D,f,i),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===i){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}dn(r,i,w.children,f),i=i.child}return i;case 9:return w=i.type,p=i.pendingProps.children,Qi(i,f),w=dr(w),p=p(w),i.flags|=1,dn(r,i,p,f),i.child;case 14:return p=i.type,w=mr(p,i.pendingProps),w=mr(p.type,w),If(r,i,p,w,f);case 15:return ni(r,i,i.type,i.pendingProps,f);case 17:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:mr(p,w),$u(r,i),i.tag=1,Vn(p)?(r=!0,ur(i)):r=!1,Qi(i,f),Vs(i,p,w),Df(i,p,w,f),Ff(null,i,p,!0,r,f);case 19:return es(r,i,f);case 22:return Lf(r,i,f)}throw Error(n(156,i.tag))};function pp(r,i){return Il(r,i)}function Em(r,i,f,p){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(r,i,f,p){return new Em(r,i,f,p)}function Qu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bm(r){if(typeof r=="function")return Qu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===oe)return 11;if(r===ne)return 14}return 2}function Lr(r,i){var f=r.alternate;return f===null?(f=vr(r.tag,i,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=i,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,i=r.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function Zu(r,i,f,p,w,E){var D=2;if(p=r,typeof r=="function")Qu(r)&&(D=1);else if(typeof r=="string")D=5;else e:switch(r){case O:return Ks(f.children,w,E,i);case B:D=8,w|=8;break;case q:return r=vr(12,f,i,w|2),r.elementType=q,r.lanes=E,r;case ue:return r=vr(13,f,i,w),r.elementType=ue,r.lanes=E,r;case $:return r=vr(19,f,i,w),r.elementType=$,r.lanes=E,r;case H:return Ju(f,w,E,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ee:D=10;break e;case fe:D=9;break e;case oe:D=11;break e;case ne:D=14;break e;case Y:D=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=vr(D,f,i,w),i.elementType=r,i.type=p,i.lanes=E,i}function Ks(r,i,f,p){return r=vr(7,r,p,i),r.lanes=f,r}function Ju(r,i,f,p){return r=vr(22,r,p,i),r.elementType=H,r.lanes=f,r.stateNode={isHidden:!1},r}function td(r,i,f){return r=vr(6,r,null,i),r.lanes=f,r}function nd(r,i,f){return i=vr(4,r.children!==null?r.children:[],r.key,i),i.lanes=f,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Cm(r,i,f,p,w){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function rd(r,i,f,p,w,E,D,U,Q){return r=new Cm(r,i,f,U,Q),i===1?(i=1,E===!0&&(i|=8)):i=0,E=vr(3,null,null,i),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(E),r}function km(r,i,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:r,containerInfo:i,implementation:f}}function gp(r){if(!r)return Xi;r=r._reactInternals;e:{if(Ur(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var f=r.type;if(Vn(f))return Ih(r,f,i)}return i}function mp(r,i,f,p,w,E,D,U,Q){return r=rd(f,p,!0,r,w,E,D,U,Q),r.context=gp(null),f=r.current,p=In(),w=ss(f),E=xi(p,w),E.callback=i??null,pr(f,E,w),r.current.lanes=w,Sa(r,w,p),Hn(r,p),r}function ec(r,i,f,p){var w=i.current,E=In(),D=ss(w);return f=gp(f),i.context===null?i.context=f:i.pendingContext=f,i=xi(E,D),i.payload={element:r},p=p===void 0?null:p,p!==null&&(i.callback=p),r=pr(w,i,D),r!==null&&(Ir(r,w,D,E),_u(r,w,D)),D}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yp(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<i?f:i}}function id(r,i){yp(r,i),(r=r.alternate)&&yp(r,i)}var vp=typeof reportError=="function"?reportError:function(r){console.error(r)};function sd(r){this._internalRoot=r}ll.prototype.render=sd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));ec(r,i,null,null)},ll.prototype.unmount=sd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Us(function(){ec(null,r,null,null)}),i[Zn]=null}};function ll(r){this._internalRoot=r}ll.prototype.unstable_scheduleHydration=function(r){if(r){var i=Hc();r={blockedOn:null,target:r,priority:i};for(var f=0;f<Vi.length&&i!==0&&i<Vi[f].priority;f++);Vi.splice(f,0,r),f===0&&uh(r)}};function nc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Tm(r,i,f,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var ce=tc(D);E.call(ce)}}var D=mp(i,p,r,0,null,!1,!1,"",xp);return r._reactRootContainer=D,r[Zn]=D.current,Hi(r.nodeType===8?r.parentNode:r),Us(),D}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var U=p;p=function(){var ce=tc(Q);U.call(ce)}}var Q=rd(r,0,!1,null,null,!1,!1,"",xp);return r._reactRootContainer=Q,r[Zn]=Q.current,Hi(r.nodeType===8?r.parentNode:r),Us(function(){ec(i,Q,f,p)}),Q}function ic(r,i,f,p,w){var E=f._reactRootContainer;if(E){var D=E;if(typeof w=="function"){var U=w;w=function(){var Q=tc(D);U.call(Q)}}ec(i,D,r,w)}else D=Tm(f,i,r,w,p);return tc(D)}Uc=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var f=ji(i.pendingLanes);f!==0&&(_a(i,f|1),Hn(i,Ct()),(ct&6)===0&&(Bs=Ct()+500,qi()))}break;case 13:Us(function(){var p=vi(r,1);if(p!==null){var w=In();Ir(p,r,1,w)}}),id(r,1)}},Bl=function(r){if(r.tag===13){var i=vi(r,134217728);if(i!==null){var f=In();Ir(i,r,134217728,f)}id(r,134217728)}},ah=function(r){if(r.tag===13){var i=ss(r),f=vi(r,i);if(f!==null){var p=In();Ir(f,r,i,p)}id(r,i)}},Hc=function(){return mt},Wc=function(r,i){var f=mt;try{return mt=r,i()}finally{mt=f}},da=function(r,i,f){switch(i){case"input":if(cn(r,f),i=f.name,f.type==="radio"&&i!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var p=f[i];if(p!==r&&p.form===r.form){var w=du(p);if(!w)throw Error(n(90));Ne(p),cn(p,w)}}}break;case"textarea":gt(r,f);break;case"select":i=f.value,i!=null&&be(r,!!f.multiple,i,!1)}},Nl=Zf,pa=Us;var sc={usingClientEntryPoint:!1,Events:[vn,et,du,ha,Tl,Zf]},ul={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Dl(r),r===null?null:r.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ho=oc.inject(Nm),or=oc}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,_r.createPortal=function(r,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(i))throw Error(n(200));return km(r,i,null,f)},_r.createRoot=function(r,i){if(!nc(r))throw Error(n(299));var f=!1,p="",w=vp;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=rd(r,1,!1,null,null,f,!1,p,w),r[Zn]=i.current,Hi(r.nodeType===8?r.parentNode:r),new sd(i)},_r.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Dl(i),r=r===null?null:r.stateNode,r},_r.flushSync=function(r){return Us(r)},_r.hydrate=function(r,i,f){if(!rc(i))throw Error(n(200));return ic(null,r,i,!0,f)},_r.hydrateRoot=function(r,i,f){if(!nc(r))throw Error(n(405));var p=f!=null&&f.hydratedSources||null,w=!1,E="",D=vp;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(D=f.onRecoverableError)),i=mp(i,null,r,1,f??null,w,!1,E,D),r[Zn]=i.current,Hi(r),p)for(r=0;r<p.length;r++)f=p[r],w=f._getVersion,w=w(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,w]:i.mutableSourceEagerHydrationData.push(f,w);return new ll(i)},_r.render=function(r,i,f){if(!rc(i))throw Error(n(200));return ic(null,r,i,!1,f)},_r.unmountComponentAtNode=function(r){if(!rc(r))throw Error(n(40));return r._reactRootContainer?(Us(function(){ic(null,null,r,!1,function(){r._reactRootContainer=null,r[Zn]=null})}),!0):!1},_r.unstable_batchedUpdates=Zf,_r.unstable_renderSubtreeIntoContainer=function(r,i,f,p){if(!rc(f))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ic(r,i,f,!1,p)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var Xv;function H1(){if(Xv)return Um.exports;Xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Um.exports=zk(),Um.exports}var qv;function Bk(){if(qv)return bp;qv=1;var e=H1();return bp.createRoot=e.createRoot,bp.hydrateRoot=e.hydrateRoot,bp}var Uk=Bk();const Hk=yy(Uk);var Gv={},Wk="@vercel/analytics",Kk="1.5.0",Yk=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function W1(){return typeof window<"u"}function K1(){try{const e="production"}catch{}return"production"}function Xk(e="auto"){if(e==="auto"){window.vam=K1();return}window.vam=e}function qk(){return(W1()?window.vam:K1())||"production"}function C0(){return qk()==="development"}function Gk(e){return e.scriptSrc?e.scriptSrc:C0()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function Qk(e={debug:!0}){var t;if(!W1())return;Xk(e.mode),Yk(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=Gk(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const s=document.createElement("script");s.src=n,s.defer=!0,s.dataset.sdkn=Wk+(e.framework?`/${e.framework}`:""),s.dataset.sdkv=Kk,e.disableAutoTrack&&(s.dataset.disableAutoTrack="1"),e.endpoint?s.dataset.endpoint=e.endpoint:e.basePath&&(s.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(s.dataset.dsn=e.dsn),s.onerror=()=>{const a=C0()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${a}`)},C0()&&e.debug===!1&&(s.dataset.debug="false"),document.head.appendChild(s)}function Zk({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function Jk(){if(!(typeof process>"u"||typeof Gv>"u"))return Gv.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function eT(e){return P.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),P.useEffect(()=>{Qk({framework:e.framework||"react",basePath:e.basePath??Jk(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),P.useEffect(()=>{e.route&&e.path&&Zk({route:e.route,path:e.path})},[e.route,e.path]),null}function on(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=on(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var tT={value:()=>{}};function yg(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Fp(n)}function Fp(e){this._=e}function nT(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",a=n.indexOf(".");if(a>=0&&(s=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Fp.prototype=yg.prototype={constructor:Fp,on:function(e,t){var n=this._,s=nT(e+"",n),a,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((a=(e=s[u]).type)&&(a=rT(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(a=(e=s[u]).type)n[a]=Qv(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Qv(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fp(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),s=0,a,u;s<a;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],s=0,a=u.length;s<a;++s)u[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,u=s.length;a<u;++a)s[a].value.apply(t,n)}};function rT(e,t){for(var n=0,s=e.length,a;n<s;++n)if((a=e[n]).name===t)return a.value}function Qv(e,t,n){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=tT,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var k0="http://www.w3.org/1999/xhtml";const Zv={svg:"http://www.w3.org/2000/svg",xhtml:k0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vg(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zv.hasOwnProperty(t)?{space:Zv[t],local:e}:e}function iT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===k0&&t.documentElement.namespaceURI===k0?t.createElement(e):t.createElementNS(n,e)}}function sT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Y1(e){var t=vg(e);return(t.local?sT:iT)(t)}function oT(){}function xy(e){return e==null?oT:function(){return this.querySelector(e)}}function aT(e){typeof e!="function"&&(e=xy(e));for(var t=this._groups,n=t.length,s=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=s[a]=new Array(c),h,g,y=0;y<c;++y)(h=u[y])&&(g=e.call(h,h.__data__,y,u))&&("__data__"in h&&(g.__data__=h.__data__),d[y]=g);return new Br(s,this._parents)}function lT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uT(){return[]}function X1(e){return e==null?uT:function(){return this.querySelectorAll(e)}}function cT(e){return function(){return lT(e.apply(this,arguments))}}function fT(e){typeof e=="function"?e=cT(e):e=X1(e);for(var t=this._groups,n=t.length,s=[],a=[],u=0;u<n;++u)for(var c=t[u],d=c.length,h,g=0;g<d;++g)(h=c[g])&&(s.push(e.call(h,h.__data__,g,c)),a.push(h));return new Br(s,a)}function q1(e){return function(){return this.matches(e)}}function G1(e){return function(t){return t.matches(e)}}var dT=Array.prototype.find;function hT(e){return function(){return dT.call(this.children,e)}}function pT(){return this.firstElementChild}function gT(e){return this.select(e==null?pT:hT(typeof e=="function"?e:G1(e)))}var mT=Array.prototype.filter;function yT(){return Array.from(this.children)}function vT(e){return function(){return mT.call(this.children,e)}}function xT(e){return this.selectAll(e==null?yT:vT(typeof e=="function"?e:G1(e)))}function wT(e){typeof e!="function"&&(e=q1(e));for(var t=this._groups,n=t.length,s=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=s[a]=[],h,g=0;g<c;++g)(h=u[g])&&e.call(h,h.__data__,g,u)&&d.push(h);return new Br(s,this._parents)}function Q1(e){return new Array(e.length)}function ST(){return new Br(this._enter||this._groups.map(Q1),this._parents)}function Qp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qp.prototype={constructor:Qp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _T(e){return function(){return e}}function ET(e,t,n,s,a,u){for(var c=0,d,h=t.length,g=u.length;c<g;++c)(d=t[c])?(d.__data__=u[c],s[c]=d):n[c]=new Qp(e,u[c]);for(;c<h;++c)(d=t[c])&&(a[c]=d)}function bT(e,t,n,s,a,u,c){var d,h,g=new Map,y=t.length,x=u.length,v=new Array(y),S;for(d=0;d<y;++d)(h=t[d])&&(v[d]=S=c.call(h,h.__data__,d,t)+"",g.has(S)?a[d]=h:g.set(S,h));for(d=0;d<x;++d)S=c.call(e,u[d],d,u)+"",(h=g.get(S))?(s[d]=h,h.__data__=u[d],g.delete(S)):n[d]=new Qp(e,u[d]);for(d=0;d<y;++d)(h=t[d])&&g.get(v[d])===h&&(a[d]=h)}function CT(e){return e.__data__}function kT(e,t){if(!arguments.length)return Array.from(this,CT);var n=t?bT:ET,s=this._parents,a=this._groups;typeof e!="function"&&(e=_T(e));for(var u=a.length,c=new Array(u),d=new Array(u),h=new Array(u),g=0;g<u;++g){var y=s[g],x=a[g],v=x.length,S=TT(e.call(y,y&&y.__data__,g,s)),_=S.length,T=d[g]=new Array(_),N=c[g]=new Array(_),C=h[g]=new Array(v);n(y,x,T,N,C,S,t);for(var M=0,A=0,L,z;M<_;++M)if(L=T[M]){for(M>=A&&(A=M+1);!(z=N[A])&&++A<_;);L._next=z||null}}return c=new Br(c,s),c._enter=d,c._exit=h,c}function TT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NT(){return new Br(this._exit||this._groups.map(Q1),this._parents)}function PT(e,t,n){var s=this.enter(),a=this,u=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?u.remove():n(u),s&&a?s.merge(a).order():a}function AT(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,a=n.length,u=s.length,c=Math.min(a,u),d=new Array(a),h=0;h<c;++h)for(var g=n[h],y=s[h],x=g.length,v=d[h]=new Array(x),S,_=0;_<x;++_)(S=g[_]||y[_])&&(v[_]=S);for(;h<a;++h)d[h]=n[h];return new Br(d,this._parents)}function RT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],a=s.length-1,u=s[a],c;--a>=0;)(c=s[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function DT(e){e||(e=MT);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,s=n.length,a=new Array(s),u=0;u<s;++u){for(var c=n[u],d=c.length,h=a[u]=new Array(d),g,y=0;y<d;++y)(g=c[y])&&(h[y]=g);h.sort(t)}return new Br(a,this._parents).order()}function MT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function IT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function LT(){return Array.from(this)}function jT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],a=0,u=s.length;a<u;++a){var c=s[a];if(c)return c}return null}function OT(){let e=0;for(const t of this)++e;return e}function $T(){return!this.node()}function FT(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var a=t[n],u=0,c=a.length,d;u<c;++u)(d=a[u])&&e.call(d,d.__data__,u,a);return this}function VT(e){return function(){this.removeAttribute(e)}}function zT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BT(e,t){return function(){this.setAttribute(e,t)}}function UT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function HT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KT(e,t){var n=vg(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?zT:VT:typeof t=="function"?n.local?WT:HT:n.local?UT:BT)(n,t))}function Z1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YT(e){return function(){this.style.removeProperty(e)}}function XT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qT(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function GT(e,t,n){return arguments.length>1?this.each((t==null?YT:typeof t=="function"?qT:XT)(e,t,n??"")):vc(this.node(),e)}function vc(e,t){return e.style.getPropertyValue(t)||Z1(e).getComputedStyle(e,null).getPropertyValue(t)}function QT(e){return function(){delete this[e]}}function ZT(e,t){return function(){this[e]=t}}function JT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function eN(e,t){return arguments.length>1?this.each((t==null?QT:typeof t=="function"?JT:ZT)(e,t)):this.node()[e]}function J1(e){return e.trim().split(/^|\s+/)}function wy(e){return e.classList||new eS(e)}function eS(e){this._node=e,this._names=J1(e.getAttribute("class")||"")}eS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tS(e,t){for(var n=wy(e),s=-1,a=t.length;++s<a;)n.add(t[s])}function nS(e,t){for(var n=wy(e),s=-1,a=t.length;++s<a;)n.remove(t[s])}function tN(e){return function(){tS(this,e)}}function nN(e){return function(){nS(this,e)}}function rN(e,t){return function(){(t.apply(this,arguments)?tS:nS)(this,e)}}function iN(e,t){var n=J1(e+"");if(arguments.length<2){for(var s=wy(this.node()),a=-1,u=n.length;++a<u;)if(!s.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?rN:t?tN:nN)(n,t))}function sN(){this.textContent=""}function oN(e){return function(){this.textContent=e}}function aN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lN(e){return arguments.length?this.each(e==null?sN:(typeof e=="function"?aN:oN)(e)):this.node().textContent}function uN(){this.innerHTML=""}function cN(e){return function(){this.innerHTML=e}}function fN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dN(e){return arguments.length?this.each(e==null?uN:(typeof e=="function"?fN:cN)(e)):this.node().innerHTML}function hN(){this.nextSibling&&this.parentNode.appendChild(this)}function pN(){return this.each(hN)}function gN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mN(){return this.each(gN)}function yN(e){var t=typeof e=="function"?e:Y1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vN(){return null}function xN(e,t){var n=typeof e=="function"?e:Y1(e),s=t==null?vN:typeof t=="function"?t:xy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function wN(){var e=this.parentNode;e&&e.removeChild(this)}function SN(){return this.each(wN)}function _N(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bN(e){return this.select(e?EN:_N)}function CN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kN(e){return function(t){e.call(this,t,this.__data__)}}function TN(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function NN(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,a=t.length,u;n<a;++n)u=t[n],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function PN(e,t,n){return function(){var s=this.__on,a,u=kN(t);if(s){for(var c=0,d=s.length;c<d;++c)if((a=s[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=n),a.value=t;return}}this.addEventListener(e.type,u,n),a={type:e.type,name:e.name,value:t,listener:u,options:n},s?s.push(a):this.__on=[a]}}function AN(e,t,n){var s=TN(e+""),a,u=s.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,g=d.length,y;h<g;++h)for(a=0,y=d[h];a<u;++a)if((c=s[a]).type===y.type&&c.name===y.name)return y.value}return}for(d=t?PN:NN,a=0;a<u;++a)this.each(d(s[a],t,n));return this}function rS(e,t,n){var s=Z1(e),a=s.CustomEvent;typeof a=="function"?a=new a(t,n):(a=s.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function RN(e,t){return function(){return rS(this,e,t)}}function DN(e,t){return function(){return rS(this,e,t.apply(this,arguments))}}function MN(e,t){return this.each((typeof t=="function"?DN:RN)(e,t))}function*IN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],a=0,u=s.length,c;a<u;++a)(c=s[a])&&(yield c)}var iS=[null];function Br(e,t){this._groups=e,this._parents=t}function Yd(){return new Br([[document.documentElement]],iS)}function LN(){return this}Br.prototype=Yd.prototype={constructor:Br,select:aT,selectAll:fT,selectChild:gT,selectChildren:xT,filter:wT,data:kT,enter:ST,exit:NT,join:PT,merge:AT,selection:LN,order:RT,sort:DT,call:IT,nodes:LT,node:jT,size:OT,empty:$T,each:FT,attr:KT,style:GT,property:eN,classed:iN,text:lN,html:dN,raise:pN,lower:mN,append:yN,insert:xN,remove:SN,clone:bN,datum:CN,on:AN,dispatch:MN,[Symbol.iterator]:IN};function Fr(e){return typeof e=="string"?new Br([[document.querySelector(e)]],[document.documentElement]):new Br([[e]],iS)}function jN(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pi(e,t){if(e=jN(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const ON={passive:!1},Td={capture:!0,passive:!1};function Km(e){e.stopImmediatePropagation()}function mc(e){e.preventDefault(),e.stopImmediatePropagation()}function sS(e){var t=e.document.documentElement,n=Fr(e).on("dragstart.drag",mc,Td);"onselectstart"in t?n.on("selectstart.drag",mc,Td):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oS(e,t){var n=e.document.documentElement,s=Fr(e).on("dragstart.drag",null);t&&(s.on("click.drag",mc,Td),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cp=e=>()=>e;function T0(e,{sourceEvent:t,subject:n,target:s,identifier:a,active:u,x:c,y:d,dx:h,dy:g,dispatch:y}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:y}})}T0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $N(e){return!e.ctrlKey&&!e.button}function FN(){return this.parentNode}function VN(e,t){return t??{x:e.x,y:e.y}}function zN(){return navigator.maxTouchPoints||"ontouchstart"in this}function aS(){var e=$N,t=FN,n=VN,s=zN,a={},u=yg("start","drag","end"),c=0,d,h,g,y,x=0;function v(L){L.on("mousedown.drag",S).filter(s).on("touchstart.drag",N).on("touchmove.drag",C,ON).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(L,z){if(!(y||!e.call(this,L,z))){var X=A(this,t.call(this,L,z),L,z,"mouse");X&&(Fr(L.view).on("mousemove.drag",_,Td).on("mouseup.drag",T,Td),sS(L.view),Km(L),g=!1,d=L.clientX,h=L.clientY,X("start",L))}}function _(L){if(mc(L),!g){var z=L.clientX-d,X=L.clientY-h;g=z*z+X*X>x}a.mouse("drag",L)}function T(L){Fr(L.view).on("mousemove.drag mouseup.drag",null),oS(L.view,g),mc(L),a.mouse("end",L)}function N(L,z){if(e.call(this,L,z)){var X=L.changedTouches,O=t.call(this,L,z),B=X.length,q,ee;for(q=0;q<B;++q)(ee=A(this,O,L,z,X[q].identifier,X[q]))&&(Km(L),ee("start",L,X[q]))}}function C(L){var z=L.changedTouches,X=z.length,O,B;for(O=0;O<X;++O)(B=a[z[O].identifier])&&(mc(L),B("drag",L,z[O]))}function M(L){var z=L.changedTouches,X=z.length,O,B;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),O=0;O<X;++O)(B=a[z[O].identifier])&&(Km(L),B("end",L,z[O]))}function A(L,z,X,O,B,q){var ee=u.copy(),fe=Pi(q||X,z),oe,ue,$;if(($=n.call(L,new T0("beforestart",{sourceEvent:X,target:v,identifier:B,active:c,x:fe[0],y:fe[1],dx:0,dy:0,dispatch:ee}),O))!=null)return oe=$.x-fe[0]||0,ue=$.y-fe[1]||0,function ne(Y,H,F){var K=fe,G;switch(Y){case"start":a[B]=ne,G=c++;break;case"end":delete a[B],--c;case"drag":fe=Pi(F||H,z),G=c;break}ee.call(Y,L,new T0(Y,{sourceEvent:H,subject:$,target:v,identifier:B,active:G,x:fe[0]+oe,y:fe[1]+ue,dx:fe[0]-K[0],dy:fe[1]-K[1],dispatch:ee}),O)}}return v.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Cp(!!L),v):e},v.container=function(L){return arguments.length?(t=typeof L=="function"?L:Cp(L),v):t},v.subject=function(L){return arguments.length?(n=typeof L=="function"?L:Cp(L),v):n},v.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:Cp(!!L),v):s},v.on=function(){var L=u.on.apply(u,arguments);return L===u?v:L},v.clickDistance=function(L){return arguments.length?(x=(L=+L)*L,v):Math.sqrt(x)},v}function Sy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lS(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Xd(){}var Nd=.7,Zp=1/Nd,yc="\\s*([+-]?\\d+)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BN=/^#([0-9a-f]{3,8})$/,UN=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),HN=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),WN=new RegExp(`^rgba\\(${yc},${yc},${yc},${Pd}\\)$`),KN=new RegExp(`^rgba\\(${us},${us},${us},${Pd}\\)$`),YN=new RegExp(`^hsl\\(${Pd},${us},${us}\\)$`),XN=new RegExp(`^hsla\\(${Pd},${us},${us},${Pd}\\)$`),Jv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sy(Xd,Ad,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ex,formatHex:ex,formatHex8:qN,formatHsl:GN,formatRgb:tx,toString:tx});function ex(){return this.rgb().formatHex()}function qN(){return this.rgb().formatHex8()}function GN(){return uS(this).formatHsl()}function tx(){return this.rgb().formatRgb()}function Ad(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=BN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nx(t):n===3?new Er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UN.exec(e))?new Er(t[1],t[2],t[3],1):(t=HN.exec(e))?new Er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WN.exec(e))?kp(t[1],t[2],t[3],t[4]):(t=KN.exec(e))?kp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YN.exec(e))?sx(t[1],t[2]/100,t[3]/100,1):(t=XN.exec(e))?sx(t[1],t[2]/100,t[3]/100,t[4]):Jv.hasOwnProperty(e)?nx(Jv[e]):e==="transparent"?new Er(NaN,NaN,NaN,0):null}function nx(e){return new Er(e>>16&255,e>>8&255,e&255,1)}function kp(e,t,n,s){return s<=0&&(e=t=n=NaN),new Er(e,t,n,s)}function QN(e){return e instanceof Xd||(e=Ad(e)),e?(e=e.rgb(),new Er(e.r,e.g,e.b,e.opacity)):new Er}function N0(e,t,n,s){return arguments.length===1?QN(e):new Er(e,t,n,s??1)}function Er(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}Sy(Er,N0,lS(Xd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nd:Math.pow(Nd,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(vl(this.r),vl(this.g),vl(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rx,formatHex:rx,formatHex8:ZN,formatRgb:ix,toString:ix}));function rx(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}`}function ZN(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}${gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function ix(){const e=Jp(this.opacity);return`${e===1?"rgb(":"rgba("}${vl(this.r)}, ${vl(this.g)}, ${vl(this.b)}${e===1?")":`, ${e})`}`}function Jp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gl(e){return e=vl(e),(e<16?"0":"")+e.toString(16)}function sx(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ai(e,t,n,s)}function uS(e){if(e instanceof Ai)return new Ai(e.h,e.s,e.l,e.opacity);if(e instanceof Xd||(e=Ad(e)),!e)return new Ai;if(e instanceof Ai)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),u=Math.max(t,n,s),c=NaN,d=u-a,h=(u+a)/2;return d?(t===u?c=(n-s)/d+(n<s)*6:n===u?c=(s-t)/d+2:c=(t-n)/d+4,d/=h<.5?u+a:2-u-a,c*=60):d=h>0&&h<1?0:c,new Ai(c,d,h,e.opacity)}function JN(e,t,n,s){return arguments.length===1?uS(e):new Ai(e,t,n,s??1)}function Ai(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}Sy(Ai,JN,lS(Xd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new Ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nd:Math.pow(Nd,e),new Ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new Er(Ym(e>=240?e-240:e+120,a,s),Ym(e,a,s),Ym(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Ai(ox(this.h),Tp(this.s),Tp(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jp(this.opacity);return`${e===1?"hsl(":"hsla("}${ox(this.h)}, ${Tp(this.s)*100}%, ${Tp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ox(e){return e=(e||0)%360,e<0?e+360:e}function Tp(e){return Math.max(0,Math.min(1,e||0))}function Ym(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cS=e=>()=>e;function eP(e,t){return function(n){return e+n*t}}function tP(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function nP(e){return(e=+e)==1?fS:function(t,n){return n-t?tP(t,n,e):cS(isNaN(t)?n:t)}}function fS(e,t){var n=t-e;return n?eP(e,n):cS(isNaN(e)?t:e)}const ax=function e(t){var n=nP(t);function s(a,u){var c=n((a=N0(a)).r,(u=N0(u)).r),d=n(a.g,u.g),h=n(a.b,u.b),g=fS(a.opacity,u.opacity);return function(y){return a.r=c(y),a.g=d(y),a.b=h(y),a.opacity=g(y),a+""}}return s.gamma=e,s}(1);function Jo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var P0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xm=new RegExp(P0.source,"g");function rP(e){return function(){return e}}function iP(e){return function(t){return e(t)+""}}function sP(e,t){var n=P0.lastIndex=Xm.lastIndex=0,s,a,u,c=-1,d=[],h=[];for(e=e+"",t=t+"";(s=P0.exec(e))&&(a=Xm.exec(t));)(u=a.index)>n&&(u=t.slice(n,u),d[c]?d[c]+=u:d[++c]=u),(s=s[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:Jo(s,a)})),n=Xm.lastIndex;return n<t.length&&(u=t.slice(n),d[c]?d[c]+=u:d[++c]=u),d.length<2?h[0]?iP(h[0].x):rP(t):(t=h.length,function(g){for(var y=0,x;y<t;++y)d[(x=h[y]).i]=x.x(g);return d.join("")})}var lx=180/Math.PI,A0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dS(e,t,n,s,a,u){var c,d,h;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(h=e*n+t*s)&&(n-=e*h,s-=t*h),(d=Math.sqrt(n*n+s*s))&&(n/=d,s/=d,h/=d),e*s<t*n&&(e=-e,t=-t,h=-h,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(t,e)*lx,skewX:Math.atan(h)*lx,scaleX:c,scaleY:d}}var Np;function oP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?A0:dS(t.a,t.b,t.c,t.d,t.e,t.f)}function aP(e){return e==null||(Np||(Np=document.createElementNS("http://www.w3.org/2000/svg","g")),Np.setAttribute("transform",e),!(e=Np.transform.baseVal.consolidate()))?A0:(e=e.matrix,dS(e.a,e.b,e.c,e.d,e.e,e.f))}function hS(e,t,n,s){function a(g){return g.length?g.pop()+" ":""}function u(g,y,x,v,S,_){if(g!==x||y!==v){var T=S.push("translate(",null,t,null,n);_.push({i:T-4,x:Jo(g,x)},{i:T-2,x:Jo(y,v)})}else(x||v)&&S.push("translate("+x+t+v+n)}function c(g,y,x,v){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),v.push({i:x.push(a(x)+"rotate(",null,s)-2,x:Jo(g,y)})):y&&x.push(a(x)+"rotate("+y+s)}function d(g,y,x,v){g!==y?v.push({i:x.push(a(x)+"skewX(",null,s)-2,x:Jo(g,y)}):y&&x.push(a(x)+"skewX("+y+s)}function h(g,y,x,v,S,_){if(g!==x||y!==v){var T=S.push(a(S)+"scale(",null,",",null,")");_.push({i:T-4,x:Jo(g,x)},{i:T-2,x:Jo(y,v)})}else(x!==1||v!==1)&&S.push(a(S)+"scale("+x+","+v+")")}return function(g,y){var x=[],v=[];return g=e(g),y=e(y),u(g.translateX,g.translateY,y.translateX,y.translateY,x,v),c(g.rotate,y.rotate,x,v),d(g.skewX,y.skewX,x,v),h(g.scaleX,g.scaleY,y.scaleX,y.scaleY,x,v),g=y=null,function(S){for(var _=-1,T=v.length,N;++_<T;)x[(N=v[_]).i]=N.x(S);return x.join("")}}}var lP=hS(oP,"px, ","px)","deg)"),uP=hS(aP,", ",")",")"),cP=1e-12;function ux(e){return((e=Math.exp(e))+1/e)/2}function fP(e){return((e=Math.exp(e))-1/e)/2}function dP(e){return((e=Math.exp(2*e))-1)/(e+1)}const hP=function e(t,n,s){function a(u,c){var d=u[0],h=u[1],g=u[2],y=c[0],x=c[1],v=c[2],S=y-d,_=x-h,T=S*S+_*_,N,C;if(T<cP)C=Math.log(v/g)/t,N=function(O){return[d+O*S,h+O*_,g*Math.exp(t*O*C)]};else{var M=Math.sqrt(T),A=(v*v-g*g+s*T)/(2*g*n*M),L=(v*v-g*g-s*T)/(2*v*n*M),z=Math.log(Math.sqrt(A*A+1)-A),X=Math.log(Math.sqrt(L*L+1)-L);C=(X-z)/t,N=function(O){var B=O*C,q=ux(z),ee=g/(n*M)*(q*dP(t*B+z)-fP(z));return[d+ee*S,h+ee*_,g*q/ux(t*B+z)]}}return N.duration=C*1e3*t/Math.SQRT2,N}return a.rho=function(u){var c=Math.max(.001,+u),d=c*c,h=d*d;return e(c,d,h)},a}(Math.SQRT2,2,4);var xc=0,pd=0,ld=0,pS=1e3,eg,gd,tg=0,_l=0,xg=0,Rd=typeof performance=="object"&&performance.now?performance:Date,gS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _y(){return _l||(gS(pP),_l=Rd.now()+xg)}function pP(){_l=0}function ng(){this._call=this._time=this._next=null}ng.prototype=mS.prototype={constructor:ng,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_y():+n)+(t==null?0:+t),!this._next&&gd!==this&&(gd?gd._next=this:eg=this,gd=this),this._call=e,this._time=n,R0()},stop:function(){this._call&&(this._call=null,this._time=1/0,R0())}};function mS(e,t,n){var s=new ng;return s.restart(e,t,n),s}function gP(){_y(),++xc;for(var e=eg,t;e;)(t=_l-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xc}function cx(){_l=(tg=Rd.now())+xg,xc=pd=0;try{gP()}finally{xc=0,yP(),_l=0}}function mP(){var e=Rd.now(),t=e-tg;t>pS&&(xg-=t,tg=e)}function yP(){for(var e,t=eg,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:eg=n);gd=e,R0(s)}function R0(e){if(!xc){pd&&(pd=clearTimeout(pd));var t=e-_l;t>24?(e<1/0&&(pd=setTimeout(cx,e-Rd.now()-xg)),ld&&(ld=clearInterval(ld))):(ld||(tg=Rd.now(),ld=setInterval(mP,pS)),xc=1,gS(cx))}}function fx(e,t,n){var s=new ng;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,n),s}var vP=yg("start","end","cancel","interrupt"),xP=[],yS=0,dx=1,D0=2,Vp=3,hx=4,M0=5,zp=6;function wg(e,t,n,s,a,u){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;wP(e,n,{name:t,index:s,group:a,on:vP,tween:xP,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:yS})}function Ey(e,t){var n=Mi(e,t);if(n.state>yS)throw new Error("too late; already scheduled");return n}function ds(e,t){var n=Mi(e,t);if(n.state>Vp)throw new Error("too late; already running");return n}function Mi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wP(e,t,n){var s=e.__transition,a;s[t]=n,n.timer=mS(u,0,n.time);function u(g){n.state=dx,n.timer.restart(c,n.delay,n.time),n.delay<=g&&c(g-n.delay)}function c(g){var y,x,v,S;if(n.state!==dx)return h();for(y in s)if(S=s[y],S.name===n.name){if(S.state===Vp)return fx(c);S.state===hx?(S.state=zp,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete s[y]):+y<t&&(S.state=zp,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete s[y])}if(fx(function(){n.state===Vp&&(n.state=hx,n.timer.restart(d,n.delay,n.time),d(g))}),n.state=D0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===D0){for(n.state=Vp,a=new Array(v=n.tween.length),y=0,x=-1;y<v;++y)(S=n.tween[y].value.call(e,e.__data__,n.index,n.group))&&(a[++x]=S);a.length=x+1}}function d(g){for(var y=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(h),n.state=M0,1),x=-1,v=a.length;++x<v;)a[x].call(e,y);n.state===M0&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=zp,n.timer.stop(),delete s[t];for(var g in s)return;delete e.__transition}}function Bp(e,t){var n=e.__transition,s,a,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){u=!1;continue}a=s.state>D0&&s.state<M0,s.state=zp,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[c]}u&&delete e.__transition}}function SP(e){return this.each(function(){Bp(this,e)})}function _P(e,t){var n,s;return function(){var a=ds(this,e),u=a.tween;if(u!==n){s=n=u;for(var c=0,d=s.length;c<d;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}a.tween=s}}function EP(e,t,n){var s,a;if(typeof n!="function")throw new Error;return function(){var u=ds(this,e),c=u.tween;if(c!==s){a=(s=c).slice();for(var d={name:t,value:n},h=0,g=a.length;h<g;++h)if(a[h].name===t){a[h]=d;break}h===g&&a.push(d)}u.tween=a}}function bP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=Mi(this.node(),n).tween,a=0,u=s.length,c;a<u;++a)if((c=s[a]).name===e)return c.value;return null}return this.each((t==null?_P:EP)(n,e,t))}function by(e,t,n){var s=e._id;return e.each(function(){var a=ds(this,s);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Mi(a,s).value[t]}}function vS(e,t){var n;return(typeof t=="number"?Jo:t instanceof Ad?ax:(n=Ad(t))?(t=n,ax):sP)(e,t)}function CP(e){return function(){this.removeAttribute(e)}}function kP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TP(e,t,n){var s,a=n+"",u;return function(){var c=this.getAttribute(e);return c===a?null:c===s?u:u=t(s=c,n)}}function NP(e,t,n){var s,a=n+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===s?u:u=t(s=c,n)}}function PP(e,t,n){var s,a,u;return function(){var c,d=n(this),h;return d==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=d+"",c===h?null:c===s&&h===a?u:(a=h,u=t(s=c,d)))}}function AP(e,t,n){var s,a,u;return function(){var c,d=n(this),h;return d==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=d+"",c===h?null:c===s&&h===a?u:(a=h,u=t(s=c,d)))}}function RP(e,t){var n=vg(e),s=n==="transform"?uP:vS;return this.attrTween(e,typeof t=="function"?(n.local?AP:PP)(n,s,by(this,"attr."+e,t)):t==null?(n.local?kP:CP)(n):(n.local?NP:TP)(n,s,t))}function DP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function MP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function IP(e,t){var n,s;function a(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&MP(e,u)),n}return a._value=t,a}function LP(e,t){var n,s;function a(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&DP(e,u)),n}return a._value=t,a}function jP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=vg(e);return this.tween(n,(s.local?IP:LP)(s,t))}function OP(e,t){return function(){Ey(this,e).delay=+t.apply(this,arguments)}}function $P(e,t){return t=+t,function(){Ey(this,e).delay=t}}function FP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OP:$P)(t,e)):Mi(this.node(),t).delay}function VP(e,t){return function(){ds(this,e).duration=+t.apply(this,arguments)}}function zP(e,t){return t=+t,function(){ds(this,e).duration=t}}function BP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VP:zP)(t,e)):Mi(this.node(),t).duration}function UP(e,t){if(typeof t!="function")throw new Error;return function(){ds(this,e).ease=t}}function HP(e){var t=this._id;return arguments.length?this.each(UP(t,e)):Mi(this.node(),t).ease}function WP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ds(this,e).ease=n}}function KP(e){if(typeof e!="function")throw new Error;return this.each(WP(this._id,e))}function YP(e){typeof e!="function"&&(e=q1(e));for(var t=this._groups,n=t.length,s=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=s[a]=[],h,g=0;g<c;++g)(h=u[g])&&e.call(h,h.__data__,g,u)&&d.push(h);return new no(s,this._parents,this._name,this._id)}function XP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,a=n.length,u=Math.min(s,a),c=new Array(s),d=0;d<u;++d)for(var h=t[d],g=n[d],y=h.length,x=c[d]=new Array(y),v,S=0;S<y;++S)(v=h[S]||g[S])&&(x[S]=v);for(;d<s;++d)c[d]=t[d];return new no(c,this._parents,this._name,this._id)}function qP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function GP(e,t,n){var s,a,u=qP(t)?Ey:ds;return function(){var c=u(this,e),d=c.on;d!==s&&(a=(s=d).copy()).on(t,n),c.on=a}}function QP(e,t){var n=this._id;return arguments.length<2?Mi(this.node(),n).on.on(e):this.each(GP(n,e,t))}function ZP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JP(){return this.on("end.remove",ZP(this._id))}function eA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xy(e));for(var s=this._groups,a=s.length,u=new Array(a),c=0;c<a;++c)for(var d=s[c],h=d.length,g=u[c]=new Array(h),y,x,v=0;v<h;++v)(y=d[v])&&(x=e.call(y,y.__data__,v,d))&&("__data__"in y&&(x.__data__=y.__data__),g[v]=x,wg(g[v],t,n,v,g,Mi(y,n)));return new no(u,this._parents,t,n)}function tA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=X1(e));for(var s=this._groups,a=s.length,u=[],c=[],d=0;d<a;++d)for(var h=s[d],g=h.length,y,x=0;x<g;++x)if(y=h[x]){for(var v=e.call(y,y.__data__,x,h),S,_=Mi(y,n),T=0,N=v.length;T<N;++T)(S=v[T])&&wg(S,t,n,T,v,_);u.push(v),c.push(y)}return new no(u,c,t,n)}var nA=Yd.prototype.constructor;function rA(){return new nA(this._groups,this._parents)}function iA(e,t){var n,s,a;return function(){var u=vc(this,e),c=(this.style.removeProperty(e),vc(this,e));return u===c?null:u===n&&c===s?a:a=t(n=u,s=c)}}function xS(e){return function(){this.style.removeProperty(e)}}function sA(e,t,n){var s,a=n+"",u;return function(){var c=vc(this,e);return c===a?null:c===s?u:u=t(s=c,n)}}function oA(e,t,n){var s,a,u;return function(){var c=vc(this,e),d=n(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(e),vc(this,e))),c===h?null:c===s&&h===a?u:(a=h,u=t(s=c,d))}}function aA(e,t){var n,s,a,u="style."+t,c="end."+u,d;return function(){var h=ds(this,e),g=h.on,y=h.value[u]==null?d||(d=xS(t)):void 0;(g!==n||a!==y)&&(s=(n=g).copy()).on(c,a=y),h.on=s}}function lA(e,t,n){var s=(e+="")=="transform"?lP:vS;return t==null?this.styleTween(e,iA(e,s)).on("end.style."+e,xS(e)):typeof t=="function"?this.styleTween(e,oA(e,s,by(this,"style."+e,t))).each(aA(this._id,e)):this.styleTween(e,sA(e,s,t),n).on("end.style."+e,null)}function uA(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function cA(e,t,n){var s,a;function u(){var c=t.apply(this,arguments);return c!==a&&(s=(a=c)&&uA(e,c,n)),s}return u._value=t,u}function fA(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,cA(e,t,n??""))}function dA(e){return function(){this.textContent=e}}function hA(e){return function(){var t=e(this);this.textContent=t??""}}function pA(e){return this.tween("text",typeof e=="function"?hA(by(this,"text",e)):dA(e==null?"":e+""))}function gA(e){return function(t){this.textContent=e.call(this,t)}}function mA(e){var t,n;function s(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&gA(a)),t}return s._value=e,s}function yA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mA(e))}function vA(){for(var e=this._name,t=this._id,n=wS(),s=this._groups,a=s.length,u=0;u<a;++u)for(var c=s[u],d=c.length,h,g=0;g<d;++g)if(h=c[g]){var y=Mi(h,t);wg(h,e,n,g,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new no(s,this._parents,e,n)}function xA(){var e,t,n=this,s=n._id,a=n.size();return new Promise(function(u,c){var d={value:c},h={value:function(){--a===0&&u()}};n.each(function(){var g=ds(this,s),y=g.on;y!==e&&(t=(e=y).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(h)),g.on=t}),a===0&&u()})}var wA=0;function no(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function wS(){return++wA}var Gs=Yd.prototype;no.prototype={constructor:no,select:eA,selectAll:tA,selectChild:Gs.selectChild,selectChildren:Gs.selectChildren,filter:YP,merge:XP,selection:rA,transition:vA,call:Gs.call,nodes:Gs.nodes,node:Gs.node,size:Gs.size,empty:Gs.empty,each:Gs.each,on:QP,attr:RP,attrTween:jP,style:lA,styleTween:fA,text:pA,textTween:yA,remove:JP,tween:bP,delay:FP,duration:BP,ease:HP,easeVarying:KP,end:xA,[Symbol.iterator]:Gs[Symbol.iterator]};function SA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _A={time:null,delay:0,duration:250,ease:SA};function EA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bA(e){var t,n;e instanceof no?(t=e._id,e=e._name):(t=wS(),(n=_A).time=_y(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,u=0;u<a;++u)for(var c=s[u],d=c.length,h,g=0;g<d;++g)(h=c[g])&&wg(h,e,t,g,c,n||EA(h,t));return new no(s,this._parents,e,t)}Yd.prototype.interrupt=SP;Yd.prototype.transition=bA;const Pp=e=>()=>e;function CA(e,{sourceEvent:t,target:n,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function Qs(e,t,n){this.k=e,this.x=t,this.y=n}Qs.prototype={constructor:Qs,scale:function(e){return e===1?this:new Qs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Qs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sg=new Qs(1,0,0);SS.prototype=Qs.prototype;function SS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Sg;return e.__zoom}function qm(e){e.stopImmediatePropagation()}function ud(e){e.preventDefault(),e.stopImmediatePropagation()}function kA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function TA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function px(){return this.__zoom||Sg}function NA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function PA(){return navigator.maxTouchPoints||"ontouchstart"in this}function AA(e,t,n){var s=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],u=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function _S(){var e=kA,t=TA,n=AA,s=NA,a=PA,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=hP,g=yg("start","zoom","end"),y,x,v,S=500,_=150,T=0,N=10;function C($){$.property("__zoom",px).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",ee).filter(a).on("touchstart.zoom",fe).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",ue).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function($,ne,Y,H){var F=$.selection?$.selection():$;F.property("__zoom",px),$!==F?z($,ne,Y,H):F.interrupt().each(function(){X(this,arguments).event(H).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},C.scaleBy=function($,ne,Y,H){C.scaleTo($,function(){var F=this.__zoom.k,K=typeof ne=="function"?ne.apply(this,arguments):ne;return F*K},Y,H)},C.scaleTo=function($,ne,Y,H){C.transform($,function(){var F=t.apply(this,arguments),K=this.__zoom,G=Y==null?L(F):typeof Y=="function"?Y.apply(this,arguments):Y,V=K.invert(G),J=typeof ne=="function"?ne.apply(this,arguments):ne;return n(A(M(K,J),G,V),F,c)},Y,H)},C.translateBy=function($,ne,Y,H){C.transform($,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof Y=="function"?Y.apply(this,arguments):Y),t.apply(this,arguments),c)},null,H)},C.translateTo=function($,ne,Y,H,F){C.transform($,function(){var K=t.apply(this,arguments),G=this.__zoom,V=H==null?L(K):typeof H=="function"?H.apply(this,arguments):H;return n(Sg.translate(V[0],V[1]).scale(G.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof Y=="function"?-Y.apply(this,arguments):-Y),K,c)},H,F)};function M($,ne){return ne=Math.max(u[0],Math.min(u[1],ne)),ne===$.k?$:new Qs(ne,$.x,$.y)}function A($,ne,Y){var H=ne[0]-Y[0]*$.k,F=ne[1]-Y[1]*$.k;return H===$.x&&F===$.y?$:new Qs($.k,H,F)}function L($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function z($,ne,Y,H){$.on("start.zoom",function(){X(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(H).end()}).tween("zoom",function(){var F=this,K=arguments,G=X(F,K).event(H),V=t.apply(F,K),J=Y==null?L(V):typeof Y=="function"?Y.apply(F,K):Y,me=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),ye=F.__zoom,we=typeof ne=="function"?ne.apply(F,K):ne,ve=h(ye.invert(J).concat(me/ye.k),we.invert(J).concat(me/we.k));return function(_e){if(_e===1)_e=we;else{var ke=ve(_e),Re=me/ke[2];_e=new Qs(Re,J[0]-ke[0]*Re,J[1]-ke[1]*Re)}G.zoom(null,_e)}})}function X($,ne,Y){return!Y&&$.__zooming||new O($,ne)}function O($,ne){this.that=$,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=t.apply($,ne),this.taps=0}O.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,ne){return this.mouse&&$!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var ne=Fr(this.that).datum();g.call($,this.that,new CA($,{sourceEvent:this.sourceEvent,target:C,type:$,transform:this.that.__zoom,dispatch:g}),ne)}};function B($,...ne){if(!e.apply(this,arguments))return;var Y=X(this,ne).event($),H=this.__zoom,F=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,s.apply(this,arguments)))),K=Pi($);if(Y.wheel)(Y.mouse[0][0]!==K[0]||Y.mouse[0][1]!==K[1])&&(Y.mouse[1]=H.invert(Y.mouse[0]=K)),clearTimeout(Y.wheel);else{if(H.k===F)return;Y.mouse=[K,H.invert(K)],Bp(this),Y.start()}ud($),Y.wheel=setTimeout(G,_),Y.zoom("mouse",n(A(M(H,F),Y.mouse[0],Y.mouse[1]),Y.extent,c));function G(){Y.wheel=null,Y.end()}}function q($,...ne){if(v||!e.apply(this,arguments))return;var Y=$.currentTarget,H=X(this,ne,!0).event($),F=Fr($.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",me,!0),K=Pi($,Y),G=$.clientX,V=$.clientY;sS($.view),qm($),H.mouse=[K,this.__zoom.invert(K)],Bp(this),H.start();function J(ye){if(ud(ye),!H.moved){var we=ye.clientX-G,ve=ye.clientY-V;H.moved=we*we+ve*ve>T}H.event(ye).zoom("mouse",n(A(H.that.__zoom,H.mouse[0]=Pi(ye,Y),H.mouse[1]),H.extent,c))}function me(ye){F.on("mousemove.zoom mouseup.zoom",null),oS(ye.view,H.moved),ud(ye),H.event(ye).end()}}function ee($,...ne){if(e.apply(this,arguments)){var Y=this.__zoom,H=Pi($.changedTouches?$.changedTouches[0]:$,this),F=Y.invert(H),K=Y.k*($.shiftKey?.5:2),G=n(A(M(Y,K),H,F),t.apply(this,ne),c);ud($),d>0?Fr(this).transition().duration(d).call(z,G,H,$):Fr(this).call(C.transform,G,H,$)}}function fe($,...ne){if(e.apply(this,arguments)){var Y=$.touches,H=Y.length,F=X(this,ne,$.changedTouches.length===H).event($),K,G,V,J;for(qm($),G=0;G<H;++G)V=Y[G],J=Pi(V,this),J=[J,this.__zoom.invert(J),V.identifier],F.touch0?!F.touch1&&F.touch0[2]!==J[2]&&(F.touch1=J,F.taps=0):(F.touch0=J,K=!0,F.taps=1+!!y);y&&(y=clearTimeout(y)),K&&(F.taps<2&&(x=J[0],y=setTimeout(function(){y=null},S)),Bp(this),F.start())}}function oe($,...ne){if(this.__zooming){var Y=X(this,ne).event($),H=$.changedTouches,F=H.length,K,G,V,J;for(ud($),K=0;K<F;++K)G=H[K],V=Pi(G,this),Y.touch0&&Y.touch0[2]===G.identifier?Y.touch0[0]=V:Y.touch1&&Y.touch1[2]===G.identifier&&(Y.touch1[0]=V);if(G=Y.that.__zoom,Y.touch1){var me=Y.touch0[0],ye=Y.touch0[1],we=Y.touch1[0],ve=Y.touch1[1],_e=(_e=we[0]-me[0])*_e+(_e=we[1]-me[1])*_e,ke=(ke=ve[0]-ye[0])*ke+(ke=ve[1]-ye[1])*ke;G=M(G,Math.sqrt(_e/ke)),V=[(me[0]+we[0])/2,(me[1]+we[1])/2],J=[(ye[0]+ve[0])/2,(ye[1]+ve[1])/2]}else if(Y.touch0)V=Y.touch0[0],J=Y.touch0[1];else return;Y.zoom("touch",n(A(G,V,J),Y.extent,c))}}function ue($,...ne){if(this.__zooming){var Y=X(this,ne).event($),H=$.changedTouches,F=H.length,K,G;for(qm($),v&&clearTimeout(v),v=setTimeout(function(){v=null},S),K=0;K<F;++K)G=H[K],Y.touch0&&Y.touch0[2]===G.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===G.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(G=Pi(G,this),Math.hypot(x[0]-G[0],x[1]-G[1])<N)){var V=Fr(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return C.wheelDelta=function($){return arguments.length?(s=typeof $=="function"?$:Pp(+$),C):s},C.filter=function($){return arguments.length?(e=typeof $=="function"?$:Pp(!!$),C):e},C.touchable=function($){return arguments.length?(a=typeof $=="function"?$:Pp(!!$),C):a},C.extent=function($){return arguments.length?(t=typeof $=="function"?$:Pp([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),C):t},C.scaleExtent=function($){return arguments.length?(u[0]=+$[0],u[1]=+$[1],C):[u[0],u[1]]},C.translateExtent=function($){return arguments.length?(c[0][0]=+$[0][0],c[1][0]=+$[1][0],c[0][1]=+$[0][1],c[1][1]=+$[1][1],C):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},C.constrain=function($){return arguments.length?(n=$,C):n},C.duration=function($){return arguments.length?(d=+$,C):d},C.interpolate=function($){return arguments.length?(h=$,C):h},C.on=function(){var $=g.on.apply(g,arguments);return $===g?C:$},C.clickDistance=function($){return arguments.length?(T=($=+$)*$,C):Math.sqrt(T)},C.tapDistance=function($){return arguments.length?(N=+$,C):N},C}const io={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Dd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ES=["Enter"," ","Escape"];var wc;(function(e){e.Strict="strict",e.Loose="loose"})(wc||(wc={}));var xl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(xl||(xl={}));var Md;(function(e){e.Partial="partial",e.Full="full"})(Md||(Md={}));const bS={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ea;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ea||(ea={}));var rg;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rg||(rg={}));var $e;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($e||($e={}));const gx={[$e.Left]:$e.Right,[$e.Right]:$e.Left,[$e.Top]:$e.Bottom,[$e.Bottom]:$e.Top};function CS(e){return e===null?null:e?"valid":"invalid"}const kS=e=>"id"in e&&"source"in e&&"target"in e,RA=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Cy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),DA=(e,t,n)=>{if(!e.id)return[];const s=new Set;return n.forEach(a=>{a.source===e.id&&s.add(a.target)}),t.filter(a=>s.has(a.id))},MA=(e,t,n)=>{if(!e.id)return[];const s=new Set;return n.forEach(a=>{a.target===e.id&&s.add(a.source)}),t.filter(a=>s.has(a.id))},qd=(e,t=[0,0])=>{const{width:n,height:s}=so(e),a=e.origin??t,u=n*a[0],c=s*a[1];return{x:e.position.x-u,y:e.position.y-c}},IA=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,a)=>{const u=typeof a=="string";let c=!t.nodeLookup&&!u?a:void 0;t.nodeLookup&&(c=u?t.nodeLookup.get(a):Cy(a)?a:t.nodeLookup.get(a.id));const d=c?ig(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return _g(s,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Eg(n)},Tc=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const a=ig(s);n=_g(n,a)}}),Eg(n)},TS=(e,t,[n,s,a]=[0,0,1],u=!1,c=!1)=>{const d={...Gd(t,[n,s,a]),width:t.width/a,height:t.height/a},h=[];for(const g of e.values()){const{measured:y,selectable:x=!0,hidden:v=!1}=g;if(c&&!x||v)continue;const S=y.width??g.width??g.initialWidth??null,_=y.height??g.height??g.initialHeight??null,T=Id(d,_c(g)),N=(S??0)*(_??0),C=u&&T>0;(!g.internals.handleBounds||C||T>=N||g.dragging)&&h.push(g)}return h},NS=(e,t)=>{const n=new Set;return e.forEach(s=>{n.add(s.id)}),t.filter(s=>n.has(s.source)||n.has(s.target))};function I0(e,t){const n=new Map,s=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!s||s.has(a.id))&&n.set(a.id,a)}),n}async function L0({nodes:e,width:t,height:n,panZoom:s,minZoom:a,maxZoom:u},c){if(e.size===0)return Promise.resolve(!1);const d=Tc(e),h=ky(d,t,n,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await s.setViewport(h,{duration:c==null?void 0:c.duration}),Promise.resolve(!0)}function PS({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:a,onError:u}){const c=n.get(e),d=c.parentId?n.get(c.parentId):void 0,{x:h,y:g}=d?d.internals.positionAbsolute:{x:0,y:0},y=c.origin??s;let x=a;if(c.extent==="parent"&&!c.expandParent)if(!d)u==null||u("005",io.error005());else{const S=d.measured.width,_=d.measured.height;S&&_&&(x=[[h,g],[h+S,g+_]])}else d&&Ec(c.extent)&&(x=[[c.extent[0][0]+h,c.extent[0][1]+g],[c.extent[1][0]+h,c.extent[1][1]+g]]);const v=Ec(x)?El(t,x,c.measured):t;return{position:{x:v.x-h+c.measured.width*y[0],y:v.y-g+c.measured.height*y[1]},positionAbsolute:v}}async function LA({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:s,onBeforeDelete:a}){const u=new Set(e.map(v=>v.id)),c=[];for(const v of n){if(v.deletable===!1)continue;const S=u.has(v.id),_=!S&&v.parentId&&c.find(T=>T.id===v.parentId);(S||_)&&c.push(v)}const d=new Set(t.map(v=>v.id)),h=s.filter(v=>v.deletable!==!1),y=NS(c,h);for(const v of h)d.has(v.id)&&!y.find(_=>_.id===v.id)&&y.push(v);if(!a)return{edges:y,nodes:c};const x=await a({nodes:c,edges:y});return typeof x=="boolean"?x?{edges:y,nodes:c}:{edges:[],nodes:[]}:x}const Sc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),El=(e={x:0,y:0},t,n)=>({x:Sc(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Sc(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function AS(e,t,n){const{width:s,height:a}=so(n),{x:u,y:c}=n.internals.positionAbsolute;return El(e,[[u,c],[u+s,c+a]],t)}const mx=(e,t,n)=>e<t?Sc(Math.abs(e-t),1,t)/t:e>n?-Sc(Math.abs(e-n),1,t)/t:0,RS=(e,t,n=15,s=40)=>{const a=mx(e.x,s,t.width-s)*n,u=mx(e.y,s,t.height-s)*n;return[a,u]},_g=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),j0=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),Eg=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),_c=(e,t=[0,0])=>{var a,u;const{x:n,y:s}=Cy(e)?e.internals.positionAbsolute:qd(e,t);return{x:n,y:s,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},ig=(e,t=[0,0])=>{var a,u;const{x:n,y:s}=Cy(e)?e.internals.positionAbsolute:qd(e,t);return{x:n,y:s,x2:n+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:s+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},DS=(e,t)=>Eg(_g(j0(e),j0(t))),Id=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},yx=e=>Ri(e.width)&&Ri(e.height)&&Ri(e.x)&&Ri(e.y),Ri=e=>!isNaN(e)&&isFinite(e),jA=(e,t)=>{},bg=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Gd=({x:e,y:t},[n,s,a],u=!1,c=[1,1])=>{const d={x:(e-n)/a,y:(t-s)/a};return u?bg(d,c):d},MS=({x:e,y:t},[n,s,a])=>({x:e*a+n,y:t*a+s}),ky=(e,t,n,s,a,u)=>{const c=t/(e.width*(1+u)),d=n/(e.height*(1+u)),h=Math.min(c,d),g=Sc(h,s,a),y=e.x+e.width/2,x=e.y+e.height/2,v=t/2-y*g,S=n/2-x*g;return{x:v,y:S,zoom:g}},sg=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ec(e){return e!==void 0&&e!=="parent"}function so(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function IS(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function LS(e,t={width:0,height:0},n,s,a){const u={...e},c=s.get(n);if(c){const d=c.origin||a;u.x+=c.internals.positionAbsolute.x-(t.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(t.height??0)*d[1]}return u}function vx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function wd(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:s,containerBounds:a}){const{x:u,y:c}=Zs(e),d=Gd({x:u-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},s),{x:h,y:g}=n?bg(d,t):d;return{xSnapped:h,ySnapped:g,...d}}const Cg=e=>({width:e.offsetWidth,height:e.offsetHeight}),jS=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},OA=["INPUT","SELECT","TEXTAREA"];function O0(e){var s,a;const t=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:OA.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const OS=e=>"clientX"in e,Zs=(e,t)=>{var u,c;const n=OS(e),s=n?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,a=n?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},xx=(e,t,n,s,a)=>{const u=t.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:a,position:c.getAttribute("data-handlepos"),x:(d.left-n.left)/s,y:(d.top-n.top)/s,...Cg(c)}})};function $S({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d}){const h=e*.125+a*.375+c*.375+n*.125,g=t*.125+u*.375+d*.375+s*.125,y=Math.abs(h-e),x=Math.abs(g-t);return[h,g,y,x]}function Ap(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wx({pos:e,x1:t,y1:n,x2:s,y2:a,c:u}){switch(e){case $e.Left:return[t-Ap(t-s,u),n];case $e.Right:return[t+Ap(s-t,u),n];case $e.Top:return[t,n-Ap(n-a,u)];case $e.Bottom:return[t,n+Ap(a-n,u)]}}function FS({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:s,targetY:a,targetPosition:u=$e.Top,curvature:c=.25}){const[d,h]=wx({pos:n,x1:e,y1:t,x2:s,y2:a,c}),[g,y]=wx({pos:u,x1:s,y1:a,x2:e,y2:t,c}),[x,v,S,_]=$S({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:g,targetControlY:y});return[`M${e},${t} C${d},${h} ${g},${y} ${s},${a}`,x,v,S,_]}function VS({sourceX:e,sourceY:t,targetX:n,targetY:s}){const a=Math.abs(n-e)/2,u=n<e?n+a:n-a,c=Math.abs(s-t)/2,d=s<t?s+c:s-c;return[u,d,a,c]}function $A({sourceNode:e,targetNode:t,selected:n=!1,zIndex:s=0,elevateOnSelect:a=!1}){if(!a)return s;const u=n||t.selected||e.selected,c=Math.max(e.internals.z||0,t.internals.z||0,1e3);return s+(u?c:0)}function FA({sourceNode:e,targetNode:t,width:n,height:s,transform:a}){const u=_g(ig(e),ig(t));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:s/a[2]};return Id(c,Eg(u))>0}const VA=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`xy-edge__${e}${t||""}-${n}${s||""}`,zA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$0=(e,t)=>{if(!e.source||!e.target)return t;let n;return kS(e)?n={...e}:n={...e,id:VA(e)},zA(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function zS({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[a,u,c,d]=VS({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,a,u,c,d]}const Sx={[$e.Left]:{x:-1,y:0},[$e.Right]:{x:1,y:0},[$e.Top]:{x:0,y:-1},[$e.Bottom]:{x:0,y:1}},BA=({source:e,sourcePosition:t=$e.Bottom,target:n})=>t===$e.Left||t===$e.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},_x=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function UA({source:e,sourcePosition:t=$e.Bottom,target:n,targetPosition:s=$e.Top,center:a,offset:u}){const c=Sx[t],d=Sx[s],h={x:e.x+c.x*u,y:e.y+c.y*u},g={x:n.x+d.x*u,y:n.y+d.y*u},y=BA({source:h,sourcePosition:t,target:g}),x=y.x!==0?"x":"y",v=y[x];let S=[],_,T;const N={x:0,y:0},C={x:0,y:0},[M,A,L,z]=VS({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[x]*d[x]===-1){_=a.x??M,T=a.y??A;const O=[{x:_,y:h.y},{x:_,y:g.y}],B=[{x:h.x,y:T},{x:g.x,y:T}];c[x]===v?S=x==="x"?O:B:S=x==="x"?B:O}else{const O=[{x:h.x,y:g.y}],B=[{x:g.x,y:h.y}];if(x==="x"?S=c.x===v?B:O:S=c.y===v?O:B,t===s){const ue=Math.abs(e[x]-n[x]);if(ue<=u){const $=Math.min(u-1,u-ue);c[x]===v?N[x]=(h[x]>e[x]?-1:1)*$:C[x]=(g[x]>n[x]?-1:1)*$}}if(t!==s){const ue=x==="x"?"y":"x",$=c[x]===d[ue],ne=h[ue]>g[ue],Y=h[ue]<g[ue];(c[x]===1&&(!$&&ne||$&&Y)||c[x]!==1&&(!$&&Y||$&&ne))&&(S=x==="x"?O:B)}const q={x:h.x+N.x,y:h.y+N.y},ee={x:g.x+C.x,y:g.y+C.y},fe=Math.max(Math.abs(q.x-S[0].x),Math.abs(ee.x-S[0].x)),oe=Math.max(Math.abs(q.y-S[0].y),Math.abs(ee.y-S[0].y));fe>=oe?(_=(q.x+ee.x)/2,T=S[0].y):(_=S[0].x,T=(q.y+ee.y)/2)}return[[e,{x:h.x+N.x,y:h.y+N.y},...S,{x:g.x+C.x,y:g.y+C.y},n],_,T,L,z]}function HA(e,t,n,s){const a=Math.min(_x(e,t)/2,_x(t,n)/2,s),{x:u,y:c}=t;if(e.x===u&&u===n.x||e.y===c&&c===n.y)return`L${u} ${c}`;if(e.y===c){const g=e.x<n.x?-1:1,y=e.y<n.y?1:-1;return`L ${u+a*g},${c}Q ${u},${c} ${u},${c+a*y}`}const d=e.x<n.x?1:-1,h=e.y<n.y?-1:1;return`L ${u},${c+a*h}Q ${u},${c} ${u+a*d},${c}`}function F0({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:s,targetY:a,targetPosition:u=$e.Top,borderRadius:c=5,centerX:d,centerY:h,offset:g=20}){const[y,x,v,S,_]=UA({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:a},targetPosition:u,center:{x:d,y:h},offset:g});return[y.reduce((N,C,M)=>{let A="";return M>0&&M<y.length-1?A=HA(y[M-1],C,y[M+1],c):A=`${M===0?"M":"L"}${C.x} ${C.y}`,N+=A,N},""),x,v,S,_]}function Ex(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function WA(e){var x;const{sourceNode:t,targetNode:n}=e;if(!Ex(t)||!Ex(n))return null;const s=t.internals.handleBounds||bx(t.handles),a=n.internals.handleBounds||bx(n.handles),u=Cx((s==null?void 0:s.source)??[],e.sourceHandle),c=Cx(e.connectionMode===wc.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!u||!c)return(x=e.onError)==null||x.call(e,"008",io.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=(u==null?void 0:u.position)||$e.Bottom,h=(c==null?void 0:c.position)||$e.Top,g=Ld(t,u,d),y=Ld(n,c,h);return{sourceX:g.x,sourceY:g.y,targetX:y.x,targetY:y.y,sourcePosition:d,targetPosition:h}}function bx(e){if(!e)return null;const t=[],n=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&n.push(s);return{source:t,target:n}}function Ld(e,t,n=$e.Left,s=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,u=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:c,height:d}=t??so(e);if(s)return{x:a+c/2,y:u+d/2};switch((t==null?void 0:t.position)??n){case $e.Top:return{x:a+c/2,y:u};case $e.Right:return{x:a+c,y:u+d/2};case $e.Bottom:return{x:a+c/2,y:u+d};case $e.Left:return{x:a,y:u+d/2}}}function Cx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function V0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function KA(e,{id:t,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:a}){const u=new Set;return e.reduce((c,d)=>([d.markerStart||s,d.markerEnd||a].forEach(h=>{if(h&&typeof h=="object"){const g=V0(h,t);u.has(g)||(c.push({id:g,color:h.color||n,...h}),u.add(g))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}function YA(e,t,n,s,a){let u=.5;a==="start"?u=0:a==="end"&&(u=1);let c=[(e.x+e.width*u)*t.zoom+t.x,e.y*t.zoom+t.y-s],d=[-100*u,-100];switch(n){case $e.Right:c=[(e.x+e.width)*t.zoom+t.x+s,(e.y+e.height*u)*t.zoom+t.y],d=[0,-100*u];break;case $e.Bottom:c[1]=(e.y+e.height)*t.zoom+t.y+s,d[1]=0;break;case $e.Left:c=[e.x*t.zoom+t.x-s,(e.y+e.height*u)*t.zoom+t.y],d=[-100,-100*u];break}return`translate(${c[0]}px, ${c[1]}px) translate(${d[0]}%, ${d[1]}%)`}const Ty={nodeOrigin:[0,0],nodeExtent:Dd,elevateNodesOnSelect:!0,defaults:{}},XA={...Ty,checkEquality:!0};function Ny(e,t){const n={...e};for(const s in t)t[s]!==void 0&&(n[s]=t[s]);return n}function qA(e,t,n){const s=Ny(Ty,n);for(const a of e.values())if(a.parentId)Py(a,e,t,s);else{const u=qd(a,s.nodeOrigin),c=Ec(a.extent)?a.extent:s.nodeExtent,d=El(u,c,so(a));a.internals.positionAbsolute=d}}function z0(e,t,n,s){var d,h;const a=Ny(XA,s),u=new Map(t),c=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const g of e){let y=u.get(g.id);if(a.checkEquality&&g===(y==null?void 0:y.internals.userNode))t.set(g.id,y);else{const x=qd(g,a.nodeOrigin),v=Ec(g.extent)?g.extent:a.nodeExtent,S=El(x,v,so(g));y={...a.defaults,...g,measured:{width:(d=g.measured)==null?void 0:d.width,height:(h=g.measured)==null?void 0:h.height},internals:{positionAbsolute:S,handleBounds:g.measured?y==null?void 0:y.internals.handleBounds:void 0,z:BS(g,c),userNode:g}},t.set(g.id,y)}g.parentId&&Py(y,t,n,s)}}function GA(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Py(e,t,n,s){const{elevateNodesOnSelect:a,nodeOrigin:u,nodeExtent:c}=Ny(Ty,s),d=e.parentId,h=t.get(d);if(!h){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}GA(e,n);const g=a?1e3:0,{x:y,y:x,z:v}=QA(e,h,u,c,g),{positionAbsolute:S}=e.internals,_=y!==S.x||x!==S.y;(_||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:y,y:x}:S,z:v}})}function BS(e,t){return(Ri(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function QA(e,t,n,s,a){const{x:u,y:c}=t.internals.positionAbsolute,d=so(e),h=qd(e,n),g=Ec(e.extent)?El(h,e.extent,d):h;let y=El({x:u+g.x,y:c+g.y},s,d);e.extent==="parent"&&(y=AS(y,d,t));const x=BS(e,a),v=t.internals.z??0;return{x:y.x,y:y.y,z:v>x?v:x}}function Ay(e,t,n,s=[0,0]){var c;const a=[],u=new Map;for(const d of e){const h=t.get(d.parentId);if(!h)continue;const g=((c=u.get(d.parentId))==null?void 0:c.expandedRect)??_c(h),y=DS(g,d.rect);u.set(d.parentId,{expandedRect:y,parent:h})}return u.size>0&&u.forEach(({expandedRect:d,parent:h},g)=>{var A;const y=h.internals.positionAbsolute,x=so(h),v=h.origin??s,S=d.x<y.x?Math.round(Math.abs(y.x-d.x)):0,_=d.y<y.y?Math.round(Math.abs(y.y-d.y)):0,T=Math.max(x.width,Math.round(d.width)),N=Math.max(x.height,Math.round(d.height)),C=(T-x.width)*v[0],M=(N-x.height)*v[1];(S>0||_>0||C||M)&&(a.push({id:g,type:"position",position:{x:h.position.x-S+C,y:h.position.y-_+M}}),(A=n.get(g))==null||A.forEach(L=>{e.some(z=>z.id===L.id)||a.push({id:L.id,type:"position",position:{x:L.position.x+S,y:L.position.y+_}})})),(x.width<d.width||x.height<d.height||S||_)&&a.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:T+(S?v[0]*S-C:0),height:N+(_?v[1]*_-M:0)}})}),a}function ZA(e,t,n,s,a,u){const c=s==null?void 0:s.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const h=[],g=window.getComputedStyle(c),{m22:y}=new window.DOMMatrixReadOnly(g.transform),x=[];for(const v of e.values()){const S=t.get(v.id);if(!S)continue;if(S.hidden){t.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const _=Cg(v.nodeElement),T=S.measured.width!==_.width||S.measured.height!==_.height;if(!!(_.width&&_.height&&(T||!S.internals.handleBounds||v.force))){const C=v.nodeElement.getBoundingClientRect(),M=Ec(S.extent)?S.extent:u;let{positionAbsolute:A}=S.internals;S.parentId&&S.extent==="parent"?A=AS(A,_,t.get(S.parentId)):M&&(A=El(A,M,_));const L={...S,measured:_,internals:{...S.internals,positionAbsolute:A,handleBounds:{source:xx("source",v.nodeElement,C,y,S.id),target:xx("target",v.nodeElement,C,y,S.id)}}};t.set(S.id,L),S.parentId&&Py(L,t,n,{nodeOrigin:a}),d=!0,T&&(h.push({id:S.id,type:"dimensions",dimensions:_}),S.expandParent&&S.parentId&&x.push({id:S.id,parentId:S.parentId,rect:_c(L,a)}))}}if(x.length>0){const v=Ay(x,t,n,a);h.push(...v)}return{changes:h,updatedInternals:d}}async function JA({delta:e,panZoom:t,transform:n,translateExtent:s,width:a,height:u}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,u]],s),d=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(d)}function kx(e,t,n,s,a,u){let c=a;const d=s.get(c)||new Map;s.set(c,d.set(n,t)),c=`${a}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(n,t)),u){c=`${a}-${e}-${u}`;const g=s.get(c)||new Map;s.set(c,g.set(n,t))}}function US(e,t,n){e.clear(),t.clear();for(const s of n){const{source:a,target:u,sourceHandle:c=null,targetHandle:d=null}=s,h={edgeId:s.id,source:a,target:u,sourceHandle:c,targetHandle:d},g=`${a}-${c}--${u}-${d}`,y=`${u}-${d}--${a}-${c}`;kx("source",h,y,e,a,c),kx("target",h,g,e,u,d),t.set(s.id,s)}}function HS(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:HS(n,t):!1}function Tx(e,t,n){var a;let s=e;do{if((a=s==null?void 0:s.matches)!=null&&a.call(s,t))return!0;if(s===n)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function eR(e,t,n,s){const a=new Map;for(const[u,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!HS(c,e))&&(c.draggable||t&&typeof c.draggable>"u")){const d=e.get(u);d&&a.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:n.x-d.internals.positionAbsolute.x,y:n.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function Gm({nodeId:e,dragItems:t,nodeLookup:n,dragging:s=!0}){var c,d,h;const a=[];for(const[g,y]of t){const x=(c=n.get(g))==null?void 0:c.internals.userNode;x&&a.push({...x,position:y.position,dragging:s})}if(!e)return[a[0],a];const u=(d=n.get(e))==null?void 0:d.internals.userNode;return[u?{...u,position:((h=t.get(e))==null?void 0:h.position)||u.position,dragging:s}:a[0],a]}function tR({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:s,onDragStop:a}){let u={x:null,y:null},c=0,d=new Map,h=!1,g={x:0,y:0},y=null,x=!1,v=null,S=!1;function _({noDragClassName:N,handleSelector:C,domNode:M,isSelectable:A,nodeId:L,nodeClickDistance:z=0}){v=Fr(M);function X({x:ee,y:fe},oe){const{nodeLookup:ue,nodeExtent:$,snapGrid:ne,snapToGrid:Y,nodeOrigin:H,onNodeDrag:F,onSelectionDrag:K,onError:G,updateNodePositions:V}=t();u={x:ee,y:fe};let J=!1,me={x:0,y:0,x2:0,y2:0};if(d.size>1&&$){const ye=Tc(d);me=j0(ye)}for(const[ye,we]of d){if(!ue.has(ye))continue;let ve={x:ee-we.distance.x,y:fe-we.distance.y};Y&&(ve=bg(ve,ne));let _e=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(d.size>1&&$&&!we.extent){const{positionAbsolute:Ye}=we.internals,qe=Ye.x-me.x+$[0][0],Ne=Ye.x+we.measured.width-me.x2+$[1][0],Pe=Ye.y-me.y+$[0][1],Ke=Ye.y+we.measured.height-me.y2+$[1][1];_e=[[qe,Pe],[Ne,Ke]]}const{position:ke,positionAbsolute:Re}=PS({nodeId:ye,nextPosition:ve,nodeLookup:ue,nodeExtent:_e,nodeOrigin:H,onError:G});J=J||we.position.x!==ke.x||we.position.y!==ke.y,we.position=ke,we.internals.positionAbsolute=Re}if(J&&(V(d,!0),oe&&(s||F||!L&&K))){const[ye,we]=Gm({nodeId:L,dragItems:d,nodeLookup:ue});s==null||s(oe,d,ye,we),F==null||F(oe,ye,we),L||K==null||K(oe,we)}}async function O(){if(!y)return;const{transform:ee,panBy:fe,autoPanSpeed:oe,autoPanOnNodeDrag:ue}=t();if(!ue){h=!1,cancelAnimationFrame(c);return}const[$,ne]=RS(g,y,oe);($!==0||ne!==0)&&(u.x=(u.x??0)-$/ee[2],u.y=(u.y??0)-ne/ee[2],await fe({x:$,y:ne})&&X(u,null)),c=requestAnimationFrame(O)}function B(ee){var J;const{nodeLookup:fe,multiSelectionActive:oe,nodesDraggable:ue,transform:$,snapGrid:ne,snapToGrid:Y,selectNodesOnDrag:H,onNodeDragStart:F,onSelectionDragStart:K,unselectNodesAndEdges:G}=t();x=!0,(!H||!A)&&!oe&&L&&((J=fe.get(L))!=null&&J.selected||G()),A&&H&&L&&(e==null||e(L));const V=wd(ee.sourceEvent,{transform:$,snapGrid:ne,snapToGrid:Y,containerBounds:y});if(u=V,d=eR(fe,ue,V,L),d.size>0&&(n||F||!L&&K)){const[me,ye]=Gm({nodeId:L,dragItems:d,nodeLookup:fe});n==null||n(ee.sourceEvent,d,me,ye),F==null||F(ee.sourceEvent,me,ye),L||K==null||K(ee.sourceEvent,ye)}}const q=aS().clickDistance(z).on("start",ee=>{const{domNode:fe,nodeDragThreshold:oe,transform:ue,snapGrid:$,snapToGrid:ne}=t();y=(fe==null?void 0:fe.getBoundingClientRect())||null,S=!1,oe===0&&B(ee),u=wd(ee.sourceEvent,{transform:ue,snapGrid:$,snapToGrid:ne,containerBounds:y}),g=Zs(ee.sourceEvent,y)}).on("drag",ee=>{const{autoPanOnNodeDrag:fe,transform:oe,snapGrid:ue,snapToGrid:$,nodeDragThreshold:ne,nodeLookup:Y}=t(),H=wd(ee.sourceEvent,{transform:oe,snapGrid:ue,snapToGrid:$,containerBounds:y});if((ee.sourceEvent.type==="touchmove"&&ee.sourceEvent.touches.length>1||L&&!Y.has(L))&&(S=!0),!S){if(!h&&fe&&x&&(h=!0,O()),!x){const F=H.xSnapped-(u.x??0),K=H.ySnapped-(u.y??0);Math.sqrt(F*F+K*K)>ne&&B(ee)}(u.x!==H.xSnapped||u.y!==H.ySnapped)&&d&&x&&(g=Zs(ee.sourceEvent,y),X(H,ee.sourceEvent))}}).on("end",ee=>{if(!(!x||S)&&(h=!1,x=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:fe,updateNodePositions:oe,onNodeDragStop:ue,onSelectionDragStop:$}=t();if(oe(d,!1),a||ue||!L&&$){const[ne,Y]=Gm({nodeId:L,dragItems:d,nodeLookup:fe,dragging:!1});a==null||a(ee.sourceEvent,d,ne,Y),ue==null||ue(ee.sourceEvent,ne,Y),L||$==null||$(ee.sourceEvent,Y)}}}).filter(ee=>{const fe=ee.target;return!ee.button&&(!N||!Tx(fe,`.${N}`,M))&&(!C||Tx(fe,C,M))});v.call(q)}function T(){v==null||v.on(".drag",null)}return{update:_,destroy:T}}function nR(e,t,n){const s=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const u of t.values())Id(a,_c(u))>0&&s.push(u);return s}const rR=250;function iR(e,t,n,s){var d,h;let a=[],u=1/0;const c=nR(e,n,t+rR);for(const g of c){const y=[...((d=g.internals.handleBounds)==null?void 0:d.source)??[],...((h=g.internals.handleBounds)==null?void 0:h.target)??[]];for(const x of y){if(s.nodeId===x.nodeId&&s.type===x.type&&s.id===x.id)continue;const{x:v,y:S}=Ld(g,x,x.position,!0),_=Math.sqrt(Math.pow(v-e.x,2)+Math.pow(S-e.y,2));_>t||(_<u?(a=[{...x,x:v,y:S}],u=_):_===u&&a.push({...x,x:v,y:S}))}}if(!a.length)return null;if(a.length>1){const g=s.type==="source"?"target":"source";return a.find(y=>y.type===g)??a[0]}return a[0]}function WS(e,t,n,s,a,u=!1){var g,y,x;const c=s.get(e);if(!c)return null;const d=a==="strict"?(g=c.internals.handleBounds)==null?void 0:g[t]:[...((y=c.internals.handleBounds)==null?void 0:y.source)??[],...((x=c.internals.handleBounds)==null?void 0:x.target)??[]],h=(n?d==null?void 0:d.find(v=>v.id===n):d==null?void 0:d[0])??null;return h&&u?{...h,...Ld(c,h,h.position,!0)}:h}function KS(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function sR(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const YS=()=>!0;function oR(e,{connectionMode:t,connectionRadius:n,handleId:s,nodeId:a,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:h,lib:g,autoPanOnConnect:y,flowId:x,panBy:v,cancelConnection:S,onConnectStart:_,onConnect:T,onConnectEnd:N,isValidConnection:C=YS,onReconnectEnd:M,updateConnection:A,getTransform:L,getFromHandle:z,autoPanSpeed:X}){const O=jS(e.target);let B=0,q;const{x:ee,y:fe}=Zs(e),oe=O==null?void 0:O.elementFromPoint(ee,fe),ue=KS(u,oe),$=d==null?void 0:d.getBoundingClientRect();if(!$||!ue)return;const ne=WS(a,ue,s,h,t);if(!ne)return;let Y=Zs(e,$),H=!1,F=null,K=!1,G=null;function V(){if(!y||!$)return;const[Re,Ye]=RS(Y,$,X);v({x:Re,y:Ye}),B=requestAnimationFrame(V)}const J={...ne,nodeId:a,type:ue,position:ne.position},me=h.get(a),we={inProgress:!0,isValid:null,from:Ld(me,J,$e.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:me,to:Y,toHandle:null,toPosition:gx[J.position],toNode:null};A(we);let ve=we;_==null||_(e,{nodeId:a,handleId:s,handleType:ue});function _e(Re){if(!z()||!J){ke(Re);return}const Ye=L();Y=Zs(Re,$),q=iR(Gd(Y,Ye,!1,[1,1]),n,h,J),H||(V(),H=!0);const qe=XS(Re,{handle:q,connectionMode:t,fromNodeId:a,fromHandleId:s,fromType:c?"target":"source",isValidConnection:C,doc:O,lib:g,flowId:x,nodeLookup:h});G=qe.handleDomNode,F=qe.connection,K=sR(!!q,qe.isValid);const Ne={...ve,isValid:K,to:q&&K?MS({x:q.x,y:q.y},Ye):Y,toHandle:qe.toHandle,toPosition:K&&qe.toHandle?qe.toHandle.position:gx[J.position],toNode:qe.toHandle?h.get(qe.toHandle.nodeId):null};K&&q&&ve.toHandle&&Ne.toHandle&&ve.toHandle.type===Ne.toHandle.type&&ve.toHandle.nodeId===Ne.toHandle.nodeId&&ve.toHandle.id===Ne.toHandle.id&&ve.to.x===Ne.to.x&&ve.to.y===Ne.to.y||(A(Ne),ve=Ne)}function ke(Re){(q||G)&&F&&K&&(T==null||T(F));const{inProgress:Ye,...qe}=ve,Ne={...qe,toPosition:ve.toHandle?ve.toPosition:null};N==null||N(Re,Ne),u&&(M==null||M(Re,Ne)),S(),cancelAnimationFrame(B),H=!1,K=!1,F=null,G=null,O.removeEventListener("mousemove",_e),O.removeEventListener("mouseup",ke),O.removeEventListener("touchmove",_e),O.removeEventListener("touchend",ke)}O.addEventListener("mousemove",_e),O.addEventListener("mouseup",ke),O.addEventListener("touchmove",_e),O.addEventListener("touchend",ke)}function XS(e,{handle:t,connectionMode:n,fromNodeId:s,fromHandleId:a,fromType:u,doc:c,lib:d,flowId:h,isValidConnection:g=YS,nodeLookup:y}){const x=u==="target",v=t?c.querySelector(`.${d}-flow__handle[data-id="${h}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:S,y:_}=Zs(e),T=c.elementFromPoint(S,_),N=T!=null&&T.classList.contains(`${d}-flow__handle`)?T:v,C={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const M=KS(void 0,N),A=N.getAttribute("data-nodeid"),L=N.getAttribute("data-handleid"),z=N.classList.contains("connectable"),X=N.classList.contains("connectableend");if(!A||!M)return C;const O={source:x?A:s,sourceHandle:x?L:a,target:x?s:A,targetHandle:x?a:L};C.connection=O;const q=z&&X&&(n===wc.Strict?x&&M==="source"||!x&&M==="target":A!==s||L!==a);C.isValid=q&&g(O),C.toHandle=WS(A,M,L,y,n,!1)}return C}const B0={onPointerDown:oR,isValid:XS};function aR({domNode:e,panZoom:t,getTransform:n,getViewScale:s}){const a=Fr(e);function u({translateExtent:d,width:h,height:g,zoomStep:y=10,pannable:x=!0,zoomable:v=!0,inversePan:S=!1}){const _=A=>{const L=n();if(A.sourceEvent.type!=="wheel"||!t)return;const z=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*y,X=L[2]*Math.pow(2,z);t.scaleTo(X)};let T=[0,0];const N=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(T=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const L=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!t)return;const z=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],X=[z[0]-T[0],z[1]-T[1]];T=z;const O=s()*Math.max(L[2],Math.log(L[2]))*(S?-1:1),B={x:L[0]-X[0]*O,y:L[1]-X[1]*O},q=[[0,0],[h,g]];t.setViewportConstrained({x:B.x,y:B.y,zoom:L[2]},q,d)},M=_S().on("start",N).on("zoom",x?C:null).on("zoom.wheel",v?_:null);a.call(M,{})}function c(){a.on("zoom",null)}return{update:u,destroy:c,pointer:Pi}}const lR=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,kg=e=>({x:e.x,y:e.y,zoom:e.k}),Qm=({x:e,y:t,zoom:n})=>Sg.translate(e,t).scale(n),uc=(e,t)=>e.target.closest(`.${t}`),qS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Zm=(e,t=0,n=()=>{})=>{const s=typeof t=="number"&&t>0;return s||n(),s?e.transition().duration(t).on("end",n):e},GS=e=>{const t=e.ctrlKey&&sg()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function uR({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:h,onPanZoomEnd:g}){return y=>{if(uc(y,t))return!1;y.preventDefault(),y.stopImmediatePropagation();const x=n.property("__zoom").k||1;if(y.ctrlKey&&c){const N=Pi(y),C=GS(y),M=x*Math.pow(2,C);s.scaleTo(n,M,N,y);return}const v=y.deltaMode===1?20:1;let S=a===xl.Vertical?0:y.deltaX*v,_=a===xl.Horizontal?0:y.deltaY*v;!sg()&&y.shiftKey&&a!==xl.Vertical&&(S=y.deltaY*v,_=0),s.translateBy(n,-(S/x)*u,-(_/x)*u,{internal:!0});const T=kg(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d==null||d(y,T)),e.isPanScrolling&&(h==null||h(y,T),e.panScrollTimeout=setTimeout(()=>{g==null||g(y,T),e.isPanScrolling=!1},150))}}function cR({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(s,a){if(!t&&s.type==="wheel"&&!s.ctrlKey||uc(s,e))return null;s.preventDefault(),n.call(this,s,a)}}function fR({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return s=>{var u,c,d;if((u=s.sourceEvent)!=null&&u.internal)return;const a=kg(s.transform);e.mouseButton=((c=s.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((d=s.sourceEvent)==null?void 0:d.type)==="mousedown"&&t(!0),n&&(n==null||n(s.sourceEvent,a))}}function dR({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:s,onPanZoom:a}){return u=>{var c,d;e.usedRightMouseButton=!!(n&&qS(t,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||s([u.transform.x,u.transform.y,u.transform.k]),a&&!((d=u.sourceEvent)!=null&&d.internal)&&(a==null||a(u.sourceEvent,kg(u.transform)))}}function hR({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:u}){return c=>{var d;if(!((d=c.sourceEvent)!=null&&d.internal)&&(e.isZoomingOrPanning=!1,u&&qS(t,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),a&&lR(e.prevViewport,c.transform))){const h=kg(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,h)},n?150:0)}}}function pR({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:h,lib:g}){return y=>{var _;const x=e||t,v=n&&y.ctrlKey;if(y.button===1&&y.type==="mousedown"&&(uc(y,`${g}-flow__node`)||uc(y,`${g}-flow__edge`)))return!0;if(!s&&!x&&!a&&!u&&!n||c||uc(y,d)&&y.type==="wheel"||uc(y,h)&&(y.type!=="wheel"||a&&y.type==="wheel"&&!e)||!n&&y.ctrlKey&&y.type==="wheel")return!1;if(!n&&y.type==="touchstart"&&((_=y.touches)==null?void 0:_.length)>1)return y.preventDefault(),!1;if(!x&&!a&&!v&&y.type==="wheel"||!s&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(s)&&!s.includes(y.button)&&y.type==="mousedown")return!1;const S=Array.isArray(s)&&s.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||y.type==="wheel")&&S}}function gR({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:s,translateExtent:a,viewport:u,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:h,onDraggingChange:g}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},x=e.getBoundingClientRect(),v=_S().clickDistance(!Ri(s)||s<0?0:s).scaleExtent([t,n]).translateExtent(a),S=Fr(e).call(v);A({x:u.x,y:u.y,zoom:Sc(u.zoom,t,n)},[[0,0],[x.width,x.height]],a);const _=S.on("wheel.zoom"),T=S.on("dblclick.zoom");v.wheelDelta(GS);function N(oe,ue){return S?new Promise($=>{v==null||v.transform(Zm(S,ue==null?void 0:ue.duration,()=>$(!0)),oe)}):Promise.resolve(!1)}function C({noWheelClassName:oe,noPanClassName:ue,onPaneContextMenu:$,userSelectionActive:ne,panOnScroll:Y,panOnDrag:H,panOnScrollMode:F,panOnScrollSpeed:K,preventScrolling:G,zoomOnPinch:V,zoomOnScroll:J,zoomOnDoubleClick:me,zoomActivationKeyPressed:ye,lib:we,onTransformChange:ve}){ne&&!y.isZoomingOrPanning&&M();const ke=Y&&!ye&&!ne?uR({zoomPanValues:y,noWheelClassName:oe,d3Selection:S,d3Zoom:v,panOnScrollMode:F,panOnScrollSpeed:K,zoomOnPinch:V,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:h}):cR({noWheelClassName:oe,preventScrolling:G,d3ZoomHandler:_});if(S.on("wheel.zoom",ke,{passive:!1}),!ne){const Ye=fR({zoomPanValues:y,onDraggingChange:g,onPanZoomStart:d});v.on("start",Ye);const qe=dR({zoomPanValues:y,panOnDrag:H,onPaneContextMenu:!!$,onPanZoom:c,onTransformChange:ve});v.on("zoom",qe);const Ne=hR({zoomPanValues:y,panOnDrag:H,panOnScroll:Y,onPaneContextMenu:$,onPanZoomEnd:h,onDraggingChange:g});v.on("end",Ne)}const Re=pR({zoomActivationKeyPressed:ye,panOnDrag:H,zoomOnScroll:J,panOnScroll:Y,zoomOnDoubleClick:me,zoomOnPinch:V,userSelectionActive:ne,noPanClassName:ue,noWheelClassName:oe,lib:we});v.filter(Re),me?S.on("dblclick.zoom",T):S.on("dblclick.zoom",null)}function M(){v.on("zoom",null)}async function A(oe,ue,$){const ne=Qm(oe),Y=v==null?void 0:v.constrain()(ne,ue,$);return Y&&await N(Y),new Promise(H=>H(Y))}async function L(oe,ue){const $=Qm(oe);return await N($,ue),new Promise(ne=>ne($))}function z(oe){if(S){const ue=Qm(oe),$=S.property("__zoom");($.k!==oe.zoom||$.x!==oe.x||$.y!==oe.y)&&(v==null||v.transform(S,ue,null,{sync:!0}))}}function X(){const oe=S?SS(S.node()):{x:0,y:0,k:1};return{x:oe.x,y:oe.y,zoom:oe.k}}function O(oe,ue){return S?new Promise($=>{v==null||v.scaleTo(Zm(S,ue==null?void 0:ue.duration,()=>$(!0)),oe)}):Promise.resolve(!1)}function B(oe,ue){return S?new Promise($=>{v==null||v.scaleBy(Zm(S,ue==null?void 0:ue.duration,()=>$(!0)),oe)}):Promise.resolve(!1)}function q(oe){v==null||v.scaleExtent(oe)}function ee(oe){v==null||v.translateExtent(oe)}function fe(oe){const ue=!Ri(oe)||oe<0?0:oe;v==null||v.clickDistance(ue)}return{update:C,destroy:M,setViewport:L,setViewportConstrained:A,getViewport:X,scaleTo:O,scaleBy:B,setScaleExtent:q,setTranslateExtent:ee,syncViewport:z,setClickDistance:fe}}var Sd;(function(e){e.Line="line",e.Handle="handle"})(Sd||(Sd={}));function mR({width:e,prevWidth:t,height:n,prevHeight:s,affectsX:a,affectsY:u}){const c=e-t,d=n-s,h=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&a&&(h[0]=h[0]*-1),d&&u&&(h[1]=h[1]*-1),h}function yR(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:s,affectsY:a}}function Go(e,t){return Math.max(0,t-e)}function Qo(e,t){return Math.max(0,e-t)}function Rp(e,t,n){return Math.max(0,t-e,e-n)}function Nx(e,t){return e?!t:t}function vR(e,t,n,s,a,u,c,d){let{affectsX:h,affectsY:g}=t;const{isHorizontal:y,isVertical:x}=t,v=y&&x,{xSnapped:S,ySnapped:_}=n,{minWidth:T,maxWidth:N,minHeight:C,maxHeight:M}=s,{x:A,y:L,width:z,height:X,aspectRatio:O}=e;let B=Math.floor(y?S-e.pointerX:0),q=Math.floor(x?_-e.pointerY:0);const ee=z+(h?-B:B),fe=X+(g?-q:q),oe=-u[0]*z,ue=-u[1]*X;let $=Rp(ee,T,N),ne=Rp(fe,C,M);if(c){let F=0,K=0;h&&B<0?F=Go(A+B+oe,c[0][0]):!h&&B>0&&(F=Qo(A+ee+oe,c[1][0])),g&&q<0?K=Go(L+q+ue,c[0][1]):!g&&q>0&&(K=Qo(L+fe+ue,c[1][1])),$=Math.max($,F),ne=Math.max(ne,K)}if(d){let F=0,K=0;h&&B>0?F=Qo(A+B,d[0][0]):!h&&B<0&&(F=Go(A+ee,d[1][0])),g&&q>0?K=Qo(L+q,d[0][1]):!g&&q<0&&(K=Go(L+fe,d[1][1])),$=Math.max($,F),ne=Math.max(ne,K)}if(a){if(y){const F=Rp(ee/O,C,M)*O;if($=Math.max($,F),c){let K=0;!h&&!g||h&&!g&&v?K=Qo(L+ue+ee/O,c[1][1])*O:K=Go(L+ue+(h?B:-B)/O,c[0][1])*O,$=Math.max($,K)}if(d){let K=0;!h&&!g||h&&!g&&v?K=Go(L+ee/O,d[1][1])*O:K=Qo(L+(h?B:-B)/O,d[0][1])*O,$=Math.max($,K)}}if(x){const F=Rp(fe*O,T,N)/O;if(ne=Math.max(ne,F),c){let K=0;!h&&!g||g&&!h&&v?K=Qo(A+fe*O+oe,c[1][0])/O:K=Go(A+(g?q:-q)*O+oe,c[0][0])/O,ne=Math.max(ne,K)}if(d){let K=0;!h&&!g||g&&!h&&v?K=Go(A+fe*O,d[1][0])/O:K=Qo(A+(g?q:-q)*O,d[0][0])/O,ne=Math.max(ne,K)}}}q=q+(q<0?ne:-ne),B=B+(B<0?$:-$),a&&(v?ee>fe*O?q=(Nx(h,g)?-B:B)/O:B=(Nx(h,g)?-q:q)*O:y?(q=B/O,g=h):(B=q*O,h=g));const Y=h?A+B:A,H=g?L+q:L;return{width:z+(h?-B:B),height:X+(g?-q:q),x:u[0]*B*(h?-1:1)+Y,y:u[1]*q*(g?-1:1)+H}}const QS={width:0,height:0,x:0,y:0},xR={...QS,pointerX:0,pointerY:0,aspectRatio:1};function wR(e){return[[0,0],[e.measured.width,e.measured.height]]}function SR(e,t,n){const s=t.position.x+e.position.x,a=t.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,d=n[0]*u,h=n[1]*c;return[[s-d,a-h],[s+u-d,a+c-h]]}function _R({domNode:e,nodeId:t,getStoreItems:n,onChange:s,onEnd:a}){const u=Fr(e);function c({controlPosition:h,boundaries:g,keepAspectRatio:y,onResizeStart:x,onResize:v,onResizeEnd:S,shouldResize:_}){let T={...QS},N={...xR};const C=yR(h);let M,A=null,L=[],z,X,O;const B=aS().on("start",q=>{const{nodeLookup:ee,transform:fe,snapGrid:oe,snapToGrid:ue,nodeOrigin:$,paneDomNode:ne}=n();if(M=ee.get(t),!M)return;A=(ne==null?void 0:ne.getBoundingClientRect())??null;const{xSnapped:Y,ySnapped:H}=wd(q.sourceEvent,{transform:fe,snapGrid:oe,snapToGrid:ue,containerBounds:A});T={width:M.measured.width??0,height:M.measured.height??0,x:M.position.x??0,y:M.position.y??0},N={...T,pointerX:Y,pointerY:H,aspectRatio:T.width/T.height},z=void 0,M.parentId&&(M.extent==="parent"||M.expandParent)&&(z=ee.get(M.parentId),X=z&&M.extent==="parent"?wR(z):void 0),L=[],O=void 0;for(const[F,K]of ee)if(K.parentId===t&&(L.push({id:F,position:{...K.position},extent:K.extent}),K.extent==="parent"||K.expandParent)){const G=SR(K,M,K.origin??$);O?O=[[Math.min(G[0][0],O[0][0]),Math.min(G[0][1],O[0][1])],[Math.max(G[1][0],O[1][0]),Math.max(G[1][1],O[1][1])]]:O=G}x==null||x(q,{...T})}).on("drag",q=>{const{transform:ee,snapGrid:fe,snapToGrid:oe,nodeOrigin:ue}=n(),$=wd(q.sourceEvent,{transform:ee,snapGrid:fe,snapToGrid:oe,containerBounds:A}),ne=[];if(!M)return;const{x:Y,y:H,width:F,height:K}=T,G={},V=M.origin??ue,{width:J,height:me,x:ye,y:we}=vR(N,C,$,g,y,V,X,O),ve=J!==F,_e=me!==K,ke=ye!==Y&&ve,Re=we!==H&&_e;if(!ke&&!Re&&!ve&&!_e)return;if((ke||Re||V[0]===1||V[1]===1)&&(G.x=ke?ye:T.x,G.y=Re?we:T.y,T.x=G.x,T.y=G.y,L.length>0)){const Pe=ye-Y,Ke=we-H;for(const ot of L)ot.position={x:ot.position.x-Pe+V[0]*(J-F),y:ot.position.y-Ke+V[1]*(me-K)},ne.push(ot)}if((ve||_e)&&(G.width=ve?J:T.width,G.height=_e?me:T.height,T.width=G.width,T.height=G.height),z&&M.expandParent){const Pe=V[0]*(G.width??0);G.x&&G.x<Pe&&(T.x=Pe,N.x=N.x-(G.x-Pe));const Ke=V[1]*(G.height??0);G.y&&G.y<Ke&&(T.y=Ke,N.y=N.y-(G.y-Ke))}const Ye=mR({width:T.width,prevWidth:F,height:T.height,prevHeight:K,affectsX:C.affectsX,affectsY:C.affectsY}),qe={...T,direction:Ye};(_==null?void 0:_(q,qe))!==!1&&(v==null||v(q,qe),s(G,ne))}).on("end",q=>{S==null||S(q,{...T}),a==null||a()});u.call(B)}function d(){u.on(".drag",null)}return{update:c,destroy:d}}var Jm={exports:{}},e0={},t0={exports:{}},n0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px;function ER(){if(Px)return n0;Px=1;var e=Kd();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function d(x,v){var S=v(),_=s({inst:{value:S,getSnapshot:v}}),T=_[0].inst,N=_[1];return u(function(){T.value=S,T.getSnapshot=v,h(T)&&N({inst:T})},[x,S,v]),a(function(){return h(T)&&N({inst:T}),x(function(){h(T)&&N({inst:T})})},[x]),c(S),S}function h(x){var v=x.getSnapshot;x=x.value;try{var S=v();return!n(x,S)}catch{return!0}}function g(x,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return n0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,n0}var Ax;function bR(){return Ax||(Ax=1,t0.exports=ER()),t0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function CR(){if(Rx)return e0;Rx=1;var e=Kd(),t=bR();function n(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,u=e.useRef,c=e.useEffect,d=e.useMemo,h=e.useDebugValue;return e0.useSyncExternalStoreWithSelector=function(g,y,x,v,S){var _=u(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=d(function(){function C(X){if(!M){if(M=!0,A=X,X=v(X),S!==void 0&&T.hasValue){var O=T.value;if(S(O,X))return L=O}return L=X}if(O=L,s(A,X))return O;var B=v(X);return S!==void 0&&S(O,B)?(A=X,O):(A=X,L=B)}var M=!1,A,L,z=x===void 0?null:x;return[function(){return C(y())},z===null?void 0:function(){return C(z())}]},[y,x,v,S]);var N=a(g,_[0],_[1]);return c(function(){T.hasValue=!0,T.value=N},[N]),h(N),N},e0}var Dx;function kR(){return Dx||(Dx=1,Jm.exports=CR()),Jm.exports}var TR=kR();const NR=yy(TR),Mx=e=>{let t;const n=new Set,s=(y,x)=>{const v=typeof y=="function"?y(t):y;if(!Object.is(v,t)){const S=t;t=x??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(_=>_(t,S))}},a=()=>t,h={setState:s,getState:a,getInitialState:()=>g,subscribe:y=>(n.add(y),()=>n.delete(y)),destroy:()=>{n.clear()}},g=t=e(s,a,h);return h},PR=e=>e?Mx(e):Mx,{useDebugValue:AR}=vy,{useSyncExternalStoreWithSelector:RR}=NR,DR=e=>e;function ZS(e,t=DR,n){const s=RR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return AR(s),s}const Ix=(e,t)=>{const n=PR(e),s=(a,u=t)=>ZS(n,a,u);return Object.assign(s,n),s},MR=(e,t)=>e?Ix(e,t):Ix;function Kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,a]of e)if(!Object.is(a,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}var IR=H1();const Tg=P.createContext(null),LR=Tg.Provider,JS=io.error001();function ut(e,t){const n=P.useContext(Tg);if(n===null)throw new Error(JS);return ZS(n,e,t)}function $t(){const e=P.useContext(Tg);if(e===null)throw new Error(JS);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Lx={display:"none"},jR={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},e_="react-flow__node-desc",t_="react-flow__edge-desc",OR="react-flow__aria-live",$R=e=>e.ariaLiveMessage;function FR({rfId:e}){const t=ut($R);return k.jsx("div",{id:`${OR}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jR,children:t})}function VR({rfId:e,disableKeyboardA11y:t}){return k.jsxs(k.Fragment,{children:[k.jsxs("div",{id:`${e_}-${e}`,style:Lx,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),k.jsx("div",{id:`${t_}-${e}`,style:Lx,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&k.jsx(FR,{rfId:e})]})}const zR=e=>e.userSelectionActive?"none":"all",Ng=P.forwardRef(({position:e="top-left",children:t,className:n,style:s,...a},u)=>{const c=ut(zR),d=`${e}`.split("-");return k.jsx("div",{className:on(["react-flow__panel",n,...d]),style:{...s,pointerEvents:c},ref:u,...a,children:t})});Ng.displayName="Panel";function BR({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:k.jsx(Ng,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const UR=e=>{const t=[],n=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&n.push(s);return{selectedNodes:t,selectedEdges:n}},Dp=e=>e.id;function HR(e,t){return Kt(e.selectedNodes.map(Dp),t.selectedNodes.map(Dp))&&Kt(e.selectedEdges.map(Dp),t.selectedEdges.map(Dp))}function WR({onSelectionChange:e}){const t=$t(),{selectedNodes:n,selectedEdges:s}=ut(UR,HR);return P.useEffect(()=>{const a={nodes:n,edges:s};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(u=>u(a))},[n,s,e]),null}const KR=e=>!!e.onSelectionChangeHandlers;function YR({onSelectionChange:e}){const t=ut(KR);return e||t?k.jsx(WR,{onSelectionChange:e}):null}const n_=[0,0],XR={x:0,y:0,zoom:1},qR=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],jx=[...qR,"rfId"],GR=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Ox={translateExtent:Dd,nodeOrigin:n_,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function QR(e){const{setNodes:t,setEdges:n,setMinZoom:s,setMaxZoom:a,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:h,setPaneClickDistance:g}=ut(GR,Kt),y=$t();P.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{x.current=Ox,d()}),[]);const x=P.useRef(Ox);return P.useEffect(()=>{for(const v of jx){const S=e[v],_=x.current[v];S!==_&&(typeof e[v]>"u"||(v==="nodes"?t(S):v==="edges"?n(S):v==="minZoom"?s(S):v==="maxZoom"?a(S):v==="translateExtent"?u(S):v==="nodeExtent"?c(S):v==="paneClickDistance"?g(S):v==="fitView"?y.setState({fitViewOnInit:S}):v==="fitViewOptions"?y.setState({fitViewOnInitOptions:S}):y.setState({[v]:S})))}x.current=e},jx.map(v=>e[v])),null}function $x(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ZR(e){var s;const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const a=$x(),u=()=>n(a!=null&&a.matches?"dark":"light");return u(),a==null||a.addEventListener("change",u),()=>{a==null||a.removeEventListener("change",u)}},[e]),t!==null?t:(s=$x())!=null&&s.matches?"dark":"light"}const Fx=typeof document<"u"?document:null;function jd(e=null,t={target:Fx,actInsideInputWithModifier:!0}){const[n,s]=P.useState(!1),a=P.useRef(!1),u=P.useRef(new Set([])),[c,d]=P.useMemo(()=>{if(e!==null){const g=(Array.isArray(e)?e:[e]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),y=g.reduce((x,v)=>x.concat(...v),[]);return[g,y]}return[[],[]]},[e]);return P.useEffect(()=>{const h=(t==null?void 0:t.target)||Fx;if(e!==null){const g=v=>{if(a.current=v.ctrlKey||v.metaKey||v.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&O0(v))return!1;const _=zx(v.code,d);u.current.add(v[_]),Vx(c,u.current,!1)&&(v.preventDefault(),s(!0))},y=v=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&O0(v))return!1;const _=zx(v.code,d);Vx(c,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(v[_]),v.key==="Meta"&&u.current.clear(),a.current=!1},x=()=>{u.current.clear(),s(!1)};return h==null||h.addEventListener("keydown",g),h==null||h.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",g),h==null||h.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),n}function Vx(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(a=>t.has(a)))}function zx(e,t){return t.includes(e)?"code":"key"}const JR=()=>{const e=$t();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[s,a,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:t.x??s,y:t.y??a,zoom:t.zoom??u},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,s]=e.getState().transform;return{x:t,y:n,zoom:s}},fitView:t=>{const{nodeLookup:n,minZoom:s,maxZoom:a,panZoom:u,domNode:c}=e.getState();if(!u||!c)return Promise.resolve(!1);const d=I0(n,t),{width:h,height:g}=Cg(c);return L0({nodes:d,width:h,height:g,minZoom:s,maxZoom:a,panZoom:u},t)},setCenter:async(t,n,s)=>{const{width:a,height:u,maxZoom:c,panZoom:d}=e.getState(),h=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:c,g=a/2-t*h,y=u/2-n*h;return d?(await d.setViewport({x:g,y,zoom:h},{duration:s==null?void 0:s.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:s,height:a,minZoom:u,maxZoom:c,panZoom:d}=e.getState(),h=ky(t,s,a,u,c,(n==null?void 0:n.padding)??.1);return d?(await d.setViewport(h,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:s,snapGrid:a,snapToGrid:u,domNode:c}=e.getState();if(!c)return t;const{x:d,y:h}=c.getBoundingClientRect(),g={x:t.x-d,y:t.y-h},y=n.snapGrid??a,x=n.snapToGrid??u;return Gd(g,s,x,y)},flowToScreenPosition:t=>{const{transform:n,domNode:s}=e.getState();if(!s)return t;const{x:a,y:u}=s.getBoundingClientRect(),c=MS(t,n);return{x:c.x+a,y:c.y+u}}}),[])};function r_(e,t){const n=[],s=new Map,a=[];for(const u of e)if(u.type==="add"){a.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const c=s.get(u.id);c?c.push(u):s.set(u.id,[u])}for(const u of t){const c=s.get(u.id);if(!c){n.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const d={...u};for(const h of c)eD(h,d);n.push(d)}return a.length&&a.forEach(u=>{u.index!==void 0?n.splice(u.index,0,{...u.item}):n.push({...u.item})}),n}function eD(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function i_(e,t){return r_(e,t)}function s_(e,t){return r_(e,t)}function dl(e,t){return{id:e,type:"select",selected:t}}function cc(e,t=new Set,n=!1){const s=[];for(const[a,u]of e){const c=t.has(a);!(u.selected===void 0&&!c)&&u.selected!==c&&(n&&(u.selected=c),s.push(dl(u.id,c)))}return s}function Bx({items:e=[],lookup:t}){var a;const n=[],s=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const d=t.get(c.id),h=((a=d==null?void 0:d.internals)==null?void 0:a.userNode)??d;h!==void 0&&h!==c&&n.push({id:c.id,item:c,type:"replace"}),h===void 0&&n.push({item:c,type:"add",index:u})}for(const[u]of t)s.get(u)===void 0&&n.push({id:u,type:"remove"});return n}function Ux(e){return{id:e.id,type:"remove"}}const Hx=e=>RA(e),tD=e=>kS(e);function o_(e){return P.forwardRef(e)}const nD=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Wx(e){const[t,n]=P.useState(BigInt(0)),[s]=P.useState(()=>rD(()=>n(a=>a+BigInt(1))));return nD(()=>{const a=s.get();a.length&&(e(a),s.reset())},[t]),s}function rD(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const a_=P.createContext(null);function iD({children:e}){const t=$t(),n=P.useCallback(d=>{const{nodes:h=[],setNodes:g,hasDefaultNodes:y,onNodesChange:x,nodeLookup:v}=t.getState();let S=h;for(const _ of d)S=typeof _=="function"?_(S):_;y?g(S):x&&x(Bx({items:S,lookup:v}))},[]),s=Wx(n),a=P.useCallback(d=>{const{edges:h=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:x,edgeLookup:v}=t.getState();let S=h;for(const _ of d)S=typeof _=="function"?_(S):_;y?g(S):x&&x(Bx({items:S,lookup:v}))},[]),u=Wx(a),c=P.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return k.jsx(a_.Provider,{value:c,children:e})}function sD(){const e=P.useContext(a_);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const oD=e=>!!e.panZoom;function Pg(){const e=JR(),t=$t(),n=sD(),s=ut(oD),a=P.useMemo(()=>{const u=x=>t.getState().nodeLookup.get(x),c=x=>{n.nodeQueue.push(x)},d=x=>{n.edgeQueue.push(x)},h=x=>{var C,M;const{nodeLookup:v,nodeOrigin:S}=t.getState(),_=Hx(x)?x:v.get(x.id),T=_.parentId?LS(_.position,_.measured,_.parentId,v,S):_.position,N={..._,position:T,width:((C=_.measured)==null?void 0:C.width)??_.width,height:((M=_.measured)==null?void 0:M.height)??_.height};return _c(N)},g=(x,v,S={replace:!1})=>{c(_=>_.map(T=>{if(T.id===x){const N=typeof v=="function"?v(T):v;return S.replace&&Hx(N)?N:{...T,...N}}return T}))},y=(x,v,S={replace:!1})=>{d(_=>_.map(T=>{if(T.id===x){const N=typeof v=="function"?v(T):v;return S.replace&&tD(N)?N:{...T,...N}}return T}))};return{getNodes:()=>t.getState().nodes.map(x=>({...x})),getNode:x=>{var v;return(v=u(x))==null?void 0:v.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:x=[]}=t.getState();return x.map(v=>({...v}))},getEdge:x=>t.getState().edgeLookup.get(x),setNodes:c,setEdges:d,addNodes:x=>{const v=Array.isArray(x)?x:[x];n.nodeQueue.push(S=>[...S,...v])},addEdges:x=>{const v=Array.isArray(x)?x:[x];n.edgeQueue.push(S=>[...S,...v])},toObject:()=>{const{nodes:x=[],edges:v=[],transform:S}=t.getState(),[_,T,N]=S;return{nodes:x.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x:_,y:T,zoom:N}}},deleteElements:async({nodes:x=[],edges:v=[]})=>{const{nodes:S,edges:_,onNodesDelete:T,onEdgesDelete:N,triggerNodeChanges:C,triggerEdgeChanges:M,onDelete:A,onBeforeDelete:L}=t.getState(),{nodes:z,edges:X}=await LA({nodesToRemove:x,edgesToRemove:v,nodes:S,edges:_,onBeforeDelete:L}),O=X.length>0,B=z.length>0;if(O){const q=X.map(Ux);N==null||N(X),M(q)}if(B){const q=z.map(Ux);T==null||T(z),C(q)}return(B||O)&&(A==null||A({nodes:z,edges:X})),{deletedNodes:z,deletedEdges:X}},getIntersectingNodes:(x,v=!0,S)=>{const _=yx(x),T=_?x:h(x),N=S!==void 0;return T?(S||t.getState().nodes).filter(C=>{const M=t.getState().nodeLookup.get(C.id);if(M&&!_&&(C.id===x.id||!M.internals.positionAbsolute))return!1;const A=_c(N?C:M),L=Id(A,T);return v&&L>0||L>=T.width*T.height}):[]},isNodeIntersecting:(x,v,S=!0)=>{const T=yx(x)?x:h(x);if(!T)return!1;const N=Id(T,v);return S&&N>0||N>=T.width*T.height},updateNode:g,updateNodeData:(x,v,S={replace:!1})=>{g(x,_=>{const T=typeof v=="function"?v(_):v;return S.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},S)},updateEdge:y,updateEdgeData:(x,v,S={replace:!1})=>{y(x,_=>{const T=typeof v=="function"?v(_):v;return S.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},S)},getNodesBounds:x=>{const{nodeLookup:v,nodeOrigin:S}=t.getState();return IA(x,{nodeLookup:v,nodeOrigin:S})},getHandleConnections:({type:x,id:v,nodeId:S})=>{var _;return Array.from(((_=t.getState().connectionLookup.get(`${S}-${x}${v?`-${v}`:""}`))==null?void 0:_.values())??[])},getNodeConnections:({type:x,handleId:v,nodeId:S})=>{var _;return Array.from(((_=t.getState().connectionLookup.get(`${S}${x?v?`-${x}-${v}`:`-${x}`:""}`))==null?void 0:_.values())??[])}}},[]);return P.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const Kx=e=>e.selected,aD={actInsideInputWithModifier:!1},lD=typeof window<"u"?window:void 0;function uD({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=$t(),{deleteElements:s}=Pg(),a=jd(e,aD),u=jd(t,{target:lD});P.useEffect(()=>{if(a){const{edges:c,nodes:d}=n.getState();s({nodes:d.filter(Kx),edges:c.filter(Kx)}),n.setState({nodesSelectionActive:!1})}},[a]),P.useEffect(()=>{n.setState({multiSelectionActive:u})},[u])}function cD(e){const t=$t();P.useEffect(()=>{const n=()=>{var a,u;if(!e.current)return!1;const s=Cg(e.current);(s.height===0||s.width===0)&&((u=(a=t.getState()).onError)==null||u.call(a,"004",io.error004())),t.setState({width:s.width||500,height:s.height||500})};if(e.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(e.current),()=>{window.removeEventListener("resize",n),s&&e.current&&s.unobserve(e.current)}}},[])}const Ag={position:"absolute",width:"100%",height:"100%",top:0,left:0},fD=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function dD({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=xl.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:h,translateExtent:g,minZoom:y,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:S=!0,children:_,noWheelClassName:T,noPanClassName:N,onViewportChange:C,isControlledViewport:M,paneClickDistance:A}){const L=$t(),z=P.useRef(null),{userSelectionActive:X,lib:O}=ut(fD,Kt),B=jd(v),q=P.useRef();cD(z);const ee=P.useCallback(fe=>{C==null||C({x:fe[0],y:fe[1],zoom:fe[2]}),M||L.setState({transform:fe})},[C,M]);return P.useEffect(()=>{if(z.current){q.current=gR({domNode:z.current,minZoom:y,maxZoom:x,translateExtent:g,viewport:h,paneClickDistance:A,onDraggingChange:$=>L.setState({paneDragging:$}),onPanZoomStart:($,ne)=>{const{onViewportChangeStart:Y,onMoveStart:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)},onPanZoom:($,ne)=>{const{onViewportChange:Y,onMove:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)},onPanZoomEnd:($,ne)=>{const{onViewportChangeEnd:Y,onMoveEnd:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)}});const{x:fe,y:oe,zoom:ue}=q.current.getViewport();return L.setState({panZoom:q.current,transform:[fe,oe,ue],domNode:z.current.closest(".react-flow")}),()=>{var $;($=q.current)==null||$.destroy()}}},[]),P.useEffect(()=>{var fe;(fe=q.current)==null||fe.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:B,preventScrolling:S,noPanClassName:N,userSelectionActive:X,noWheelClassName:T,lib:O,onTransformChange:ee})},[e,t,n,s,a,u,c,d,B,S,N,X,T,O,ee]),k.jsx("div",{className:"react-flow__renderer",ref:z,style:Ag,children:_})}const hD=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function pD(){const{userSelectionActive:e,userSelectionRect:t}=ut(hD,Kt);return e&&t?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const r0=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},gD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function mD({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Md.Full,panOnDrag:s,selectionOnDrag:a,onSelectionStart:u,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:g,onPaneMouseEnter:y,onPaneMouseMove:x,onPaneMouseLeave:v,children:S}){const _=$t(),{userSelectionActive:T,elementsSelectable:N,dragging:C}=ut(gD,Kt),M=N&&(e||T),A=P.useRef(null),L=P.useRef(),z=P.useRef(new Set),X=P.useRef(new Set),O=P.useRef(!1),B=P.useRef(!1),q=Y=>{if(O.current){O.current=!1;return}d==null||d(Y),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},ee=Y=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){Y.preventDefault();return}h==null||h(Y)},fe=g?Y=>g(Y):void 0,oe=Y=>{var V,J;const{resetSelectedElements:H,domNode:F}=_.getState();if(L.current=F==null?void 0:F.getBoundingClientRect(),!N||!e||Y.button!==0||Y.target!==A.current||!L.current)return;(J=(V=Y.target)==null?void 0:V.setPointerCapture)==null||J.call(V,Y.pointerId),B.current=!0,O.current=!1;const{x:K,y:G}=Zs(Y.nativeEvent,L.current);H(),_.setState({userSelectionRect:{width:0,height:0,startX:K,startY:G,x:K,y:G}}),u==null||u(Y)},ue=Y=>{const{userSelectionRect:H,transform:F,nodeLookup:K,edgeLookup:G,connectionLookup:V,triggerNodeChanges:J,triggerEdgeChanges:me,defaultEdgeOptions:ye}=_.getState();if(!L.current||!H)return;O.current=!0;const{x:we,y:ve}=Zs(Y.nativeEvent,L.current),{startX:_e,startY:ke}=H,Re={startX:_e,startY:ke,x:we<_e?we:_e,y:ve<ke?ve:ke,width:Math.abs(we-_e),height:Math.abs(ve-ke)},Ye=z.current,qe=X.current;z.current=new Set(TS(K,Re,F,n===Md.Partial,!0).map(Pe=>Pe.id)),X.current=new Set;const Ne=(ye==null?void 0:ye.selectable)??!0;for(const Pe of z.current){const Ke=V.get(Pe);if(Ke)for(const{edgeId:ot}of Ke.values()){const Et=G.get(ot);Et&&(Et.selectable??Ne)&&X.current.add(ot)}}if(!vx(Ye,z.current)){const Pe=cc(K,z.current,!0);J(Pe)}if(!vx(qe,X.current)){const Pe=cc(G,X.current);me(Pe)}_.setState({userSelectionRect:Re,userSelectionActive:!0,nodesSelectionActive:!1})},$=Y=>{var F,K;if(Y.button!==0||!B.current)return;(K=(F=Y.target)==null?void 0:F.releasePointerCapture)==null||K.call(F,Y.pointerId);const{userSelectionRect:H}=_.getState();!T&&H&&Y.target===A.current&&(q==null||q(Y)),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:z.current.size>0}),c==null||c(Y),(t||a)&&(O.current=!1),B.current=!1},ne=s===!0||Array.isArray(s)&&s.includes(0);return k.jsxs("div",{className:on(["react-flow__pane",{draggable:ne,dragging:C,selection:e}]),onClick:M?void 0:r0(q,A),onContextMenu:r0(ee,A),onWheel:r0(fe,A),onPointerEnter:M?void 0:y,onPointerDown:M?oe:x,onPointerMove:M?ue:x,onPointerUp:M?$:void 0,onPointerLeave:v,ref:A,style:Ag,children:[S,k.jsx(pD,{})]})}function U0({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:h}=t.getState(),g=d.get(e);if(!g){h==null||h("012",io.error012(e));return}t.setState({nodesSelectionActive:!1}),g.selected?(n||g.selected&&c)&&(u({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var y;return(y=s==null?void 0:s.current)==null?void 0:y.blur()})):a([e])}function l_({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:a,isSelectable:u,nodeClickDistance:c}){const d=$t(),[h,g]=P.useState(!1),y=P.useRef();return P.useEffect(()=>{y.current=tR({getStoreItems:()=>d.getState(),onNodeMouseDown:x=>{U0({id:x,store:d,nodeRef:e})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),P.useEffect(()=>{var x,v;if(t)(x=y.current)==null||x.destroy();else if(e.current)return(v=y.current)==null||v.update({noDragClassName:n,handleSelector:s,domNode:e.current,isSelectable:u,nodeId:a,nodeClickDistance:c}),()=>{var S;(S=y.current)==null||S.destroy()}},[n,s,t,u,e,a]),h}const yD=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function u_(){const e=$t();return P.useCallback(n=>{const{nodeExtent:s,snapToGrid:a,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:h,nodeLookup:g,nodeOrigin:y}=e.getState(),x=new Map,v=yD(c),S=a?u[0]:5,_=a?u[1]:5,T=n.direction.x*S*n.factor,N=n.direction.y*_*n.factor;for(const[,C]of g){if(!v(C))continue;let M={x:C.internals.positionAbsolute.x+T,y:C.internals.positionAbsolute.y+N};a&&(M=bg(M,u));const{position:A,positionAbsolute:L}=PS({nodeId:C.id,nextPosition:M,nodeLookup:g,nodeExtent:s,nodeOrigin:y,onError:d});C.position=A,C.internals.positionAbsolute=L,x.set(C.id,C)}h(x)},[])}const Ry=P.createContext(null),vD=Ry.Provider;Ry.Consumer;const Dy=()=>P.useContext(Ry),xD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),wD=(e,t,n)=>s=>{const{connectionClickStartHandle:a,connectionMode:u,connection:c}=s,{fromHandle:d,toHandle:h,isValid:g}=c,y=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===t&&(h==null?void 0:h.type)===n;return{connectingFrom:(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n,connectingTo:y,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,isPossibleEndHandle:u===wc.Strict?(d==null?void 0:d.type)!==n:e!==(d==null?void 0:d.nodeId)||t!==(d==null?void 0:d.id),connectionInProcess:!!d,valid:y&&g}};function SD({type:e="source",position:t=$e.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:h,className:g,onMouseDown:y,onTouchStart:x,...v},S){var $,ne;const _=c||null,T=e==="target",N=$t(),C=Dy(),{connectOnClick:M,noPanClassName:A,rfId:L}=ut(xD,Kt),{connectingFrom:z,connectingTo:X,clickConnecting:O,isPossibleEndHandle:B,connectionInProcess:q,valid:ee}=ut(wD(C,_,e),Kt);C||(ne=($=N.getState()).onError)==null||ne.call($,"010",io.error010());const fe=Y=>{const{defaultEdgeOptions:H,onConnect:F,hasDefaultEdges:K}=N.getState(),G={...H,...Y};if(K){const{edges:V,setEdges:J}=N.getState();J($0(G,V))}F==null||F(G),d==null||d(G)},oe=Y=>{if(!C)return;const H=OS(Y.nativeEvent);if(a&&(H&&Y.button===0||!H)){const F=N.getState();B0.onPointerDown(Y.nativeEvent,{autoPanOnConnect:F.autoPanOnConnect,connectionMode:F.connectionMode,connectionRadius:F.connectionRadius,domNode:F.domNode,nodeLookup:F.nodeLookup,lib:F.lib,isTarget:T,handleId:_,nodeId:C,flowId:F.rfId,panBy:F.panBy,cancelConnection:F.cancelConnection,onConnectStart:F.onConnectStart,onConnectEnd:F.onConnectEnd,updateConnection:F.updateConnection,onConnect:fe,isValidConnection:n||F.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:F.autoPanSpeed})}H?y==null||y(Y):x==null||x(Y)},ue=Y=>{const{onClickConnectStart:H,onClickConnectEnd:F,connectionClickStartHandle:K,connectionMode:G,isValidConnection:V,lib:J,rfId:me,nodeLookup:ye,connection:we}=N.getState();if(!C||!K&&!a)return;if(!K){H==null||H(Y.nativeEvent,{nodeId:C,handleId:_,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:C,type:e,id:_}});return}const ve=jS(Y.target),_e=n||V,{connection:ke,isValid:Re}=B0.isValid(Y.nativeEvent,{handle:{nodeId:C,id:_,type:e},connectionMode:G,fromNodeId:K.nodeId,fromHandleId:K.id||null,fromType:K.type,isValidConnection:_e,flowId:me,doc:ve,lib:J,nodeLookup:ye});Re&&ke&&fe(ke);const Ye=structuredClone(we);delete Ye.inProgress,Ye.toPosition=Ye.toHandle?Ye.toHandle.position:null,F==null||F(Y,Ye),N.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":_,"data-nodeid":C,"data-handlepos":t,"data-id":`${L}-${C}-${_}-${e}`,className:on(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",A,g,{source:!T,target:T,connectable:s,connectablestart:a,connectableend:u,clickconnecting:O,connectingfrom:z,connectingto:X,valid:ee,connectionindicator:s&&(!q||B)&&(q?u:a)}]),onMouseDown:oe,onTouchStart:oe,onClick:M?ue:void 0,ref:S,...v,children:h})}const na=P.memo(o_(SD));function _D({data:e,isConnectable:t,sourcePosition:n=$e.Bottom}){return k.jsxs(k.Fragment,{children:[e==null?void 0:e.label,k.jsx(na,{type:"source",position:n,isConnectable:t})]})}function ED({data:e,isConnectable:t,targetPosition:n=$e.Top,sourcePosition:s=$e.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(na,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,k.jsx(na,{type:"source",position:s,isConnectable:t})]})}function bD(){return null}function CD({data:e,isConnectable:t,targetPosition:n=$e.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(na,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const og={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Yx={input:_D,default:ED,output:CD,group:bD};function kD(e){var t,n,s,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const TD=e=>{const{width:t,height:n,x:s,y:a}=Tc(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ri(t)?t:null,height:Ri(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function ND({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=$t(),{width:a,height:u,transformString:c,userSelectionActive:d}=ut(TD,Kt),h=u_(),g=P.useRef(null);if(P.useEffect(()=>{var v;n||(v=g.current)==null||v.focus({preventScroll:!0})},[n]),l_({nodeRef:g}),d||!a||!u)return null;const y=e?v=>{const S=s.getState().nodes.filter(_=>_.selected);e(v,S)}:void 0,x=v=>{Object.prototype.hasOwnProperty.call(og,v.key)&&(v.preventDefault(),h({direction:og[v.key],factor:v.shiftKey?4:1}))};return k.jsx("div",{className:on(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:k.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:x,style:{width:a,height:u}})})}const Xx=typeof window<"u"?window:void 0,PD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function c_({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:h,selectionKeyCode:g,selectionOnDrag:y,selectionMode:x,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:_,panActivationKeyCode:T,zoomActivationKeyCode:N,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:L,panOnScrollSpeed:z,panOnScrollMode:X,zoomOnDoubleClick:O,panOnDrag:B,defaultViewport:q,translateExtent:ee,minZoom:fe,maxZoom:oe,preventScrolling:ue,onSelectionContextMenu:$,noWheelClassName:ne,noPanClassName:Y,disableKeyboardA11y:H,onViewportChange:F,isControlledViewport:K}){const{nodesSelectionActive:G,userSelectionActive:V}=ut(PD),J=jd(g,{target:Xx}),me=jd(T,{target:Xx}),ye=me||B,we=me||L,ve=y&&ye!==!0,_e=J||V||ve;return uD({deleteKeyCode:h,multiSelectionKeyCode:_}),k.jsx(dD,{onPaneContextMenu:u,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:we,panOnScrollSpeed:z,panOnScrollMode:X,zoomOnDoubleClick:O,panOnDrag:!J&&ye,defaultViewport:q,translateExtent:ee,minZoom:fe,maxZoom:oe,zoomActivationKeyCode:N,preventScrolling:ue,noWheelClassName:ne,noPanClassName:Y,onViewportChange:F,isControlledViewport:K,paneClickDistance:d,children:k.jsxs(mD,{onSelectionStart:v,onSelectionEnd:S,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:ye,isSelecting:!!_e,selectionMode:x,selectionKeyPressed:J,selectionOnDrag:ve,children:[e,G&&k.jsx(ND,{onSelectionContextMenu:$,noPanClassName:Y,disableKeyboardA11y:H})]})})}c_.displayName="FlowRenderer";const AD=P.memo(c_),RD=e=>t=>e?TS(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function DD(e){return ut(P.useCallback(RD(e),[e]),Kt)}const MD=e=>e.updateNodeInternals;function ID(){const e=ut(MD),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),e(s)}));return P.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function LD({node:e,nodeType:t,hasDimensions:n,resizeObserver:s}){const a=$t(),u=P.useRef(null),c=P.useRef(null),d=P.useRef(e.sourcePosition),h=P.useRef(e.targetPosition),g=P.useRef(t),y=n&&!!e.internals.handleBounds;return P.useEffect(()=>{u.current&&!e.hidden&&(!y||c.current!==u.current)&&(c.current&&(s==null||s.unobserve(c.current)),s==null||s.observe(u.current),c.current=u.current)},[y,e.hidden]),P.useEffect(()=>()=>{c.current&&(s==null||s.unobserve(c.current),c.current=null)},[]),P.useEffect(()=>{if(u.current){const x=g.current!==t,v=d.current!==e.sourcePosition,S=h.current!==e.targetPosition;(x||v||S)&&(g.current=t,d.current=e.sourcePosition,h.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),u}function jD({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:a,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:h,nodesConnectable:g,nodesFocusable:y,resizeObserver:x,noDragClassName:v,noPanClassName:S,disableKeyboardA11y:_,rfId:T,nodeTypes:N,nodeClickDistance:C,onError:M}){const{node:A,internals:L,isParent:z}=ut(_e=>{const ke=_e.nodeLookup.get(e),Re=_e.parentLookup.has(e);return{node:ke,internals:ke.internals,isParent:Re}},Kt);let X=A.type||"default",O=(N==null?void 0:N[X])||Yx[X];O===void 0&&(M==null||M("003",io.error003(X)),X="default",O=Yx.default);const B=!!(A.draggable||d&&typeof A.draggable>"u"),q=!!(A.selectable||h&&typeof A.selectable>"u"),ee=!!(A.connectable||g&&typeof A.connectable>"u"),fe=!!(A.focusable||y&&typeof A.focusable>"u"),oe=$t(),ue=IS(A),$=LD({node:A,nodeType:X,hasDimensions:ue,resizeObserver:x}),ne=l_({nodeRef:$,disabled:A.hidden||!B,noDragClassName:v,handleSelector:A.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:C}),Y=u_();if(A.hidden)return null;const H=so(A),F=kD(A),K=q||B||t||n||s||a,G=n?_e=>n(_e,{...L.userNode}):void 0,V=s?_e=>s(_e,{...L.userNode}):void 0,J=a?_e=>a(_e,{...L.userNode}):void 0,me=u?_e=>u(_e,{...L.userNode}):void 0,ye=c?_e=>c(_e,{...L.userNode}):void 0,we=_e=>{const{selectNodesOnDrag:ke,nodeDragThreshold:Re}=oe.getState();q&&(!ke||!B||Re>0)&&U0({id:e,store:oe,nodeRef:$}),t&&t(_e,{...L.userNode})},ve=_e=>{if(!(O0(_e.nativeEvent)||_))if(ES.includes(_e.key)&&q){const ke=_e.key==="Escape";U0({id:e,store:oe,unselect:ke,nodeRef:$})}else B&&A.selected&&Object.prototype.hasOwnProperty.call(og,_e.key)&&(_e.preventDefault(),oe.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~L.positionAbsolute.x}, y: ${~~L.positionAbsolute.y}`}),Y({direction:og[_e.key],factor:_e.shiftKey?4:1}))};return k.jsx("div",{className:on(["react-flow__node",`react-flow__node-${X}`,{[S]:B},A.className,{selected:A.selected,selectable:q,parent:z,draggable:B,dragging:ne}]),ref:$,style:{zIndex:L.z,transform:`translate(${L.positionAbsolute.x}px,${L.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:ue?"visible":"hidden",...A.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:V,onMouseLeave:J,onContextMenu:me,onClick:we,onDoubleClick:ye,onKeyDown:fe?ve:void 0,tabIndex:fe?0:void 0,role:fe?"button":void 0,"aria-describedby":_?void 0:`${e_}-${T}`,"aria-label":A.ariaLabel,children:k.jsx(vD,{value:e,children:k.jsx(O,{id:e,data:A.data,type:X,positionAbsoluteX:L.positionAbsolute.x,positionAbsoluteY:L.positionAbsolute.y,selected:A.selected??!1,selectable:q,draggable:B,deletable:A.deletable??!0,isConnectable:ee,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:ne,dragHandle:A.dragHandle,zIndex:L.z,parentId:A.parentId,...H})})})}const OD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function f_(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:a,onError:u}=ut(OD,Kt),c=DD(e.onlyRenderVisibleElements),d=ID();return k.jsx("div",{className:"react-flow__nodes",style:Ag,children:c.map(h=>k.jsx(jD,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}f_.displayName="NodeRenderer";const $D=P.memo(f_);function FD(e){return ut(P.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const s=[];if(n.width&&n.height)for(const a of n.edges){const u=n.nodeLookup.get(a.source),c=n.nodeLookup.get(a.target);u&&c&&FA({sourceNode:u,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&s.push(a.id)}return s},[e]),Kt)}const VD=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zD=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),qx={[rg.Arrow]:VD,[rg.ArrowClosed]:zD};function BD(e){const t=$t();return P.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(qx,e)?qx[e]:((u=(a=t.getState()).onError)==null||u.call(a,"009",io.error009(e)),null)},[e])}const UD=({id:e,type:t,color:n,width:s=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const h=BD(t);return h?k.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:k.jsx(h,{color:n,strokeWidth:c})}):null},d_=({defaultColor:e,rfId:t})=>{const n=ut(u=>u.edges),s=ut(u=>u.defaultEdgeOptions),a=P.useMemo(()=>KA(n,{id:t,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[n,s,t,e]);return a.length?k.jsx("svg",{className:"react-flow__marker",children:k.jsx("defs",{children:a.map(u=>k.jsx(UD,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};d_.displayName="MarkerDefinitions";var HD=P.memo(d_);function h_({x:e,y:t,label:n,labelStyle:s={},labelShowBg:a=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:g,...y}){const[x,v]=P.useState({x:1,y:0,width:0,height:0}),S=on(["react-flow__edge-textwrapper",g]),_=P.useRef(null);return P.useEffect(()=>{if(_.current){const T=_.current.getBBox();v({x:T.x,y:T.y,width:T.width,height:T.height})}},[n]),typeof n>"u"||!n?null:k.jsxs("g",{transform:`translate(${e-x.width/2} ${t-x.height/2})`,className:S,visibility:x.width?"visible":"hidden",...y,children:[a&&k.jsx("rect",{width:x.width+2*c[0],x:-c[0],y:-c[1],height:x.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),k.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:_,style:s,children:n}),h]})}h_.displayName="EdgeText";const WD=P.memo(h_);function Rg({path:e,labelX:t,labelY:n,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,interactionWidth:g=20,...y}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...y,d:e,fill:"none",className:on(["react-flow__edge-path",y.className])}),g&&k.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&Ri(t)&&Ri(n)?k.jsx(WD,{x:t,y:n,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h}):null]})}function Gx({pos:e,x1:t,y1:n,x2:s,y2:a}){return e===$e.Left||e===$e.Right?[.5*(t+s),n]:[t,.5*(n+a)]}function p_({sourceX:e,sourceY:t,sourcePosition:n=$e.Bottom,targetX:s,targetY:a,targetPosition:u=$e.Top}){const[c,d]=Gx({pos:n,x1:e,y1:t,x2:s,y2:a}),[h,g]=Gx({pos:u,x1:s,y1:a,x2:e,y2:t}),[y,x,v,S]=$S({sourceX:e,sourceY:t,targetX:s,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:h,targetControlY:g});return[`M${e},${t} C${c},${d} ${h},${g} ${s},${a}`,y,x,v,S]}function g_(e){return P.memo(({id:t,sourceX:n,sourceY:s,targetX:a,targetY:u,sourcePosition:c=$e.Bottom,targetPosition:d=$e.Top,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:C})=>{const[M,A,L]=p_({sourceX:n,sourceY:s,sourcePosition:c,targetX:a,targetY:u,targetPosition:d}),z=e.isInternal?void 0:t;return k.jsx(Rg,{id:z,path:M,labelX:A,labelY:L,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:C})})}const KD=g_({isInternal:!1}),m_=g_({isInternal:!0});KD.displayName="SimpleBezierEdge";m_.displayName="SimpleBezierEdgeInternal";function y_(e){return P.memo(({id:t,sourceX:n,sourceY:s,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,style:v,sourcePosition:S=$e.Bottom,targetPosition:_=$e.Top,markerEnd:T,markerStart:N,pathOptions:C,interactionWidth:M})=>{const[A,L,z]=F0({sourceX:n,sourceY:s,sourcePosition:S,targetX:a,targetY:u,targetPosition:_,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset}),X=e.isInternal?void 0:t;return k.jsx(Rg,{id:X,path:A,labelX:L,labelY:z,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:T,markerStart:N,interactionWidth:M})})}const v_=y_({isInternal:!1}),x_=y_({isInternal:!0});v_.displayName="SmoothStepEdge";x_.displayName="SmoothStepEdgeInternal";function w_(e){return P.memo(({id:t,...n})=>{var a;const s=e.isInternal?void 0:t;return k.jsx(v_,{...n,id:s,pathOptions:P.useMemo(()=>{var u;return{borderRadius:0,offset:(u=n.pathOptions)==null?void 0:u.offset}},[(a=n.pathOptions)==null?void 0:a.offset])})})}const YD=w_({isInternal:!1}),S_=w_({isInternal:!0});YD.displayName="StepEdge";S_.displayName="StepEdgeInternal";function __(e){return P.memo(({id:t,sourceX:n,sourceY:s,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:S,markerStart:_,interactionWidth:T})=>{const[N,C,M]=zS({sourceX:n,sourceY:s,targetX:a,targetY:u}),A=e.isInternal?void 0:t;return k.jsx(Rg,{id:A,path:N,labelX:C,labelY:M,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:S,markerStart:_,interactionWidth:T})})}const XD=__({isInternal:!1}),E_=__({isInternal:!0});XD.displayName="StraightEdge";E_.displayName="StraightEdgeInternal";function b_(e){return P.memo(({id:t,sourceX:n,sourceY:s,targetX:a,targetY:u,sourcePosition:c=$e.Bottom,targetPosition:d=$e.Top,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,pathOptions:C,interactionWidth:M})=>{const[A,L,z]=FS({sourceX:n,sourceY:s,sourcePosition:c,targetX:a,targetY:u,targetPosition:d,curvature:C==null?void 0:C.curvature}),X=e.isInternal?void 0:t;return k.jsx(Rg,{id:X,path:A,labelX:L,labelY:z,label:h,labelStyle:g,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:M})})}const qD=b_({isInternal:!1}),C_=b_({isInternal:!0});qD.displayName="BezierEdge";C_.displayName="BezierEdgeInternal";const Qx={default:C_,straight:E_,step:S_,smoothstep:x_,simplebezier:m_},Zx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},GD=(e,t,n)=>n===$e.Left?e-t:n===$e.Right?e+t:e,QD=(e,t,n)=>n===$e.Top?e-t:n===$e.Bottom?e+t:e,Jx="react-flow__edgeupdater";function ew({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:d}){return k.jsx("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:on([Jx,`${Jx}-${d}`]),cx:GD(t,s,e),cy:QD(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function ZD({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:s,sourceY:a,targetX:u,targetY:c,sourcePosition:d,targetPosition:h,onReconnect:g,onReconnectStart:y,onReconnectEnd:x,setReconnecting:v,setUpdateHover:S}){const _=$t(),T=(L,z)=>{if(L.button!==0)return;const{autoPanOnConnect:X,domNode:O,isValidConnection:B,connectionMode:q,connectionRadius:ee,lib:fe,onConnectStart:oe,onConnectEnd:ue,cancelConnection:$,nodeLookup:ne,rfId:Y,panBy:H,updateConnection:F}=_.getState(),K=z.type==="target";v(!0),y==null||y(L,n,z.type);const G=(J,me)=>{v(!1),x==null||x(J,n,z.type,me)},V=J=>g==null?void 0:g(n,J);B0.onPointerDown(L.nativeEvent,{autoPanOnConnect:X,connectionMode:q,connectionRadius:ee,domNode:O,handleId:z.id,nodeId:z.nodeId,nodeLookup:ne,isTarget:K,edgeUpdaterType:z.type,lib:fe,flowId:Y,cancelConnection:$,panBy:H,isValidConnection:B,onConnect:V,onConnectStart:oe,onConnectEnd:ue,onReconnectEnd:G,updateConnection:F,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},N=L=>T(L,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=L=>T(L,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),M=()=>S(!0),A=()=>S(!1);return k.jsxs(k.Fragment,{children:[(e===!0||e==="source")&&k.jsx(ew,{position:d,centerX:s,centerY:a,radius:t,onMouseDown:N,onMouseEnter:M,onMouseOut:A,type:"source"}),(e===!0||e==="target")&&k.jsx(ew,{position:h,centerX:u,centerY:c,radius:t,onMouseDown:C,onMouseEnter:M,onMouseOut:A,type:"target"})]})}function JD({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:a,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:g,reconnectRadius:y,onReconnect:x,onReconnectStart:v,onReconnectEnd:S,rfId:_,edgeTypes:T,noPanClassName:N,onError:C,disableKeyboardA11y:M}){let A=ut(Ne=>Ne.edgeLookup.get(e));const L=ut(Ne=>Ne.defaultEdgeOptions);A=L?{...L,...A}:A;let z=A.type||"default",X=(T==null?void 0:T[z])||Qx[z];X===void 0&&(C==null||C("011",io.error011(z)),z="default",X=Qx.default);const O=!!(A.focusable||t&&typeof A.focusable>"u"),B=typeof x<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),q=!!(A.selectable||s&&typeof A.selectable>"u"),ee=P.useRef(null),[fe,oe]=P.useState(!1),[ue,$]=P.useState(!1),ne=$t(),{zIndex:Y,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J}=ut(P.useCallback(Ne=>{const Pe=Ne.nodeLookup.get(A.source),Ke=Ne.nodeLookup.get(A.target);if(!Pe||!Ke)return{zIndex:A.zIndex,...Zx};const ot=WA({id:e,sourceNode:Pe,targetNode:Ke,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ne.connectionMode,onError:C});return{zIndex:$A({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ke,elevateOnSelect:Ne.elevateEdgesOnSelect}),...ot||Zx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),Kt),me=P.useMemo(()=>A.markerStart?`url('#${V0(A.markerStart,_)}')`:void 0,[A.markerStart,_]),ye=P.useMemo(()=>A.markerEnd?`url('#${V0(A.markerEnd,_)}')`:void 0,[A.markerEnd,_]);if(A.hidden||H===null||F===null||K===null||G===null)return null;const we=Ne=>{var Et;const{addSelectedEdges:Pe,unselectNodesAndEdges:Ke,multiSelectionActive:ot}=ne.getState();q&&(ne.setState({nodesSelectionActive:!1}),A.selected&&ot?(Ke({nodes:[],edges:[A]}),(Et=ee.current)==null||Et.blur()):Pe([e])),a&&a(Ne,A)},ve=u?Ne=>{u(Ne,{...A})}:void 0,_e=c?Ne=>{c(Ne,{...A})}:void 0,ke=d?Ne=>{d(Ne,{...A})}:void 0,Re=h?Ne=>{h(Ne,{...A})}:void 0,Ye=g?Ne=>{g(Ne,{...A})}:void 0,qe=Ne=>{var Pe;if(!M&&ES.includes(Ne.key)&&q){const{unselectNodesAndEdges:Ke,addSelectedEdges:ot}=ne.getState();Ne.key==="Escape"?((Pe=ee.current)==null||Pe.blur(),Ke({edges:[A]})):ot([e])}};return k.jsx("svg",{style:{zIndex:Y},children:k.jsxs("g",{className:on(["react-flow__edge",`react-flow__edge-${z}`,A.className,N,{selected:A.selected,animated:A.animated,inactive:!q&&!a,updating:fe,selectable:q}]),onClick:we,onDoubleClick:ve,onContextMenu:_e,onMouseEnter:ke,onMouseMove:Re,onMouseLeave:Ye,onKeyDown:O?qe:void 0,tabIndex:O?0:void 0,role:O?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":O?`${t_}-${_}`:void 0,ref:ee,children:[!ue&&k.jsx(X,{id:e,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:q,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:me,markerEnd:ye,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),B&&k.jsx(ZD,{edge:A,isReconnectable:B,reconnectRadius:y,onReconnect:x,onReconnectStart:v,onReconnectEnd:S,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J,setUpdateHover:oe,setReconnecting:$})]})})}const eM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function k_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:a,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:g,onEdgeClick:y,reconnectRadius:x,onEdgeDoubleClick:v,onReconnectStart:S,onReconnectEnd:_,disableKeyboardA11y:T}){const{edgesFocusable:N,edgesReconnectable:C,elementsSelectable:M,onError:A}=ut(eM,Kt),L=FD(t);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(HD,{defaultColor:e,rfId:n}),L.map(z=>k.jsx(JD,{id:z,edgesFocusable:N,edgesReconnectable:C,elementsSelectable:M,noPanClassName:a,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:g,onClick:y,reconnectRadius:x,onDoubleClick:v,onReconnectStart:S,onReconnectEnd:_,rfId:n,onError:A,edgeTypes:s,disableKeyboardA11y:T},z))]})}k_.displayName="EdgeRenderer";const tM=P.memo(k_),nM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rM({children:e}){const t=ut(nM);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function iM(e){const t=Pg(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const sM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function oM(e){const t=ut(sM),n=$t();return P.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function aM(e){return e.connection.inProgress?{...e.connection,to:Gd(e.connection.to,e.transform)}:{...e.connection}}function lM(e){return aM}function uM(e){const t=lM();return ut(t,Kt)}const cM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function fM({containerStyle:e,style:t,type:n,component:s}){const{nodesConnectable:a,width:u,height:c,isValid:d,inProgress:h}=ut(cM,Kt);return!(u&&a&&h)?null:k.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:on(["react-flow__connection",CS(d)]),children:k.jsx(T_,{style:t,type:n,CustomComponent:s,isValid:d})})})}const T_=({style:e,type:t=ea.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:a,from:u,fromNode:c,fromHandle:d,fromPosition:h,to:g,toNode:y,toHandle:x,toPosition:v}=uM();if(!a)return;if(n)return k.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:g.x,toY:g.y,fromPosition:h,toPosition:v,connectionStatus:CS(s),toNode:y,toHandle:x});let S="";const _={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:g.x,targetY:g.y,targetPosition:v};switch(t){case ea.Bezier:[S]=FS(_);break;case ea.SimpleBezier:[S]=p_(_);break;case ea.Step:[S]=F0({..._,borderRadius:0});break;case ea.SmoothStep:[S]=F0(_);break;default:[S]=zS(_)}return k.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:e})};T_.displayName="ConnectionLine";const dM={};function tw(e=dM){P.useRef(e),$t(),P.useEffect(()=>{},[e])}function hM(){$t(),P.useRef(!1),P.useEffect(()=>{},[])}function N_({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:y,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:S,connectionLineType:_,connectionLineStyle:T,connectionLineComponent:N,connectionLineContainerStyle:C,selectionKeyCode:M,selectionOnDrag:A,selectionMode:L,multiSelectionKeyCode:z,panActivationKeyCode:X,zoomActivationKeyCode:O,deleteKeyCode:B,onlyRenderVisibleElements:q,elementsSelectable:ee,defaultViewport:fe,translateExtent:oe,minZoom:ue,maxZoom:$,preventScrolling:ne,defaultMarkerColor:Y,zoomOnScroll:H,zoomOnPinch:F,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:V,zoomOnDoubleClick:J,panOnDrag:me,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneScroll:ke,onPaneContextMenu:Re,paneClickDistance:Ye,nodeClickDistance:qe,onEdgeContextMenu:Ne,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ke,onEdgeMouseLeave:ot,reconnectRadius:Et,onReconnect:cn,onReconnectStart:li,onReconnectEnd:sr,noDragClassName:Fe,noWheelClassName:be,noPanClassName:ze,disableKeyboardA11y:He,nodeExtent:gt,rfId:vt,viewport:_t,onViewportChange:Ft}){return tw(e),tw(t),hM(),iM(n),oM(_t),k.jsx(AD,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneContextMenu:Re,onPaneScroll:ke,paneClickDistance:Ye,deleteKeyCode:B,selectionKeyCode:M,selectionOnDrag:A,selectionMode:L,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:z,panActivationKeyCode:X,zoomActivationKeyCode:O,elementsSelectable:ee,zoomOnScroll:H,zoomOnPinch:F,zoomOnDoubleClick:J,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:V,panOnDrag:me,defaultViewport:fe,translateExtent:oe,minZoom:ue,maxZoom:$,onSelectionContextMenu:x,preventScrolling:ne,noDragClassName:Fe,noWheelClassName:be,noPanClassName:ze,disableKeyboardA11y:He,onViewportChange:Ft,isControlledViewport:!!_t,children:k.jsxs(rM,{children:[k.jsx(tM,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:cn,onReconnectStart:li,onReconnectEnd:sr,onlyRenderVisibleElements:q,onEdgeContextMenu:Ne,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ke,onEdgeMouseLeave:ot,reconnectRadius:Et,defaultMarkerColor:Y,noPanClassName:ze,disableKeyboardA11y:He,rfId:vt}),k.jsx(fM,{style:T,type:_,component:N,containerStyle:C}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx($D,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:y,nodeClickDistance:qe,onlyRenderVisibleElements:q,noPanClassName:ze,noDragClassName:Fe,disableKeyboardA11y:He,nodeExtent:gt,rfId:vt}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}N_.displayName="GraphView";const pM=P.memo(N_),nw=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}={})=>{const g=new Map,y=new Map,x=new Map,v=new Map,S=s??t??[],_=n??e??[],T=d??[0,0],N=h??Dd;US(x,v,S),z0(_,g,y,{nodeOrigin:T,nodeExtent:N,elevateNodesOnSelect:!1});let C=[0,0,1];if(c&&a&&u){const M=Tc(g,{filter:X=>!!((X.width||X.initialWidth)&&(X.height||X.initialHeight))}),{x:A,y:L,zoom:z}=ky(M,a,u,.5,2,.1);C=[A,L,z]}return{rfId:"1",width:0,height:0,transform:C,nodes:_,nodeLookup:g,parentLookup:y,edges:S,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Dd,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:wc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...bS},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:jA,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},gM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h})=>MR((g,y)=>({...nw({nodes:e,edges:t,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h,defaultNodes:n,defaultEdges:s}),setNodes:x=>{const{nodeLookup:v,parentLookup:S,nodeOrigin:_,elevateNodesOnSelect:T}=y();z0(x,v,S,{nodeOrigin:_,nodeExtent:h,elevateNodesOnSelect:T,checkEquality:!0}),g({nodes:x})},setEdges:x=>{const{connectionLookup:v,edgeLookup:S}=y();US(v,S,x),g({edges:x})},setDefaultNodesAndEdges:(x,v)=>{if(x){const{setNodes:S}=y();S(x),g({hasDefaultNodes:!0})}if(v){const{setEdges:S}=y();S(v),g({hasDefaultEdges:!0})}},updateNodeInternals:(x,v={triggerFitView:!0})=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:T,fitViewOnInit:N,fitViewDone:C,fitViewOnInitOptions:M,domNode:A,nodeOrigin:L,nodeExtent:z,debug:X,fitViewSync:O}=y(),{changes:B,updatedInternals:q}=ZA(x,_,T,A,L,z);if(q){if(qA(_,T,{nodeOrigin:L,nodeExtent:z}),v.triggerFitView){let ee=C;!C&&N&&(ee=O({...M,nodes:M==null?void 0:M.nodes})),g({fitViewDone:ee})}else g({});(B==null?void 0:B.length)>0&&(X&&console.log("React Flow: trigger node changes",B),S==null||S(B))}},updateNodePositions:(x,v=!1)=>{const S=[],_=[];for(const[T,N]of x){const C=!!(N!=null&&N.expandParent&&(N!=null&&N.parentId)&&(N!=null&&N.position)),M={id:T,type:"position",position:C?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:v};C&&S.push({id:T,parentId:N.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width,height:N.measured.height}}),_.push(M)}if(S.length>0){const{nodeLookup:T,parentLookup:N,nodeOrigin:C}=y(),M=Ay(S,T,N,C);_.push(...M)}y().triggerNodeChanges(_)},triggerNodeChanges:x=>{const{onNodesChange:v,setNodes:S,nodes:_,hasDefaultNodes:T,debug:N}=y();if(x!=null&&x.length){if(T){const C=i_(x,_);S(C)}N&&console.log("React Flow: trigger node changes",x),v==null||v(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:v,setEdges:S,edges:_,hasDefaultEdges:T,debug:N}=y();if(x!=null&&x.length){if(T){const C=s_(x,_);S(C)}N&&console.log("React Flow: trigger edge changes",x),v==null||v(x)}},addSelectedNodes:x=>{const{multiSelectionActive:v,edgeLookup:S,nodeLookup:_,triggerNodeChanges:T,triggerEdgeChanges:N}=y();if(v){const C=x.map(M=>dl(M,!0));T(C);return}T(cc(_,new Set([...x]),!0)),N(cc(S))},addSelectedEdges:x=>{const{multiSelectionActive:v,edgeLookup:S,nodeLookup:_,triggerNodeChanges:T,triggerEdgeChanges:N}=y();if(v){const C=x.map(M=>dl(M,!0));N(C);return}N(cc(S,new Set([...x]))),T(cc(_,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:v}={})=>{const{edges:S,nodes:_,nodeLookup:T,triggerNodeChanges:N,triggerEdgeChanges:C}=y(),M=x||_,A=v||S,L=M.map(X=>{const O=T.get(X.id);return O&&(O.selected=!1),dl(X.id,!1)}),z=A.map(X=>dl(X.id,!1));N(L),C(z)},setMinZoom:x=>{const{panZoom:v,maxZoom:S}=y();v==null||v.setScaleExtent([x,S]),g({minZoom:x})},setMaxZoom:x=>{const{panZoom:v,minZoom:S}=y();v==null||v.setScaleExtent([S,x]),g({maxZoom:x})},setTranslateExtent:x=>{var v;(v=y().panZoom)==null||v.setTranslateExtent(x),g({translateExtent:x})},setPaneClickDistance:x=>{var v;(v=y().panZoom)==null||v.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:v,triggerNodeChanges:S,triggerEdgeChanges:_}=y(),T=v.reduce((C,M)=>M.selected?[...C,dl(M.id,!1)]:C,[]),N=x.reduce((C,M)=>M.selected?[...C,dl(M.id,!1)]:C,[]);S(T),_(N)},setNodeExtent:x=>{const{nodes:v,nodeLookup:S,parentLookup:_,nodeOrigin:T,elevateNodesOnSelect:N,nodeExtent:C}=y();x[0][0]===C[0][0]&&x[0][1]===C[0][1]&&x[1][0]===C[1][0]&&x[1][1]===C[1][1]||(z0(v,S,_,{nodeOrigin:T,nodeExtent:x,elevateNodesOnSelect:N,checkEquality:!1}),g({nodeExtent:x}))},panBy:x=>{const{transform:v,width:S,height:_,panZoom:T,translateExtent:N}=y();return JA({delta:x,panZoom:T,transform:v,translateExtent:N,width:S,height:_})},fitView:x=>{const{panZoom:v,width:S,height:_,minZoom:T,maxZoom:N,nodeLookup:C}=y();if(!v)return Promise.resolve(!1);const M=I0(C,x);return L0({nodes:M,width:S,height:_,panZoom:v,minZoom:T,maxZoom:N},x)},fitViewSync:x=>{const{panZoom:v,width:S,height:_,minZoom:T,maxZoom:N,nodeLookup:C}=y();if(!v)return!1;const M=I0(C,x);return L0({nodes:M,width:S,height:_,panZoom:v,minZoom:T,maxZoom:N},x),M.size>0},cancelConnection:()=>{g({connection:{...bS}})},updateConnection:x=>{g({connection:x})},reset:()=>g({...nw()})}),Object.is);function P_({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:a,initialHeight:u,fitView:c,nodeOrigin:d,nodeExtent:h,children:g}){const[y]=P.useState(()=>gM({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}));return k.jsx(LR,{value:y,children:k.jsx(iD,{children:g})})}function mM({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:a,width:u,height:c,fitView:d,nodeOrigin:h,nodeExtent:g}){return P.useContext(Tg)?k.jsx(k.Fragment,{children:e}):k.jsx(P_,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:a,initialWidth:u,initialHeight:c,fitView:d,nodeOrigin:h,nodeExtent:g,children:e})}const yM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function vM({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:a,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:h,onInit:g,onMove:y,onMoveStart:x,onMoveEnd:v,onConnect:S,onConnectStart:_,onConnectEnd:T,onClickConnectStart:N,onClickConnectEnd:C,onNodeMouseEnter:M,onNodeMouseMove:A,onNodeMouseLeave:L,onNodeContextMenu:z,onNodeDoubleClick:X,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:q,onNodesDelete:ee,onEdgesDelete:fe,onDelete:oe,onSelectionChange:ue,onSelectionDragStart:$,onSelectionDrag:ne,onSelectionDragStop:Y,onSelectionContextMenu:H,onSelectionStart:F,onSelectionEnd:K,onBeforeDelete:G,connectionMode:V,connectionLineType:J=ea.Bezier,connectionLineStyle:me,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:ve="Backspace",selectionKeyCode:_e="Shift",selectionOnDrag:ke=!1,selectionMode:Re=Md.Full,panActivationKeyCode:Ye="Space",multiSelectionKeyCode:qe=sg()?"Meta":"Control",zoomActivationKeyCode:Ne=sg()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ke,onlyRenderVisibleElements:ot=!1,selectNodesOnDrag:Et,nodesDraggable:cn,nodesConnectable:li,nodesFocusable:sr,nodeOrigin:Fe=n_,edgesFocusable:be,edgesReconnectable:ze,elementsSelectable:He=!0,defaultViewport:gt=XR,minZoom:vt=.5,maxZoom:_t=2,translateExtent:Ft=Dd,preventScrolling:bt=!0,nodeExtent:Yt,defaultMarkerColor:an="#b1b1b7",zoomOnScroll:kn=!0,zoomOnPinch:la=!0,panOnScroll:ao=!1,panOnScrollSpeed:lo=.5,panOnScrollMode:ua=xl.Free,zoomOnDoubleClick:gs=!0,panOnDrag:ms=!0,onPaneClick:ca,onPaneMouseEnter:fa,onPaneMouseMove:da,onPaneMouseLeave:ui,onPaneScroll:ci,onPaneContextMenu:kl,paneClickDistance:ha=0,nodeClickDistance:Tl=0,children:Nl,onReconnect:pa,onReconnectStart:ga,onReconnectEnd:Pl,onEdgeContextMenu:ys,onEdgeDoubleClick:vs,onEdgeMouseEnter:xs,onEdgeMouseMove:ma,onEdgeMouseLeave:ws,reconnectRadius:uo=10,onNodesChange:co,onEdgesChange:ya,noDragClassName:Lc="nodrag",noWheelClassName:jc="nowheel",noPanClassName:Al="nopan",fitView:Ur,fitViewOptions:va,connectOnClick:Rl,attributionPosition:Oc,proOptions:Dl,defaultEdgeOptions:Ml,elevateNodesOnSelect:Il,elevateEdgesOnSelect:Ll,disableKeyboardA11y:Ss=!1,autoPanOnConnect:$c,autoPanOnNodeDrag:Ct,autoPanSpeed:Fc,connectionRadius:xa,isValidConnection:jl,onError:_s,style:Ol,id:fo,nodeDragThreshold:ho,viewport:or,onViewportChange:Vc,width:qn,height:$l,colorMode:Fl="light",debug:Vl,onScroll:Cr,...po},ji){const kr=fo||"1",zl=ZR(Fl),zc=P.useCallback(Es=>{Es.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Cr==null||Cr(Es)},[Cr]);return k.jsx("div",{"data-testid":"rf__wrapper",...po,onScroll:zc,style:{...Ol,...yM},ref:ji,className:on(["react-flow",a,zl]),id:fo,children:k.jsxs(mM,{nodes:e,edges:t,width:qn,height:$l,fitView:Ur,nodeOrigin:Fe,nodeExtent:Yt,children:[k.jsx(pM,{onInit:g,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:M,onNodeMouseMove:A,onNodeMouseLeave:L,onNodeContextMenu:z,onNodeDoubleClick:X,nodeTypes:u,edgeTypes:c,connectionLineType:J,connectionLineStyle:me,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:_e,selectionOnDrag:ke,selectionMode:Re,deleteKeyCode:ve,multiSelectionKeyCode:qe,panActivationKeyCode:Ye,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:ot,defaultViewport:gt,translateExtent:Ft,minZoom:vt,maxZoom:_t,preventScrolling:bt,zoomOnScroll:kn,zoomOnPinch:la,zoomOnDoubleClick:gs,panOnScroll:ao,panOnScrollSpeed:lo,panOnScrollMode:ua,panOnDrag:ms,onPaneClick:ca,onPaneMouseEnter:fa,onPaneMouseMove:da,onPaneMouseLeave:ui,onPaneScroll:ci,onPaneContextMenu:kl,paneClickDistance:ha,nodeClickDistance:Tl,onSelectionContextMenu:H,onSelectionStart:F,onSelectionEnd:K,onReconnect:pa,onReconnectStart:ga,onReconnectEnd:Pl,onEdgeContextMenu:ys,onEdgeDoubleClick:vs,onEdgeMouseEnter:xs,onEdgeMouseMove:ma,onEdgeMouseLeave:ws,reconnectRadius:uo,defaultMarkerColor:an,noDragClassName:Lc,noWheelClassName:jc,noPanClassName:Al,rfId:kr,disableKeyboardA11y:Ss,nodeExtent:Yt,viewport:or,onViewportChange:Vc}),k.jsx(QR,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:S,onConnectStart:_,onConnectEnd:T,onClickConnectStart:N,onClickConnectEnd:C,nodesDraggable:cn,nodesConnectable:li,nodesFocusable:sr,edgesFocusable:be,edgesReconnectable:ze,elementsSelectable:He,elevateNodesOnSelect:Il,elevateEdgesOnSelect:Ll,minZoom:vt,maxZoom:_t,nodeExtent:Yt,onNodesChange:co,onEdgesChange:ya,snapToGrid:Pe,snapGrid:Ke,connectionMode:V,translateExtent:Ft,connectOnClick:Rl,defaultEdgeOptions:Ml,fitView:Ur,fitViewOptions:va,onNodesDelete:ee,onEdgesDelete:fe,onDelete:oe,onNodeDragStart:O,onNodeDrag:B,onNodeDragStop:q,onSelectionDrag:ne,onSelectionDragStart:$,onSelectionDragStop:Y,onMove:y,onMoveStart:x,onMoveEnd:v,noPanClassName:Al,nodeOrigin:Fe,rfId:kr,autoPanOnConnect:$c,autoPanOnNodeDrag:Ct,autoPanSpeed:Fc,onError:_s,connectionRadius:xa,isValidConnection:jl,selectNodesOnDrag:Et,nodeDragThreshold:ho,onBeforeDelete:G,paneClickDistance:ha,debug:Vl}),k.jsx(YR,{onSelectionChange:ue}),Nl,k.jsx(BR,{proOptions:Dl,position:Oc}),k.jsx(VR,{rfId:kr,disableKeyboardA11y:Ss})]})})}var A_=o_(vM);function xM({onStart:e,onChange:t,onEnd:n}){const s=$t();P.useEffect(()=>{s.setState({onViewportChangeStart:e})},[e]),P.useEffect(()=>{s.setState({onViewportChange:t})},[t]),P.useEffect(()=>{s.setState({onViewportChangeEnd:n})},[n])}function wM({dimensions:e,lineWidth:t,variant:n,className:s}){return k.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:on(["react-flow__background-pattern",n,s])})}function SM({radius:e,className:t}){return k.jsx("circle",{cx:e,cy:e,r:e,className:on(["react-flow__background-pattern","dots",t])})}var ta;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ta||(ta={}));const _M={[ta.Dots]:1,[ta.Lines]:1,[ta.Cross]:6},EM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function R_({id:e,variant:t=ta.Dots,gap:n=20,size:s,lineWidth:a=1,offset:u=0,color:c,bgColor:d,style:h,className:g,patternClassName:y}){const x=P.useRef(null),{transform:v,patternId:S}=ut(EM,Kt),_=s||_M[t],T=t===ta.Dots,N=t===ta.Cross,C=Array.isArray(n)?n:[n,n],M=[C[0]*v[2]||1,C[1]*v[2]||1],A=_*v[2],L=Array.isArray(u)?u:[u,u],z=N?[A,A]:M,X=[L[0]*v[2]||1+z[0]/2,L[1]*v[2]||1+z[1]/2],O=`${S}${e||""}`;return k.jsxs("svg",{className:on(["react-flow__background",g]),style:{...h,...Ag,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:x,"data-testid":"rf__background",children:[k.jsx("pattern",{id:O,x:v[0]%M[0],y:v[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${X[0]},-${X[1]})`,children:T?k.jsx(SM,{radius:A/2,className:y}):k.jsx(wM,{dimensions:z,lineWidth:a,variant:t,className:y})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}R_.displayName="Background";const bM=P.memo(R_);function CM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function kM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function TM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function NM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function PM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Mp({children:e,className:t,...n}){return k.jsx("button",{type:"button",className:on(["react-flow__controls-button",t]),...n,children:e})}const AM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function D_({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:h,className:g,children:y,position:x="bottom-left",orientation:v="vertical","aria-label":S="React Flow controls"}){const _=$t(),{isInteractive:T,minZoomReached:N,maxZoomReached:C}=ut(AM,Kt),{zoomIn:M,zoomOut:A,fitView:L}=Pg(),z=()=>{M(),u==null||u()},X=()=>{A(),c==null||c()},O=()=>{L(a),d==null||d()},B=()=>{_.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),h==null||h(!T)},q=v==="horizontal"?"horizontal":"vertical";return k.jsxs(Ng,{className:on(["react-flow__controls",q,g]),position:x,style:e,"data-testid":"rf__controls","aria-label":S,children:[t&&k.jsxs(k.Fragment,{children:[k.jsx(Mp,{onClick:z,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C,children:k.jsx(CM,{})}),k.jsx(Mp,{onClick:X,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N,children:k.jsx(kM,{})})]}),n&&k.jsx(Mp,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view",children:k.jsx(TM,{})}),s&&k.jsx(Mp,{className:"react-flow__controls-interactive",onClick:B,title:"toggle interactivity","aria-label":"toggle interactivity",children:T?k.jsx(PM,{}):k.jsx(NM,{})}),y]})}D_.displayName="Controls";const RM=P.memo(D_);function DM({id:e,x:t,y:n,width:s,height:a,style:u,color:c,strokeColor:d,strokeWidth:h,className:g,borderRadius:y,shapeRendering:x,selected:v,onClick:S}){const{background:_,backgroundColor:T}=u||{},N=c||_||T;return k.jsx("rect",{className:on(["react-flow__minimap-node",{selected:v},g]),x:t,y:n,rx:y,ry:y,width:s,height:a,style:{fill:N,stroke:d,strokeWidth:h},shapeRendering:x,onClick:S?C=>S(C,e):void 0})}const MM=P.memo(DM),IM=e=>e.nodes.map(t=>t.id),i0=e=>e instanceof Function?e:()=>e;function LM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:u=MM,onClick:c}){const d=ut(IM,Kt),h=i0(t),g=i0(e),y=i0(n),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:d.map(v=>k.jsx(OM,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:g,nodeClassNameFunc:y,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:u,onClick:c,shapeRendering:x},v))})}function jM({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:h}){const{node:g,x:y,y:x,width:v,height:S}=ut(_=>{const T=_.nodeLookup.get(e),{x:N,y:C}=T.internals.positionAbsolute,{width:M,height:A}=so(T);return{node:T,x:N,y:C,width:M,height:A}},Kt);return!g||g.hidden||!IS(g)?null:k.jsx(d,{x:y,y:x,width:v,height:S,style:g.style,selected:!!g.selected,className:s(g),color:t(g),borderRadius:a,strokeColor:n(g),strokeWidth:u,shapeRendering:c,onClick:h,id:g.id})}const OM=P.memo(jM);var $M=P.memo(LM);const FM=200,VM=150,zM=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?DS(Tc(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},BM="react-flow__minimap-desc";function M_({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:a="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:h,maskColor:g,maskStrokeColor:y,maskStrokeWidth:x,position:v="bottom-right",onClick:S,onNodeClick:_,pannable:T=!1,zoomable:N=!1,ariaLabel:C="React Flow mini map",inversePan:M,zoomStep:A=10,offsetScale:L=5}){const z=$t(),X=P.useRef(null),{boundingRect:O,viewBB:B,rfId:q,panZoom:ee,translateExtent:fe,flowWidth:oe,flowHeight:ue}=ut(zM,Kt),$=(e==null?void 0:e.width)??FM,ne=(e==null?void 0:e.height)??VM,Y=O.width/$,H=O.height/ne,F=Math.max(Y,H),K=F*$,G=F*ne,V=L*F,J=O.x-(K-O.width)/2-V,me=O.y-(G-O.height)/2-V,ye=K+V*2,we=G+V*2,ve=`${BM}-${q}`,_e=P.useRef(0),ke=P.useRef();_e.current=F,P.useEffect(()=>{if(X.current&&ee)return ke.current=aR({domNode:X.current,panZoom:ee,getTransform:()=>z.getState().transform,getViewScale:()=>_e.current}),()=>{var qe;(qe=ke.current)==null||qe.destroy()}},[ee]),P.useEffect(()=>{var qe;(qe=ke.current)==null||qe.update({translateExtent:fe,width:oe,height:ue,inversePan:M,pannable:T,zoomStep:A,zoomable:N})},[T,N,M,A,fe,oe,ue]);const Re=S?qe=>{var Ke;const[Ne,Pe]=((Ke=ke.current)==null?void 0:Ke.pointer(qe))||[0,0];S(qe,{x:Ne,y:Pe})}:void 0,Ye=_?P.useCallback((qe,Ne)=>{const Pe=z.getState().nodeLookup.get(Ne);_(qe,Pe)},[]):void 0;return k.jsx(Ng,{position:v,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*F:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="string"?c:void 0},className:on(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:$,height:ne,viewBox:`${J} ${me} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ve,ref:X,onClick:Re,children:[C&&k.jsx("title",{id:ve,children:C}),k.jsx($M,{onClick:Ye,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:u,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${J-V},${me-V}h${ye+V*2}v${we+V*2}h${-ye-V*2}z
        M${B.x},${B.y}h${B.width}v${B.height}h${-B.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}M_.displayName="MiniMap";P.memo(M_);function UM({nodeId:e,position:t,variant:n=Sd.Handle,className:s,style:a={},children:u,color:c,minWidth:d=10,minHeight:h=10,maxWidth:g=Number.MAX_VALUE,maxHeight:y=Number.MAX_VALUE,keepAspectRatio:x=!1,shouldResize:v,onResizeStart:S,onResize:_,onResizeEnd:T}){const N=Dy(),C=typeof e=="string"?e:N,M=$t(),A=P.useRef(null),L=n===Sd.Line?"right":"bottom-right",z=t??L,X=P.useRef(null);P.useEffect(()=>{if(!(!A.current||!C))return X.current||(X.current=_R({domNode:A.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:ee,transform:fe,snapGrid:oe,snapToGrid:ue,nodeOrigin:$,domNode:ne}=M.getState();return{nodeLookup:ee,transform:fe,snapGrid:oe,snapToGrid:ue,nodeOrigin:$,paneDomNode:ne}},onChange:(ee,fe)=>{const{triggerNodeChanges:oe,nodeLookup:ue,parentLookup:$,nodeOrigin:ne}=M.getState(),Y=[],H={x:ee.x,y:ee.y},F=ue.get(C);if(F&&F.expandParent&&F.parentId){const K=F.origin??ne,G=ee.width??F.measured.width,V=ee.height??F.measured.height,J={id:F.id,parentId:F.parentId,rect:{width:G,height:V,...LS({x:ee.x??F.position.x,y:ee.y??F.position.y},{width:G,height:V},F.parentId,ue,K)}},me=Ay([J],ue,$,ne);Y.push(...me),H.x=ee.x?Math.max(K[0]*G,ee.x):void 0,H.y=ee.y?Math.max(K[1]*V,ee.y):void 0}if(H.x!==void 0&&H.y!==void 0){const K={id:C,type:"position",position:{...H}};Y.push(K)}if(ee.width!==void 0&&ee.height!==void 0){const K={id:C,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:ee.width,height:ee.height}};Y.push(K)}for(const K of fe){const G={...K,type:"position"};Y.push(G)}oe(Y)},onEnd:()=>{const ee={id:C,type:"dimensions",resizing:!1};M.getState().triggerNodeChanges([ee])}})),X.current.update({controlPosition:z,boundaries:{minWidth:d,minHeight:h,maxWidth:g,maxHeight:y},keepAspectRatio:x,onResizeStart:S,onResize:_,onResizeEnd:T,shouldResize:v}),()=>{var ee;(ee=X.current)==null||ee.destroy()}},[z,d,h,g,y,x,S,_,T,v]);const O=z.split("-"),B=n===Sd.Line?"borderColor":"backgroundColor",q=c?{...a,[B]:c}:a;return k.jsx("div",{className:on(["react-flow__resize-control","nodrag",...O,n,s]),ref:A,style:q,children:u})}P.memo(UM);const HM=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__renderer")};function WM({children:e}){const t=ut(HM);return t?IR.createPortal(e,t):null}const KM=(e,t)=>(e==null?void 0:e.internals.positionAbsolute.x)!==(t==null?void 0:t.internals.positionAbsolute.x)||(e==null?void 0:e.internals.positionAbsolute.y)!==(t==null?void 0:t.internals.positionAbsolute.y)||(e==null?void 0:e.measured.width)!==(t==null?void 0:t.measured.width)||(e==null?void 0:e.measured.height)!==(t==null?void 0:t.measured.height)||(e==null?void 0:e.selected)!==(t==null?void 0:t.selected)||(e==null?void 0:e.internals.z)!==(t==null?void 0:t.internals.z),YM=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,s]of e)if(KM(s,t.get(n)))return!1;return!0},XM=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2],selectedNodesCount:e.nodes.filter(t=>t.selected).length});function H0({nodeId:e,children:t,className:n,style:s,isVisible:a,position:u=$e.Top,offset:c=10,align:d="center",...h}){var z;const g=Dy(),y=P.useCallback(X=>(Array.isArray(e)?e:[e||g||""]).reduce((q,ee)=>{const fe=X.nodeLookup.get(ee);return fe&&q.set(fe.id,fe),q},new Map),[e,g]),x=ut(y,YM),{x:v,y:S,zoom:_,selectedNodesCount:T}=ut(XM,Kt);if(!(typeof a=="boolean"?a:x.size===1&&((z=x.values().next().value)==null?void 0:z.selected)&&T===1)||!x.size)return null;const C=Tc(x),M=Array.from(x.values()),A=Math.max(...M.map(X=>X.internals.z+1)),L={position:"absolute",transform:YA(C,{x:v,y:S,zoom:_},u,c,d),zIndex:A,...s};return k.jsx(WM,{children:k.jsx("div",{style:L,className:on(["react-flow__node-toolbar",n]),...h,"data-id":M.reduce((X,O)=>`${X}${O.id} `,"").trim(),children:t})})}var cd={},rw;function qM(){if(rw)return cd;rw=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.parse=c,cd.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,S){const _=new u,T=v.length;if(T<2)return _;const N=(S==null?void 0:S.decode)||y;let C=0;do{const M=v.indexOf("=",C);if(M===-1)break;const A=v.indexOf(";",C),L=A===-1?T:A;if(M>L){C=v.lastIndexOf(";",M-1)+1;continue}const z=d(v,C,M),X=h(v,M,z),O=v.slice(z,X);if(_[O]===void 0){let B=d(v,M+1,L),q=h(v,L,B);const ee=N(v.slice(B,q));_[O]=ee}C=L+1}while(C<T);return _}function d(v,S,_){do{const T=v.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<_);return _}function h(v,S,_){for(;S>_;){const T=v.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return _}function g(v,S,_){const T=(_==null?void 0:_.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const N=T(S);if(!t.test(N))throw new TypeError(`argument val is invalid: ${S}`);let C=v+"="+N;if(!_)return C;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);C+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);C+="; Domain="+_.domain}if(_.path){if(!s.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);C+="; Path="+_.path}if(_.expires){if(!x(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);C+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(C+="; HttpOnly"),_.secure&&(C+="; Secure"),_.partitioned&&(C+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return C}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function x(v){return a.call(v)==="[object Date]"}return cd}qM();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iw="popstate";function GM(e={}){function t(s,a){let{pathname:u,search:c,hash:d}=s.location;return W0("",{pathname:u,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Od(a)}return ZM(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QM(){return Math.random().toString(36).substring(2,10)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function W0(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nc(t):t,state:n,key:t&&t.key||s||QM()}}function Od({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function ZM(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,c=a.history,d="POP",h=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function x(){d="POP";let N=y(),C=N==null?null:N-g;g=N,h&&h({action:d,location:T.location,delta:C})}function v(N,C){d="PUSH";let M=W0(T.location,N,C);g=y()+1;let A=sw(M,g),L=T.createHref(M);try{c.pushState(A,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(L)}u&&h&&h({action:d,location:T.location,delta:1})}function S(N,C){d="REPLACE";let M=W0(T.location,N,C);g=y();let A=sw(M,g),L=T.createHref(M);c.replaceState(A,"",L),u&&h&&h({action:d,location:T.location,delta:0})}function _(N){let C=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof N=="string"?N:Od(N);return M=M.replace(/ $/,"%20"),Wt(C,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,C)}let T={get action(){return d},get location(){return e(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(iw,x),h=N,()=>{a.removeEventListener(iw,x),h=null}},createHref(N){return t(a,N)},createURL:_,encodeLocation(N){let C=_(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:S,go(N){return c.go(N)}};return T}function I_(e,t,n="/"){return JM(e,t,n,!1)}function JM(e,t,n,s){let a=typeof t=="string"?Nc(t):t,u=ra(a.pathname||"/",n);if(u==null)return null;let c=L_(e);eI(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=fI(u);d=uI(c[h],g,s)}return d}function L_(e,t=[],n=[],s=""){let a=(u,c,d)=>{let h={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let g=Js([s,h.relativePath]),y=n.concat(h);u.children&&u.children.length>0&&(Wt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),L_(u.children,t,y,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:aI(g,u.index),routesMeta:y})};return e.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,c);else for(let h of j_(u.path))a(u,c,h)}),t}function j_(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let c=j_(s.join("/")),d=[];return d.push(...c.map(h=>h===""?u:[u,h].join("/"))),a&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function eI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tI=/^:[\w-]+$/,nI=3,rI=2,iI=1,sI=10,oI=-2,ow=e=>e==="*";function aI(e,t){let n=e.split("/"),s=n.length;return n.some(ow)&&(s+=oI),t&&(s+=rI),n.filter(a=>!ow(a)).reduce((a,u)=>a+(tI.test(u)?nI:u===""?iI:sI),s)}function lI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function uI(e,t,n=!1){let{routesMeta:s}=e,a={},u="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],g=d===s.length-1,y=u==="/"?t:t.slice(u.length)||"/",x=ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),v=h.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=ag({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Js([u,x.pathname]),pathnameBase:gI(Js([u,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(u=Js([u,x.pathnameBase]))}return c}function ag(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=cI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],c=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:x},v)=>{if(y==="*"){let _=d[v]||"";c=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const S=d[v];return x&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function cI(e,t=!1,n=!0){Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function fI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function dI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Nc(e):e;return{pathname:n?n.startsWith("/")?n:hI(n,t):t,search:mI(s),hash:yI(a)}}function hI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function s0(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function O_(e){let t=pI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function $_(e,t,n,s=!1){let a;typeof e=="string"?a=Nc(e):(a={...e},Wt(!a.pathname||!a.pathname.includes("?"),s0("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),s0("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),s0("#","search","hash",a)));let u=e===""||a.pathname==="",c=u?"/":a.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;a.pathname=v.join("/")}d=x>=0?t[x]:"/"}let h=dI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),gI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var xI=["GET",...F_];new Set(xI);var Pc=P.createContext(null);Pc.displayName="DataRouter";var Dg=P.createContext(null);Dg.displayName="DataRouterState";var V_=P.createContext({isTransitioning:!1});V_.displayName="ViewTransition";var wI=P.createContext(new Map);wI.displayName="Fetchers";var SI=P.createContext(null);SI.displayName="Await";var hs=P.createContext(null);hs.displayName="Navigation";var Qd=P.createContext(null);Qd.displayName="Location";var oo=P.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var My=P.createContext(null);My.displayName="RouteError";function _I(e,{relative:t}={}){Wt(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(hs),{hash:a,pathname:u,search:c}=Jd(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:Js([n,u])),s.createHref({pathname:d,search:c,hash:a})}function Zd(){return P.useContext(Qd)!=null}function oa(){return Wt(Zd(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Qd).location}var z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B_(e){P.useContext(hs).static||P.useLayoutEffect(e)}function U_(){let{isDataRoute:e}=P.useContext(oo);return e?LI():EI()}function EI(){Wt(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Pc),{basename:t,navigator:n}=P.useContext(hs),{matches:s}=P.useContext(oo),{pathname:a}=oa(),u=JSON.stringify(O_(s)),c=P.useRef(!1);return B_(()=>{c.current=!0}),P.useCallback((h,g={})=>{if(Di(c.current,z_),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=$_(h,JSON.parse(u),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Js([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,u,a,e])}P.createContext(null);function Jd(e,{relative:t}={}){let{matches:n}=P.useContext(oo),{pathname:s}=oa(),a=JSON.stringify(O_(n));return P.useMemo(()=>$_(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function bI(e,t){return H_(e,t)}function H_(e,t,n,s){var C;Wt(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(hs),{matches:u}=P.useContext(oo),c=u[u.length-1],d=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";W_(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=oa(),v;if(t){let M=typeof t=="string"?Nc(t):t;Wt(g==="/"||((C=M.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=x;let S=v.pathname||"/",_=S;if(g!=="/"){let M=g.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=I_(e,{pathname:_});Di(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Di(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=PI(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Js([g,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Js([g,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,n,s);return t&&N?P.createElement(Qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function CI(){let e=II(),t=vI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:a},n):null,c)}var kI=P.createElement(CI,null),TI=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(oo.Provider,{value:this.props.routeContext},P.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:e,match:t,children:n}){let s=P.useContext(Pc);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(oo.Provider,{value:e},n)}function PI(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n==null?void 0:n.errors;if(u!=null){let h=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:y,errors:x}=n,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,g,y)=>{let x,v=!1,S=null,_=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||kI,c&&(d<0&&y===0?(W_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===y&&(v=!0,_=g.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,y+1)),N=()=>{let C;return x?C=S:v?C=_:g.route.Component?C=P.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=h,P.createElement(NI,{match:g,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?P.createElement(TI,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}function Iy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AI(e){let t=P.useContext(Pc);return Wt(t,Iy(e)),t}function RI(e){let t=P.useContext(Dg);return Wt(t,Iy(e)),t}function DI(e){let t=P.useContext(oo);return Wt(t,Iy(e)),t}function Ly(e){let t=DI(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function MI(){return Ly("useRouteId")}function II(){var s;let e=P.useContext(My),t=RI("useRouteError"),n=Ly("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function LI(){let{router:e}=AI("useNavigate"),t=Ly("useNavigate"),n=P.useRef(!1);return B_(()=>{n.current=!0}),P.useCallback(async(a,u={})=>{Di(n.current,z_),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var aw={};function W_(e,t,n){!t&&!aw[e]&&(aw[e]=!0,Di(!1,n))}P.memo(jI);function jI({routes:e,future:t,state:n}){return H_(e,void 0,n,t)}function md(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Wt(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:a,static:u,future:{}}),[c,a,u]);typeof n=="string"&&(n=Nc(n));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:v="default"}=n,S=P.useMemo(()=>{let _=ra(h,c);return _==null?null:{location:{pathname:_,search:g,hash:y,state:x,key:v},navigationType:s}},[c,h,g,y,x,v,s]);return Di(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(hs.Provider,{value:d},P.createElement(Qd.Provider,{children:t,value:S}))}function $I({children:e,location:t}){return bI(K0(e),t)}function K0(e,t=[]){let n=[];return P.Children.forEach(e,(s,a)=>{if(!P.isValidElement(s))return;let u=[...t,a];if(s.type===P.Fragment){n.push.apply(n,K0(s.props.children,u));return}Wt(s.type===md,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=K0(s.props.children,u)),n.push(c)}),n}var Up="get",Hp="application/x-www-form-urlencoded";function Mg(e){return e!=null&&typeof e.tagName=="string"}function FI(e){return Mg(e)&&e.tagName.toLowerCase()==="button"}function VI(e){return Mg(e)&&e.tagName.toLowerCase()==="form"}function zI(e){return Mg(e)&&e.tagName.toLowerCase()==="input"}function BI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UI(e,t){return e.button===0&&(!t||t==="_self")&&!BI(e)}function Y0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function HI(e,t){let n=Y0(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(u=>{n.append(a,u)})}),n}var Ip=null;function WI(){if(Ip===null)try{new FormData(document.createElement("form"),0),Ip=!1}catch{Ip=!0}return Ip}var KI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o0(e){return e!=null&&!KI.has(e)?(Di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):e}function YI(e,t){let n,s,a,u,c;if(VI(e)){let d=e.getAttribute("action");s=d?ra(d,t):null,n=e.getAttribute("method")||Up,a=o0(e.getAttribute("enctype"))||Hp,u=new FormData(e)}else if(FI(e)||zI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(s=h?ra(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Up,a=o0(e.getAttribute("formenctype"))||o0(d.getAttribute("enctype"))||Hp,u=new FormData(d,e),!WI()){let{name:g,type:y,value:x}=e;if(y==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,x)}}else{if(Mg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Up,s=null,a=Hp,c=e}return u&&a==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:c}}function jy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function XI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function GI(e,t,n){let s=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let c=await XI(u,n);return c.links?c.links():[]}return[]}));return eL(s.flat(1).filter(qI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lw(e,t,n,s,a,u){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>{var y;return n[g].pathname!==h.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==h.params["*"]};return u==="assets"?t.filter((h,g)=>c(h,g)||d(h,g)):u==="data"?t.filter((h,g)=>{var x;let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function QI(e,t){return ZI(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function ZI(e){return[...new Set(e)]}function JI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function eL(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let u=JSON.stringify(JI(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function tL(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nL(){let e=P.useContext(Pc);return jy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rL(){let e=P.useContext(Dg);return jy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Oy=P.createContext(void 0);Oy.displayName="FrameworkContext";function K_(){let e=P.useContext(Oy);return jy(e,"You must render this element inside a <HydratedRouter> element"),e}function iL(e,t){let n=P.useContext(Oy),[s,a]=P.useState(!1),[u,c]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:x}=t,v=P.useRef(null);P.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let T=C=>{C.forEach(M=>{c(M.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),P.useEffect(()=>{if(s){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[s]);let S=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?e!=="intent"?[u,v,{}]:[u,v,{onFocus:fd(d,S),onBlur:fd(h,_),onMouseEnter:fd(g,S),onMouseLeave:fd(y,_),onTouchStart:fd(x,S)}]:[!1,v,{}]}function fd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sL({page:e,...t}){let{router:n}=nL(),s=P.useMemo(()=>I_(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?P.createElement(aL,{page:e,matches:s,...t}):null}function oL(e){let{manifest:t,routeModules:n}=K_(),[s,a]=P.useState([]);return P.useEffect(()=>{let u=!1;return GI(e,t,n).then(c=>{u||a(c)}),()=>{u=!0}},[e,t,n]),s}function aL({page:e,matches:t,...n}){let s=oa(),{manifest:a,routeModules:u}=K_(),{loaderData:c,matches:d}=rL(),h=P.useMemo(()=>lw(e,t,d,a,s,"data"),[e,t,d,a,s]),g=P.useMemo(()=>lw(e,t,d,a,s,"assets"),[e,t,d,a,s]),y=P.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let S=new Set,_=!1;if(t.forEach(N=>{var M;let C=a.routes[N.route.id];!C||!C.hasLoader||(!h.some(A=>A.route.id===N.route.id)&&N.route.id in c&&((M=u[N.route.id])!=null&&M.shouldRevalidate)||C.hasClientLoader?_=!0:S.add(N.route.id))}),S.size===0)return[];let T=tL(e);return _&&S.size>0&&T.searchParams.set("_routes",t.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[c,s,a,h,t,e,u]),x=P.useMemo(()=>QI(g,a),[g,a]),v=oL(g);return P.createElement(P.Fragment,null,y.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:_})=>P.createElement("link",{key:S,..._})))}function lL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y_&&(window.__reactRouterVersion="7.1.3")}catch{}function uL({basename:e,children:t,window:n}){let s=P.useRef();s.current==null&&(s.current=GM({window:n,v5Compat:!0}));let a=s.current,[u,c]=P.useState({action:a.action,location:a.location}),d=P.useCallback(h=>{P.startTransition(()=>c(h))},[c]);return P.useLayoutEffect(()=>a.listen(d),[a,d]),P.createElement(OI,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q_=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:c,state:d,target:h,to:g,preventScrollReset:y,viewTransition:x,...v},S){let{basename:_}=P.useContext(hs),T=typeof g=="string"&&X_.test(g),N,C=!1;if(typeof g=="string"&&T&&(N=g,Y_))try{let q=new URL(window.location.href),ee=g.startsWith("//")?new URL(q.protocol+g):new URL(g),fe=ra(ee.pathname,_);ee.origin===q.origin&&fe!=null?g=fe+ee.search+ee.hash:C=!0}catch{Di(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=_I(g,{relative:a}),[A,L,z]=iL(s,v),X=hL(g,{replace:c,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:x});function O(q){t&&t(q),q.defaultPrevented||X(q)}let B=P.createElement("a",{...v,...z,href:N||M,onClick:C||u?t:O,ref:lL(S,L),target:h,"data-discover":!T&&n==="render"?"true":void 0});return A&&!T?P.createElement(P.Fragment,null,B,P.createElement(sL,{page:M})):B});q_.displayName="Link";var cL=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:c,viewTransition:d,children:h,...g},y){let x=Jd(c,{relative:g.relative}),v=oa(),S=P.useContext(Dg),{navigator:_,basename:T}=P.useContext(hs),N=S!=null&&vL(x)&&d===!0,C=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,M=v.pathname,A=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&T&&(A=ra(A,T)||A);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=M===C||!a&&M.startsWith(C)&&M.charAt(L)==="/",X=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),O={isActive:z,isPending:X,isTransitioning:N},B=z?t:void 0,q;typeof s=="function"?q=s(O):q=[s,z?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(O):u;return P.createElement(q_,{...g,"aria-current":B,className:q,ref:y,style:ee,to:c,viewTransition:d},typeof h=="function"?h(O):h)});cL.displayName="NavLink";var fL=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:u,method:c=Up,action:d,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:x,...v},S)=>{let _=mL(),T=yL(d,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&X_.test(d),M=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,z=(L==null?void 0:L.getAttribute("formmethod"))||c;_(L||A.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:a,state:u,relative:g,preventScrollReset:y,viewTransition:x})};return P.createElement("form",{ref:S,method:N,action:T,onSubmit:s?h:M,...v,"data-discover":!C&&e==="render"?"true":void 0})});fL.displayName="Form";function dL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(e){let t=P.useContext(Pc);return Wt(t,dL(e)),t}function hL(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:c}={}){let d=U_(),h=oa(),g=Jd(e,{relative:u});return P.useCallback(y=>{if(UI(y,t)){y.preventDefault();let x=n!==void 0?n:Od(h)===Od(g);d(e,{replace:x,state:s,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,g,n,s,t,e,a,u,c])}function Ig(e){Di(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(Y0(e)),n=P.useRef(!1),s=oa(),a=P.useMemo(()=>HI(s.search,n.current?null:t.current),[s.search]),u=U_(),c=P.useCallback((d,h)=>{const g=Y0(typeof d=="function"?d(a):d);n.current=!0,u("?"+g,h)},[u,a]);return[a,c]}var pL=0,gL=()=>`__${String(++pL)}__`;function mL(){let{router:e}=G_("useSubmit"),{basename:t}=P.useContext(hs),n=MI();return P.useCallback(async(s,a={})=>{let{action:u,method:c,encType:d,formData:h,body:g}=YI(s,t);if(a.navigate===!1){let y=a.fetcherKey||gL();await e.fetch(y,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function yL(e,{relative:t}={}){let{basename:n}=P.useContext(hs),s=P.useContext(oo);Wt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={...Jd(e||".",{relative:t})},c=oa();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let y=d.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Js([n,u.pathname])),Od(u)}function vL(e,t={}){let n=P.useContext(V_);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=G_("useViewTransitionState"),a=Jd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ra(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ra(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ag(a.pathname,c)!=null||ag(a.pathname,u)!=null}new TextEncoder;function Q_(e,t){return function(){return e.apply(t,arguments)}}const{toString:xL}=Object.prototype,{getPrototypeOf:$y}=Object,Lg=(e=>t=>{const n=xL.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=e=>(e=e.toLowerCase(),t=>Lg(t)===e),jg=e=>t=>typeof t===e,{isArray:Ac}=Array,$d=jg("undefined");function wL(e){return e!==null&&!$d(e)&&e.constructor!==null&&!$d(e.constructor)&&Vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z_=Ii("ArrayBuffer");function SL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z_(e.buffer),t}const _L=jg("string"),Vr=jg("function"),J_=jg("number"),Og=e=>e!==null&&typeof e=="object",EL=e=>e===!0||e===!1,Wp=e=>{if(Lg(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bL=Ii("Date"),CL=Ii("File"),kL=Ii("Blob"),TL=Ii("FileList"),NL=e=>Og(e)&&Vr(e.pipe),PL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Vr(e.append)&&((t=Lg(e))==="formdata"||t==="object"&&Vr(e.toString)&&e.toString()==="[object FormData]"))},AL=Ii("URLSearchParams"),[RL,DL,ML,IL]=["ReadableStream","Request","Response","Headers"].map(Ii),LL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Ac(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;let d;for(s=0;s<c;s++)d=u[s],t.call(null,e[d],d,e)}}function eE(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tE=e=>!$d(e)&&e!==ml;function X0(){const{caseless:e}=tE(this)&&this||{},t={},n=(s,a)=>{const u=e&&eE(t,a)||a;Wp(t[u])&&Wp(s)?t[u]=X0(t[u],s):Wp(s)?t[u]=X0({},s):Ac(s)?t[u]=s.slice():t[u]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&eh(arguments[s],n);return t}const jL=(e,t,n,{allOwnKeys:s}={})=>(eh(t,(a,u)=>{n&&Vr(a)?e[u]=Q_(a,n):e[u]=a},{allOwnKeys:s}),e),OL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$L=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},FL=(e,t,n,s)=>{let a,u,c;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)c=a[u],(!s||s(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&$y(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},VL=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},zL=e=>{if(!e)return null;if(Ac(e))return e;let t=e.length;if(!J_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},BL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),UL=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=s.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},HL=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},WL=Ii("HTMLFormElement"),KL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),uw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),YL=Ii("RegExp"),nE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};eh(n,(a,u)=>{let c;(c=t(a,u,e))!==!1&&(s[u]=c||a)}),Object.defineProperties(e,s)},XL=e=>{nE(e,(t,n)=>{if(Vr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Vr(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qL=(e,t)=>{const n={},s=a=>{a.forEach(u=>{n[u]=!0})};return Ac(e)?s(e):s(String(e).split(t)),n},GL=()=>{},QL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,a0="abcdefghijklmnopqrstuvwxyz",cw="0123456789",rE={DIGIT:cw,ALPHA:a0,ALPHA_DIGIT:a0+a0.toUpperCase()+cw},ZL=(e=16,t=rE.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function JL(e){return!!(e&&Vr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const e3=e=>{const t=new Array(10),n=(s,a)=>{if(Og(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[a]=s;const u=Ac(s)?[]:{};return eh(s,(c,d)=>{const h=n(c,a+1);!$d(h)&&(u[d]=h)}),t[a]=void 0,u}}return s};return n(e,0)},t3=Ii("AsyncFunction"),n3=e=>e&&(Og(e)||Vr(e))&&Vr(e.then)&&Vr(e.catch),iE=((e,t)=>e?setImmediate:t?((n,s)=>(ml.addEventListener("message",({source:a,data:u})=>{a===ml&&u===n&&s.length&&s.shift()()},!1),a=>{s.push(a),ml.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vr(ml.postMessage)),r3=typeof queueMicrotask<"u"?queueMicrotask.bind(ml):typeof process<"u"&&process.nextTick||iE,de={isArray:Ac,isArrayBuffer:Z_,isBuffer:wL,isFormData:PL,isArrayBufferView:SL,isString:_L,isNumber:J_,isBoolean:EL,isObject:Og,isPlainObject:Wp,isReadableStream:RL,isRequest:DL,isResponse:ML,isHeaders:IL,isUndefined:$d,isDate:bL,isFile:CL,isBlob:kL,isRegExp:YL,isFunction:Vr,isStream:NL,isURLSearchParams:AL,isTypedArray:BL,isFileList:TL,forEach:eh,merge:X0,extend:jL,trim:LL,stripBOM:OL,inherits:$L,toFlatObject:FL,kindOf:Lg,kindOfTest:Ii,endsWith:VL,toArray:zL,forEachEntry:UL,matchAll:HL,isHTMLForm:WL,hasOwnProperty:uw,hasOwnProp:uw,reduceDescriptors:nE,freezeMethods:XL,toObjectSet:qL,toCamelCase:KL,noop:GL,toFiniteNumber:QL,findKey:eE,global:ml,isContextDefined:tE,ALPHABET:rE,generateString:ZL,isSpecCompliantForm:JL,toJSONObject:e3,isAsyncFn:t3,isThenable:n3,setImmediate:iE,asap:r3};function nt(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}de.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const sE=nt.prototype,oE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oE[e]={value:e}});Object.defineProperties(nt,oE);Object.defineProperty(sE,"isAxiosError",{value:!0});nt.from=(e,t,n,s,a,u)=>{const c=Object.create(sE);return de.toFlatObject(e,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),nt.call(c,e.message,t,n,s,a),c.cause=e,c.name=e.name,u&&Object.assign(c,u),c};const i3=null;function q0(e){return de.isPlainObject(e)||de.isArray(e)}function aE(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function fw(e,t,n){return e?e.concat(t).map(function(a,u){return a=aE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function s3(e){return de.isArray(e)&&!e.some(q0)}const o3=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function $g(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,N){return!de.isUndefined(N[T])});const s=n.metaTokens,a=n.visitor||y,u=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function g(_){if(_===null)return"";if(de.isDate(_))return _.toISOString();if(!h&&de.isBlob(_))throw new nt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(_)||de.isTypedArray(_)?h&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function y(_,T,N){let C=_;if(_&&!N&&typeof _=="object"){if(de.endsWith(T,"{}"))T=s?T:T.slice(0,-2),_=JSON.stringify(_);else if(de.isArray(_)&&s3(_)||(de.isFileList(_)||de.endsWith(T,"[]"))&&(C=de.toArray(_)))return T=aE(T),C.forEach(function(A,L){!(de.isUndefined(A)||A===null)&&t.append(c===!0?fw([T],L,u):c===null?T:T+"[]",g(A))}),!1}return q0(_)?!0:(t.append(fw(N,T,u),g(_)),!1)}const x=[],v=Object.assign(o3,{defaultVisitor:y,convertValue:g,isVisitable:q0});function S(_,T){if(!de.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));x.push(_),de.forEach(_,function(C,M){(!(de.isUndefined(C)||C===null)&&a.call(t,C,de.isString(M)?M.trim():M,T,v))===!0&&S(C,T?T.concat(M):[M])}),x.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return S(e),t}function dw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Fy(e,t){this._pairs=[],e&&$g(e,this,t)}const lE=Fy.prototype;lE.append=function(t,n){this._pairs.push([t,n])};lE.toString=function(t){const n=t?function(s){return t.call(this,s,dw)}:dw;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function a3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uE(e,t,n){if(!t)return e;const s=n&&n.encode||a3;de.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=de.isURLSearchParams(t)?t.toString():new Fy(t,n).toString(s),u){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class hw{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(s){s!==null&&t(s)})}}const cE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l3=typeof URLSearchParams<"u"?URLSearchParams:Fy,u3=typeof FormData<"u"?FormData:null,c3=typeof Blob<"u"?Blob:null,f3={isBrowser:!0,classes:{URLSearchParams:l3,FormData:u3,Blob:c3},protocols:["http","https","file","blob","url","data"]},Vy=typeof window<"u"&&typeof document<"u",G0=typeof navigator=="object"&&navigator||void 0,d3=Vy&&(!G0||["ReactNative","NativeScript","NS"].indexOf(G0.product)<0),h3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p3=Vy&&window.location.href||"http://localhost",g3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserEnv:d3,hasStandardBrowserWebWorkerEnv:h3,navigator:G0,origin:p3},Symbol.toStringTag,{value:"Module"})),Kn={...g3,...f3};function m3(e,t){return $g(e,new Kn.classes.URLSearchParams,Object.assign({visitor:function(n,s,a,u){return Kn.isNode&&de.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function y3(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function v3(e){const t={},n=Object.keys(e);let s;const a=n.length;let u;for(s=0;s<a;s++)u=n[s],t[u]=e[u];return t}function fE(e){function t(n,s,a,u){let c=n[u++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=u>=n.length;return c=!c&&de.isArray(a)?a.length:c,h?(de.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!d):((!a[c]||!de.isObject(a[c]))&&(a[c]=[]),t(n,s,a[c],u)&&de.isArray(a[c])&&(a[c]=v3(a[c])),!d)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(s,a)=>{t(y3(s),a,n,0)}),n}return null}function x3(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const th={transitional:cE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,u=de.isObject(t);if(u&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return a?JSON.stringify(fE(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t)||de.isReadableStream(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return m3(t,this.formSerializer).toString();if((d=de.isFileList(t))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return $g(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),x3(t)):t}],transformResponse:[function(t){const n=this.transitional||th.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(de.isResponse(t)||de.isReadableStream(t))return t;if(t&&de.isString(t)&&(s&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?nt.from(d,nt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{th.headers[e]={}});const w3=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S3=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!n||t[n]&&w3[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},pw=Symbol("internals");function dd(e){return e&&String(e).trim().toLowerCase()}function Kp(e){return e===!1||e==null?e:de.isArray(e)?e.map(Kp):String(e)}function _3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const E3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function l0(e,t,n,s,a){if(de.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!de.isString(t)){if(de.isString(s))return t.indexOf(s)!==-1;if(de.isRegExp(s))return s.test(t)}}function b3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function C3(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,u,c){return this[s].call(this,t,a,u,c)},configurable:!0})})}class br{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function u(d,h,g){const y=dd(h);if(!y)throw new Error("header name must be a non-empty string");const x=de.findKey(a,y);(!x||a[x]===void 0||g===!0||g===void 0&&a[x]!==!1)&&(a[x||h]=Kp(d))}const c=(d,h)=>de.forEach(d,(g,y)=>u(g,y,h));if(de.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(de.isString(t)&&(t=t.trim())&&!E3(t))c(S3(t),n);else if(de.isHeaders(t))for(const[d,h]of t.entries())u(h,d,s);else t!=null&&u(n,t,s);return this}get(t,n){if(t=dd(t),t){const s=de.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return _3(a);if(de.isFunction(n))return n.call(this,a,s);if(de.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dd(t),t){const s=de.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||l0(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function u(c){if(c=dd(c),c){const d=de.findKey(s,c);d&&(!n||l0(s,s[d],d,n))&&(delete s[d],a=!0)}}return de.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const u=n[s];(!t||l0(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,s={};return de.forEach(this,(a,u)=>{const c=de.findKey(s,u);if(c){n[c]=Kp(a),delete n[u];return}const d=t?b3(u):String(u).trim();d!==u&&delete n[u],n[d]=Kp(a),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&de.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[pw]=this[pw]={accessors:{}}).accessors,a=this.prototype;function u(c){const d=dd(c);s[d]||(C3(a,c),s[d]=!0)}return de.isArray(t)?t.forEach(u):u(t),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(br.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});de.freezeMethods(br);function u0(e,t){const n=this||th,s=t||n,a=br.from(s.headers);let u=s.data;return de.forEach(e,function(d){u=d.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function dE(e){return!!(e&&e.__CANCEL__)}function Rc(e,t,n){nt.call(this,e??"canceled",nt.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Rc,nt,{__CANCEL__:!0});function hE(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function k3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function T3(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,u=0,c;return t=t!==void 0?t:1e3,function(h){const g=Date.now(),y=s[u];c||(c=g),n[a]=h,s[a]=g;let x=u,v=0;for(;x!==a;)v+=n[x++],x=x%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),g-c<t)return;const S=y&&g-y;return S?Math.round(v*1e3/S):void 0}}function N3(e,t){let n=0,s=1e3/t,a,u;const c=(g,y=Date.now())=>{n=y,a=null,u&&(clearTimeout(u),u=null),e.apply(null,g)};return[(...g)=>{const y=Date.now(),x=y-n;x>=s?c(g,y):(a=g,u||(u=setTimeout(()=>{u=null,c(a)},s-x)))},()=>a&&c(a)]}const lg=(e,t,n=3)=>{let s=0;const a=T3(50,250);return N3(u=>{const c=u.loaded,d=u.lengthComputable?u.total:void 0,h=c-s,g=a(h),y=c<=d;s=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:g||void 0,estimated:g&&d&&y?(d-c)/g:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},n)},gw=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},mw=e=>(...t)=>de.asap(()=>e(...t)),P3=Kn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,A3=Kn.hasStandardBrowserEnv?{write(e,t,n,s,a,u){const c=[e+"="+encodeURIComponent(t)];de.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),de.isString(s)&&c.push("path="+s),de.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pE(e,t){return e&&!R3(t)?D3(e,t):t}const yw=e=>e instanceof br?{...e}:e;function bl(e,t){t=t||{};const n={};function s(g,y,x,v){return de.isPlainObject(g)&&de.isPlainObject(y)?de.merge.call({caseless:v},g,y):de.isPlainObject(y)?de.merge({},y):de.isArray(y)?y.slice():y}function a(g,y,x,v){if(de.isUndefined(y)){if(!de.isUndefined(g))return s(void 0,g,x,v)}else return s(g,y,x,v)}function u(g,y){if(!de.isUndefined(y))return s(void 0,y)}function c(g,y){if(de.isUndefined(y)){if(!de.isUndefined(g))return s(void 0,g)}else return s(void 0,y)}function d(g,y,x){if(x in t)return s(g,y);if(x in e)return s(void 0,g)}const h={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,y,x)=>a(yw(g),yw(y),x,!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(y){const x=h[y]||a,v=x(e[y],t[y],y);de.isUndefined(v)&&x!==d||(n[y]=v)}),n}const gE=e=>{const t=bl({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:u,headers:c,auth:d}=t;t.headers=c=br.from(c),t.url=uE(pE(t.baseURL,t.url),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(de.isFormData(n)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[g,...y]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...y].join("; "))}}if(Kn.hasStandardBrowserEnv&&(s&&de.isFunction(s)&&(s=s(t)),s||s!==!1&&P3(t.url))){const g=a&&u&&A3.read(u);g&&c.set(a,g)}return t},M3=typeof XMLHttpRequest<"u",I3=M3&&function(e){return new Promise(function(n,s){const a=gE(e);let u=a.data;const c=br.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:g}=a,y,x,v,S,_;function T(){S&&S(),_&&_(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function C(){if(!N)return;const A=br.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),z={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:A,config:e,request:N};hE(function(O){n(O),T()},function(O){s(O),T()},z),N=null}"onloadend"in N?N.onloadend=C:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(C)},N.onabort=function(){N&&(s(new nt("Request aborted",nt.ECONNABORTED,e,N)),N=null)},N.onerror=function(){s(new nt("Network Error",nt.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let L=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const z=a.transitional||cE;a.timeoutErrorMessage&&(L=a.timeoutErrorMessage),s(new nt(L,z.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,e,N)),N=null},u===void 0&&c.setContentType(null),"setRequestHeader"in N&&de.forEach(c.toJSON(),function(L,z){N.setRequestHeader(z,L)}),de.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),d&&d!=="json"&&(N.responseType=a.responseType),g&&([v,_]=lg(g,!0),N.addEventListener("progress",v)),h&&N.upload&&([x,S]=lg(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(y=A=>{N&&(s(!A||A.type?new Rc(null,e,N):A),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const M=k3(a.url);if(M&&Kn.protocols.indexOf(M)===-1){s(new nt("Unsupported protocol "+M+":",nt.ERR_BAD_REQUEST,e));return}N.send(u||null)})},L3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const u=function(g){if(!a){a=!0,d();const y=g instanceof Error?g:this.reason;s.abort(y instanceof nt?y:new Rc(y instanceof Error?y.message:y))}};let c=t&&setTimeout(()=>{c=null,u(new nt(`timeout ${t} of ms exceeded`,nt.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),e=null)};e.forEach(g=>g.addEventListener("abort",u));const{signal:h}=s;return h.unsubscribe=()=>de.asap(d),h}},j3=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},O3=async function*(e,t){for await(const n of $3(e))yield*j3(n,t)},$3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},vw=(e,t,n,s)=>{const a=O3(e,t);let u=0,c,d=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:g,value:y}=await a.next();if(g){d(),h.close();return}let x=y.byteLength;if(n){let v=u+=x;n(v)}h.enqueue(new Uint8Array(y))}catch(g){throw d(g),g}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},Fg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mE=Fg&&typeof ReadableStream=="function",F3=Fg&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},V3=mE&&yE(()=>{let e=!1;const t=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),xw=64*1024,Q0=mE&&yE(()=>de.isReadableStream(new Response("").body)),ug={stream:Q0&&(e=>e.body)};Fg&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ug[t]&&(ug[t]=de.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new nt(`Response type '${t}' is not supported`,nt.ERR_NOT_SUPPORT,s)})})})(new Response);const z3=async e=>{if(e==null)return 0;if(de.isBlob(e))return e.size;if(de.isSpecCompliantForm(e))return(await new Request(Kn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(de.isArrayBufferView(e)||de.isArrayBuffer(e))return e.byteLength;if(de.isURLSearchParams(e)&&(e=e+""),de.isString(e))return(await F3(e)).byteLength},B3=async(e,t)=>{const n=de.toFiniteNumber(e.getContentLength());return n??z3(t)},U3=Fg&&(async e=>{let{url:t,method:n,data:s,signal:a,cancelToken:u,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:v}=gE(e);g=g?(g+"").toLowerCase():"text";let S=L3([a,u&&u.toAbortSignal()],c),_;const T=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let N;try{if(h&&V3&&n!=="get"&&n!=="head"&&(N=await B3(y,s))!==0){let z=new Request(t,{method:"POST",body:s,duplex:"half"}),X;if(de.isFormData(s)&&(X=z.headers.get("content-type"))&&y.setContentType(X),z.body){const[O,B]=gw(N,lg(mw(h)));s=vw(z.body,xw,O,B)}}de.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;_=new Request(t,{...v,signal:S,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:C?x:void 0});let M=await fetch(_);const A=Q0&&(g==="stream"||g==="response");if(Q0&&(d||A&&T)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=M[q]});const X=de.toFiniteNumber(M.headers.get("content-length")),[O,B]=d&&gw(X,lg(mw(d),!0))||[];M=new Response(vw(M.body,xw,O,()=>{B&&B(),T&&T()}),z)}g=g||"text";let L=await ug[de.findKey(ug,g)||"text"](M,e);return!A&&T&&T(),await new Promise((z,X)=>{hE(z,X,{data:L,headers:br.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:_})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,e,_),{cause:C.cause||C}):nt.from(C,C&&C.code,e,_)}}),Z0={http:i3,xhr:I3,fetch:U3};de.forEach(Z0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ww=e=>`- ${e}`,H3=e=>de.isFunction(e)||e===null||e===!1,vE={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,s;const a={};for(let u=0;u<t;u++){n=e[u];let c;if(s=n,!H3(n)&&(s=Z0[(c=String(n)).toLowerCase()],s===void 0))throw new nt(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+u]=s}if(!s){const u=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?u.length>1?`since :
`+u.map(ww).join(`
`):" "+ww(u[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Z0};function c0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rc(null,e)}function Sw(e){return c0(e),e.headers=br.from(e.headers),e.data=u0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vE.getAdapter(e.adapter||th.adapter)(e).then(function(s){return c0(e),s.data=u0.call(e,e.transformResponse,s),s.headers=br.from(s.headers),s},function(s){return dE(s)||(c0(e),s&&s.response&&(s.response.data=u0.call(e,e.transformResponse,s.response),s.response.headers=br.from(s.response.headers))),Promise.reject(s)})}const xE="1.7.9",Vg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vg[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const _w={};Vg.transitional=function(t,n,s){function a(u,c){return"[Axios v"+xE+"] Transitional option '"+u+"'"+c+(s?". "+s:"")}return(u,c,d)=>{if(t===!1)throw new nt(a(c," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!_w[c]&&(_w[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,c,d):!0}};Vg.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function W3(e,t,n){if(typeof e!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const u=s[a],c=t[u];if(c){const d=e[u],h=d===void 0||c(d,u,e);if(h!==!0)throw new nt("option "+u+" must be "+h,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+u,nt.ERR_BAD_OPTION)}}const Yp={assertOptions:W3,validators:Vg},ls=Yp.validators;class wl{constructor(t){this.defaults=t,this.interceptors={request:new hw,response:new hw}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=bl(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:u}=n;s!==void 0&&Yp.assertOptions(s,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),a!=null&&(de.isFunction(a)?n.paramsSerializer={serialize:a}:Yp.assertOptions(a,{encode:ls.function,serialize:ls.function},!0)),Yp.assertOptions(n,{baseUrl:ls.spelling("baseURL"),withXsrfToken:ls.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=u&&de.merge(u.common,u[n.method]);u&&de.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),n.headers=br.concat(c,u);const d=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});let y,x=0,v;if(!h){const _=[Sw.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,g),v=_.length,y=Promise.resolve(n);x<v;)y=y.then(_[x++],_[x++]);return y}v=d.length;let S=n;for(x=0;x<v;){const _=d[x++],T=d[x++];try{S=_(S)}catch(N){T.call(this,N);break}}try{y=Sw.call(this,S)}catch(_){return Promise.reject(_)}for(x=0,v=g.length;x<v;)y=y.then(g[x++],g[x++]);return y}getUri(t){t=bl(this.defaults,t);const n=pE(t.baseURL,t.url);return uE(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){wl.prototype[t]=function(n,s){return this.request(bl(s||{},{method:t,url:n,data:(s||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(s){return function(u,c,d){return this.request(bl(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}wl.prototype[t]=n(),wl.prototype[t+"Form"]=n(!0)});class zy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(a=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](a);s._listeners=null}),this.promise.then=a=>{let u;const c=new Promise(d=>{s.subscribe(d),u=d}).then(a);return c.cancel=function(){s.unsubscribe(u)},c},t(function(u,c,d){s.reason||(s.reason=new Rc(u,c,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new zy(function(a){t=a}),cancel:t}}}function K3(e){return function(n){return e.apply(null,n)}}function Y3(e){return de.isObject(e)&&e.isAxiosError===!0}const J0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J0).forEach(([e,t])=>{J0[t]=e});function wE(e){const t=new wl(e),n=Q_(wl.prototype.request,t);return de.extend(n,wl.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return wE(bl(e,a))},n}const Ot=wE(th);Ot.Axios=wl;Ot.CanceledError=Rc;Ot.CancelToken=zy;Ot.isCancel=dE;Ot.VERSION=xE;Ot.toFormData=$g;Ot.AxiosError=nt;Ot.Cancel=Ot.CanceledError;Ot.all=function(t){return Promise.all(t)};Ot.spread=K3;Ot.isAxiosError=Y3;Ot.mergeConfig=bl;Ot.AxiosHeaders=br;Ot.formToJSON=e=>fE(de.isHTMLForm(e)?new FormData(e):e);Ot.getAdapter=vE.getAdapter;Ot.HttpStatusCode=J0;Ot.default=Ot;const SE=P.createContext(void 0),X3=({backend:e,condition:t,children:n})=>{const[s,a]=P.useState(null),[u,c]=P.useState("logging in"),[d,h]=P.useState(!1),[g]=Ig(),y=g.get("user"),x=g.get("canvas"),v=["shm","elaine","ethan","sophia","bob"],S=async(T,N)=>{try{const C=await fetch(`${e}/api/add-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:T,password:N})}),M=await C.json();C.ok?console.log(`User added: ${T}`):console.error(`Error adding user: ${M.error}`)}catch(C){console.error("Error adding user:",C)}},_=async(T,N)=>{if(N=N||"",T===""){c("logged out");return}if(!y){const C=new URL(window.location.href);C.searchParams.set("user",T),x&&C.searchParams.set("canvas",x),window.location.href=C.toString();return}try{const C=await fetch(`${e}/api/list-users`),M=await C.json();if(C.ok)if(M.users.some(L=>L.userId===y))a(y),console.log(`User logged in: ${y}...`),localStorage.setItem("last_userID",y),localStorage.setItem("last_password",N),c("logged in");else{console.error(`User does not exist: ${y}`);const L=new URL(window.location.href);L.searchParams.delete("user"),window.location.href=L.toString()}else console.error(`Error fetching users: ${M.error}`),c("logged out")}catch(C){console.error("Error logging in user:",C),c("logged out")}};return P.useEffect(()=>{y||(console.log("no user param, operating in logged-out mode."),c("logged out")),y&&!d&&(console.log("Attempting login from url: "+y),_(y)),h(!0),console.log(`Connecting to ${e.includes("local")?"local":e} backend`)},[e,s,y,x]),k.jsx(SE.Provider,{value:{backend:e,userID:s,loginStatus:u,handleUserLogin:_,addUser:S,admins:v,condition:t},children:n})},Li=()=>{const e=P.useContext(SE);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},_E=P.createContext(void 0),q3=({children:e})=>{const{userID:t,backend:n,loginStatus:s}=Li(),[a,u]=P.useState([]),[c,d]=P.useState("image"),h=async _=>{if(_.type=="image"?d("image"):d("text"),!a.some(T=>T.content===_.content)&&(console.log("Adding node to palette:",_),u(T=>[...T,_]),s==="logged in"))try{const T=await fetch(`${n}/api/add-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:_})}),N=await T.json();if(!T.ok)throw new Error(N.error||"Failed to add clipping");console.log("Clipping added to database:",N)}catch(T){console.error("Error adding clipping to database:",T)}},g=_=>{if(u(T=>T.filter(N=>N.id!==_)),s==="logged in")try{fetch(`${n}/api/remove-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:{id:_}})})}catch(T){console.error("Error removing clipping from database:",T)}else s==="logged out"&&v()},y=async _=>{try{const T=await fetch(`${n}/api/get-clippings/${_}`),N=await T.json();if(!T.ok)throw new Error(N.error||"Failed to load clippings");if(!Array.isArray(N.clippings)||N.clippings.length===0){console.log("No clippings found in database");return}u(N.clippings),console.log("Clippings loaded from database:",N.clippings)}catch(T){console.error("Error loading clippings from database:",T)}},x=()=>{try{const _=localStorage.getItem("palette");_?(console.log("Found palette in browser storage:",JSON.parse(_)),u(JSON.parse(_))):console.warn("No palette found in browser storage.")}catch(_){console.error("Error loading palette from browser:",_)}},v=()=>{try{localStorage.setItem("palette",JSON.stringify(a)),console.log("Palette saved to browser storage:",a)}catch(_){console.error("Error saving palette to browser:",_)}},S=()=>a.length;return P.useEffect(()=>{s==="logged in"&&t?y(t):s==="logged out"&&x()},[t,s]),P.useEffect(()=>{s==="logged out"&&v()},[a]),k.jsx(_E.Provider,{value:{clippedNodes:a,setClippedNodes:u,addClippedNode:h,removeNode:g,loadPalette:y,activeTab:c,setActiveTab:d,getNextPaletteIndex:S},children:e})},By=()=>{const e=P.useContext(_E);if(!e)throw new Error("usePaletteContext must be used within a PaletteProvider");return e},EE=P.createContext(void 0),G3=({children:e})=>{const[t,n]=P.useState("default"),[s,a]=P.useState({}),[u,c]=P.useState({x:0,y:0});return k.jsx(EE.Provider,{value:{draggableType:t,setDraggableType:n,draggableData:s,setDraggableData:a,dragStartPosition:u,setDragStartPosition:c},children:e})},ps=()=>{const e=P.useContext(EE);if(e===void 0)throw new Error("useDnD must be used within a DnDProvider");return e},bE=P.createContext({});function Q3(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const Uy=P.createContext(null),CE=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Z3(e=!0){const t=P.useContext(Uy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,u=P.useId();P.useEffect(()=>{e&&a(u)},[e]);const c=P.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,c]:[!0]}const Hy=typeof window<"u",J3=Hy?P.useLayoutEffect:P.useEffect,zr=e=>e;let ey=zr;function Wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const bc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},eo=e=>e*1e3,to=e=>e/1e3,e4={skipAnimations:!1,useManualTiming:!1},Lp=["read","resolveKeyframes","update","preRender","render","postRender"];function t4(e,t){let n=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,x=!1,v=!1)=>{const _=v&&a?n:s;return x&&c.add(y),_.has(y)||_.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){u=!0;return}a=!0,[n,s]=[s,n],n.forEach(h),n.clear(),a=!1,u&&(u=!1,g.process(y))}};return g}const n4=40;function kE(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Lp.reduce((C,M)=>(C[M]=t4(u),C),{}),{read:d,resolveKeyframes:h,update:g,preRender:y,render:x,postRender:v}=c,S=()=>{const C=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(C-a.timestamp,n4),1),a.timestamp=C,a.isProcessing=!0,d.process(a),h.process(a),g.process(a),y.process(a),x.process(a),v.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(S))},_=()=>{n=!0,s=!0,a.isProcessing||e(S)};return{schedule:Lp.reduce((C,M)=>{const A=c[M];return C[M]=(L,z=!1,X=!1)=>(n||_(),A.schedule(L,z,X)),C},{}),cancel:C=>{for(let M=0;M<Lp.length;M++)c[Lp[M]].cancel(C)},state:a,steps:c}}const{schedule:It,cancel:ia,state:jn,steps:f0}=kE(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),TE=P.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cc={};for(const e in Ew)Cc[e]={isEnabled:t=>Ew[e].some(n=>!!t[n])};function r4(e){for(const t in e)Cc[t]={...Cc[t],...e[t]}}const i4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i4.has(e)}let NE=e=>!cg(e);function s4(e){e&&(NE=t=>t.startsWith("on")?!cg(t):e(t))}try{s4(require("@emotion/is-prop-valid").default)}catch{}function o4(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(NE(a)||n===!0&&cg(a)||!t&&!cg(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function a4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const zg=P.createContext({});function Bg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fd(e){return typeof e=="string"||Array.isArray(e)}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Ky];function Ug(e){return Bg(e.animate)||Yy.some(t=>Fd(e[t]))}function PE(e){return!!(Ug(e)||e.variants)}function l4(e,t){if(Ug(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Fd(n)?n:void 0,animate:Fd(s)?s:void 0}}return e.inherit!==!1?t:{}}function u4(e){const{initial:t,animate:n}=l4(e,P.useContext(zg));return P.useMemo(()=>({initial:t,animate:n}),[bw(t),bw(n)])}function bw(e){return Array.isArray(e)?e.join(" "):e}const c4=Symbol.for("motionComponentSymbol");function fc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function f4(e,t,n){return P.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):fc(n)&&(n.current=s))},[t])}const Xy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d4="framerAppearId",AE="data-"+Xy(d4),{schedule:qy,cancel:CF}=kE(queueMicrotask,!1),RE=P.createContext({});function h4(e,t,n,s,a){var u,c;const{visualElement:d}=P.useContext(zg),h=P.useContext(TE),g=P.useContext(Uy),y=P.useContext(CE).reducedMotion,x=P.useRef(null);s=s||h.renderer,!x.current&&s&&(x.current=s(e,{visualState:t,parent:d,props:n,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:y}));const v=x.current,S=P.useContext(RE);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&p4(x.current,n,a,S);const _=P.useRef(!1);P.useInsertionEffect(()=>{v&&_.current&&v.update(n,g)});const T=n[AE],N=P.useRef(!!T&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,T))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,T)));return J3(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),qy.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),P.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,T)}),N.current=!1))}),v}function p4(e,t,n,s){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:DE(e.parent)),e.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&fc(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:g})}function DE(e){if(e)return e.options.allowProjection!==!1?e.projection:DE(e.parent)}function g4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){var u,c;e&&r4(e);function d(g,y){let x;const v={...P.useContext(CE),...g,layoutId:m4(g)},{isStatic:S}=v,_=u4(g),T=s(g,S);if(!S&&Hy){y4();const N=v4(v);x=N.MeasureLayout,_.visualElement=h4(a,T,v,t,N.ProjectionNode)}return k.jsxs(zg.Provider,{value:_,children:[x&&_.visualElement?k.jsx(x,{visualElement:_.visualElement,...v}):null,n(a,g,f4(T,_.visualElement,y),T,S,_.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&c!==void 0?c:""})`}`;const h=P.forwardRef(d);return h[c4]=a,h}function m4({layoutId:e}){const t=P.useContext(bE).id;return t&&e!==void 0?t+"-"+e:e}function y4(e,t){P.useContext(TE).strict}function v4(e){const{drag:t,layout:n}=Cc;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ME=e=>t=>typeof t=="string"&&t.startsWith(e),Gy=ME("--"),x4=ME("var(--"),Qy=e=>x4(e)?w4.test(e.split("/*")[0].trim()):!1,w4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vd={};function S4(e){for(const t in e)Vd[t]=e[t],Gy(t)&&(Vd[t].isCSSVariable=!0)}const Dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cl=new Set(Dc);function IE(e,{layout:t,layoutId:n}){return Cl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vd[e]||e==="opacity")}const Yn=e=>!!(e&&e.getVelocity),LE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ro=(e,t,n)=>n>t?t:n<e?e:n,Mc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zd={...Mc,transform:e=>ro(0,1,e)},jp={...Mc,default:1},nh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zo=nh("deg"),cs=nh("%"),Ze=nh("px"),_4=nh("vh"),E4=nh("vw"),Cw={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},b4={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze},C4={rotate:Zo,rotateX:Zo,rotateY:Zo,rotateZ:Zo,scale:jp,scaleX:jp,scaleY:jp,scaleZ:jp,skew:Zo,skewX:Zo,skewY:Zo,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:zd,originX:Cw,originY:Cw,originZ:Ze},kw={...Mc,transform:Math.round},Zy={...b4,...C4,zIndex:kw,size:Ze,fillOpacity:zd,strokeOpacity:zd,numOctaves:kw},k4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T4=Dc.length;function N4(e,t,n){let s="",a=!0;for(let u=0;u<T4;u++){const c=Dc[u],d=e[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const g=LE(d,Zy[c]);if(!h){a=!1;const y=k4[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function Jy(e,t,n){const{style:s,vars:a,transformOrigin:u}=e;let c=!1,d=!1;for(const h in t){const g=t[h];if(Cl.has(h)){c=!0;continue}else if(Gy(h)){a[h]=g;continue}else{const y=LE(g,Zy[h]);h.startsWith("origin")?(d=!0,u[h]=y):s[h]=y}}if(t.transform||(c||n?s.transform=N4(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:g="50%",originZ:y=0}=u;s.transformOrigin=`${h} ${g} ${y}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jE(e,t,n){for(const s in t)!Yn(t[s])&&!IE(s,n)&&(e[s]=t[s])}function P4({transformTemplate:e},t){return P.useMemo(()=>{const n=ev();return Jy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function A4(e,t){const n=e.style||{},s={};return jE(s,n,e),Object.assign(s,P4(e,t)),s}function R4(e,t){const n={},s=A4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const D4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(e){return typeof e!="string"||e.includes("-")?!1:!!(D4.indexOf(e)>-1||/[A-Z]/u.test(e))}const M4={offset:"stroke-dashoffset",array:"stroke-dasharray"},I4={offset:"strokeDashoffset",array:"strokeDasharray"};function L4(e,t,n=1,s=0,a=!0){e.pathLength=1;const u=a?M4:I4;e[u.offset]=Ze.transform(-s);const c=Ze.transform(t),d=Ze.transform(n);e[u.array]=`${c} ${d}`}function Tw(e,t,n){return typeof e=="string"?e:Ze.transform(t+n*e)}function j4(e,t,n){const s=Tw(t,e.x,e.width),a=Tw(n,e.y,e.height);return`${s} ${a}`}function nv(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:u,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...g},y,x){if(Jy(e,g,x),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:S,dimensions:_}=e;v.transform&&(_&&(S.transform=v.transform),delete v.transform),_&&(a!==void 0||u!==void 0||S.transform)&&(S.transformOrigin=j4(_,a!==void 0?a:.5,u!==void 0?u:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),c!==void 0&&L4(v,c,d,h,!1)}const OE=()=>({...ev(),attrs:{}}),rv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function O4(e,t,n,s){const a=P.useMemo(()=>{const u=OE();return nv(u,t,rv(s),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};jE(u,e.style,e),a.style={...u,...a.style}}return a}function $4(e=!1){return(n,s,a,{latestValues:u},c)=>{const h=(tv(n)?O4:R4)(s,u,c,n),g=o4(s,typeof n=="string",e),y=n!==P.Fragment?{...g,...h,ref:a}:{},{children:x}=s,v=P.useMemo(()=>Yn(x)?x.get():x,[x]);return P.createElement(n,{...y,children:v})}}function Nw(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function iv(e,t,n,s){if(typeof t=="function"){const[a,u]=Nw(s);t=t(n!==void 0?n:e.custom,a,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,u]=Nw(s);t=t(n!==void 0?n:e.custom,a,u)}return t}const ty=e=>Array.isArray(e),F4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),V4=e=>ty(e)?e[e.length-1]||0:e;function Xp(e){const t=Yn(e)?e.get():e;return F4(t)?t.toValue():t}function z4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,a,u){const c={latestValues:B4(s,a,u,e),renderState:t()};return n&&(c.onMount=d=>n({props:s,current:d,...c}),c.onUpdate=d=>n(d)),c}const $E=e=>(t,n)=>{const s=P.useContext(zg),a=P.useContext(Uy),u=()=>z4(e,t,s,a);return n?u():Q3(u)};function B4(e,t,n,s){const a={},u=s(e,{});for(const v in u)a[v]=Xp(u[v]);let{initial:c,animate:d}=e;const h=Ug(e),g=PE(e);t&&g&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const x=y?d:c;if(x&&typeof x!="boolean"&&!Bg(x)){const v=Array.isArray(x)?x:[x];for(let S=0;S<v.length;S++){const _=iv(e,v[S]);if(_){const{transitionEnd:T,transition:N,...C}=_;for(const M in C){let A=C[M];if(Array.isArray(A)){const L=y?A.length-1:0;A=A[L]}A!==null&&(a[M]=A)}for(const M in T)a[M]=T[M]}}}return a}function sv(e,t,n){var s;const{style:a}=e,u={};for(const c in a)(Yn(a[c])||t.style&&Yn(t.style[c])||IE(c,e)||((s=n==null?void 0:n.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[c]=a[c]);return u}const U4={useVisualState:$E({scrapeMotionValuesFromProps:sv,createRenderState:ev})};function FE(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function VE(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const u in n)e.style.setProperty(u,n[u])}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BE(e,t,n,s){VE(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(zE.has(a)?a:Xy(a),t.attrs[a])}function UE(e,t,n){const s=sv(e,t,n);for(const a in e)if(Yn(e[a])||Yn(t[a])){const u=Dc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=e[a]}return s}const Pw=["x","y","width","height","cx","cy","r"],H4={useVisualState:$E({scrapeMotionValuesFromProps:UE,createRenderState:OE,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:a})=>{if(!n)return;let u=!!e.drag;if(!u){for(const d in a)if(Cl.has(d)){u=!0;break}}if(!u)return;let c=!t;if(t)for(let d=0;d<Pw.length;d++){const h=Pw[d];e[h]!==t[h]&&(c=!0)}c&&It.read(()=>{FE(n,s),It.render(()=>{nv(s,a,rv(n.tagName),e.transformTemplate),BE(n,s)})})}})};function W4(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...tv(s)?H4:U4,preloadedFeatures:e,useRender:$4(a),createVisualElement:t,Component:s};return g4(c)}}function Bd(e,t,n){const s=e.getProps();return iv(s,t,n!==void 0?n:s.custom,e)}const K4=Wy(()=>window.ScrollTimeline!==void 0);class Y4{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(a=>{if(K4()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{s.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class X4 extends Y4{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ov(e,t){return e?e[t]||e.default||e:void 0}const ny=2e4;function HE(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ny;)t+=n,s=e.next(t);return t>=ny?1/0:t}function av(e){return typeof e=="function"}function Aw(e,t){e.timeline=t,e.onfinish=null}const lv=e=>Array.isArray(e)&&typeof e[0]=="number",q4={linearEasing:void 0};function G4(e,t){const n=Wy(e);return()=>{var s;return(s=q4[t])!==null&&s!==void 0?s:n()}}const fg=G4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),WE=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let u=0;u<a;u++)s+=e(bc(0,a-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function KE(e){return!!(typeof e=="function"&&fg()||!e||typeof e=="string"&&(e in ry||fg())||lv(e)||Array.isArray(e)&&e.every(KE))}const yd=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function YE(e,t){if(e)return typeof e=="function"&&fg()?WE(e,t):lv(e)?yd(e):Array.isArray(e)?e.map(n=>YE(n,t)||ry.easeOut):ry[e]}const Ni={x:!1,y:!1};function XE(){return Ni.x||Ni.y}function Q4(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const u=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function qE(e,t){const n=Q4(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Rw(e){return!(e.pointerType==="touch"||XE())}function Z4(e,t,n={}){const[s,a,u]=qE(e,n),c=d=>{if(!Rw(d))return;const{target:h}=d,g=t(h,d);if(typeof g!="function"||!h)return;const y=x=>{Rw(x)&&(g(x),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const GE=(e,t)=>t?e===t?!0:GE(e,t.parentElement):!1,uv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ej(e){return J4.has(e.tagName)||e.tabIndex!==-1}const vd=new WeakSet;function Dw(e){return t=>{t.key==="Enter"&&e(t)}}function d0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tj=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Dw(()=>{if(vd.has(n))return;d0(n,"down");const a=Dw(()=>{d0(n,"up")}),u=()=>d0(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Mw(e){return uv(e)&&!XE()}function nj(e,t,n={}){const[s,a,u]=qE(e,n),c=d=>{const h=d.currentTarget;if(!Mw(d)||vd.has(h))return;vd.add(h);const g=t(h,d),y=(S,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!Mw(S)||!vd.has(h))&&(vd.delete(h),typeof g=="function"&&g(S,{success:_}))},x=S=>{y(S,n.useGlobalTarget||GE(h,S.target))},v=S=>{y(S,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",v,a)};return s.forEach(d=>{!ej(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d.addEventListener("focus",g=>tj(g,a),a)}),u}function rj(e){return e==="x"||e==="y"?Ni[e]?null:(Ni[e]=!0,()=>{Ni[e]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}const QE=new Set(["width","height","top","left","right","bottom",...Dc]);let qp;function ij(){qp=void 0}const fs={now:()=>(qp===void 0&&fs.set(jn.isProcessing||e4.useManualTiming?jn.timestamp:performance.now()),qp),set:e=>{qp=e,queueMicrotask(ij)}};function cv(e,t){e.indexOf(t)===-1&&e.push(t)}function fv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dv{constructor(){this.subscriptions=[]}add(t){return cv(this.subscriptions,t),()=>fv(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ZE(e,t){return t?e*(1e3/t):0}const Iw=30,sj=e=>!isNaN(parseFloat(e));class oj{constructor(t,n={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const u=fs.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dv);const s=this.events[t].add(n);return t==="change"?()=>{s(),It.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Iw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Iw);return ZE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ud(e,t){return new oj(e,t)}function aj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ud(n))}function lj(e,t){const n=Bd(e,t);let{transitionEnd:s={},transition:a={},...u}=n||{};u={...u,...s};for(const c in u){const d=V4(u[c]);aj(e,c,d)}}function uj(e){return!!(Yn(e)&&e.add)}function iy(e,t){const n=e.getValue("willChange");if(uj(n))return n.add(t)}function JE(e){return e.props[AE]}const eb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cj=1e-7,fj=12;function dj(e,t,n,s,a){let u,c,d=0;do c=t+(n-t)/2,u=eb(c,s,a)-e,u>0?n=c:t=c;while(Math.abs(u)>cj&&++d<fj);return c}function rh(e,t,n,s){if(e===t&&n===s)return zr;const a=u=>dj(u,0,1,e,n);return u=>u===0||u===1?u:eb(a(u),t,s)}const tb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nb=e=>t=>1-e(1-t),rb=rh(.33,1.53,.69,.99),hv=nb(rb),ib=tb(hv),sb=e=>(e*=2)<1?.5*hv(e):.5*(2-Math.pow(2,-10*(e-1))),pv=e=>1-Math.sin(Math.acos(e)),ob=nb(pv),ab=tb(pv),lb=e=>/^0[^.\s]+$/u.test(e);function hj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lb(e):!0}const _d=e=>Math.round(e*1e5)/1e5,gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pj(e){return e==null}const gj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mv=(e,t)=>n=>!!(typeof n=="string"&&gj.test(n)&&n.startsWith(e)||t&&!pj(n)&&Object.prototype.hasOwnProperty.call(n,t)),ub=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,u,c,d]=s.match(gv);return{[e]:parseFloat(a),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},mj=e=>ro(0,255,e),h0={...Mc,transform:e=>Math.round(mj(e))},yl={test:mv("rgb","red"),parse:ub("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+h0.transform(e)+", "+h0.transform(t)+", "+h0.transform(n)+", "+_d(zd.transform(s))+")"};function yj(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const sy={test:mv("#"),parse:yj,transform:yl.transform},dc={test:mv("hsl","hue"),parse:ub("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+cs.transform(_d(t))+", "+cs.transform(_d(n))+", "+_d(zd.transform(s))+")"},Wn={test:e=>yl.test(e)||sy.test(e)||dc.test(e),parse:e=>yl.test(e)?yl.parse(e):dc.test(e)?dc.parse(e):sy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yl.transform(e):dc.transform(e)},vj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(gv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(vj))===null||n===void 0?void 0:n.length)||0)>0}const cb="number",fb="color",wj="var",Sj="var(",Lw="${}",_j=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hd(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(_j,h=>(Wn.test(h)?(s.color.push(u),a.push(fb),n.push(Wn.parse(h))):h.startsWith(Sj)?(s.var.push(u),a.push(wj),n.push(h)):(s.number.push(u),a.push(cb),n.push(parseFloat(h))),++u,Lw)).split(Lw);return{values:n,split:d,indexes:s,types:a}}function db(e){return Hd(e).values}function hb(e){const{split:t,types:n}=Hd(e),s=t.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],a[c]!==void 0){const d=n[c];d===cb?u+=_d(a[c]):d===fb?u+=Wn.transform(a[c]):u+=a[c]}return u}}const Ej=e=>typeof e=="number"?0:e;function bj(e){const t=db(e);return hb(e)(t.map(Ej))}const sa={test:xj,parse:db,createTransformer:hb,getAnimatableNone:bj},Cj=new Set(["brightness","contrast","saturate","opacity"]);function kj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(gv)||[];if(!s)return e;const a=n.replace(s,"");let u=Cj.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+a+")"}const Tj=/\b([a-z-]*)\(.*?\)/gu,oy={...sa,getAnimatableNone:e=>{const t=e.match(Tj);return t?t.map(kj).join(" "):e}},Nj={...Zy,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:oy,WebkitFilter:oy},yv=e=>Nj[e];function pb(e,t){let n=yv(e);return n!==oy&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Pj=new Set(["auto","none","0"]);function Aj(e,t,n){let s=0,a;for(;s<e.length&&!a;){const u=e[s];typeof u=="string"&&!Pj.has(u)&&Hd(u).values.length&&(a=e[s]),s++}if(a&&n)for(const u of t)e[u]=pb(n,a)}const jw=e=>e===Mc||e===Ze,Ow=(e,t)=>parseFloat(e.split(", ")[t]),$w=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return Ow(a[1],t);{const u=s.match(/^matrix\((.+)\)$/u);return u?Ow(u[1],e):0}},Rj=new Set(["x","y","z"]),Dj=Dc.filter(e=>!Rj.has(e));function Mj(e){const t=[];return Dj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const kc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$w(4,13),y:$w(5,14)};kc.translateX=kc.x;kc.translateY=kc.y;const Sl=new Set;let ay=!1,ly=!1;function gb(){if(ly){const e=Array.from(Sl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=Mj(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([u,c])=>{var d;(d=s.getValue(u))===null||d===void 0||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ly=!1,ay=!1,Sl.forEach(e=>e.complete()),Sl.clear()}function mb(){Sl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ly=!0)})}function Ij(){mb(),gb()}class vv{constructor(t,n,s,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sl.add(this),ay||(ay=!0,It.read(mb),It.resolveKeyframes(gb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&n){const h=s.readValue(n,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Lj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jj(e){const t=Lj.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function vb(e,t,n=1){const[s,a]=jj(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return yb(c)?parseFloat(c):c}return Qy(a)?vb(a,t,n+1):a}const xb=e=>t=>t.test(e),Oj={test:e=>e==="auto",parse:e=>e},wb=[Mc,Ze,cs,Zo,E4,_4,Oj],Fw=e=>wb.find(xb(e));class Sb extends vv{constructor(t,n,s,a,u){super(t,n,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let g=t[h];if(typeof g=="string"&&(g=g.trim(),Qy(g))){const y=vb(g,n.current);y!==void 0&&(t[h]=y),h===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!QE.has(s)||t.length!==2)return;const[a,u]=t,c=Fw(a),d=Fw(u);if(c!==d)if(jw(c)&&jw(d))for(let h=0;h<t.length;h++){const g=t[h];typeof g=="string"&&(t[h]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)hj(t[a])&&s.push(a);s.length&&Aj(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const u=n.getValue(s);u&&u.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=kc[s](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,g])=>{n.getValue(h).set(g)}),this.resolveNoneKeyframes()}}const Vw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sa.test(e)||e==="0")&&!e.startsWith("url("));function $j(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Fj(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=Vw(a,t),d=Vw(u,t);return!c||!d?!1:$j(e)||(n==="spring"||av(n))&&s}const Vj=e=>e!==null;function Hg(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(Vj),u=t&&n!=="loop"&&t%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const zj=40;class _b{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fs.now(),this.options={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:u,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ij(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=fs.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:u,delay:c,onComplete:d,onUpdate:h,isGenerator:g}=this.options;if(!g&&!Fj(t,s,a,u))if(c)this.options.duration=0;else{h&&h(Hg(t,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ht=(e,t,n)=>e+(t-e)*n;function p0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Bj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,u=0,c=0;if(!t)a=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,h=2*n-d;a=p0(h,d,e+1/3),u=p0(h,d,e),c=p0(h,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function dg(e,t){return n=>n>0?t:e}const g0=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Uj=[sy,yl,dc],Hj=e=>Uj.find(t=>t.test(e));function zw(e){const t=Hj(e);if(!t)return!1;let n=t.parse(e);return t===dc&&(n=Bj(n)),n}const Bw=(e,t)=>{const n=zw(e),s=zw(t);if(!n||!s)return dg(e,t);const a={...n};return u=>(a.red=g0(n.red,s.red,u),a.green=g0(n.green,s.green,u),a.blue=g0(n.blue,s.blue,u),a.alpha=Ht(n.alpha,s.alpha,u),yl.transform(a))},Wj=(e,t)=>n=>t(e(n)),ih=(...e)=>e.reduce(Wj),uy=new Set(["none","hidden"]);function Kj(e,t){return uy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Yj(e,t){return n=>Ht(e,t,n)}function xv(e){return typeof e=="number"?Yj:typeof e=="string"?Qy(e)?dg:Wn.test(e)?Bw:Gj:Array.isArray(e)?Eb:typeof e=="object"?Wn.test(e)?Bw:Xj:dg}function Eb(e,t){const n=[...e],s=n.length,a=e.map((u,c)=>xv(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)n[c]=a[c](u);return n}}function Xj(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=xv(e[a])(e[a],t[a]));return a=>{for(const u in s)n[u]=s[u](a);return n}}function qj(e,t){var n;const s=[],a={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const c=t.types[u],d=e.indexes[c][a[c]],h=(n=e.values[d])!==null&&n!==void 0?n:0;s[u]=h,a[c]++}return s}const Gj=(e,t)=>{const n=sa.createTransformer(t),s=Hd(e),a=Hd(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?uy.has(e)&&!a.values.length||uy.has(t)&&!s.values.length?Kj(e,t):ih(Eb(qj(s,a),a.values),n):dg(e,t)};function bb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ht(e,t,n):xv(e)(e,t)}const Qj=5;function Cb(e,t,n){const s=Math.max(t-Qj,0);return ZE(n-e(s),t-s)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uw=.001;function Zj({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:n=Zt.velocity,mass:s=Zt.mass}){let a,u,c=1-t;c=ro(Zt.minDamping,Zt.maxDamping,c),e=ro(Zt.minDuration,Zt.maxDuration,to(e)),c<1?(a=g=>{const y=g*c,x=y*e,v=y-n,S=cy(g,c),_=Math.exp(-x);return Uw-v/S*_},u=g=>{const x=g*c*e,v=x*n+n,S=Math.pow(c,2)*Math.pow(g,2)*e,_=Math.exp(-x),T=cy(Math.pow(g,2),c);return(-a(g)+Uw>0?-1:1)*((v-S)*_)/T}):(a=g=>{const y=Math.exp(-g*e),x=(g-n)*e+1;return-.001+y*x},u=g=>{const y=Math.exp(-g*e),x=(n-g)*(e*e);return y*x});const d=5/e,h=eO(a,u,d);if(e=eo(e),isNaN(h))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const g=Math.pow(h,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const Jj=12;function eO(e,t,n){let s=n;for(let a=1;a<Jj;a++)s=s-e(s)/t(s);return s}function cy(e,t){return e*Math.sqrt(1-t*t)}const tO=["duration","bounce"],nO=["stiffness","damping","mass"];function Hw(e,t){return t.some(n=>e[n]!==void 0)}function rO(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!Hw(e,nO)&&Hw(e,tO))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,u=2*ro(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Zt.mass,stiffness:a,damping:u}}else{const n=Zj(e);t={...t,...n,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function kb(e=Zt.visualDuration,t=Zt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:h,damping:g,mass:y,duration:x,velocity:v,isResolvedFromDuration:S}=rO({...n,velocity:-to(n.velocity||0)}),_=v||0,T=g/(2*Math.sqrt(h*y)),N=c-u,C=to(Math.sqrt(h/y)),M=Math.abs(N)<5;s||(s=M?Zt.restSpeed.granular:Zt.restSpeed.default),a||(a=M?Zt.restDelta.granular:Zt.restDelta.default);let A;if(T<1){const z=cy(C,T);A=X=>{const O=Math.exp(-T*C*X);return c-O*((_+T*C*N)/z*Math.sin(z*X)+N*Math.cos(z*X))}}else if(T===1)A=z=>c-Math.exp(-C*z)*(N+(_+C*N)*z);else{const z=C*Math.sqrt(T*T-1);A=X=>{const O=Math.exp(-T*C*X),B=Math.min(z*X,300);return c-O*((_+T*C*N)*Math.sinh(B)+z*N*Math.cosh(B))/z}}const L={calculatedDuration:S&&x||null,next:z=>{const X=A(z);if(S)d.done=z>=x;else{let O=0;T<1&&(O=z===0?eo(_):Cb(A,z,X));const B=Math.abs(O)<=s,q=Math.abs(c-X)<=a;d.done=B&&q}return d.value=d.done?c:X,d},toString:()=>{const z=Math.min(HE(L),ny),X=WE(O=>L.next(z*O).value,z,30);return z+"ms "+X}};return L}function Ww({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:h,restDelta:g=.5,restSpeed:y}){const x=e[0],v={done:!1,value:x},S=B=>d!==void 0&&B<d||h!==void 0&&B>h,_=B=>d===void 0?h:h===void 0||Math.abs(d-B)<Math.abs(h-B)?d:h;let T=n*t;const N=x+T,C=c===void 0?N:c(N);C!==N&&(T=C-x);const M=B=>-T*Math.exp(-B/s),A=B=>C+M(B),L=B=>{const q=M(B),ee=A(B);v.done=Math.abs(q)<=g,v.value=v.done?C:ee};let z,X;const O=B=>{S(v.value)&&(z=B,X=kb({keyframes:[v.value,_(v.value)],velocity:Cb(A,B,v.value),damping:a,stiffness:u,restDelta:g,restSpeed:y}))};return O(0),{calculatedDuration:null,next:B=>{let q=!1;return!X&&z===void 0&&(q=!0,L(B),O(B)),z!==void 0&&B>=z?X.next(B-z):(!q&&L(B),v)}}}const iO=rh(.42,0,1,1),sO=rh(0,0,.58,1),Tb=rh(.42,0,.58,1),oO=e=>Array.isArray(e)&&typeof e[0]!="number",Kw={linear:zr,easeIn:iO,easeInOut:Tb,easeOut:sO,circIn:pv,circInOut:ab,circOut:ob,backIn:hv,backInOut:ib,backOut:rb,anticipate:sb},Yw=e=>{if(lv(e)){ey(e.length===4);const[t,n,s,a]=e;return rh(t,n,s,a)}else if(typeof e=="string")return ey(Kw[e]!==void 0),Kw[e];return e};function aO(e,t,n){const s=[],a=n||bb,u=e.length-1;for(let c=0;c<u;c++){let d=a(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||zr:t;d=ih(h,d)}s.push(d)}return s}function lO(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const u=e.length;if(ey(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=aO(t,s,a),h=d.length,g=y=>{if(c&&y<e[0])return t[0];let x=0;if(h>1)for(;x<e.length-2&&!(y<e[x+1]);x++);const v=bc(e[x],e[x+1],y);return d[x](v)};return n?y=>g(ro(e[0],e[u-1],y)):g}function uO(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=bc(0,t,s);e.push(Ht(n,1,a))}}function cO(e){const t=[0];return uO(t,e.length-1),t}function fO(e,t){return e.map(n=>n*t)}function dO(e,t){return e.map(()=>t||Tb).splice(0,e.length-1)}function hg({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=oO(s)?s.map(Yw):Yw(s),u={done:!1,value:t[0]},c=fO(n&&n.length===t.length?n:cO(t),e),d=lO(c,t,{ease:Array.isArray(a)?a:dO(t,a)});return{calculatedDuration:e,next:h=>(u.value=d(h),u.done=h>=e,u)}}const hO=e=>{const t=({timestamp:n})=>e(n);return{start:()=>It.update(t,!0),stop:()=>ia(t),now:()=>jn.isProcessing?jn.timestamp:fs.now()}},pO={decay:Ww,inertia:Ww,tween:hg,keyframes:hg,spring:kb},gO=e=>e/100;class wv extends _b{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:s,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||vv,d=(h,g)=>this.onKeyframesResolved(h,g);this.resolver=new c(u,d,n,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,d=av(n)?n:pO[n]||hg;let h,g;d!==hg&&typeof t[0]!="number"&&(h=ih(gO,bb(t[0],t[1])),t=[0,100]);const y=d({...this.options,keyframes:t});u==="mirror"&&(g=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=HE(y));const{calculatedDuration:x}=y,v=x+a,S=v*(s+1)-a;return{generator:y,mirroredGenerator:g,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:v,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:g,totalDuration:y,resolvedDuration:x}=s;if(this.startTime===null)return u.next(0);const{delay:v,repeat:S,repeatType:_,repeatDelay:T,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-v*(this.speed>=0?1:-1),M=this.speed>=0?C<0:C>y;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let A=this.currentTime,L=u;if(S){const B=Math.min(this.currentTime,y)/x;let q=Math.floor(B),ee=B%1;!ee&&B>=1&&(ee=1),ee===1&&q--,q=Math.min(q,S+1),!!(q%2)&&(_==="reverse"?(ee=1-ee,T&&(ee-=T/x)):_==="mirror"&&(L=c)),A=ro(0,1,ee)*x}const z=M?{done:!1,value:h[0]}:L.next(A);d&&(z.value=d(z.value));let{done:X}=z;!M&&g!==null&&(X=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return O&&a!==void 0&&(z.value=Hg(h,this.options,a)),N&&N(z.value),O&&this.finish(),z}get duration(){const{resolved:t}=this;return t?to(t.calculatedDuration):0}get time(){return to(this.currentTime)}set time(t){t=eo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=to(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=hO,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const mO=new Set(["opacity","clipPath","filter","transform"]);function yO(e,t,n,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const g={[t]:n};h&&(g.offset=h);const y=YE(d,a);return Array.isArray(y)&&(g.easing=y),e.animate(g,{delay:s,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const vO=Wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pg=10,xO=2e4;function wO(e){return av(e.type)||e.type==="spring"||!KE(e.ease)}function SO(e,t){const n=new wv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const a=[];let u=0;for(;!s.done&&u<xO;)s=n.sample(u),a.push(s.value),u+=pg;return{times:void 0,keyframes:a,duration:u-pg,ease:"linear"}}const Nb={anticipate:sb,backInOut:ib,circInOut:ab};function _O(e){return e in Nb}class Xw extends _b{constructor(t){super(t);const{name:n,motionValue:s,element:a,keyframes:u}=this.options;this.resolver=new Sb(u,(c,d)=>this.onKeyframesResolved(c,d),n,s,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:a,ease:u,type:c,motionValue:d,name:h,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&fg()&&_O(u)&&(u=Nb[u]),wO(this.options)){const{onComplete:x,onUpdate:v,motionValue:S,element:_,...T}=this.options,N=SO(t,T);t=N.keyframes,t.length===1&&(t[1]=t[0]),s=N.duration,a=N.times,u=N.ease,c="keyframes"}const y=yO(d.owner.current,h,t,{...this.options,duration:s,times:a,ease:u});return y.startTime=g??this.calcStartTime(),this.pendingTimeline?(Aw(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:x}=this.options;d.set(Hg(t,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:s,times:a,type:c,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return to(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return to(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=eo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return zr;const{animation:s}=n;Aw(s,t)}return zr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:a,type:u,ease:c,times:d}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:y,onComplete:x,element:v,...S}=this.options,_=new wv({...S,keyframes:s,duration:a,type:u,ease:c,times:d,isGenerator:!0}),T=eo(this.time);g.setWithVelocity(_.sample(T-pg).value,_.sample(T).value,pg)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:a,repeatType:u,damping:c,type:d}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:g}=n.owner.getProps();return vO()&&s&&mO.has(s)&&!h&&!g&&!a&&u!=="mirror"&&c!==0&&d!=="inertia"}}const EO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CO={type:"keyframes",duration:.8},kO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TO=(e,{keyframes:t})=>t.length>2?CO:Cl.has(e)?e.startsWith("scale")?bO(t[1]):EO:kO;function NO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:h,elapsed:g,...y}){return!!Object.keys(y).length}const Sv=(e,t,n,s={},a,u)=>c=>{const d=ov(s,e)||{},h=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-eo(h);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:a};NO(d)||(y={...y,...TO(e,y)}),y.duration&&(y.duration=eo(y.duration)),y.repeatDelay&&(y.repeatDelay=eo(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),x&&!u&&t.get()!==void 0){const v=Hg(y.keyframes,d);if(v!==void 0)return It.update(()=>{y.onUpdate(v),y.onComplete()}),new X4([])}return!u&&Xw.supports(y)?new Xw(y):new wv(y)};function PO({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Pb(e,t,{delay:n=0,transitionOverride:s,type:a}={}){var u;let{transition:c=e.getDefaultTransition(),transitionEnd:d,...h}=t;s&&(c=s);const g=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const x in h){const v=e.getValue(x,(u=e.latestValues[x])!==null&&u!==void 0?u:null),S=h[x];if(S===void 0||y&&PO(y,x))continue;const _={delay:n,...ov(c||{},x)};let T=!1;if(window.MotionHandoffAnimation){const C=JE(e);if(C){const M=window.MotionHandoffAnimation(C,x,It);M!==null&&(_.startTime=M,T=!0)}}iy(e,x),v.start(Sv(x,v,S,e.shouldReduceMotion&&QE.has(x)?{type:!1}:_,e,T));const N=v.animation;N&&g.push(N)}return d&&Promise.all(g).then(()=>{It.update(()=>{d&&lj(e,d)})}),g}function fy(e,t,n={}){var s;const a=Bd(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(u=n.transitionOverride);const c=a?()=>Promise.all(Pb(e,a,n)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:v}=u;return AO(e,t,y+g,x,v,n)}:()=>Promise.resolve(),{when:h}=u;if(h){const[g,y]=h==="beforeChildren"?[c,d]:[d,c];return g().then(()=>y())}else return Promise.all([c(),d(n.delay)])}function AO(e,t,n=0,s=0,a=1,u){const c=[],d=(e.variantChildren.size-1)*s,h=a===1?(g=0)=>g*s:(g=0)=>d-g*s;return Array.from(e.variantChildren).sort(RO).forEach((g,y)=>{g.notify("AnimationStart",t),c.push(fy(g,t,{...u,delay:n+h(y)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(c)}function RO(e,t){return e.sortNodePosition(t)}function DO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>fy(e,u,n));s=Promise.all(a)}else if(typeof t=="string")s=fy(e,t,n);else{const a=typeof t=="function"?Bd(e,t,n.custom):t;s=Promise.all(Pb(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Ab(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const MO=Yy.length;function Rb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Rb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<MO;n++){const s=Yy[n],a=e.props[s];(Fd(a)||a===!1)&&(t[s]=a)}return t}const IO=[...Ky].reverse(),LO=Ky.length;function jO(e){return t=>Promise.all(t.map(({animation:n,options:s})=>DO(e,n,s)))}function OO(e){let t=jO(e),n=qw(),s=!0;const a=h=>(g,y)=>{var x;const v=Bd(e,y,h==="exit"?(x=e.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:S,transitionEnd:_,...T}=v;g={...g,...T,..._}}return g};function u(h){t=h(e)}function c(h){const{props:g}=e,y=Rb(e.parent)||{},x=[],v=new Set;let S={},_=1/0;for(let N=0;N<LO;N++){const C=IO[N],M=n[C],A=g[C]!==void 0?g[C]:y[C],L=Fd(A),z=C===h?M.isActive:null;z===!1&&(_=N);let X=A===y[C]&&A!==g[C]&&L;if(X&&s&&e.manuallyAnimateOnMount&&(X=!1),M.protectedKeys={...S},!M.isActive&&z===null||!A&&!M.prevProp||Bg(A)||typeof A=="boolean")continue;const O=$O(M.prevProp,A);let B=O||C===h&&M.isActive&&!X&&L||N>_&&L,q=!1;const ee=Array.isArray(A)?A:[A];let fe=ee.reduce(a(C),{});z===!1&&(fe={});const{prevResolvedValues:oe={}}=M,ue={...oe,...fe},$=H=>{B=!0,v.has(H)&&(q=!0,v.delete(H)),M.needsAnimating[H]=!0;const F=e.getValue(H);F&&(F.liveStyle=!1)};for(const H in ue){const F=fe[H],K=oe[H];if(S.hasOwnProperty(H))continue;let G=!1;ty(F)&&ty(K)?G=!Ab(F,K):G=F!==K,G?F!=null?$(H):v.add(H):F!==void 0&&v.has(H)?$(H):M.protectedKeys[H]=!0}M.prevProp=A,M.prevResolvedValues=fe,M.isActive&&(S={...S,...fe}),s&&e.blockInitialAnimation&&(B=!1),B&&(!(X&&O)||q)&&x.push(...ee.map(H=>({animation:H,options:{type:C}})))}if(v.size){const N={};if(typeof g.initial!="boolean"){const C=Bd(e,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(N.transition=C.transition)}v.forEach(C=>{const M=e.getBaseTarget(C),A=e.getValue(C);A&&(A.liveStyle=!0),N[C]=M??null}),x.push({animation:N})}let T=!!x.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(x):Promise.resolve()}function d(h,g){var y;if(n[h].isActive===g)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(v=>{var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(h,g)}),n[h].isActive=g;const x=c(h);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=qw(),s=!0}}}function $O(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ab(t,e):!1}function fl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qw(){return{animate:fl(!0),whileInView:fl(),whileHover:fl(),whileTap:fl(),whileDrag:fl(),whileFocus:fl(),exit:fl()}}class aa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FO extends aa{constructor(t){super(t),t.animationState||(t.animationState=OO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let VO=0;class zO extends aa{constructor(){super(...arguments),this.id=VO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BO={animation:{Feature:FO},exit:{Feature:zO}};function Wd(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function sh(e){return{point:{x:e.pageX,y:e.pageY}}}const UO=e=>t=>uv(t)&&e(t,sh(t));function Ed(e,t,n,s){return Wd(e,t,UO(n),s)}const Gw=(e,t)=>Math.abs(e-t);function HO(e,t){const n=Gw(e.x,t.x),s=Gw(e.y,t.y);return Math.sqrt(n**2+s**2)}class Db{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=y0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=HO(x.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:_}=x,{timestamp:T}=jn;this.history.push({..._,timestamp:T});const{onStart:N,onMove:C}=this.handlers;v||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=m0(v,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=y0(x.type==="pointercancel"?this.lastMoveEventInfo:m0(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,N),_&&_(x,N)},!uv(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=sh(t),d=m0(c,this.transformPagePoint),{point:h}=d,{timestamp:g}=jn;this.history=[{...h,timestamp:g}];const{onSessionStart:y}=n;y&&y(t,y0(d,this.history)),this.removeListeners=ih(Ed(this.contextWindow,"pointermove",this.handlePointerMove),Ed(this.contextWindow,"pointerup",this.handlePointerUp),Ed(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function m0(e,t){return t?{point:t(e.point)}:e}function Qw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y0({point:e},t){return{point:e,delta:Qw(e,Mb(t)),offset:Qw(e,WO(t)),velocity:KO(t,.1)}}function WO(e){return e[0]}function Mb(e){return e[e.length-1]}function KO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=Mb(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>eo(t)));)n--;if(!s)return{x:0,y:0};const u=to(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Ib=1e-4,YO=1-Ib,XO=1+Ib,Lb=.01,qO=0-Lb,GO=0+Lb;function ir(e){return e.max-e.min}function QO(e,t,n){return Math.abs(e-t)<=n}function Zw(e,t,n,s=.5){e.origin=s,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=ir(n)/ir(t),e.translate=Ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=YO&&e.scale<=XO||isNaN(e.scale))&&(e.scale=1),(e.translate>=qO&&e.translate<=GO||isNaN(e.translate))&&(e.translate=0)}function bd(e,t,n,s){Zw(e.x,t.x,n.x,s?s.originX:void 0),Zw(e.y,t.y,n.y,s?s.originY:void 0)}function Jw(e,t,n){e.min=n.min+t.min,e.max=e.min+ir(t)}function ZO(e,t,n){Jw(e.x,t.x,n.x),Jw(e.y,t.y,n.y)}function e1(e,t,n){e.min=t.min-n.min,e.max=e.min+ir(t)}function Cd(e,t,n){e1(e.x,t.x,n.x),e1(e.y,t.y,n.y)}function JO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ht(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ht(n,e,s.max):Math.min(e,n)),e}function t1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function e5(e,{top:t,left:n,bottom:s,right:a}){return{x:t1(e.x,n,a),y:t1(e.y,t,s)}}function n1(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function t5(e,t){return{x:n1(e.x,t.x),y:n1(e.y,t.y)}}function n5(e,t){let n=.5;const s=ir(e),a=ir(t);return a>s?n=bc(t.min,t.max-s,e.min):s>a&&(n=bc(e.min,e.max-a,t.min)),ro(0,1,n)}function r5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dy=.35;function i5(e=dy){return e===!1?e=0:e===!0&&(e=dy),{x:r1(e,"left","right"),y:r1(e,"top","bottom")}}function r1(e,t,n){return{min:i1(e,t),max:i1(e,n)}}function i1(e,t){return typeof e=="number"?e:e[t]||0}const s1=()=>({translate:0,scale:1,origin:0,originPoint:0}),hc=()=>({x:s1(),y:s1()}),o1=()=>({min:0,max:0}),sn=()=>({x:o1(),y:o1()});function ai(e){return[e("x"),e("y")]}function jb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function s5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function o5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function v0(e){return e===void 0||e===1}function hy({scale:e,scaleX:t,scaleY:n}){return!v0(e)||!v0(t)||!v0(n)}function hl(e){return hy(e)||Ob(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ob(e){return a1(e.x)||a1(e.y)}function a1(e){return e&&e!=="0%"}function gg(e,t,n){const s=e-n,a=t*s;return n+a}function l1(e,t,n,s,a){return a!==void 0&&(e=gg(e,a,s)),gg(e,n,s)+t}function py(e,t=0,n=1,s,a){e.min=l1(e.min,t,n,s,a),e.max=l1(e.max,t,n,s,a)}function $b(e,{x:t,y:n}){py(e.x,t.translate,t.scale,t.originPoint),py(e.y,n.translate,n.scale,n.originPoint)}const u1=.999999999999,c1=1.0000000000001;function a5(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=n[d],c=u.projectionDelta;const{visualElement:h}=u.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gc(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,$b(e,c)),s&&hl(u.latestValues)&&gc(e,u.latestValues))}t.x<c1&&t.x>u1&&(t.x=1),t.y<c1&&t.y>u1&&(t.y=1)}function pc(e,t){e.min=e.min+t,e.max=e.max+t}function f1(e,t,n,s,a=.5){const u=Ht(e.min,e.max,a);py(e,t,n,u,s)}function gc(e,t){f1(e.x,t.x,t.scaleX,t.scale,t.originX),f1(e.y,t.y,t.scaleY,t.scale,t.originY)}function Fb(e,t){return jb(o5(e.getBoundingClientRect(),t))}function l5(e,t,n){const s=Fb(e,n),{scroll:a}=t;return a&&(pc(s.x,a.offset.x),pc(s.y,a.offset.y)),s}const Vb=({current:e})=>e?e.ownerDocument.defaultView:null,u5=new WeakMap;class c5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sh(y).point)},u=(y,x)=>{const{drag:v,dragPropagation:S,onDragStart:_}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rj(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(N=>{let C=this.getAxisMotionValue(N).get()||0;if(cs.test(C)){const{projection:M}=this.visualElement;if(M&&M.layout){const A=M.layout.layoutBox[N];A&&(C=ir(A)*(parseFloat(C)/100))}}this.originPoint[N]=C}),_&&It.postRender(()=>_(y,x)),iy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(y,x)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:_,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=x;if(S&&this.currentDirection===null){this.currentDirection=f5(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),T&&T(y,x)},d=(y,x)=>this.stop(y,x),h=()=>ai(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Db(t,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Vb(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&It.postRender(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Op(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=JO(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&fc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=e5(a.layoutBox,n):this.constraints=!1,this.elastic=i5(s),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ai(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=r5(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!fc(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=l5(s,a.root,this.visualElement.getTransformPagePoint());let c=t5(a.layout.layoutBox,u);if(n){const d=n(s5(c));this.hasMutatedConstraints=!!d,d&&(c=jb(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},g=ai(y=>{if(!Op(y,n,this.currentDirection))return;let x=h[y]||{};c&&(x={min:0,max:0});const v=a?200:1e6,S=a?40:1e7,_={type:"inertia",velocity:s?t[y]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,_)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return iy(this.visualElement,t),s.start(Sv(t,s,0,n,this.visualElement,!1))}stopAnimation(){ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ai(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ai(n=>{const{drag:s}=this.getProps();if(!Op(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];u.set(t[n]-Ht(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!fc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=n5({min:h,max:h},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ai(c=>{if(!Op(c,t,null))return;const d=this.getAxisMotionValue(c),{min:h,max:g}=this.constraints[c];d.set(Ht(h,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;u5.set(this.visualElement,this);const t=this.visualElement.current,n=Ed(t,"pointerdown",h=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();fc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),It.read(s);const c=Wd(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g})=>{this.isDragging&&g&&(ai(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=h[y].translate,x.set(x.get()+h[y].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=dy,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function Op(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function f5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class d5 extends aa{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new c5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const d1=e=>(t,n)=>{e&&It.postRender(()=>e(t,n))};class h5 extends aa{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new Db(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:d1(t),onStart:d1(n),onMove:s,onEnd:(u,c)=>{delete this.session,a&&It.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=Ed(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=h1(e,t.target.x),s=h1(e,t.target.y);return`${n}% ${s}%`}},p5={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=sa.parse(e);if(a.length>5)return s;const u=sa.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,h=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=h;const g=Ht(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),u(a)}};class g5 extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;S4(m5),u&&(n.group&&n.group.add(u),s&&s.register&&a&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,a||t.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||It.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zb(e){const[t,n]=Z3(),s=P.useContext(bE);return k.jsx(g5,{...e,layoutGroup:s,switchLayoutGroup:P.useContext(RE),isPresent:t,safeToRemove:n})}const m5={borderRadius:{...hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hd,borderTopRightRadius:hd,borderBottomLeftRadius:hd,borderBottomRightRadius:hd,boxShadow:p5};function y5(e,t,n){const s=Yn(e)?e:Ud(e);return s.start(Sv("",s,t,n)),s.animation}function v5(e){return e instanceof SVGElement&&e.tagName!=="svg"}const x5=(e,t)=>e.depth-t.depth;class w5{constructor(){this.children=[],this.isDirty=!1}add(t){cv(this.children,t),this.isDirty=!0}remove(t){fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(x5),this.isDirty=!1,this.children.forEach(t)}}function S5(e,t){const n=fs.now(),s=({timestamp:a})=>{const u=a-n;u>=t&&(ia(s),e(u-t))};return It.read(s,!0),()=>ia(s)}const Bb=["TopLeft","TopRight","BottomLeft","BottomRight"],_5=Bb.length,p1=e=>typeof e=="string"?parseFloat(e):e,g1=e=>typeof e=="number"||Ze.test(e);function E5(e,t,n,s,a,u){a?(e.opacity=Ht(0,n.opacity!==void 0?n.opacity:1,b5(s)),e.opacityExit=Ht(t.opacity!==void 0?t.opacity:1,0,C5(s))):u&&(e.opacity=Ht(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<_5;c++){const d=`border${Bb[c]}Radius`;let h=m1(t,d),g=m1(n,d);if(h===void 0&&g===void 0)continue;h||(h=0),g||(g=0),h===0||g===0||g1(h)===g1(g)?(e[d]=Math.max(Ht(p1(h),p1(g),s),0),(cs.test(g)||cs.test(h))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=Ht(t.rotate||0,n.rotate||0,s))}function m1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const b5=Ub(0,.5,ob),C5=Ub(.5,.95,zr);function Ub(e,t,n){return s=>s<e?0:s>t?1:n(bc(e,t,s))}function y1(e,t){e.min=t.min,e.max=t.max}function oi(e,t){y1(e.x,t.x),y1(e.y,t.y)}function v1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x1(e,t,n,s,a){return e-=t,e=gg(e,1/n,s),a!==void 0&&(e=gg(e,1/a,s)),e}function k5(e,t=0,n=1,s=.5,a,u=e,c=e){if(cs.test(t)&&(t=parseFloat(t),t=Ht(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ht(u.min,u.max,s);e===u&&(d-=t),e.min=x1(e.min,t,n,d,a),e.max=x1(e.max,t,n,d,a)}function w1(e,t,[n,s,a],u,c){k5(e,t[n],t[s],t[a],t.scale,u,c)}const T5=["x","scaleX","originX"],N5=["y","scaleY","originY"];function S1(e,t,n,s){w1(e.x,t,T5,n?n.x:void 0,s?s.x:void 0),w1(e.y,t,N5,n?n.y:void 0,s?s.y:void 0)}function _1(e){return e.translate===0&&e.scale===1}function Hb(e){return _1(e.x)&&_1(e.y)}function E1(e,t){return e.min===t.min&&e.max===t.max}function P5(e,t){return E1(e.x,t.x)&&E1(e.y,t.y)}function b1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Wb(e,t){return b1(e.x,t.x)&&b1(e.y,t.y)}function C1(e){return ir(e.x)/ir(e.y)}function k1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class A5{constructor(){this.members=[]}add(t){cv(this.members,t),t.scheduleRender()}remove(t){if(fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R5(e,t,n){let s="";const a=e.x.translate/t.x,u=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:v,skewX:S,skewY:_}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),x&&(s+=`rotateX(${x}deg) `),v&&(s+=`rotateY(${v}deg) `),S&&(s+=`skewX(${S}deg) `),_&&(s+=`skewY(${_}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const x0=["","X","Y","Z"],D5={visibility:"hidden"},T1=1e3;let M5=0;function w0(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Kb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=JE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(a||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Kb(s)}function Yb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=M5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j5),this.nodes.forEach(z5),this.nodes.forEach(B5),this.nodes.forEach(O5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new w5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v5(c),this.instance=c;const{layoutId:h,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||h)&&(this.isLayoutDirty=!0),e){let x;const v=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=S5(v,250),Gp.hasAnimatedSinceResize&&(Gp.hasAnimatedSinceResize=!1,this.nodes.forEach(P1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||y.getDefaultTransition()||Y5,{onLayoutAnimationStart:N,onLayoutAnimationComplete:C}=y.getProps(),M=!this.targetLayout||!Wb(this.targetLayout,_),A=!v&&S;if(this.options.layoutRoot||this.resumeFrom||A||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const L={...ov(T,"layout"),onPlay:N,onComplete:C};(y.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||P1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Kb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N1);return}this.isUpdating||this.nodes.forEach(F5),this.isUpdating=!1,this.nodes.forEach(V5),this.nodes.forEach(I5),this.nodes.forEach(L5),this.clearAllSnapshots();const d=fs.now();jn.delta=ro(0,1e3/60,d-jn.timestamp),jn.timestamp=d,jn.isProcessing=!0,f0.update.process(jn),f0.preRender.process(jn),f0.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($5),this.sharedNodes.forEach(H5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ir(this.snapshot.measuredBox.x)&&!ir(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Hb(this.projectionDelta),h=this.getTransformTemplate(),g=h?h(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&(d||hl(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),X5(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return sn();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(q5))){const{scroll:y}=this.root;y&&(pc(h.x,y.offset.x),pc(h.y,y.offset.y))}return h}removeElementScroll(c){var d;const h=sn();if(oi(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:x,options:v}=y;y!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&oi(h,c),pc(h.x,x.offset.x),pc(h.y,x.offset.y))}return h}applyTransform(c,d=!1){const h=sn();oi(h,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&gc(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),hl(y.latestValues)&&gc(h,y.latestValues)}return hl(this.latestValues)&&gc(h,this.latestValues),h}removeTransform(c){const d=sn();oi(d,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];if(!g.instance||!hl(g.latestValues))continue;hy(g.latestValues)&&g.updateSnapshot();const y=sn(),x=g.measurePageBox();oi(y,x),S1(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return hl(this.latestValues)&&S1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Cd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),$b(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Cd(this.relativeTargetOrigin,this.target,S.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||Ob(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(g=!1),g)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;oi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;a5(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=sn());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v1(this.prevProjectionDelta.x,this.projectionDelta.x),v1(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hc(),this.projectionDelta=hc(),this.projectionDeltaWithTransform=hc()}setAnimationOrigin(c,d=!1){const h=this.snapshot,g=h?h.latestValues:{},y={...this.latestValues},x=hc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=sn(),S=h?h.source:void 0,_=this.layout?this.layout.source:void 0,T=S!==_,N=this.getStack(),C=!N||N.members.length<=1,M=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(K5));this.animationProgress=0;let A;this.mixTargetDelta=L=>{const z=L/1e3;A1(x.x,c.x,z),A1(x.y,c.y,z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W5(this.relativeTarget,this.relativeTargetOrigin,v,z),A&&P5(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=sn()),oi(A,this.relativeTarget)),T&&(this.animationValues=y,E5(y,g,this.latestValues,z,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Gp.hasAnimatedSinceResize=!0,this.currentAnimation=y5(0,T1,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:g,latestValues:y}=c;if(!(!d||!h||!g)){if(this!==c&&this.layout&&g&&Xb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){h=this.target||sn();const x=ir(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const v=ir(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}oi(d,h),gc(d,y),bd(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new A5),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const g=this.getStack();g&&g.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const g={};h.z&&w0("z",c,g,this.animationValues);for(let y=0;y<x0.length;y++)w0(`rotate${x0[y]}`,c,g,this.animationValues),w0(`skew${x0[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return D5;const g={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Xp(c==null?void 0:c.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Xp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!hl(this.latestValues)&&(T.transform=y?y({},""):"none",this.hasProjected=!1),T}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),g.transform=R5(this.projectionDeltaWithTransform,this.treeScale,v),y&&(g.transform=y(v,g.transform));const{x:S,y:_}=this.projectionDelta;g.transformOrigin=`${S.origin*100}% ${_.origin*100}% 0`,x.animationValues?g.opacity=x===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:g.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const T in Vd){if(v[T]===void 0)continue;const{correct:N,applyTo:C,isCSSVariable:M}=Vd[T],A=g.transform==="none"?v[T]:N(v[T],x);if(C){const L=C.length;for(let z=0;z<L;z++)g[C[z]]=A}else M?this.options.visualElement.renderState.vars[T]=A:g[T]=A}return this.options.layoutId&&(g.pointerEvents=x===this?Xp(c==null?void 0:c.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(N1),this.root.sharedNodes.clear()}}}function I5(e){e.updateLayout()}function L5(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:u}=e.options,c=n.source!==e.layout.source;u==="size"?ai(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=ir(v);v.min=s[x].min,v.max=v.min+S}):Xb(u,n.layoutBox,s)&&ai(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=ir(s[x]);v.max=v.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+S)});const d=hc();bd(d,s,n.layoutBox);const h=hc();c?bd(h,e.applyTransform(a,!0),n.measuredBox):bd(h,s,n.layoutBox);const g=!Hb(d);let y=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:S}=x;if(v&&S){const _=sn();Cd(_,n.layoutBox,v.layoutBox);const T=sn();Cd(T,s,S.layoutBox),Wb(_,T)||(y=!0),x.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=_,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function j5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $5(e){e.clearSnapshot()}function N1(e){e.clearMeasurements()}function F5(e){e.isLayoutDirty=!1}function V5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z5(e){e.resolveTargetDelta()}function B5(e){e.calcProjection()}function U5(e){e.resetSkewAndRotation()}function H5(e){e.removeLeadSnapshot()}function A1(e,t,n){e.translate=Ht(t.translate,0,n),e.scale=Ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function R1(e,t,n,s){e.min=Ht(t.min,n.min,s),e.max=Ht(t.max,n.max,s)}function W5(e,t,n,s){R1(e.x,t.x,n.x,s),R1(e.y,t.y,n.y,s)}function K5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Y5={duration:.45,ease:[.4,0,.1,1]},D1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M1=D1("applewebkit/")&&!D1("chrome/")?Math.round:zr;function I1(e){e.min=M1(e.min),e.max=M1(e.max)}function X5(e){I1(e.x),I1(e.y)}function Xb(e,t,n){return e==="position"||e==="preserve-aspect"&&!QO(C1(t),C1(n),.2)}function q5(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const G5=Yb({attachResizeListener:(e,t)=>Wd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S0={current:void 0},qb=Yb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!S0.current){const e=new G5({});e.mount(window),e.setOptions({layoutScroll:!0}),S0.current=e}return S0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Q5={pan:{Feature:h5},drag:{Feature:d5,ProjectionNode:qb,MeasureLayout:zb}};function L1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,u=s[a];u&&It.postRender(()=>u(t,sh(t)))}class Z5 extends aa{mount(){const{current:t}=this.node;t&&(this.unmount=Z4(t,(n,s)=>(L1(this.node,s,"Start"),a=>L1(this.node,a,"End"))))}unmount(){}}class J5 extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ih(Wd(this.node.current,"focus",()=>this.onFocus()),Wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j1(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),u=s[a];u&&It.postRender(()=>u(t,sh(t)))}class e$ extends aa{mount(){const{current:t}=this.node;t&&(this.unmount=nj(t,(n,s)=>(j1(this.node,s,"Start"),(a,{success:u})=>j1(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,_0=new WeakMap,t$=e=>{const t=gy.get(e.target);t&&t(e)},n$=e=>{e.forEach(t$)};function r$({root:e,...t}){const n=e||document;_0.has(n)||_0.set(n,{});const s=_0.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(n$,{root:e,...t})),s[a]}function i$(e,t,n){const s=r$(t);return gy.set(e,n),s.observe(e),()=>{gy.delete(e),s.unobserve(e)}}const s$={some:0,all:1};class o$ extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:s$[a]},d=h=>{const{isIntersecting:g}=h;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),v=g?y:x;v&&v(h)};return i$(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(a$(t,n))&&this.startObserver()}unmount(){}}function a$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const l$={inView:{Feature:o$},tap:{Feature:e$},focus:{Feature:J5},hover:{Feature:Z5}},u$={layout:{ProjectionNode:qb,MeasureLayout:zb}},my={current:null},Gb={current:!1};function c$(){if(Gb.current=!0,!!Hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>my.current=e.matches;e.addListener(t),t()}else my.current=!1}const f$=[...wb,Wn,sa],d$=e=>f$.find(xb(e)),h$=new WeakMap;function p$(e,t,n){for(const s in t){const a=t[s],u=n[s];if(Yn(a))e.addValue(s,a);else if(Yn(u))e.addValue(s,Ud(a,{owner:e}));else if(u!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,Ud(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const O1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g${scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=fs.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,It.render(this.render,!1,!0))};const{latestValues:h,renderState:g,onUpdate:y}=c;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Ug(n),this.isVariantNode=PE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const _=v[S];h[S]!==void 0&&Yn(_)&&_.set(h[S],!1)}}mount(t){this.current=t,h$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Gb.current||c$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Cl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&It.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cc){const n=Cc[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<O1.length;s++){const a=O1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=p$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ud(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(yb(a)||lb(a))?a=parseFloat(a):!d$(a)&&sa.test(n)&&(a=pb(t,n)),this.setBaseTarget(t,Yn(a)?a.get():a)),Yn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=iv(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[t])}if(s&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Yn(u)?u:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Qb extends g${constructor(){super(...arguments),this.KeyframeResolver=Sb}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function m$(e){return window.getComputedStyle(e)}class y$ extends Qb{constructor(){super(...arguments),this.type="html",this.renderInstance=VE}readValueFromInstance(t,n){if(Cl.has(n)){const s=yv(n);return s&&s.default||0}else{const s=m$(t),a=(Gy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Fb(t,n)}build(t,n,s){Jy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return sv(t,n,s)}}class v$ extends Qb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&FE(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cl.has(n)){const s=yv(n);return s&&s.default||0}return n=zE.has(n)?n:Xy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return UE(t,n,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&It.postRender(this.updateDimensions)}build(t,n,s){nv(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,a){BE(t,n,s,a)}mount(t){this.isSVGTag=rv(t.tagName),super.mount(t)}}const x$=(e,t)=>tv(e)?new v$(t):new y$(t,{allowProjection:e!==P.Fragment}),w$=W4({...BO,...l$,...Q5,...u$},x$),Cn=a4(w$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zb=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,..._$,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Zb("lucide",a),...d},[...c.map(([g,y])=>P.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(e,t)=>{const n=P.forwardRef(({className:s,...a},u)=>P.createElement(E$,{ref:u,iconNode:t,className:Zb(`lucide-${S$(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jb=Xn("ArrowLeft",b$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eC=Xn("ArrowRight",C$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]],tC=Xn("BookCopy",k$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Wg=Xn("Bookmark",T$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],P$=Xn("Download",N$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],mg=Xn("Expand",A$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],D$=Xn("Menu",R$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],I$=Xn("Minimize2",M$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],nC=Xn("Paperclip",L$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O$=Xn("Pen",j$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],F$=Xn("Pencil",$$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rC=Xn("Plus",V$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B$=Xn("RefreshCw",z$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],H$=Xn("Save",U$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],iC=Xn("Search",W$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Y$=Xn("Trash2",K$),X$=({descriptions:e,isAIGenerated:t,as:n="div"})=>{const[s,a]=P.useState(null),{setDraggableType:u,setDraggableData:c}=ps();P.useEffect(()=>{var v,S;a(((v=e.find(_=>_.source==="synth"))==null?void 0:v.source)||((S=e[0])==null?void 0:S.source)||null)},[e]);const d=()=>{var v;return((v=e.find(S=>S.source===s))==null?void 0:v.description)||""};if(!e||e.length===0)return k.jsx(k.Fragment,{});const h=v=>{a(v)},g=v=>{const S=d();v.dataTransfer.effectAllowed="move",u("text"),c({content:S,provenance:s==="synth"?"ai-description":"description"})},y=d(),x=n;return k.jsxs(x,{className:"mb-4",children:[y?k.jsx("span",{className:`cursor-move inline-block p-1 text-xs 
                        ${t?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,draggable:!0,onDragStart:g,children:y}):k.jsx("span",{className:"text-gray-500 italic inline-block p-2",children:"No description available."}),k.jsxs("span",{className:"italic text-gray-500 text-xs mt-1 block",style:{userSelect:"none"},children:["Source:"," ",e.sort((v,S)=>v.source==="synth"?-1:S.source==="synth"?1:0).map(v=>k.jsx("button",{onClick:()=>h(v.source),className:`px-1 py-1 mx-0.5 rounded text-xxs ${v.source===s?t?"bg-blue-500 text-white":"bg-stone-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v.source},v.source))]})]})},$1=({currentIndex:e,totalItems:t,handlePrev:n,handleNext:s})=>k.jsxs("div",{className:"text-xs/6 flex mt-2 items-center mx-auto",style:{width:"80%"},children:[k.jsx("div",{onClick:n,className:"flex-1 flex items-center justify-end p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(Jb,{size:"18"})}),k.jsxs("span",{className:"text-gray-600 mx-2",children:[e+1,"/",t]}),k.jsx("div",{onClick:s,className:"flex-1 flex items-center justify-start p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(eC,{size:"18"})})]}),sC=e=>e.split(" ").map(t=>({value:t})),pl=e=>e.map(t=>t.value).join(" "),F1=e=>{const t=e.details||e;return{value:e.value,entryId:t.entry_id,databaseValue:t.databaseValue,images:t.images||[],isArtist:t.isArtist===1,type:t.type,aliases:t.isArtist===1?(t.artist_aliases||[]).map(n=>n.value):void 0,descriptions:t.descriptions?Object.entries(t.descriptions).map(([n,s])=>({source:n,description:s.description,...s})):[],relatedKeywordIds:t.relatedKeywordIds||[],relatedKeywordStrings:t.relatedKeywordStrings||[]}},$p=e=>{const n=()=>Math.random()*40-10,s=e.x+e.width/2,a=e.y+e.height/2,u=s-10+n(),c=a>=e.y+e.height/2?e.y+e.height+10+n():e.y+10+n();return{x:u,y:c}},oC=P.createContext(void 0),q$=({children:e})=>{const{userID:t,backend:n,loginStatus:s}=Li(),[a,u]=P.useState("new-canvas"),[c,d]=P.useState("Untitled"),[h,g]=P.useState("Never"),y=P.useCallback((N,C,M)=>{const A=C||a;try{const{nodes:L,edges:z,viewport:X}=N;localStorage.setItem(`${A}`,JSON.stringify({nodes:L,edges:z,viewport:X})),M&&localStorage.setItem(`${A}-name`,M)}catch(L){console.error("Error saving canvas to browser:",L)}},[a]),x=P.useCallback(async N=>{try{const C=await Ot.get(`${n}/api/get-canvas/${N}`);if(C.status===200&&C.data.success){console.log("response.data FROM BACKEND after pulling canvas:",C.data);const{canvasName:M,nodes:A,edges:L,viewport:z}=C.data.canvas,X=C.data.timestamp,O=typeof L=="string"?JSON.parse(L):L,B=typeof A=="string"?JSON.parse(A):A,q={nodes:B||[],edges:O||[],viewport:z||{x:0,y:0,zoom:1}};return console.log(`Loaded canvas "${M}" (ID: ${N}) with ${B.length} nodes and ${O.length} edges and timestamp: ${X}`),{canvasData:q,canvasName:M,timestamp:X}}}catch(C){console.error("Error loading canvas:",C)}return null},[n]),v=N=>{try{const C=localStorage.getItem(`${N}`);if(C)return console.log("canvas context found canvasID:",N,JSON.parse(C)),JSON.parse(C);console.warn("No canvas found for:",N)}catch(C){console.error("Error loading canvas from browser:",C)}return null},S=P.useCallback(async(N,C,M)=>{if(C=C||a,M=M||c||"Untitled",s!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",s);return}if(!N){console.error("No canvas data provided. Cannot save.");return}try{const A=new Date().toISOString();await Ot.post(`${n}/api/save-canvas`,{userID:t,canvasID:C,canvasName:M,canvasJSONObject:N,timestamp:A}),g(A),console.log("saved canvas:",C,M," at ",A)}catch(A){console.error("Error saving canvas:",A)}},[n,t,a,c,s]),_=P.useCallback(async N=>{if(s!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",s);return}const M=await(await fetch(`${n}/api/next-canvas-id/${N}`)).json();if(!M.success){console.error("Error fetching next canvas ID.");return}console.log("received next canvas ID:",M.nextCanvasId," calling save canvas on the new canvas"),await S({nodes:[],edges:[],viewport:{x:0,y:0,zoom:1}},`${M.nextCanvasId}`,"Untitled"),console.log("redirecting to new canvas: "+M.nextCanvasId),window.location.href=`/?user=${N}&canvas=${M.nextCanvasId}`},[s]),T=P.useCallback(async N=>{if(!t||t==="default"){console.error("You aren't logged in.");return}try{const C=await Ot.delete(`${n}/api/delete-canvas/${t}/${N}`);C.status===200&&C.data.success?console.log(`Canvas ${N} deleted successfully for user ${t}.`):console.error("Error deleting canvas:",C.data.error)}catch(C){console.error("Error deleting canvas:",C)}},[t,n]);return k.jsx(oC.Provider,{value:{canvasID:a,setCanvasId:u,canvasName:c,setCanvasName:d,saveCanvas:S,deleteCanvas:T,createNewCanvas:_,pullCanvas:x,quickSaveToBrowser:y,pullCanvasFromBrowser:v,lastSaved:h,setLastSaved:g},children:e})},Kg=()=>{const e=P.useContext(oC);if(!e)throw new Error("useCanvasContext must be used within a CanvasProvider");return e};var xd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var G$=xd.exports,V1;function Q$(){return V1||(V1=1,function(e,t){(function(){var n,s="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,y="__lodash_placeholder__",x=1,v=2,S=4,_=1,T=2,N=1,C=2,M=4,A=8,L=16,z=32,X=64,O=128,B=256,q=512,ee=30,fe="...",oe=800,ue=16,$=1,ne=2,Y=3,H=1/0,F=9007199254740991,K=17976931348623157e292,G=NaN,V=4294967295,J=V-1,me=V>>>1,ye=[["ary",O],["bind",N],["bindKey",C],["curry",A],["curryRight",L],["flip",q],["partial",z],["partialRight",X],["rearg",B]],we="[object Arguments]",ve="[object Array]",_e="[object AsyncFunction]",ke="[object Boolean]",Re="[object Date]",Ye="[object DOMException]",qe="[object Error]",Ne="[object Function]",Pe="[object GeneratorFunction]",Ke="[object Map]",ot="[object Number]",Et="[object Null]",cn="[object Object]",li="[object Promise]",sr="[object Proxy]",Fe="[object RegExp]",be="[object Set]",ze="[object String]",He="[object Symbol]",gt="[object Undefined]",vt="[object WeakMap]",_t="[object WeakSet]",Ft="[object ArrayBuffer]",bt="[object DataView]",Yt="[object Float32Array]",an="[object Float64Array]",kn="[object Int8Array]",la="[object Int16Array]",ao="[object Int32Array]",lo="[object Uint8Array]",ua="[object Uint8ClampedArray]",gs="[object Uint16Array]",ms="[object Uint32Array]",ca=/\b__p \+= '';/g,fa=/\b(__p \+=) '' \+/g,da=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ui=/&(?:amp|lt|gt|quot|#39);/g,ci=/[&<>"']/g,kl=RegExp(ui.source),ha=RegExp(ci.source),Tl=/<%-([\s\S]+?)%>/g,Nl=/<%([\s\S]+?)%>/g,pa=/<%=([\s\S]+?)%>/g,ga=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pl=/^\w*$/,ys=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vs=/[\\^$.*+?()[\]{}|]/g,xs=RegExp(vs.source),ma=/^\s+/,ws=/\s/,uo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,co=/\{\n\/\* \[wrapped with (.+)\] \*/,ya=/,? & /,Lc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jc=/[()=,{}\[\]\/\s]/,Al=/\\(\\)?/g,Ur=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,va=/\w*$/,Rl=/^[-+]0x[0-9a-f]+$/i,Oc=/^0b[01]+$/i,Dl=/^\[object .+?Constructor\]$/,Ml=/^0o[0-7]+$/i,Il=/^(?:0|[1-9]\d*)$/,Ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ss=/($^)/,$c=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",Fc="\\u0300-\\u036f",xa="\\ufe20-\\ufe2f",jl="\\u20d0-\\u20ff",_s=Fc+xa+jl,Ol="\\u2700-\\u27bf",fo="a-z\\xdf-\\xf6\\xf8-\\xff",ho="\\xac\\xb1\\xd7\\xf7",or="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vc="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$l="A-Z\\xc0-\\xd6\\xd8-\\xde",Fl="\\ufe0e\\ufe0f",Vl=ho+or+Vc+qn,Cr="['’]",po="["+Ct+"]",ji="["+Vl+"]",kr="["+_s+"]",zl="\\d+",zc="["+Ol+"]",Es="["+fo+"]",Bc="[^"+Ct+Vl+zl+Ol+fo+$l+"]",wa="\\ud83c[\\udffb-\\udfff]",Sa="(?:"+kr+"|"+wa+")",oh="[^"+Ct+"]",_a="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",bs="["+$l+"]",Uc="\\u200d",Bl="(?:"+Es+"|"+Bc+")",ah="(?:"+bs+"|"+Bc+")",Hc="(?:"+Cr+"(?:d|ll|m|re|s|t|ve))?",Wc="(?:"+Cr+"(?:D|LL|M|RE|S|T|VE))?",Ul=Sa+"?",Ea="["+Fl+"]?",Oi="(?:"+Uc+"(?:"+[oh,_a,mt].join("|")+")"+Ea+Ul+")*",$i="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",go=Ea+Ul+Oi,ba="(?:"+[zc,_a,mt].join("|")+")"+go,Vi="(?:"+[oh+kr+"?",kr,_a,mt,po].join("|")+")",Yg=RegExp(Cr,"g"),lh=RegExp(kr,"g"),Cs=RegExp(wa+"(?="+wa+")|"+Vi+go,"g"),Xg=RegExp([bs+"?"+Es+"+"+Hc+"(?="+[ji,bs,"$"].join("|")+")",ah+"+"+Wc+"(?="+[ji,bs+Bl,"$"].join("|")+")",bs+"?"+Bl+"+"+Hc,bs+"+"+Wc,Fi,$i,zl,ba].join("|"),"g"),uh=RegExp("["+Uc+Ct+_s+Fl+"]"),Hl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ch=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qg=-1,xt={};xt[Yt]=xt[an]=xt[kn]=xt[la]=xt[ao]=xt[lo]=xt[ua]=xt[gs]=xt[ms]=!0,xt[we]=xt[ve]=xt[Ft]=xt[ke]=xt[bt]=xt[Re]=xt[qe]=xt[Ne]=xt[Ke]=xt[ot]=xt[cn]=xt[Fe]=xt[be]=xt[ze]=xt[vt]=!1;var yt={};yt[we]=yt[ve]=yt[Ft]=yt[bt]=yt[ke]=yt[Re]=yt[Yt]=yt[an]=yt[kn]=yt[la]=yt[ao]=yt[Ke]=yt[ot]=yt[cn]=yt[Fe]=yt[be]=yt[ze]=yt[He]=yt[lo]=yt[ua]=yt[gs]=yt[ms]=!0,yt[qe]=yt[Ne]=yt[vt]=!1;var mo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Wl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kc=parseFloat,Kl=parseInt,Yl=typeof Ep=="object"&&Ep&&Ep.Object===Object&&Ep,fh=typeof self=="object"&&self&&self.Object===Object&&self,Rt=Yl||fh||Function("return this")(),Ca=t&&!t.nodeType&&t,Hr=Ca&&!0&&e&&!e.nodeType&&e,Yc=Hr&&Hr.exports===Ca,yo=Yc&&Yl.process,Tn=function(){try{var re=Hr&&Hr.require&&Hr.require("util").types;return re||yo&&yo.binding&&yo.binding("util")}catch{}}(),Xc=Tn&&Tn.isArrayBuffer,On=Tn&&Tn.isDate,ks=Tn&&Tn.isMap,Xl=Tn&&Tn.isRegExp,vo=Tn&&Tn.isSet,dh=Tn&&Tn.isTypedArray;function Nn(re,he,le){switch(le.length){case 0:return re.call(he);case 1:return re.call(he,le[0]);case 2:return re.call(he,le[0],le[1]);case 3:return re.call(he,le[0],le[1],le[2])}return re.apply(he,le)}function qc(re,he,le,De){for(var Je=-1,dt=re==null?0:re.length;++Je<dt;){var Xt=re[Je];he(De,Xt,le(Xt),re)}return De}function mn(re,he){for(var le=-1,De=re==null?0:re.length;++le<De&&he(re[le],le,re)!==!1;);return re}function ql(re,he){for(var le=re==null?0:re.length;le--&&he(re[le],le,re)!==!1;);return re}function Gc(re,he){for(var le=-1,De=re==null?0:re.length;++le<De;)if(!he(re[le],le,re))return!1;return!0}function zi(re,he){for(var le=-1,De=re==null?0:re.length,Je=0,dt=[];++le<De;){var Xt=re[le];he(Xt,le,re)&&(dt[Je++]=Xt)}return dt}function Gl(re,he){var le=re==null?0:re.length;return!!le&&xo(re,he,0)>-1}function Qc(re,he,le){for(var De=-1,Je=re==null?0:re.length;++De<Je;)if(le(he,re[De]))return!0;return!1}function kt(re,he){for(var le=-1,De=re==null?0:re.length,Je=Array(De);++le<De;)Je[le]=he(re[le],le,re);return Je}function Bi(re,he){for(var le=-1,De=he.length,Je=re.length;++le<De;)re[Je+le]=he[le];return re}function Zc(re,he,le,De){var Je=-1,dt=re==null?0:re.length;for(De&&dt&&(le=re[++Je]);++Je<dt;)le=he(le,re[Je],Je,re);return le}function Zg(re,he,le,De){var Je=re==null?0:re.length;for(De&&Je&&(le=re[--Je]);Je--;)le=he(le,re[Je],Je,re);return le}function Jc(re,he){for(var le=-1,De=re==null?0:re.length;++le<De;)if(he(re[le],le,re))return!0;return!1}var Jg=tf("length");function hh(re){return re.split("")}function em(re){return re.match(Lc)||[]}function ph(re,he,le){var De;return le(re,function(Je,dt,Xt){if(he(Je,dt,Xt))return De=dt,!1}),De}function Ql(re,he,le,De){for(var Je=re.length,dt=le+(De?1:-1);De?dt--:++dt<Je;)if(he(re[dt],dt,re))return dt;return-1}function xo(re,he,le){return he===he?eu(re,he,le):Ql(re,gh,le)}function ef(re,he,le,De){for(var Je=le-1,dt=re.length;++Je<dt;)if(De(re[Je],he))return Je;return-1}function gh(re){return re!==re}function mh(re,he){var le=re==null?0:re.length;return le?nf(re,he)/le:G}function tf(re){return function(he){return he==null?n:he[re]}}function Zl(re){return function(he){return re==null?n:re[he]}}function yh(re,he,le,De,Je){return Je(re,function(dt,Xt,wt){le=De?(De=!1,dt):he(le,dt,Xt,wt)}),le}function tm(re,he){var le=re.length;for(re.sort(he);le--;)re[le]=re[le].value;return re}function nf(re,he){for(var le,De=-1,Je=re.length;++De<Je;){var dt=he(re[De]);dt!==n&&(le=le===n?dt:le+dt)}return le}function rf(re,he){for(var le=-1,De=Array(re);++le<re;)De[le]=he(le);return De}function nm(re,he){return kt(he,function(le){return[le,re[le]]})}function vh(re){return re&&re.slice(0,tu(re)+1).replace(ma,"")}function Gn(re){return function(he){return re(he)}}function ka(re,he){return kt(he,function(le){return re[le]})}function fi(re,he){return re.has(he)}function xh(re,he){for(var le=-1,De=re.length;++le<De&&xo(he,re[le],0)>-1;);return le}function sf(re,he){for(var le=re.length;le--&&xo(he,re[le],0)>-1;);return le}function wh(re,he){for(var le=re.length,De=0;le--;)re[le]===he&&++De;return De}var Sh=Zl(mo),_h=Zl(Wl);function Eh(re){return"\\"+Qg[re]}function wo(re,he){return re==null?n:re[he]}function So(re){return uh.test(re)}function rm(re){return Hl.test(re)}function im(re){for(var he,le=[];!(he=re.next()).done;)le.push(he.value);return le}function Jl(re){var he=-1,le=Array(re.size);return re.forEach(function(De,Je){le[++he]=[Je,De]}),le}function of(re,he){return function(le){return re(he(le))}}function ar(re,he){for(var le=-1,De=re.length,Je=0,dt=[];++le<De;){var Xt=re[le];(Xt===he||Xt===y)&&(re[le]=y,dt[Je++]=le)}return dt}function Ui(re){var he=-1,le=Array(re.size);return re.forEach(function(De){le[++he]=De}),le}function sm(re){var he=-1,le=Array(re.size);return re.forEach(function(De){le[++he]=[De,De]}),le}function eu(re,he,le){for(var De=le-1,Je=re.length;++De<Je;)if(re[De]===he)return De;return-1}function om(re,he,le){for(var De=le+1;De--;)if(re[De]===he)return De;return De}function Ts(re){return So(re)?Ch(re):Jg(re)}function Qn(re){return So(re)?kh(re):hh(re)}function tu(re){for(var he=re.length;he--&&ws.test(re.charAt(he)););return he}var bh=Zl(Gg);function Ch(re){for(var he=Cs.lastIndex=0;Cs.test(re);)++he;return he}function kh(re){return re.match(Cs)||[]}function am(re){return re.match(Xg)||[]}var lm=function re(he){he=he==null?Rt:_o.defaults(Rt.Object(),he,_o.pick(Rt,ch));var le=he.Array,De=he.Date,Je=he.Error,dt=he.Function,Xt=he.Math,wt=he.Object,Ta=he.RegExp,um=he.String,lr=he.TypeError,di=le.prototype,af=dt.prototype,Wr=wt.prototype,Eo=he["__core-js_shared__"],Na=af.toString,ht=Wr.hasOwnProperty,bo=0,nu=function(){var o=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Pa=Wr.toString,ru=Na.call(wt),Th=Rt._,Nh=Ta("^"+Na.call(ht).replace(vs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=Yc?he.Buffer:n,hi=he.Symbol,Ra=he.Uint8Array,lf=Aa?Aa.allocUnsafe:n,Tr=of(wt.getPrototypeOf,wt),iu=wt.create,su=Wr.propertyIsEnumerable,ou=di.splice,Ph=hi?hi.isConcatSpreadable:n,pi=hi?hi.iterator:n,Ns=hi?hi.toStringTag:n,Da=function(){try{var o=es(wt,"defineProperty");return o({},"",{}),o}catch{}}(),Ah=he.clearTimeout!==Rt.clearTimeout&&he.clearTimeout,Nt=De&&De.now!==Rt.Date.now&&De.now,uf=he.setTimeout!==Rt.setTimeout&&he.setTimeout,Ps=Xt.ceil,Hi=Xt.floor,au=wt.getOwnPropertySymbols,cf=Aa?Aa.isBuffer:n,Co=he.isFinite,lu=di.join,ko=of(wt.keys,wt),qt=Xt.max,yn=Xt.min,cm=De.now,Rh=he.parseInt,Ma=Xt.random,uu=di.reverse,Ia=es(he,"DataView"),As=es(he,"Map"),La=es(he,"Promise"),Wi=es(he,"Set"),ja=es(he,"WeakMap"),To=es(wt,"create"),cu=ja&&new ja,No={},ff=ts(Ia),Ki=ts(As),Dh=ts(La),Po=ts(Wi),Kr=ts(ja),Yi=hi?hi.prototype:n,Zn=Yi?Yi.valueOf:n,fu=Yi?Yi.toString:n;function I(o){if(Qt(o)&&!tt(o)&&!(o instanceof et)){if(o instanceof vn)return o;if(ht.call(o,"__wrapped__"))return op(o)}return new vn(o)}var Ao=function(){function o(){}return function(l){if(!Ut(l))return{};if(iu)return iu(l);o.prototype=l;var m=new o;return o.prototype=n,m}}();function Yr(){}function vn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}I.templateSettings={escape:Tl,evaluate:Nl,interpolate:pa,variable:"",imports:{_:I}},I.prototype=Yr.prototype,I.prototype.constructor=I,vn.prototype=Ao(Yr.prototype),vn.prototype.constructor=vn;function et(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function du(){var o=new et(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o}function df(){if(this.__filtered__){var o=new et(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Ro(){var o=this.__wrapped__.value(),l=this.__dir__,m=tt(o),b=l<0,R=m?o.length:0,j=Vf(0,R,this.__views__),W=j.start,Z=j.end,ie=Z-W,pe=b?Z:W-1,ge=this.__iteratees__,Ee=ge.length,Ae=0,Ve=yn(ie,this.__takeCount__);if(!m||!b&&R==ie&&Ve==ie)return Fo(o,this.__actions__);var Ge=[];e:for(;ie--&&Ae<Ve;){pe+=l;for(var st=-1,Qe=o[pe];++st<Ee;){var lt=ge[st],ft=lt.iteratee,Or=lt.type,rr=ft(Qe);if(Or==ne)Qe=rr;else if(!rr){if(Or==$)continue e;break e}}Ge[Ae++]=Qe}return Ge}et.prototype=Ao(Yr.prototype),et.prototype.constructor=et;function $n(o){var l=-1,m=o==null?0:o.length;for(this.clear();++l<m;){var b=o[l];this.set(b[0],b[1])}}function Pt(){this.__data__=To?To(null):{},this.size=0}function Tt(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function Xi(o){var l=this.__data__;if(To){var m=l[o];return m===h?n:m}return ht.call(l,o)?l[o]:n}function xn(o){var l=this.__data__;return To?l[o]!==n:ht.call(l,o)}function Fn(o,l){var m=this.__data__;return this.size+=this.has(o)?0:1,m[o]=To&&l===n?h:l,this}$n.prototype.clear=Pt,$n.prototype.delete=Tt,$n.prototype.get=Xi,$n.prototype.has=xn,$n.prototype.set=Fn;function Pn(o){var l=-1,m=o==null?0:o.length;for(this.clear();++l<m;){var b=o[l];this.set(b[0],b[1])}}function Do(){this.__data__=[],this.size=0}function Vn(o){var l=this.__data__,m=Sn(l,o);if(m<0)return!1;var b=l.length-1;return m==b?l.pop():ou.call(l,m,1),--this.size,!0}function hu(o){var l=this.__data__,m=Sn(l,o);return m<0?n:l[m][1]}function Mh(o){return Sn(this.__data__,o)>-1}function Ih(o,l){var m=this.__data__,b=Sn(m,o);return b<0?(++this.size,m.push([o,l])):m[b][1]=l,this}Pn.prototype.clear=Do,Pn.prototype.delete=Vn,Pn.prototype.get=hu,Pn.prototype.has=Mh,Pn.prototype.set=Ih;function ur(o){var l=-1,m=o==null?0:o.length;for(this.clear();++l<m;){var b=o[l];this.set(b[0],b[1])}}function Lh(){this.size=0,this.__data__={hash:new $n,map:new(As||Pn),string:new $n}}function gi(o){var l=Za(this,o).delete(o);return this.size-=l?1:0,l}function pu(o){return Za(this,o).get(o)}function hf(o){return Za(this,o).has(o)}function jh(o,l){var m=Za(this,o),b=m.size;return m.set(o,l),this.size+=m.size==b?0:1,this}ur.prototype.clear=Lh,ur.prototype.delete=gi,ur.prototype.get=pu,ur.prototype.has=hf,ur.prototype.set=jh;function Rs(o){var l=-1,m=o==null?0:o.length;for(this.__data__=new ur;++l<m;)this.add(o[l])}function qi(o){return this.__data__.set(o,h),this}function Mo(o){return this.__data__.has(o)}Rs.prototype.add=Rs.prototype.push=qi,Rs.prototype.has=Mo;function wn(o){var l=this.__data__=new Pn(o);this.size=l.size}function gu(){this.__data__=new Pn,this.size=0}function mu(o){var l=this.__data__,m=l.delete(o);return this.size=l.size,m}function cr(o){return this.__data__.get(o)}function fr(o){return this.__data__.has(o)}function Ds(o,l){var m=this.__data__;if(m instanceof Pn){var b=m.__data__;if(!As||b.length<a-1)return b.push([o,l]),this.size=++m.size,this;m=this.__data__=new ur(b)}return m.set(o,l),this.size=m.size,this}wn.prototype.clear=gu,wn.prototype.delete=mu,wn.prototype.get=cr,wn.prototype.has=fr,wn.prototype.set=Ds;function Xr(o,l){var m=tt(o),b=!m&&cl(o),R=!m&&!b&&qo(o),j=!m&&!b&&!R&&ac(o),W=m||b||R||j,Z=W?rf(o.length,um):[],ie=Z.length;for(var pe in o)(l||ht.call(o,pe))&&!(W&&(pe=="length"||R&&(pe=="offset"||pe=="parent")||j&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||Mt(pe,ie)))&&Z.push(pe);return Z}function qr(o){var l=o.length;return l?o[Oo(0,l-1)]:n}function Ms(o,l){return Bu(An(o),mi(l,0,o.length))}function Oh(o){return Bu(An(o))}function Oa(o,l,m){(m!==n&&!ki(o[l],m)||m===n&&!(l in o))&&Gr(o,l,m)}function Is(o,l,m){var b=o[l];(!(ht.call(o,l)&&ki(b,m))||m===n&&!(l in o))&&Gr(o,l,m)}function Sn(o,l){for(var m=o.length;m--;)if(ki(o[m][0],l))return m;return-1}function Jn(o,l,m,b){return Zr(o,function(R,j,W){l(b,R,m(R),W)}),b}function At(o,l){return o&&Pr(l,bn(l),o)}function Nr(o,l){return o&&Pr(l,wr(l),o)}function Gr(o,l,m){l=="__proto__"&&Da?Da(o,l,{configurable:!0,enumerable:!0,value:m,writable:!0}):o[l]=m}function yu(o,l){for(var m=-1,b=l.length,R=le(b),j=o==null;++m<b;)R[m]=j?n:Dm(o,l[m]);return R}function mi(o,l,m){return o===o&&(m!==n&&(o=o<=m?o:m),l!==n&&(o=o>=l?o:l)),o}function zn(o,l,m,b,R,j){var W,Z=l&x,ie=l&v,pe=l&S;if(m&&(W=R?m(o,b,R,j):m(o)),W!==n)return W;if(!Ut(o))return o;var ge=tt(o);if(ge){if(W=el(o),!Z)return An(o,W)}else{var Ee=hn(o),Ae=Ee==Ne||Ee==Pe;if(qo(o))return Nf(o,Z);if(Ee==cn||Ee==we||Ae&&!R){if(W=ie||Ae?{}:pn(o),!Z)return ie?dm(o,Nr(W,o)):Au(o,At(W,o))}else{if(!yt[Ee])return R?o:{};W=hm(o,Ee,Z)}}j||(j=new wn);var Ve=j.get(o);if(Ve)return Ve;j.set(o,W),kv(o)?o.forEach(function(Qe){W.add(zn(Qe,l,m,Qe,o,j))}):bv(o)&&o.forEach(function(Qe,lt){W.set(lt,zn(Qe,l,m,lt,o,j))});var Ge=pe?ie?Qa:Ga:ie?wr:bn,st=ge?n:Ge(o);return mn(st||o,function(Qe,lt){st&&(lt=Qe,Qe=o[lt]),Is(W,lt,zn(Qe,l,m,lt,o,j))}),W}function $h(o){var l=bn(o);return function(m){return $a(m,o,l)}}function $a(o,l,m){var b=m.length;if(o==null)return!b;for(o=wt(o);b--;){var R=m[b],j=l[R],W=o[R];if(W===n&&!(R in o)||!j(W))return!1}return!0}function pf(o,l,m){if(typeof o!="function")throw new lr(c);return Ko(function(){o.apply(n,m)},l)}function Qr(o,l,m,b){var R=-1,j=Gl,W=!0,Z=o.length,ie=[],pe=l.length;if(!Z)return ie;m&&(l=kt(l,Gn(m))),b?(j=Qc,W=!1):l.length>=a&&(j=fi,W=!1,l=new Rs(l));e:for(;++R<Z;){var ge=o[R],Ee=m==null?ge:m(ge);if(ge=b||ge!==0?ge:0,W&&Ee===Ee){for(var Ae=pe;Ae--;)if(l[Ae]===Ee)continue e;ie.push(ge)}else j(l,Ee,b)||ie.push(ge)}return ie}var Zr=mr(er),Fh=mr(Gi,!0);function Fa(o,l){var m=!0;return Zr(o,function(b,R,j){return m=!!l(b,R,j),m}),m}function Ls(o,l,m){for(var b=-1,R=o.length;++b<R;){var j=o[b],W=l(j);if(W!=null&&(Z===n?W===W&&!jr(W):m(W,Z)))var Z=W,ie=j}return ie}function Vh(o,l,m,b){var R=o.length;for(m=it(m),m<0&&(m=-m>R?0:R+m),b=b===n||b>R?R:it(b),b<0&&(b+=R),b=m>b?0:Nv(b);m<b;)o[m++]=l;return o}function gf(o,l){var m=[];return Zr(o,function(b,R,j){l(b,R,j)&&m.push(b)}),m}function Vt(o,l,m,b,R){var j=-1,W=o.length;for(m||(m=Fu),R||(R=[]);++j<W;){var Z=o[j];l>0&&m(Z)?l>1?Vt(Z,l-1,m,b,R):Bi(R,Z):b||(R[R.length]=Z)}return R}var vu=Du(),Va=Du(!0);function er(o,l){return o&&vu(o,l,bn)}function Gi(o,l){return o&&Va(o,l,bn)}function Io(o,l){return zi(l,function(m){return Ys(o[m])})}function yi(o,l){l=ti(l,o);for(var m=0,b=l.length;o!=null&&m<b;)o=o[Mr(l[m++])];return m&&m==b?o:n}function xu(o,l,m){var b=l(o);return tt(o)?b:Bi(b,m(o))}function fn(o){return o==null?o===n?gt:Et:Ns&&Ns in wt(o)?$u(o):Bf(o)}function Qi(o,l){return o>l}function dr(o,l){return o!=null&&ht.call(o,l)}function js(o,l){return o!=null&&l in wt(o)}function mf(o,l,m){return o>=yn(l,m)&&o<qt(l,m)}function wu(o,l,m){for(var b=m?Qc:Gl,R=o[0].length,j=o.length,W=j,Z=le(j),ie=1/0,pe=[];W--;){var ge=o[W];W&&l&&(ge=kt(ge,Gn(l))),ie=yn(ge.length,ie),Z[W]=!m&&(l||R>=120&&ge.length>=120)?new Rs(W&&ge):n}ge=o[0];var Ee=-1,Ae=Z[0];e:for(;++Ee<R&&pe.length<ie;){var Ve=ge[Ee],Ge=l?l(Ve):Ve;if(Ve=m||Ve!==0?Ve:0,!(Ae?fi(Ae,Ge):b(pe,Ge,m))){for(W=j;--W;){var st=Z[W];if(!(st?fi(st,Ge):b(o[W],Ge,m)))continue e}Ae&&Ae.push(Ge),pe.push(Ve)}}return pe}function vi(o,l,m,b){return er(o,function(R,j,W){l(b,m(R),j,W)}),b}function hr(o,l,m){l=ti(l,o),o=ln(o,l);var b=o==null?o:o[Mr(Mn(l))];return b==null?n:Nn(b,o,m)}function Su(o){return Qt(o)&&fn(o)==we}function zh(o){return Qt(o)&&fn(o)==Ft}function xi(o){return Qt(o)&&fn(o)==Re}function pr(o,l,m,b,R){return o===l?!0:o==null||l==null||!Qt(o)&&!Qt(l)?o!==o&&l!==l:_u(o,l,m,b,pr,R)}function _u(o,l,m,b,R,j){var W=tt(o),Z=tt(l),ie=W?ve:hn(o),pe=Z?ve:hn(l);ie=ie==we?cn:ie,pe=pe==we?cn:pe;var ge=ie==cn,Ee=pe==cn,Ae=ie==pe;if(Ae&&qo(o)){if(!qo(l))return!1;W=!0,ge=!1}if(Ae&&!ge)return j||(j=new wn),W||ac(o)?$f(o,l,m,b,R,j):Ff(o,l,ie,m,b,R,j);if(!(m&_)){var Ve=ge&&ht.call(o,"__wrapped__"),Ge=Ee&&ht.call(l,"__wrapped__");if(Ve||Ge){var st=Ve?o.value():o,Qe=Ge?l.value():l;return j||(j=new wn),R(st,Qe,m,b,j)}}return Ae?(j||(j=new wn),Zh(o,l,m,b,R,j)):!1}function Bh(o){return Qt(o)&&hn(o)==Ke}function Lo(o,l,m,b){var R=m.length,j=R,W=!b;if(o==null)return!j;for(o=wt(o);R--;){var Z=m[R];if(W&&Z[2]?Z[1]!==o[Z[0]]:!(Z[0]in o))return!1}for(;++R<j;){Z=m[R];var ie=Z[0],pe=o[ie],ge=Z[1];if(W&&Z[2]){if(pe===n&&!(ie in o))return!1}else{var Ee=new wn;if(b)var Ae=b(pe,ge,ie,o,l,Ee);if(!(Ae===n?pr(ge,pe,_|T,b,Ee):Ae))return!1}}return!0}function yf(o){if(!Ut(o)||tp(o))return!1;var l=Ys(o)?Nh:Dl;return l.test(ts(o))}function za(o){return Qt(o)&&fn(o)==Fe}function Jr(o){return Qt(o)&&hn(o)==be}function Ba(o){return Qt(o)&&wp(o.length)&&!!xt[fn(o)]}function jo(o){return typeof o=="function"?o:o==null?Sr:typeof o=="object"?tt(o)?Dt(o[0],o[1]):Eu(o):Fv(o)}function wi(o){if(!bi(o))return ko(o);var l=[];for(var m in wt(o))ht.call(o,m)&&m!="constructor"&&l.push(m);return l}function vf(o){if(!Ut(o))return ip(o);var l=bi(o),m=[];for(var b in o)b=="constructor"&&(l||!ht.call(o,b))||m.push(b);return m}function Zi(o,l){return o<l}function xf(o,l){var m=-1,b=xr(o)?le(o.length):[];return Zr(o,function(R,j,W){b[++m]=l(R,j,W)}),b}function Eu(o){var l=Ja(o);return l.length==1&&l[0][2]?Vu(l[0][0],l[0][1]):function(m){return m===o||Lo(m,o,l)}}function Dt(o,l){return Ie(o)&&nl(l)?Vu(Mr(o),l):function(m){var b=Dm(m,o);return b===n&&b===l?Mm(m,o):pr(l,b,_|T)}}function Os(o,l,m,b,R){o!==l&&vu(l,function(j,W){if(R||(R=new wn),Ut(j))wf(o,l,W,m,Os,b,R);else{var Z=b?b(ii(o,W),j,W+"",o,l,R):n;Z===n&&(Z=j),Oa(o,W,Z)}},wr)}function wf(o,l,m,b,R,j,W){var Z=ii(o,m),ie=ii(l,m),pe=W.get(ie);if(pe){Oa(o,m,pe);return}var ge=j?j(Z,ie,m+"",o,l,W):n,Ee=ge===n;if(Ee){var Ae=tt(ie),Ve=!Ae&&qo(ie),Ge=!Ae&&!Ve&&ac(ie);ge=ie,Ae||Ve||Ge?tt(Z)?ge=Z:nn(Z)?ge=An(Z):Ve?(Ee=!1,ge=Nf(ie,!0)):Ge?(Ee=!1,ge=Yh(ie,!0)):ge=[]:od(ie)||cl(ie)?(ge=Z,cl(Z)?ge=Pv(Z):(!Ut(Z)||Ys(Z))&&(ge=pn(ie))):Ee=!1}Ee&&(W.set(ie,ge),R(ge,ie,b,j,W),W.delete(ie)),Oa(o,m,ge)}function bu(o,l){var m=o.length;if(m)return l+=l<0?m:0,Mt(l,m)?o[l]:n}function Ua(o,l,m){l.length?l=kt(l,function(j){return tt(j)?function(W){return yi(W,j.length===1?j[0]:j)}:j}):l=[Sr];var b=-1;l=kt(l,Gn(We()));var R=xf(o,function(j,W,Z){var ie=kt(l,function(pe){return pe(j)});return{criteria:ie,index:++b,value:j}});return tm(R,function(j,W){return fm(j,W,m)})}function Sf(o,l){return Ji(o,l,function(m,b){return Mm(o,b)})}function Ji(o,l,m){for(var b=-1,R=l.length,j={};++b<R;){var W=l[b],Z=yi(o,W);m(Z,W)&&Fs(j,ti(W,o),Z)}return j}function Lt(o){return function(l){return yi(l,o)}}function Bt(o,l,m,b){var R=b?ef:xo,j=-1,W=l.length,Z=o;for(o===l&&(l=An(l)),m&&(Z=kt(o,Gn(m)));++j<W;)for(var ie=0,pe=l[j],ge=m?m(pe):pe;(ie=R(Z,ge,ie,b))>-1;)Z!==o&&ou.call(Z,ie,1),ou.call(o,ie,1);return o}function Jt(o,l){for(var m=o?l.length:0,b=m-1;m--;){var R=l[m];if(m==b||R!==j){var j=R;Mt(R)?ou.call(o,R,1):Tu(o,R)}}return o}function Oo(o,l){return o+Hi(Ma()*(l-o+1))}function Ha(o,l,m,b){for(var R=-1,j=qt(Ps((l-o)/(m||1)),0),W=le(j);j--;)W[b?j:++R]=o,o+=m;return W}function $s(o,l){var m="";if(!o||l<1||l>F)return m;do l%2&&(m+=o),l=Hi(l/2),l&&(o+=o);while(l);return m}function rt(o,l){return tr(zu(o,l,Sr),o+"")}function _n(o){return qr(lc(o))}function _f(o,l){var m=lc(o);return Bu(m,mi(l,0,m.length))}function Fs(o,l,m,b){if(!Ut(o))return o;l=ti(l,o);for(var R=-1,j=l.length,W=j-1,Z=o;Z!=null&&++R<j;){var ie=Mr(l[R]),pe=m;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return o;if(R!=W){var ge=Z[ie];pe=b?b(ge,ie,Z):n,pe===n&&(pe=Ut(ge)?ge:Mt(l[R+1])?[]:{})}Is(Z,ie,pe),Z=Z[ie]}return o}var Cu=cu?function(o,l){return cu.set(o,l),o}:Sr,ei=Da?function(o,l){return Da(o,"toString",{configurable:!0,enumerable:!1,value:Lm(l),writable:!0})}:Sr;function gr(o){return Bu(lc(o))}function En(o,l,m){var b=-1,R=o.length;l<0&&(l=-l>R?0:R+l),m=m>R?R:m,m<0&&(m+=R),R=l>m?0:m-l>>>0,l>>>=0;for(var j=le(R);++b<R;)j[b]=o[b+l];return j}function Ef(o,l){var m;return Zr(o,function(b,R,j){return m=l(b,R,j),!m}),!!m}function $o(o,l,m){var b=0,R=o==null?b:o.length;if(typeof l=="number"&&l===l&&R<=me){for(;b<R;){var j=b+R>>>1,W=o[j];W!==null&&!jr(W)&&(m?W<=l:W<l)?b=j+1:R=j}return R}return ku(o,l,Sr,m)}function ku(o,l,m,b){var R=0,j=o==null?0:o.length;if(j===0)return 0;l=m(l);for(var W=l!==l,Z=l===null,ie=jr(l),pe=l===n;R<j;){var ge=Hi((R+j)/2),Ee=m(o[ge]),Ae=Ee!==n,Ve=Ee===null,Ge=Ee===Ee,st=jr(Ee);if(W)var Qe=b||Ge;else pe?Qe=Ge&&(b||Ae):Z?Qe=Ge&&Ae&&(b||!Ve):ie?Qe=Ge&&Ae&&!Ve&&(b||!st):Ve||st?Qe=!1:Qe=b?Ee<=l:Ee<l;Qe?R=ge+1:j=ge}return yn(j,J)}function bf(o,l){for(var m=-1,b=o.length,R=0,j=[];++m<b;){var W=o[m],Z=l?l(W):W;if(!m||!ki(Z,ie)){var ie=Z;j[R++]=W===0?0:W}}return j}function Cf(o){return typeof o=="number"?o:jr(o)?G:+o}function Bn(o){if(typeof o=="string")return o;if(tt(o))return kt(o,Bn)+"";if(jr(o))return fu?fu.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}function Si(o,l,m){var b=-1,R=Gl,j=o.length,W=!0,Z=[],ie=Z;if(m)W=!1,R=Qc;else if(j>=a){var pe=l?null:Qh(o);if(pe)return Ui(pe);W=!1,R=fi,ie=new Rs}else ie=l?[]:Z;e:for(;++b<j;){var ge=o[b],Ee=l?l(ge):ge;if(ge=m||ge!==0?ge:0,W&&Ee===Ee){for(var Ae=ie.length;Ae--;)if(ie[Ae]===Ee)continue e;l&&ie.push(Ee),Z.push(ge)}else R(ie,Ee,m)||(ie!==Z&&ie.push(Ee),Z.push(ge))}return Z}function Tu(o,l){return l=ti(l,o),o=ln(o,l),o==null||delete o[Mr(Mn(l))]}function kf(o,l,m,b){return Fs(o,l,m(yi(o,l)),b)}function Wa(o,l,m,b){for(var R=o.length,j=b?R:-1;(b?j--:++j<R)&&l(o[j],j,o););return m?En(o,b?0:j,b?j+1:R):En(o,b?j+1:0,b?R:j)}function Fo(o,l){var m=o;return m instanceof et&&(m=m.value()),Zc(l,function(b,R){return R.func.apply(R.thisArg,Bi([b],R.args))},m)}function Nu(o,l,m){var b=o.length;if(b<2)return b?Si(o[0]):[];for(var R=-1,j=le(b);++R<b;)for(var W=o[R],Z=-1;++Z<b;)Z!=R&&(j[R]=Qr(j[R]||W,o[Z],l,m));return Si(Vt(j,1),l,m)}function Ka(o,l,m){for(var b=-1,R=o.length,j=l.length,W={};++b<R;){var Z=b<j?l[b]:n;m(W,o[b],Z)}return W}function Vo(o){return nn(o)?o:[]}function Pu(o){return typeof o=="function"?o:Sr}function ti(o,l){return tt(o)?o:Ie(o,l)?[o]:Wf(St(o))}var Uh=rt;function _i(o,l,m){var b=o.length;return m=m===n?b:m,!l&&m>=b?o:En(o,l,m)}var Tf=Ah||function(o){return Rt.clearTimeout(o)};function Nf(o,l){if(l)return o.slice();var m=o.length,b=lf?lf(m):new o.constructor(m);return o.copy(b),b}function Ya(o){var l=new o.constructor(o.byteLength);return new Ra(l).set(new Ra(o)),l}function Hh(o,l){var m=l?Ya(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.byteLength)}function Wh(o){var l=new o.constructor(o.source,va.exec(o));return l.lastIndex=o.lastIndex,l}function Kh(o){return Zn?wt(Zn.call(o)):{}}function Yh(o,l){var m=l?Ya(o.buffer):o.buffer;return new o.constructor(m,o.byteOffset,o.length)}function Pf(o,l){if(o!==l){var m=o!==n,b=o===null,R=o===o,j=jr(o),W=l!==n,Z=l===null,ie=l===l,pe=jr(l);if(!Z&&!pe&&!j&&o>l||j&&W&&ie&&!Z&&!pe||b&&W&&ie||!m&&ie||!R)return 1;if(!b&&!j&&!pe&&o<l||pe&&m&&R&&!b&&!j||Z&&m&&R||!W&&R||!ie)return-1}return 0}function fm(o,l,m){for(var b=-1,R=o.criteria,j=l.criteria,W=R.length,Z=m.length;++b<W;){var ie=Pf(R[b],j[b]);if(ie){if(b>=Z)return ie;var pe=m[b];return ie*(pe=="desc"?-1:1)}}return o.index-l.index}function Xh(o,l,m,b){for(var R=-1,j=o.length,W=m.length,Z=-1,ie=l.length,pe=qt(j-W,0),ge=le(ie+pe),Ee=!b;++Z<ie;)ge[Z]=l[Z];for(;++R<W;)(Ee||R<j)&&(ge[m[R]]=o[R]);for(;pe--;)ge[Z++]=o[R++];return ge}function Af(o,l,m,b){for(var R=-1,j=o.length,W=-1,Z=m.length,ie=-1,pe=l.length,ge=qt(j-Z,0),Ee=le(ge+pe),Ae=!b;++R<ge;)Ee[R]=o[R];for(var Ve=R;++ie<pe;)Ee[Ve+ie]=l[ie];for(;++W<Z;)(Ae||R<j)&&(Ee[Ve+m[W]]=o[R++]);return Ee}function An(o,l){var m=-1,b=o.length;for(l||(l=le(b));++m<b;)l[m]=o[m];return l}function Pr(o,l,m,b){var R=!m;m||(m={});for(var j=-1,W=l.length;++j<W;){var Z=l[j],ie=b?b(m[Z],o[Z],Z,m,o):n;ie===n&&(ie=o[Z]),R?Gr(m,Z,ie):Is(m,Z,ie)}return m}function Au(o,l){return Pr(o,Ar(o),l)}function dm(o,l){return Pr(o,Jh(o),l)}function Ru(o,l){return function(m,b){var R=tt(m)?qc:Jn,j=l?l():{};return R(m,o,We(b,2),j)}}function zo(o){return rt(function(l,m){var b=-1,R=m.length,j=R>1?m[R-1]:n,W=R>2?m[2]:n;for(j=o.length>3&&typeof j=="function"?(R--,j):n,W&&Dn(m[0],m[1],W)&&(j=R<3?n:j,R=1),l=wt(l);++b<R;){var Z=m[b];Z&&o(l,Z,b,j)}return l})}function mr(o,l){return function(m,b){if(m==null)return m;if(!xr(m))return o(m,b);for(var R=m.length,j=l?R:-1,W=wt(m);(l?j--:++j<R)&&b(W[j],j,W)!==!1;);return m}}function Du(o){return function(l,m,b){for(var R=-1,j=wt(l),W=b(l),Z=W.length;Z--;){var ie=W[o?Z:++R];if(m(j[ie],ie,j)===!1)break}return l}}function Mu(o,l,m){var b=l&N,R=Bo(o);function j(){var W=this&&this!==Rt&&this instanceof j?R:o;return W.apply(b?m:this,arguments)}return j}function Rf(o){return function(l){l=St(l);var m=So(l)?Qn(l):n,b=m?m[0]:l.charAt(0),R=m?_i(m,1).join(""):l.slice(1);return b[o]()+R}}function Vs(o){return function(l){return Zc(Ov(jv(l).replace(Yg,"")),o,"")}}function Bo(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var m=Ao(o.prototype),b=o.apply(m,l);return Ut(b)?b:m}}function Df(o,l,m){var b=Bo(o);function R(){for(var j=arguments.length,W=le(j),Z=j,ie=Ei(R);Z--;)W[Z]=arguments[Z];var pe=j<3&&W[0]!==ie&&W[j-1]!==ie?[]:ar(W,ie);if(j-=pe.length,j<m)return Rn(o,l,Uo,R.placeholder,n,W,pe,n,n,m-j);var ge=this&&this!==Rt&&this instanceof R?b:o;return Nn(ge,this,W)}return R}function zs(o){return function(l,m,b){var R=wt(l);if(!xr(l)){var j=We(m,3);l=bn(l),m=function(Z){return j(R[Z],Z,R)}}var W=o(l,m,b);return W>-1?R[j?l[W]:W]:n}}function Iu(o){return ri(function(l){var m=l.length,b=m,R=vn.prototype.thru;for(o&&l.reverse();b--;){var j=l[b];if(typeof j!="function")throw new lr(c);if(R&&!W&&Ho(j)=="wrapper")var W=new vn([],!0)}for(b=W?b:m;++b<m;){j=l[b];var Z=Ho(j),ie=Z=="wrapper"?Ou(j):n;ie&&tl(ie[0])&&ie[1]==(O|A|z|B)&&!ie[4].length&&ie[9]==1?W=W[Ho(ie[0])].apply(W,ie[3]):W=j.length==1&&tl(j)?W[Z]():W.thru(j)}return function(){var pe=arguments,ge=pe[0];if(W&&pe.length==1&&tt(ge))return W.plant(ge).value();for(var Ee=0,Ae=m?l[Ee].apply(this,pe):ge;++Ee<m;)Ae=l[Ee].call(this,Ae);return Ae}})}function Uo(o,l,m,b,R,j,W,Z,ie,pe){var ge=l&O,Ee=l&N,Ae=l&C,Ve=l&(A|L),Ge=l&q,st=Ae?n:Bo(o);function Qe(){for(var lt=arguments.length,ft=le(lt),Or=lt;Or--;)ft[Or]=arguments[Or];if(Ve)var rr=Ei(Qe),$r=wh(ft,rr);if(b&&(ft=Xh(ft,b,R,Ve)),j&&(ft=Af(ft,j,W,Ve)),lt-=$r,Ve&&lt<pe){var rn=ar(ft,rr);return Rn(o,l,Uo,Qe.placeholder,m,ft,rn,Z,ie,pe-lt)}var Ti=Ee?m:this,qs=Ae?Ti[o]:o;return lt=ft.length,Z?ft=Rr(ft,Z):Ge&&lt>1&&ft.reverse(),ge&&ie<lt&&(ft.length=ie),this&&this!==Rt&&this instanceof Qe&&(qs=st||Bo(qs)),qs.apply(Ti,ft)}return Qe}function qh(o,l){return function(m,b){return vi(m,o,l(b),{})}}function Xa(o,l){return function(m,b){var R;if(m===n&&b===n)return l;if(m!==n&&(R=m),b!==n){if(R===n)return b;typeof m=="string"||typeof b=="string"?(m=Bn(m),b=Bn(b)):(m=Cf(m),b=Cf(b)),R=o(m,b)}return R}}function Lu(o){return ri(function(l){return l=kt(l,Gn(We())),rt(function(m){var b=this;return o(l,function(R){return Nn(R,b,m)})})})}function qa(o,l){l=l===n?" ":Bn(l);var m=l.length;if(m<2)return m?$s(l,o):l;var b=$s(l,Ps(o/Ts(l)));return So(l)?_i(Qn(b),0,o).join(""):b.slice(0,o)}function Gh(o,l,m,b){var R=l&N,j=Bo(o);function W(){for(var Z=-1,ie=arguments.length,pe=-1,ge=b.length,Ee=le(ge+ie),Ae=this&&this!==Rt&&this instanceof W?j:o;++pe<ge;)Ee[pe]=b[pe];for(;ie--;)Ee[pe++]=arguments[++Z];return Nn(Ae,R?m:this,Ee)}return W}function Mf(o){return function(l,m,b){return b&&typeof b!="number"&&Dn(l,m,b)&&(m=b=n),l=Xs(l),m===n?(m=l,l=0):m=Xs(m),b=b===n?l<m?1:-1:Xs(b),Ha(l,m,b,o)}}function ju(o){return function(l,m){return typeof l=="string"&&typeof m=="string"||(l=si(l),m=si(m)),o(l,m)}}function Rn(o,l,m,b,R,j,W,Z,ie,pe){var ge=l&A,Ee=ge?W:n,Ae=ge?n:W,Ve=ge?j:n,Ge=ge?n:j;l|=ge?z:X,l&=~(ge?X:z),l&M||(l&=-4);var st=[o,l,R,Ve,Ee,Ge,Ae,Z,ie,pe],Qe=m.apply(n,st);return tl(o)&&Uf(Qe,st),Qe.placeholder=b,Hf(Qe,o,l)}function dn(o){var l=Xt[o];return function(m,b){if(m=si(m),b=b==null?0:yn(it(b),292),b&&Co(m)){var R=(St(m)+"e").split("e"),j=l(R[0]+"e"+(+R[1]+b));return R=(St(j)+"e").split("e"),+(R[0]+"e"+(+R[1]-b))}return l(m)}}var Qh=Wi&&1/Ui(new Wi([,-0]))[1]==H?function(o){return new Wi(o)}:$m;function If(o){return function(l){var m=hn(l);return m==Ke?Jl(l):m==be?sm(l):nm(l,o(l))}}function ni(o,l,m,b,R,j,W,Z){var ie=l&C;if(!ie&&typeof o!="function")throw new lr(c);var pe=b?b.length:0;if(pe||(l&=-97,b=R=n),W=W===n?W:qt(it(W),0),Z=Z===n?Z:it(Z),pe-=R?R.length:0,l&X){var ge=b,Ee=R;b=R=n}var Ae=ie?n:Ou(o),Ve=[o,l,m,b,R,ge,Ee,j,W,Z];if(Ae&&rp(Ve,Ae),o=Ve[0],l=Ve[1],m=Ve[2],b=Ve[3],R=Ve[4],Z=Ve[9]=Ve[9]===n?ie?0:o.length:qt(Ve[9]-pe,0),!Z&&l&(A|L)&&(l&=-25),!l||l==N)var Ge=Mu(o,l,m);else l==A||l==L?Ge=Df(o,l,Z):(l==z||l==(N|z))&&!R.length?Ge=Gh(o,l,m,b):Ge=Uo.apply(n,Ve);var st=Ae?Cu:Uf;return Hf(st(Ge,Ve),o,l)}function Lf(o,l,m,b){return o===n||ki(o,Wr[m])&&!ht.call(b,m)?l:o}function jf(o,l,m,b,R,j){return Ut(o)&&Ut(l)&&(j.set(l,o),Os(o,l,n,jf,j),j.delete(l)),o}function Of(o){return od(o)?n:o}function $f(o,l,m,b,R,j){var W=m&_,Z=o.length,ie=l.length;if(Z!=ie&&!(W&&ie>Z))return!1;var pe=j.get(o),ge=j.get(l);if(pe&&ge)return pe==l&&ge==o;var Ee=-1,Ae=!0,Ve=m&T?new Rs:n;for(j.set(o,l),j.set(l,o);++Ee<Z;){var Ge=o[Ee],st=l[Ee];if(b)var Qe=W?b(st,Ge,Ee,l,o,j):b(Ge,st,Ee,o,l,j);if(Qe!==n){if(Qe)continue;Ae=!1;break}if(Ve){if(!Jc(l,function(lt,ft){if(!fi(Ve,ft)&&(Ge===lt||R(Ge,lt,m,b,j)))return Ve.push(ft)})){Ae=!1;break}}else if(!(Ge===st||R(Ge,st,m,b,j))){Ae=!1;break}}return j.delete(o),j.delete(l),Ae}function Ff(o,l,m,b,R,j,W){switch(m){case bt:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Ft:return!(o.byteLength!=l.byteLength||!j(new Ra(o),new Ra(l)));case ke:case Re:case ot:return ki(+o,+l);case qe:return o.name==l.name&&o.message==l.message;case Fe:case ze:return o==l+"";case Ke:var Z=Jl;case be:var ie=b&_;if(Z||(Z=Ui),o.size!=l.size&&!ie)return!1;var pe=W.get(o);if(pe)return pe==l;b|=T,W.set(o,l);var ge=$f(Z(o),Z(l),b,R,j,W);return W.delete(o),ge;case He:if(Zn)return Zn.call(o)==Zn.call(l)}return!1}function Zh(o,l,m,b,R,j){var W=m&_,Z=Ga(o),ie=Z.length,pe=Ga(l),ge=pe.length;if(ie!=ge&&!W)return!1;for(var Ee=ie;Ee--;){var Ae=Z[Ee];if(!(W?Ae in l:ht.call(l,Ae)))return!1}var Ve=j.get(o),Ge=j.get(l);if(Ve&&Ge)return Ve==l&&Ge==o;var st=!0;j.set(o,l),j.set(l,o);for(var Qe=W;++Ee<ie;){Ae=Z[Ee];var lt=o[Ae],ft=l[Ae];if(b)var Or=W?b(ft,lt,Ae,l,o,j):b(lt,ft,Ae,o,l,j);if(!(Or===n?lt===ft||R(lt,ft,m,b,j):Or)){st=!1;break}Qe||(Qe=Ae=="constructor")}if(st&&!Qe){var rr=o.constructor,$r=l.constructor;rr!=$r&&"constructor"in o&&"constructor"in l&&!(typeof rr=="function"&&rr instanceof rr&&typeof $r=="function"&&$r instanceof $r)&&(st=!1)}return j.delete(o),j.delete(l),st}function ri(o){return tr(zu(o,n,Hu),o+"")}function Ga(o){return xu(o,bn,Ar)}function Qa(o){return xu(o,wr,Jh)}var Ou=cu?function(o){return cu.get(o)}:$m;function Ho(o){for(var l=o.name+"",m=No[l],b=ht.call(No,l)?m.length:0;b--;){var R=m[b],j=R.func;if(j==null||j==o)return R.name}return l}function Ei(o){var l=ht.call(I,"placeholder")?I:o;return l.placeholder}function We(){var o=I.iteratee||jm;return o=o===jm?jo:o,arguments.length?o(arguments[0],arguments[1]):o}function Za(o,l){var m=o.__data__;return Wo(l)?m[typeof l=="string"?"string":"hash"]:m.map}function Ja(o){for(var l=bn(o),m=l.length;m--;){var b=l[m],R=o[b];l[m]=[b,R,nl(R)]}return l}function es(o,l){var m=wo(o,l);return yf(m)?m:n}function $u(o){var l=ht.call(o,Ns),m=o[Ns];try{o[Ns]=n;var b=!0}catch{}var R=Pa.call(o);return b&&(l?o[Ns]=m:delete o[Ns]),R}var Ar=au?function(o){return o==null?[]:(o=wt(o),zi(au(o),function(l){return su.call(o,l)}))}:Fm,Jh=au?function(o){for(var l=[];o;)Bi(l,Ar(o)),o=Tr(o);return l}:Fm,hn=fn;(Ia&&hn(new Ia(new ArrayBuffer(1)))!=bt||As&&hn(new As)!=Ke||La&&hn(La.resolve())!=li||Wi&&hn(new Wi)!=be||ja&&hn(new ja)!=vt)&&(hn=function(o){var l=fn(o),m=l==cn?o.constructor:n,b=m?ts(m):"";if(b)switch(b){case ff:return bt;case Ki:return Ke;case Dh:return li;case Po:return be;case Kr:return vt}return l});function Vf(o,l,m){for(var b=-1,R=m.length;++b<R;){var j=m[b],W=j.size;switch(j.type){case"drop":o+=W;break;case"dropRight":l-=W;break;case"take":l=yn(l,o+W);break;case"takeRight":o=qt(o,l-W);break}}return{start:o,end:l}}function ep(o){var l=o.match(co);return l?l[1].split(ya):[]}function zf(o,l,m){l=ti(l,o);for(var b=-1,R=l.length,j=!1;++b<R;){var W=Mr(l[b]);if(!(j=o!=null&&m(o,W)))break;o=o[W]}return j||++b!=R?j:(R=o==null?0:o.length,!!R&&wp(R)&&Mt(W,R)&&(tt(o)||cl(o)))}function el(o){var l=o.length,m=new o.constructor(l);return l&&typeof o[0]=="string"&&ht.call(o,"index")&&(m.index=o.index,m.input=o.input),m}function pn(o){return typeof o.constructor=="function"&&!bi(o)?Ao(Tr(o)):{}}function hm(o,l,m){var b=o.constructor;switch(l){case Ft:return Ya(o);case ke:case Re:return new b(+o);case bt:return Hh(o,m);case Yt:case an:case kn:case la:case ao:case lo:case ua:case gs:case ms:return Yh(o,m);case Ke:return new b;case ot:case ze:return new b(o);case Fe:return Wh(o);case be:return new b;case He:return Kh(o)}}function pm(o,l){var m=l.length;if(!m)return o;var b=m-1;return l[b]=(m>1?"& ":"")+l[b],l=l.join(m>2?", ":" "),o.replace(uo,`{
/* [wrapped with `+l+`] */
`)}function Fu(o){return tt(o)||cl(o)||!!(Ph&&o&&o[Ph])}function Mt(o,l){var m=typeof o;return l=l??F,!!l&&(m=="number"||m!="symbol"&&Il.test(o))&&o>-1&&o%1==0&&o<l}function Dn(o,l,m){if(!Ut(m))return!1;var b=typeof l;return(b=="number"?xr(m)&&Mt(l,m.length):b=="string"&&l in m)?ki(m[l],o):!1}function Ie(o,l){if(tt(o))return!1;var m=typeof o;return m=="number"||m=="symbol"||m=="boolean"||o==null||jr(o)?!0:Pl.test(o)||!ga.test(o)||l!=null&&o in wt(l)}function Wo(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function tl(o){var l=Ho(o),m=I[l];if(typeof m!="function"||!(l in et.prototype))return!1;if(o===m)return!0;var b=Ou(m);return!!b&&o===b[0]}function tp(o){return!!nu&&nu in o}var gm=Eo?Ys:Vm;function bi(o){var l=o&&o.constructor,m=typeof l=="function"&&l.prototype||Wr;return o===m}function nl(o){return o===o&&!Ut(o)}function Vu(o,l){return function(m){return m==null?!1:m[o]===l&&(l!==n||o in wt(m))}}function np(o){var l=Te(o,function(b){return m.size===g&&m.clear(),b}),m=l.cache;return l}function rp(o,l){var m=o[1],b=l[1],R=m|b,j=R<(N|C|O),W=b==O&&m==A||b==O&&m==B&&o[7].length<=l[8]||b==(O|B)&&l[7].length<=l[8]&&m==A;if(!(j||W))return o;b&N&&(o[2]=l[2],R|=m&N?0:M);var Z=l[3];if(Z){var ie=o[3];o[3]=ie?Xh(ie,Z,l[4]):Z,o[4]=ie?ar(o[3],y):l[4]}return Z=l[5],Z&&(ie=o[5],o[5]=ie?Af(ie,Z,l[6]):Z,o[6]=ie?ar(o[5],y):l[6]),Z=l[7],Z&&(o[7]=Z),b&O&&(o[8]=o[8]==null?l[8]:yn(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=R,o}function ip(o){var l=[];if(o!=null)for(var m in wt(o))l.push(m);return l}function Bf(o){return Pa.call(o)}function zu(o,l,m){return l=qt(l===n?o.length-1:l,0),function(){for(var b=arguments,R=-1,j=qt(b.length-l,0),W=le(j);++R<j;)W[R]=b[l+R];R=-1;for(var Z=le(l+1);++R<l;)Z[R]=b[R];return Z[l]=m(W),Nn(o,this,Z)}}function ln(o,l){return l.length<2?o:yi(o,En(l,0,-1))}function Rr(o,l){for(var m=o.length,b=yn(l.length,m),R=An(o);b--;){var j=l[b];o[b]=Mt(j,m)?R[j]:n}return o}function ii(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Uf=Dr(Cu),Ko=uf||function(o,l){return Rt.setTimeout(o,l)},tr=Dr(ei);function Hf(o,l,m){var b=l+"";return tr(o,pm(b,sp(ep(b),m)))}function Dr(o){var l=0,m=0;return function(){var b=cm(),R=ue-(b-m);if(m=b,R>0){if(++l>=oe)return arguments[0]}else l=0;return o.apply(n,arguments)}}function Bu(o,l){var m=-1,b=o.length,R=b-1;for(l=l===n?b:l;++m<l;){var j=Oo(m,R),W=o[j];o[j]=o[m],o[m]=W}return o.length=l,o}var Wf=np(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(ys,function(m,b,R,j){l.push(R?j.replace(Al,"$1"):b||m)}),l});function Mr(o){if(typeof o=="string"||jr(o))return o;var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}function ts(o){if(o!=null){try{return Na.call(o)}catch{}try{return o+""}catch{}}return""}function sp(o,l){return mn(ye,function(m){var b="_."+m[0];l&m[1]&&!Gl(o,b)&&o.push(b)}),o.sort()}function op(o){if(o instanceof et)return o.clone();var l=new vn(o.__wrapped__,o.__chain__);return l.__actions__=An(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function Uu(o,l,m){(m?Dn(o,l,m):l===n)?l=1:l=qt(it(l),0);var b=o==null?0:o.length;if(!b||l<1)return[];for(var R=0,j=0,W=le(Ps(b/l));R<b;)W[j++]=En(o,R,R+=l);return W}function Kf(o){for(var l=-1,m=o==null?0:o.length,b=0,R=[];++l<m;){var j=o[l];j&&(R[b++]=j)}return R}function yr(){var o=arguments.length;if(!o)return[];for(var l=le(o-1),m=arguments[0],b=o;b--;)l[b-1]=arguments[b];return Bi(tt(m)?An(m):[m],Vt(l,1))}var ct=rt(function(o,l){return nn(o)?Qr(o,Vt(l,1,nn,!0)):[]}),un=rt(function(o,l){var m=Mn(l);return nn(m)&&(m=n),nn(o)?Qr(o,Vt(l,1,nn,!0),We(m,2)):[]}),Gt=rt(function(o,l){var m=Mn(l);return nn(m)&&(m=n),nn(o)?Qr(o,Vt(l,1,nn,!0),n,m):[]});function gn(o,l,m){var b=o==null?0:o.length;return b?(l=m||l===n?1:it(l),En(o,l<0?0:l,b)):[]}function nr(o,l,m){var b=o==null?0:o.length;return b?(l=m||l===n?1:it(l),l=b-l,En(o,0,l<0?0:l)):[]}function Yo(o,l){return o&&o.length?Wa(o,We(l,3),!0,!0):[]}function en(o,l){return o&&o.length?Wa(o,We(l,3),!0):[]}function rl(o,l,m,b){var R=o==null?0:o.length;return R?(m&&typeof m!="number"&&Dn(o,l,m)&&(m=0,b=R),Vh(o,l,m,b)):[]}function ns(o,l,m){var b=o==null?0:o.length;if(!b)return-1;var R=m==null?0:it(m);return R<0&&(R=qt(b+R,0)),Ql(o,We(l,3),R)}function il(o,l,m){var b=o==null?0:o.length;if(!b)return-1;var R=b-1;return m!==n&&(R=it(m),R=m<0?qt(b+R,0):yn(R,b-1)),Ql(o,We(l,3),R,!0)}function Hu(o){var l=o==null?0:o.length;return l?Vt(o,1):[]}function sl(o){var l=o==null?0:o.length;return l?Vt(o,H):[]}function Un(o,l){var m=o==null?0:o.length;return m?(l=l===n?1:it(l),Vt(o,l)):[]}function Yf(o){for(var l=-1,m=o==null?0:o.length,b={};++l<m;){var R=o[l];b[R[0]]=R[1]}return b}function Bs(o){return o&&o.length?o[0]:n}function Ci(o,l,m){var b=o==null?0:o.length;if(!b)return-1;var R=m==null?0:it(m);return R<0&&(R=qt(b+R,0)),xo(o,l,R)}function Wu(o){var l=o==null?0:o.length;return l?En(o,0,-1):[]}var Xf=rt(function(o){var l=kt(o,Vo);return l.length&&l[0]===o[0]?wu(l):[]}),rs=rt(function(o){var l=Mn(o),m=kt(o,Vo);return l===Mn(m)?l=n:m.pop(),m.length&&m[0]===o[0]?wu(m,We(l,2)):[]}),Ku=rt(function(o){var l=Mn(o),m=kt(o,Vo);return l=typeof l=="function"?l:n,l&&m.pop(),m.length&&m[0]===o[0]?wu(m,n,l):[]});function is(o,l){return o==null?"":lu.call(o,l)}function Mn(o){var l=o==null?0:o.length;return l?o[l-1]:n}function ol(o,l,m){var b=o==null?0:o.length;if(!b)return-1;var R=b;return m!==n&&(R=it(m),R=R<0?qt(b+R,0):yn(R,b-1)),l===l?om(o,l,R):Ql(o,gh,R,!0)}function qf(o,l){return o&&o.length?bu(o,it(l)):n}var Yu=rt(al);function al(o,l){return o&&o.length&&l&&l.length?Bt(o,l):o}function In(o,l,m){return o&&o.length&&l&&l.length?Bt(o,l,We(m,2)):o}function ss(o,l,m){return o&&o.length&&l&&l.length?Bt(o,l,n,m):o}var Ir=ri(function(o,l){var m=o==null?0:o.length,b=yu(o,l);return Jt(o,kt(l,function(R){return Mt(R,m)?+R:R}).sort(Pf)),b});function Hn(o,l){var m=[];if(!(o&&o.length))return m;var b=-1,R=[],j=o.length;for(l=We(l,3);++b<j;){var W=o[b];l(W,b,o)&&(m.push(W),R.push(b))}return Jt(o,R),m}function Xu(o){return o==null?o:uu.call(o)}function Gf(o,l,m){var b=o==null?0:o.length;return b?(m&&typeof m!="number"&&Dn(o,l,m)?(l=0,m=b):(l=l==null?0:it(l),m=m===n?b:it(m)),En(o,l,m)):[]}function Qf(o,l){return $o(o,l)}function mm(o,l,m){return ku(o,l,We(m,2))}function os(o,l){var m=o==null?0:o.length;if(m){var b=$o(o,l);if(b<m&&ki(o[b],l))return b}return-1}function ap(o,l){return $o(o,l,!0)}function Zf(o,l,m){return ku(o,l,We(m,2),!0)}function Us(o,l){var m=o==null?0:o.length;if(m){var b=$o(o,l,!0)-1;if(ki(o[b],l))return b}return-1}function Jf(o){return o&&o.length?bf(o):[]}function Hs(o,l){return o&&o.length?bf(o,We(l,2)):[]}function lp(o){var l=o==null?0:o.length;return l?En(o,1,l):[]}function up(o,l,m){return o&&o.length?(l=m||l===n?1:it(l),En(o,0,l<0?0:l)):[]}function ed(o,l,m){var b=o==null?0:o.length;return b?(l=m||l===n?1:it(l),l=b-l,En(o,l<0?0:l,b)):[]}function qu(o,l){return o&&o.length?Wa(o,We(l,3),!1,!0):[]}function ym(o,l){return o&&o.length?Wa(o,We(l,3)):[]}var vm=rt(function(o){return Si(Vt(o,1,nn,!0))}),cp=rt(function(o){var l=Mn(o);return nn(l)&&(l=n),Si(Vt(o,1,nn,!0),We(l,2))}),fp=rt(function(o){var l=Mn(o);return l=typeof l=="function"?l:n,Si(Vt(o,1,nn,!0),n,l)});function Ws(o){return o&&o.length?Si(o):[]}function xm(o,l){return o&&o.length?Si(o,We(l,2)):[]}function Xo(o,l){return l=typeof l=="function"?l:n,o&&o.length?Si(o,n,l):[]}function Gu(o){if(!(o&&o.length))return[];var l=0;return o=zi(o,function(m){if(nn(m))return l=qt(m.length,l),!0}),rf(l,function(m){return kt(o,tf(m))})}function jt(o,l){if(!(o&&o.length))return[];var m=Gu(o);return l==null?m:kt(m,function(b){return Nn(l,n,b)})}var wm=rt(function(o,l){return nn(o)?Qr(o,l):[]}),dp=rt(function(o){return Nu(zi(o,nn))}),Sm=rt(function(o){var l=Mn(o);return nn(l)&&(l=n),Nu(zi(o,nn),We(l,2))}),_m=rt(function(o){var l=Mn(o);return l=typeof l=="function"?l:n,Nu(zi(o,nn),n,l)}),hp=rt(Gu);function pp(o,l){return Ka(o||[],l||[],Is)}function Em(o,l){return Ka(o||[],l||[],Fs)}var vr=rt(function(o){var l=o.length,m=l>1?o[l-1]:n;return m=typeof m=="function"?(o.pop(),m):n,jt(o,m)});function Qu(o){var l=I(o);return l.__chain__=!0,l}function bm(o,l){return l(o),o}function Lr(o,l){return l(o)}var Zu=ri(function(o){var l=o.length,m=l?o[0]:0,b=this.__wrapped__,R=function(j){return yu(j,o)};return l>1||this.__actions__.length||!(b instanceof et)||!Mt(m)?this.thru(R):(b=b.slice(m,+m+(l?1:0)),b.__actions__.push({func:Lr,args:[R],thisArg:n}),new vn(b,this.__chain__).thru(function(j){return l&&!j.length&&j.push(n),j}))});function Ks(){return Qu(this)}function Ju(){return new vn(this.value(),this.__chain__)}function td(){this.__values__===n&&(this.__values__=Tv(this.value()));var o=this.__index__>=this.__values__.length,l=o?n:this.__values__[this.__index__++];return{done:o,value:l}}function nd(){return this}function Cm(o){for(var l,m=this;m instanceof Yr;){var b=op(m);b.__index__=0,b.__values__=n,l?R.__wrapped__=b:l=b;var R=b;m=m.__wrapped__}return R.__wrapped__=o,l}function rd(){var o=this.__wrapped__;if(o instanceof et){var l=o;return this.__actions__.length&&(l=new et(this)),l=l.reverse(),l.__actions__.push({func:Lr,args:[Xu],thisArg:n}),new vn(l,this.__chain__)}return this.thru(Xu)}function km(){return Fo(this.__wrapped__,this.__actions__)}var gp=Ru(function(o,l,m){ht.call(o,m)?++o[m]:Gr(o,m,1)});function mp(o,l,m){var b=tt(o)?Gc:Fa;return m&&Dn(o,l,m)&&(l=n),b(o,We(l,3))}function ec(o,l){var m=tt(o)?zi:gf;return m(o,We(l,3))}var tc=zs(ns),yp=zs(il);function id(o,l){return Vt(sc(o,l),1)}function vp(o,l){return Vt(sc(o,l),H)}function sd(o,l,m){return m=m===n?1:it(m),Vt(sc(o,l),m)}function ll(o,l){var m=tt(o)?mn:Zr;return m(o,We(l,3))}function nc(o,l){var m=tt(o)?ql:Fh;return m(o,We(l,3))}var rc=Ru(function(o,l,m){ht.call(o,m)?o[m].push(l):Gr(o,m,[l])});function xp(o,l,m,b){o=xr(o)?o:lc(o),m=m&&!b?it(m):0;var R=o.length;return m<0&&(m=qt(R+m,0)),Sp(o)?m<=R&&o.indexOf(l,m)>-1:!!R&&xo(o,l,m)>-1}var Tm=rt(function(o,l,m){var b=-1,R=typeof l=="function",j=xr(o)?le(o.length):[];return Zr(o,function(W){j[++b]=R?Nn(l,W,m):hr(W,l,m)}),j}),ic=Ru(function(o,l,m){Gr(o,m,l)});function sc(o,l){var m=tt(o)?kt:xf;return m(o,We(l,3))}function ul(o,l,m,b){return o==null?[]:(tt(l)||(l=l==null?[]:[l]),m=b?n:m,tt(m)||(m=m==null?[]:[m]),Ua(o,l,m))}var Nm=Ru(function(o,l,m){o[m?0:1].push(l)},function(){return[[],[]]});function oc(o,l,m){var b=tt(o)?Zc:yh,R=arguments.length<3;return b(o,We(l,4),m,R,Zr)}function r(o,l,m){var b=tt(o)?Zg:yh,R=arguments.length<3;return b(o,We(l,4),m,R,Fh)}function i(o,l){var m=tt(o)?zi:gf;return m(o,Oe(We(l,3)))}function f(o){var l=tt(o)?qr:_n;return l(o)}function p(o,l,m){(m?Dn(o,l,m):l===n)?l=1:l=it(l);var b=tt(o)?Ms:_f;return b(o,l)}function w(o){var l=tt(o)?Oh:gr;return l(o)}function E(o){if(o==null)return 0;if(xr(o))return Sp(o)?Ts(o):o.length;var l=hn(o);return l==Ke||l==be?o.size:wi(o).length}function D(o,l,m){var b=tt(o)?Jc:Ef;return m&&Dn(o,l,m)&&(l=n),b(o,We(l,3))}var U=rt(function(o,l){if(o==null)return[];var m=l.length;return m>1&&Dn(o,l[0],l[1])?l=[]:m>2&&Dn(l[0],l[1],l[2])&&(l=[l[0]]),Ua(o,Vt(l,1),[])}),Q=Nt||function(){return Rt.Date.now()};function ce(o,l){if(typeof l!="function")throw new lr(c);return o=it(o),function(){if(--o<1)return l.apply(this,arguments)}}function Se(o,l,m){return l=m?n:l,l=o&&l==null?o.length:l,ni(o,O,n,n,n,n,l)}function Ce(o,l){var m;if(typeof l!="function")throw new lr(c);return o=it(o),function(){return--o>0&&(m=l.apply(this,arguments)),o<=1&&(l=n),m}}var xe=rt(function(o,l,m){var b=N;if(m.length){var R=ar(m,Ei(xe));b|=z}return ni(o,b,l,m,R)}),Me=rt(function(o,l,m){var b=N|C;if(m.length){var R=ar(m,Ei(Me));b|=z}return ni(l,b,o,m,R)});function Le(o,l,m){l=m?n:l;var b=ni(o,A,n,n,n,n,n,l);return b.placeholder=Le.placeholder,b}function je(o,l,m){l=m?n:l;var b=ni(o,L,n,n,n,n,n,l);return b.placeholder=je.placeholder,b}function zt(o,l,m){var b,R,j,W,Z,ie,pe=0,ge=!1,Ee=!1,Ae=!0;if(typeof o!="function")throw new lr(c);l=si(l)||0,Ut(m)&&(ge=!!m.leading,Ee="maxWait"in m,j=Ee?qt(si(m.maxWait)||0,l):j,Ae="trailing"in m?!!m.trailing:Ae);function Ve(rn){var Ti=b,qs=R;return b=R=n,pe=rn,W=o.apply(qs,Ti),W}function Ge(rn){return pe=rn,Z=Ko(lt,l),ge?Ve(rn):W}function st(rn){var Ti=rn-ie,qs=rn-pe,Vv=l-Ti;return Ee?yn(Vv,j-qs):Vv}function Qe(rn){var Ti=rn-ie,qs=rn-pe;return ie===n||Ti>=l||Ti<0||Ee&&qs>=j}function lt(){var rn=Q();if(Qe(rn))return ft(rn);Z=Ko(lt,st(rn))}function ft(rn){return Z=n,Ae&&b?Ve(rn):(b=R=n,W)}function Or(){Z!==n&&Tf(Z),pe=0,b=ie=R=Z=n}function rr(){return Z===n?W:ft(Q())}function $r(){var rn=Q(),Ti=Qe(rn);if(b=arguments,R=this,ie=rn,Ti){if(Z===n)return Ge(ie);if(Ee)return Tf(Z),Z=Ko(lt,l),Ve(ie)}return Z===n&&(Z=Ko(lt,l)),W}return $r.cancel=Or,$r.flush=rr,$r}var se=rt(function(o,l){return pf(o,1,l)}),te=rt(function(o,l,m){return pf(o,si(l)||0,m)});function ae(o){return ni(o,q)}function Te(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new lr(c);var m=function(){var b=arguments,R=l?l.apply(this,b):b[0],j=m.cache;if(j.has(R))return j.get(R);var W=o.apply(this,b);return m.cache=j.set(R,W)||j,W};return m.cache=new(Te.Cache||ur),m}Te.Cache=ur;function Oe(o){if(typeof o!="function")throw new lr(c);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function Be(o){return Ce(2,o)}var Ue=Uh(function(o,l){l=l.length==1&&tt(l[0])?kt(l[0],Gn(We())):kt(Vt(l,1),Gn(We()));var m=l.length;return rt(function(b){for(var R=-1,j=yn(b.length,m);++R<j;)b[R]=l[R].call(this,b[R]);return Nn(o,this,b)})}),Xe=rt(function(o,l){var m=ar(l,Ei(Xe));return ni(o,z,n,l,m)}),tn=rt(function(o,l){var m=ar(l,Ei(tn));return ni(o,X,n,l,m)}),pt=ri(function(o,l){return ni(o,B,n,n,n,l)});function as(o,l){if(typeof o!="function")throw new lr(c);return l=l===n?l:it(l),rt(o,l)}function Pm(o,l){if(typeof o!="function")throw new lr(c);return l=l==null?0:qt(it(l),0),rt(function(m){var b=m[l],R=_i(m,0,l);return b&&Bi(R,b),Nn(o,this,R)})}function dC(o,l,m){var b=!0,R=!0;if(typeof o!="function")throw new lr(c);return Ut(m)&&(b="leading"in m?!!m.leading:b,R="trailing"in m?!!m.trailing:R),zt(o,l,{leading:b,maxWait:l,trailing:R})}function hC(o){return Se(o,1)}function pC(o,l){return Xe(Pu(l),o)}function gC(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function mC(o){return zn(o,S)}function yC(o,l){return l=typeof l=="function"?l:n,zn(o,S,l)}function vC(o){return zn(o,x|S)}function xC(o,l){return l=typeof l=="function"?l:n,zn(o,x|S,l)}function wC(o,l){return l==null||$a(o,l,bn(l))}function ki(o,l){return o===l||o!==o&&l!==l}var SC=ju(Qi),_C=ju(function(o,l){return o>=l}),cl=Su(function(){return arguments}())?Su:function(o){return Qt(o)&&ht.call(o,"callee")&&!su.call(o,"callee")},tt=le.isArray,EC=Xc?Gn(Xc):zh;function xr(o){return o!=null&&wp(o.length)&&!Ys(o)}function nn(o){return Qt(o)&&xr(o)}function bC(o){return o===!0||o===!1||Qt(o)&&fn(o)==ke}var qo=cf||Vm,CC=On?Gn(On):xi;function kC(o){return Qt(o)&&o.nodeType===1&&!od(o)}function TC(o){if(o==null)return!0;if(xr(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||qo(o)||ac(o)||cl(o)))return!o.length;var l=hn(o);if(l==Ke||l==be)return!o.size;if(bi(o))return!wi(o).length;for(var m in o)if(ht.call(o,m))return!1;return!0}function NC(o,l){return pr(o,l)}function PC(o,l,m){m=typeof m=="function"?m:n;var b=m?m(o,l):n;return b===n?pr(o,l,n,m):!!b}function Am(o){if(!Qt(o))return!1;var l=fn(o);return l==qe||l==Ye||typeof o.message=="string"&&typeof o.name=="string"&&!od(o)}function AC(o){return typeof o=="number"&&Co(o)}function Ys(o){if(!Ut(o))return!1;var l=fn(o);return l==Ne||l==Pe||l==_e||l==sr}function Ev(o){return typeof o=="number"&&o==it(o)}function wp(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=F}function Ut(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function Qt(o){return o!=null&&typeof o=="object"}var bv=ks?Gn(ks):Bh;function RC(o,l){return o===l||Lo(o,l,Ja(l))}function DC(o,l,m){return m=typeof m=="function"?m:n,Lo(o,l,Ja(l),m)}function MC(o){return Cv(o)&&o!=+o}function IC(o){if(gm(o))throw new Je(u);return yf(o)}function LC(o){return o===null}function jC(o){return o==null}function Cv(o){return typeof o=="number"||Qt(o)&&fn(o)==ot}function od(o){if(!Qt(o)||fn(o)!=cn)return!1;var l=Tr(o);if(l===null)return!0;var m=ht.call(l,"constructor")&&l.constructor;return typeof m=="function"&&m instanceof m&&Na.call(m)==ru}var Rm=Xl?Gn(Xl):za;function OC(o){return Ev(o)&&o>=-9007199254740991&&o<=F}var kv=vo?Gn(vo):Jr;function Sp(o){return typeof o=="string"||!tt(o)&&Qt(o)&&fn(o)==ze}function jr(o){return typeof o=="symbol"||Qt(o)&&fn(o)==He}var ac=dh?Gn(dh):Ba;function $C(o){return o===n}function FC(o){return Qt(o)&&hn(o)==vt}function VC(o){return Qt(o)&&fn(o)==_t}var zC=ju(Zi),BC=ju(function(o,l){return o<=l});function Tv(o){if(!o)return[];if(xr(o))return Sp(o)?Qn(o):An(o);if(pi&&o[pi])return im(o[pi]());var l=hn(o),m=l==Ke?Jl:l==be?Ui:lc;return m(o)}function Xs(o){if(!o)return o===0?o:0;if(o=si(o),o===H||o===-1/0){var l=o<0?-1:1;return l*K}return o===o?o:0}function it(o){var l=Xs(o),m=l%1;return l===l?m?l-m:l:0}function Nv(o){return o?mi(it(o),0,V):0}function si(o){if(typeof o=="number")return o;if(jr(o))return G;if(Ut(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=Ut(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=vh(o);var m=Oc.test(o);return m||Ml.test(o)?Kl(o.slice(2),m?2:8):Rl.test(o)?G:+o}function Pv(o){return Pr(o,wr(o))}function UC(o){return o?mi(it(o),-9007199254740991,F):o===0?o:0}function St(o){return o==null?"":Bn(o)}var HC=zo(function(o,l){if(bi(l)||xr(l)){Pr(l,bn(l),o);return}for(var m in l)ht.call(l,m)&&Is(o,m,l[m])}),Av=zo(function(o,l){Pr(l,wr(l),o)}),_p=zo(function(o,l,m,b){Pr(l,wr(l),o,b)}),WC=zo(function(o,l,m,b){Pr(l,bn(l),o,b)}),KC=ri(yu);function YC(o,l){var m=Ao(o);return l==null?m:At(m,l)}var XC=rt(function(o,l){o=wt(o);var m=-1,b=l.length,R=b>2?l[2]:n;for(R&&Dn(l[0],l[1],R)&&(b=1);++m<b;)for(var j=l[m],W=wr(j),Z=-1,ie=W.length;++Z<ie;){var pe=W[Z],ge=o[pe];(ge===n||ki(ge,Wr[pe])&&!ht.call(o,pe))&&(o[pe]=j[pe])}return o}),qC=rt(function(o){return o.push(n,jf),Nn(Rv,n,o)});function GC(o,l){return ph(o,We(l,3),er)}function QC(o,l){return ph(o,We(l,3),Gi)}function ZC(o,l){return o==null?o:vu(o,We(l,3),wr)}function JC(o,l){return o==null?o:Va(o,We(l,3),wr)}function e2(o,l){return o&&er(o,We(l,3))}function t2(o,l){return o&&Gi(o,We(l,3))}function n2(o){return o==null?[]:Io(o,bn(o))}function r2(o){return o==null?[]:Io(o,wr(o))}function Dm(o,l,m){var b=o==null?n:yi(o,l);return b===n?m:b}function i2(o,l){return o!=null&&zf(o,l,dr)}function Mm(o,l){return o!=null&&zf(o,l,js)}var s2=qh(function(o,l,m){l!=null&&typeof l.toString!="function"&&(l=Pa.call(l)),o[l]=m},Lm(Sr)),o2=qh(function(o,l,m){l!=null&&typeof l.toString!="function"&&(l=Pa.call(l)),ht.call(o,l)?o[l].push(m):o[l]=[m]},We),a2=rt(hr);function bn(o){return xr(o)?Xr(o):wi(o)}function wr(o){return xr(o)?Xr(o,!0):vf(o)}function l2(o,l){var m={};return l=We(l,3),er(o,function(b,R,j){Gr(m,l(b,R,j),b)}),m}function u2(o,l){var m={};return l=We(l,3),er(o,function(b,R,j){Gr(m,R,l(b,R,j))}),m}var c2=zo(function(o,l,m){Os(o,l,m)}),Rv=zo(function(o,l,m,b){Os(o,l,m,b)}),f2=ri(function(o,l){var m={};if(o==null)return m;var b=!1;l=kt(l,function(j){return j=ti(j,o),b||(b=j.length>1),j}),Pr(o,Qa(o),m),b&&(m=zn(m,x|v|S,Of));for(var R=l.length;R--;)Tu(m,l[R]);return m});function d2(o,l){return Dv(o,Oe(We(l)))}var h2=ri(function(o,l){return o==null?{}:Sf(o,l)});function Dv(o,l){if(o==null)return{};var m=kt(Qa(o),function(b){return[b]});return l=We(l),Ji(o,m,function(b,R){return l(b,R[0])})}function p2(o,l,m){l=ti(l,o);var b=-1,R=l.length;for(R||(R=1,o=n);++b<R;){var j=o==null?n:o[Mr(l[b])];j===n&&(b=R,j=m),o=Ys(j)?j.call(o):j}return o}function g2(o,l,m){return o==null?o:Fs(o,l,m)}function m2(o,l,m,b){return b=typeof b=="function"?b:n,o==null?o:Fs(o,l,m,b)}var Mv=If(bn),Iv=If(wr);function y2(o,l,m){var b=tt(o),R=b||qo(o)||ac(o);if(l=We(l,4),m==null){var j=o&&o.constructor;R?m=b?new j:[]:Ut(o)?m=Ys(j)?Ao(Tr(o)):{}:m={}}return(R?mn:er)(o,function(W,Z,ie){return l(m,W,Z,ie)}),m}function v2(o,l){return o==null?!0:Tu(o,l)}function x2(o,l,m){return o==null?o:kf(o,l,Pu(m))}function w2(o,l,m,b){return b=typeof b=="function"?b:n,o==null?o:kf(o,l,Pu(m),b)}function lc(o){return o==null?[]:ka(o,bn(o))}function S2(o){return o==null?[]:ka(o,wr(o))}function _2(o,l,m){return m===n&&(m=l,l=n),m!==n&&(m=si(m),m=m===m?m:0),l!==n&&(l=si(l),l=l===l?l:0),mi(si(o),l,m)}function E2(o,l,m){return l=Xs(l),m===n?(m=l,l=0):m=Xs(m),o=si(o),mf(o,l,m)}function b2(o,l,m){if(m&&typeof m!="boolean"&&Dn(o,l,m)&&(l=m=n),m===n&&(typeof l=="boolean"?(m=l,l=n):typeof o=="boolean"&&(m=o,o=n)),o===n&&l===n?(o=0,l=1):(o=Xs(o),l===n?(l=o,o=0):l=Xs(l)),o>l){var b=o;o=l,l=b}if(m||o%1||l%1){var R=Ma();return yn(o+R*(l-o+Kc("1e-"+((R+"").length-1))),l)}return Oo(o,l)}var C2=Vs(function(o,l,m){return l=l.toLowerCase(),o+(m?Lv(l):l)});function Lv(o){return Im(St(o).toLowerCase())}function jv(o){return o=St(o),o&&o.replace(Ll,Sh).replace(lh,"")}function k2(o,l,m){o=St(o),l=Bn(l);var b=o.length;m=m===n?b:mi(it(m),0,b);var R=m;return m-=l.length,m>=0&&o.slice(m,R)==l}function T2(o){return o=St(o),o&&ha.test(o)?o.replace(ci,_h):o}function N2(o){return o=St(o),o&&xs.test(o)?o.replace(vs,"\\$&"):o}var P2=Vs(function(o,l,m){return o+(m?"-":"")+l.toLowerCase()}),A2=Vs(function(o,l,m){return o+(m?" ":"")+l.toLowerCase()}),R2=Rf("toLowerCase");function D2(o,l,m){o=St(o),l=it(l);var b=l?Ts(o):0;if(!l||b>=l)return o;var R=(l-b)/2;return qa(Hi(R),m)+o+qa(Ps(R),m)}function M2(o,l,m){o=St(o),l=it(l);var b=l?Ts(o):0;return l&&b<l?o+qa(l-b,m):o}function I2(o,l,m){o=St(o),l=it(l);var b=l?Ts(o):0;return l&&b<l?qa(l-b,m)+o:o}function L2(o,l,m){return m||l==null?l=0:l&&(l=+l),Rh(St(o).replace(ma,""),l||0)}function j2(o,l,m){return(m?Dn(o,l,m):l===n)?l=1:l=it(l),$s(St(o),l)}function O2(){var o=arguments,l=St(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var $2=Vs(function(o,l,m){return o+(m?"_":"")+l.toLowerCase()});function F2(o,l,m){return m&&typeof m!="number"&&Dn(o,l,m)&&(l=m=n),m=m===n?V:m>>>0,m?(o=St(o),o&&(typeof l=="string"||l!=null&&!Rm(l))&&(l=Bn(l),!l&&So(o))?_i(Qn(o),0,m):o.split(l,m)):[]}var V2=Vs(function(o,l,m){return o+(m?" ":"")+Im(l)});function z2(o,l,m){return o=St(o),m=m==null?0:mi(it(m),0,o.length),l=Bn(l),o.slice(m,m+l.length)==l}function B2(o,l,m){var b=I.templateSettings;m&&Dn(o,l,m)&&(l=n),o=St(o),l=_p({},l,b,Lf);var R=_p({},l.imports,b.imports,Lf),j=bn(R),W=ka(R,j),Z,ie,pe=0,ge=l.interpolate||Ss,Ee="__p += '",Ae=Ta((l.escape||Ss).source+"|"+ge.source+"|"+(ge===pa?Ur:Ss).source+"|"+(l.evaluate||Ss).source+"|$","g"),Ve="//# sourceURL="+(ht.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qg+"]")+`
`;o.replace(Ae,function(Qe,lt,ft,Or,rr,$r){return ft||(ft=Or),Ee+=o.slice(pe,$r).replace($c,Eh),lt&&(Z=!0,Ee+=`' +
__e(`+lt+`) +
'`),rr&&(ie=!0,Ee+=`';
`+rr+`;
__p += '`),ft&&(Ee+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),pe=$r+Qe.length,Qe}),Ee+=`';
`;var Ge=ht.call(l,"variable")&&l.variable;if(!Ge)Ee=`with (obj) {
`+Ee+`
}
`;else if(jc.test(Ge))throw new Je(d);Ee=(ie?Ee.replace(ca,""):Ee).replace(fa,"$1").replace(da,"$1;"),Ee="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var st=$v(function(){return dt(j,Ve+"return "+Ee).apply(n,W)});if(st.source=Ee,Am(st))throw st;return st}function U2(o){return St(o).toLowerCase()}function H2(o){return St(o).toUpperCase()}function W2(o,l,m){if(o=St(o),o&&(m||l===n))return vh(o);if(!o||!(l=Bn(l)))return o;var b=Qn(o),R=Qn(l),j=xh(b,R),W=sf(b,R)+1;return _i(b,j,W).join("")}function K2(o,l,m){if(o=St(o),o&&(m||l===n))return o.slice(0,tu(o)+1);if(!o||!(l=Bn(l)))return o;var b=Qn(o),R=sf(b,Qn(l))+1;return _i(b,0,R).join("")}function Y2(o,l,m){if(o=St(o),o&&(m||l===n))return o.replace(ma,"");if(!o||!(l=Bn(l)))return o;var b=Qn(o),R=xh(b,Qn(l));return _i(b,R).join("")}function X2(o,l){var m=ee,b=fe;if(Ut(l)){var R="separator"in l?l.separator:R;m="length"in l?it(l.length):m,b="omission"in l?Bn(l.omission):b}o=St(o);var j=o.length;if(So(o)){var W=Qn(o);j=W.length}if(m>=j)return o;var Z=m-Ts(b);if(Z<1)return b;var ie=W?_i(W,0,Z).join(""):o.slice(0,Z);if(R===n)return ie+b;if(W&&(Z+=ie.length-Z),Rm(R)){if(o.slice(Z).search(R)){var pe,ge=ie;for(R.global||(R=Ta(R.source,St(va.exec(R))+"g")),R.lastIndex=0;pe=R.exec(ge);)var Ee=pe.index;ie=ie.slice(0,Ee===n?Z:Ee)}}else if(o.indexOf(Bn(R),Z)!=Z){var Ae=ie.lastIndexOf(R);Ae>-1&&(ie=ie.slice(0,Ae))}return ie+b}function q2(o){return o=St(o),o&&kl.test(o)?o.replace(ui,bh):o}var G2=Vs(function(o,l,m){return o+(m?" ":"")+l.toUpperCase()}),Im=Rf("toUpperCase");function Ov(o,l,m){return o=St(o),l=m?n:l,l===n?rm(o)?am(o):em(o):o.match(l)||[]}var $v=rt(function(o,l){try{return Nn(o,n,l)}catch(m){return Am(m)?m:new Je(m)}}),Q2=ri(function(o,l){return mn(l,function(m){m=Mr(m),Gr(o,m,xe(o[m],o))}),o});function Z2(o){var l=o==null?0:o.length,m=We();return o=l?kt(o,function(b){if(typeof b[1]!="function")throw new lr(c);return[m(b[0]),b[1]]}):[],rt(function(b){for(var R=-1;++R<l;){var j=o[R];if(Nn(j[0],this,b))return Nn(j[1],this,b)}})}function J2(o){return $h(zn(o,x))}function Lm(o){return function(){return o}}function ek(o,l){return o==null||o!==o?l:o}var tk=Iu(),nk=Iu(!0);function Sr(o){return o}function jm(o){return jo(typeof o=="function"?o:zn(o,x))}function rk(o){return Eu(zn(o,x))}function ik(o,l){return Dt(o,zn(l,x))}var sk=rt(function(o,l){return function(m){return hr(m,o,l)}}),ok=rt(function(o,l){return function(m){return hr(o,m,l)}});function Om(o,l,m){var b=bn(l),R=Io(l,b);m==null&&!(Ut(l)&&(R.length||!b.length))&&(m=l,l=o,o=this,R=Io(l,bn(l)));var j=!(Ut(m)&&"chain"in m)||!!m.chain,W=Ys(o);return mn(R,function(Z){var ie=l[Z];o[Z]=ie,W&&(o.prototype[Z]=function(){var pe=this.__chain__;if(j||pe){var ge=o(this.__wrapped__),Ee=ge.__actions__=An(this.__actions__);return Ee.push({func:ie,args:arguments,thisArg:o}),ge.__chain__=pe,ge}return ie.apply(o,Bi([this.value()],arguments))})}),o}function ak(){return Rt._===this&&(Rt._=Th),this}function $m(){}function lk(o){return o=it(o),rt(function(l){return bu(l,o)})}var uk=Lu(kt),ck=Lu(Gc),fk=Lu(Jc);function Fv(o){return Ie(o)?tf(Mr(o)):Lt(o)}function dk(o){return function(l){return o==null?n:yi(o,l)}}var hk=Mf(),pk=Mf(!0);function Fm(){return[]}function Vm(){return!1}function gk(){return{}}function mk(){return""}function yk(){return!0}function vk(o,l){if(o=it(o),o<1||o>F)return[];var m=V,b=yn(o,V);l=We(l),o-=V;for(var R=rf(b,l);++m<o;)l(m);return R}function xk(o){return tt(o)?kt(o,Mr):jr(o)?[o]:An(Wf(St(o)))}function wk(o){var l=++bo;return St(o)+l}var Sk=Xa(function(o,l){return o+l},0),_k=dn("ceil"),Ek=Xa(function(o,l){return o/l},1),bk=dn("floor");function Ck(o){return o&&o.length?Ls(o,Sr,Qi):n}function kk(o,l){return o&&o.length?Ls(o,We(l,2),Qi):n}function Tk(o){return mh(o,Sr)}function Nk(o,l){return mh(o,We(l,2))}function Pk(o){return o&&o.length?Ls(o,Sr,Zi):n}function Ak(o,l){return o&&o.length?Ls(o,We(l,2),Zi):n}var Rk=Xa(function(o,l){return o*l},1),Dk=dn("round"),Mk=Xa(function(o,l){return o-l},0);function Ik(o){return o&&o.length?nf(o,Sr):0}function Lk(o,l){return o&&o.length?nf(o,We(l,2)):0}return I.after=ce,I.ary=Se,I.assign=HC,I.assignIn=Av,I.assignInWith=_p,I.assignWith=WC,I.at=KC,I.before=Ce,I.bind=xe,I.bindAll=Q2,I.bindKey=Me,I.castArray=gC,I.chain=Qu,I.chunk=Uu,I.compact=Kf,I.concat=yr,I.cond=Z2,I.conforms=J2,I.constant=Lm,I.countBy=gp,I.create=YC,I.curry=Le,I.curryRight=je,I.debounce=zt,I.defaults=XC,I.defaultsDeep=qC,I.defer=se,I.delay=te,I.difference=ct,I.differenceBy=un,I.differenceWith=Gt,I.drop=gn,I.dropRight=nr,I.dropRightWhile=Yo,I.dropWhile=en,I.fill=rl,I.filter=ec,I.flatMap=id,I.flatMapDeep=vp,I.flatMapDepth=sd,I.flatten=Hu,I.flattenDeep=sl,I.flattenDepth=Un,I.flip=ae,I.flow=tk,I.flowRight=nk,I.fromPairs=Yf,I.functions=n2,I.functionsIn=r2,I.groupBy=rc,I.initial=Wu,I.intersection=Xf,I.intersectionBy=rs,I.intersectionWith=Ku,I.invert=s2,I.invertBy=o2,I.invokeMap=Tm,I.iteratee=jm,I.keyBy=ic,I.keys=bn,I.keysIn=wr,I.map=sc,I.mapKeys=l2,I.mapValues=u2,I.matches=rk,I.matchesProperty=ik,I.memoize=Te,I.merge=c2,I.mergeWith=Rv,I.method=sk,I.methodOf=ok,I.mixin=Om,I.negate=Oe,I.nthArg=lk,I.omit=f2,I.omitBy=d2,I.once=Be,I.orderBy=ul,I.over=uk,I.overArgs=Ue,I.overEvery=ck,I.overSome=fk,I.partial=Xe,I.partialRight=tn,I.partition=Nm,I.pick=h2,I.pickBy=Dv,I.property=Fv,I.propertyOf=dk,I.pull=Yu,I.pullAll=al,I.pullAllBy=In,I.pullAllWith=ss,I.pullAt=Ir,I.range=hk,I.rangeRight=pk,I.rearg=pt,I.reject=i,I.remove=Hn,I.rest=as,I.reverse=Xu,I.sampleSize=p,I.set=g2,I.setWith=m2,I.shuffle=w,I.slice=Gf,I.sortBy=U,I.sortedUniq=Jf,I.sortedUniqBy=Hs,I.split=F2,I.spread=Pm,I.tail=lp,I.take=up,I.takeRight=ed,I.takeRightWhile=qu,I.takeWhile=ym,I.tap=bm,I.throttle=dC,I.thru=Lr,I.toArray=Tv,I.toPairs=Mv,I.toPairsIn=Iv,I.toPath=xk,I.toPlainObject=Pv,I.transform=y2,I.unary=hC,I.union=vm,I.unionBy=cp,I.unionWith=fp,I.uniq=Ws,I.uniqBy=xm,I.uniqWith=Xo,I.unset=v2,I.unzip=Gu,I.unzipWith=jt,I.update=x2,I.updateWith=w2,I.values=lc,I.valuesIn=S2,I.without=wm,I.words=Ov,I.wrap=pC,I.xor=dp,I.xorBy=Sm,I.xorWith=_m,I.zip=hp,I.zipObject=pp,I.zipObjectDeep=Em,I.zipWith=vr,I.entries=Mv,I.entriesIn=Iv,I.extend=Av,I.extendWith=_p,Om(I,I),I.add=Sk,I.attempt=$v,I.camelCase=C2,I.capitalize=Lv,I.ceil=_k,I.clamp=_2,I.clone=mC,I.cloneDeep=vC,I.cloneDeepWith=xC,I.cloneWith=yC,I.conformsTo=wC,I.deburr=jv,I.defaultTo=ek,I.divide=Ek,I.endsWith=k2,I.eq=ki,I.escape=T2,I.escapeRegExp=N2,I.every=mp,I.find=tc,I.findIndex=ns,I.findKey=GC,I.findLast=yp,I.findLastIndex=il,I.findLastKey=QC,I.floor=bk,I.forEach=ll,I.forEachRight=nc,I.forIn=ZC,I.forInRight=JC,I.forOwn=e2,I.forOwnRight=t2,I.get=Dm,I.gt=SC,I.gte=_C,I.has=i2,I.hasIn=Mm,I.head=Bs,I.identity=Sr,I.includes=xp,I.indexOf=Ci,I.inRange=E2,I.invoke=a2,I.isArguments=cl,I.isArray=tt,I.isArrayBuffer=EC,I.isArrayLike=xr,I.isArrayLikeObject=nn,I.isBoolean=bC,I.isBuffer=qo,I.isDate=CC,I.isElement=kC,I.isEmpty=TC,I.isEqual=NC,I.isEqualWith=PC,I.isError=Am,I.isFinite=AC,I.isFunction=Ys,I.isInteger=Ev,I.isLength=wp,I.isMap=bv,I.isMatch=RC,I.isMatchWith=DC,I.isNaN=MC,I.isNative=IC,I.isNil=jC,I.isNull=LC,I.isNumber=Cv,I.isObject=Ut,I.isObjectLike=Qt,I.isPlainObject=od,I.isRegExp=Rm,I.isSafeInteger=OC,I.isSet=kv,I.isString=Sp,I.isSymbol=jr,I.isTypedArray=ac,I.isUndefined=$C,I.isWeakMap=FC,I.isWeakSet=VC,I.join=is,I.kebabCase=P2,I.last=Mn,I.lastIndexOf=ol,I.lowerCase=A2,I.lowerFirst=R2,I.lt=zC,I.lte=BC,I.max=Ck,I.maxBy=kk,I.mean=Tk,I.meanBy=Nk,I.min=Pk,I.minBy=Ak,I.stubArray=Fm,I.stubFalse=Vm,I.stubObject=gk,I.stubString=mk,I.stubTrue=yk,I.multiply=Rk,I.nth=qf,I.noConflict=ak,I.noop=$m,I.now=Q,I.pad=D2,I.padEnd=M2,I.padStart=I2,I.parseInt=L2,I.random=b2,I.reduce=oc,I.reduceRight=r,I.repeat=j2,I.replace=O2,I.result=p2,I.round=Dk,I.runInContext=re,I.sample=f,I.size=E,I.snakeCase=$2,I.some=D,I.sortedIndex=Qf,I.sortedIndexBy=mm,I.sortedIndexOf=os,I.sortedLastIndex=ap,I.sortedLastIndexBy=Zf,I.sortedLastIndexOf=Us,I.startCase=V2,I.startsWith=z2,I.subtract=Mk,I.sum=Ik,I.sumBy=Lk,I.template=B2,I.times=vk,I.toFinite=Xs,I.toInteger=it,I.toLength=Nv,I.toLower=U2,I.toNumber=si,I.toSafeInteger=UC,I.toString=St,I.toUpper=H2,I.trim=W2,I.trimEnd=K2,I.trimStart=Y2,I.truncate=X2,I.unescape=q2,I.uniqueId=wk,I.upperCase=G2,I.upperFirst=Im,I.each=ll,I.eachRight=nc,I.first=Bs,Om(I,function(){var o={};return er(I,function(l,m){ht.call(I.prototype,m)||(o[m]=l)}),o}(),{chain:!1}),I.VERSION=s,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){I[o].placeholder=I}),mn(["drop","take"],function(o,l){et.prototype[o]=function(m){m=m===n?1:qt(it(m),0);var b=this.__filtered__&&!l?new et(this):this.clone();return b.__filtered__?b.__takeCount__=yn(m,b.__takeCount__):b.__views__.push({size:yn(m,V),type:o+(b.__dir__<0?"Right":"")}),b},et.prototype[o+"Right"]=function(m){return this.reverse()[o](m).reverse()}}),mn(["filter","map","takeWhile"],function(o,l){var m=l+1,b=m==$||m==Y;et.prototype[o]=function(R){var j=this.clone();return j.__iteratees__.push({iteratee:We(R,3),type:m}),j.__filtered__=j.__filtered__||b,j}}),mn(["head","last"],function(o,l){var m="take"+(l?"Right":"");et.prototype[o]=function(){return this[m](1).value()[0]}}),mn(["initial","tail"],function(o,l){var m="drop"+(l?"":"Right");et.prototype[o]=function(){return this.__filtered__?new et(this):this[m](1)}}),et.prototype.compact=function(){return this.filter(Sr)},et.prototype.find=function(o){return this.filter(o).head()},et.prototype.findLast=function(o){return this.reverse().find(o)},et.prototype.invokeMap=rt(function(o,l){return typeof o=="function"?new et(this):this.map(function(m){return hr(m,o,l)})}),et.prototype.reject=function(o){return this.filter(Oe(We(o)))},et.prototype.slice=function(o,l){o=it(o);var m=this;return m.__filtered__&&(o>0||l<0)?new et(m):(o<0?m=m.takeRight(-o):o&&(m=m.drop(o)),l!==n&&(l=it(l),m=l<0?m.dropRight(-l):m.take(l-o)),m)},et.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},et.prototype.toArray=function(){return this.take(V)},er(et.prototype,function(o,l){var m=/^(?:filter|find|map|reject)|While$/.test(l),b=/^(?:head|last)$/.test(l),R=I[b?"take"+(l=="last"?"Right":""):l],j=b||/^find/.test(l);R&&(I.prototype[l]=function(){var W=this.__wrapped__,Z=b?[1]:arguments,ie=W instanceof et,pe=Z[0],ge=ie||tt(W),Ee=function(lt){var ft=R.apply(I,Bi([lt],Z));return b&&Ae?ft[0]:ft};ge&&m&&typeof pe=="function"&&pe.length!=1&&(ie=ge=!1);var Ae=this.__chain__,Ve=!!this.__actions__.length,Ge=j&&!Ae,st=ie&&!Ve;if(!j&&ge){W=st?W:new et(this);var Qe=o.apply(W,Z);return Qe.__actions__.push({func:Lr,args:[Ee],thisArg:n}),new vn(Qe,Ae)}return Ge&&st?o.apply(this,Z):(Qe=this.thru(Ee),Ge?b?Qe.value()[0]:Qe.value():Qe)})}),mn(["pop","push","shift","sort","splice","unshift"],function(o){var l=di[o],m=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",b=/^(?:pop|shift)$/.test(o);I.prototype[o]=function(){var R=arguments;if(b&&!this.__chain__){var j=this.value();return l.apply(tt(j)?j:[],R)}return this[m](function(W){return l.apply(tt(W)?W:[],R)})}}),er(et.prototype,function(o,l){var m=I[l];if(m){var b=m.name+"";ht.call(No,b)||(No[b]=[]),No[b].push({name:l,func:m})}}),No[Uo(n,C).name]=[{name:"wrapper",func:n}],et.prototype.clone=du,et.prototype.reverse=df,et.prototype.value=Ro,I.prototype.at=Zu,I.prototype.chain=Ks,I.prototype.commit=Ju,I.prototype.next=td,I.prototype.plant=Cm,I.prototype.reverse=rd,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=km,I.prototype.first=I.prototype.head,pi&&(I.prototype[pi]=nd),I},_o=lm();Hr?((Hr.exports=_o)._=_o,Ca._=_o):Rt._=_o}).call(G$)}(xd,xd.exports)),xd.exports}var Z$=Q$();const Ln=[];for(let e=0;e<256;++e)Ln.push((e+256).toString(16).slice(1));function J$(e,t=0){return(Ln[e[t+0]]+Ln[e[t+1]]+Ln[e[t+2]]+Ln[e[t+3]]+"-"+Ln[e[t+4]]+Ln[e[t+5]]+"-"+Ln[e[t+6]]+Ln[e[t+7]]+"-"+Ln[e[t+8]]+Ln[e[t+9]]+"-"+Ln[e[t+10]]+Ln[e[t+11]]+Ln[e[t+12]]+Ln[e[t+13]]+Ln[e[t+14]]+Ln[e[t+15]]).toLowerCase()}let E0;const eF=new Uint8Array(16);function tF(){if(!E0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E0=crypto.getRandomValues.bind(crypto)}return E0(eF)}const nF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z1={randomUUID:nF};function kd(e,t,n){var a;if(z1.randomUUID&&!e)return z1.randomUUID();e=e||{};const s=e.random??((a=e.rng)==null?void 0:a.call(e))??tF();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,J$(s)}const aC=P.createContext(void 0),rF=({children:e})=>{const{loginStatus:t}=Li(),{canvasName:n,canvasID:s,quickSaveToBrowser:a,saveCanvas:u}=Kg(),[c]=Ig(),d=c.get("user"),h=c.get("canvas"),[g,y]=P.useState([]),[x,v]=P.useState([]),[S,_]=P.useState({x:0,y:0,zoom:1}),T=P.useCallback(B=>{_(B)},[]),N=P.useCallback(()=>({nodes:g,edges:x,viewport:S}),[g,x,S]),C=P.useCallback(Z$.debounce(B=>{t==="logged in"?u(B):a(B)},1e3),[u,a,t]),M=P.useCallback(B=>{v(q=>q.filter(ee=>ee.source!==B&&ee.target!==B)),y(q=>q.filter(ee=>ee.id!==B)),C(N())},[]),A=P.useCallback(B=>{if(B.length===0)return;const q=B.map(ue=>ue.content).join(" "),ee=B.reduce((ue,$)=>(ue.x+=$.position.x,ue.y+=$.position.y,ue),{x:0,y:0});ee.x/=B.length,ee.y/=B.length;const fe={x:ee.x,y:ee.y+210},oe={id:`text-${kd()}`,type:"text",position:fe,data:{content:q,words:sC(q),provenance:"user",intersections:[]}};B.forEach(ue=>{const $={id:`edge-${ue.id}-${oe.id}`,source:ue.id,target:oe.id,type:"default"};v(ne=>$0($,ne))}),y(ue=>ue.concat(oe)),C(N())},[]),L=(B,q,ee)=>{const fe=ee.find(ue=>ue.id===B),oe=ee.find(ue=>ue.id===q);if(fe&&oe){const ue={id:`edge-${B}-${q}`,source:B,target:q,type:"default"};v($=>$0(ue,$))}},z=P.useCallback(B=>{y(q=>i_(B,q))},[y,a,N,d,h,t,s,n]),X=P.useCallback(B=>{const q=B.filter(ee=>ee.type!=="remove");v(ee=>s_(q,ee))},[v,a,N,d,h,t,s,n]),O=P.useCallback(B=>{v(B.reduce((q,ee)=>{const fe=MA(ee,g,x),oe=DA(ee,g,x),ue=NS([ee],x),$=q.filter(Y=>!ue.includes(Y)),ne=fe.flatMap(({id:Y})=>oe.map(({id:H})=>({id:`${Y}->${H}`,source:Y,target:H})));return[...$,...ne]},x)),y(q=>q.filter(ee=>!B.some(fe=>fe.id===ee.id)))},[g,x,s,n,u,N]);return P.useEffect(()=>{C(N())},[g,x,C,N]),k.jsx(aC.Provider,{value:{nodes:g,edges:x,currentViewport:S,setNodes:y,setEdges:v,drawEdge:L,mergeNodes:A,onNodesDelete:O,handleOnEdgesChange:X,handleOnNodesChange:z,canvasToObject:N,saveCurrentViewport:T,deleteNodeById:M},children:e})},Ic=()=>{const e=P.useContext(aC);if(!e)throw new Error("useNodeContext must be used within a NodeProvider");return e},iF=({parentNodeId:e,similarArtworks:t,width:n,height:s,showFolder:a,toggleFolder:u,isAIGenerated:c,selected:d})=>{const[h,g]=P.useState(0),{setDraggableType:y,setDraggableData:x}=ps(),[v,S]=P.useState(!1),_=(O,B,q,ee)=>{O.dataTransfer.effectAllowed="move",y(B),x({content:q,prompt:ee,parentNodeId:e,provenance:"history"})},T=()=>{g(O=>O>0?O-1:t.length-1)},N=()=>{g(O=>O<t.length-1?O+1:0)},C=t[h];P.useEffect(()=>{g(0)},[t]),P.useEffect(()=>{d||S(!1)});const M=O=>{if(!O.descriptions)return"";for(const B of Object.values(O.descriptions))if(B.date)return B.date;return""},A=O=>{if(!O.descriptions)return[];const B=[];for(const[q,ee]of Object.entries(O.descriptions))ee.description&&B.push({source:q,description:ee.description});return B},L=O=>{if(!O.descriptions)return[];const B=[],q=["description","date","additional_information"];for(const fe of Object.values(O.descriptions))for(const[oe,ue]of Object.entries(fe))if(!q.includes(oe)&&ue&&typeof ue=="string"){const $=(oe.charAt(0).toUpperCase()+oe.slice(1)).replace(/_/g," ");B.push({key:$,value:ue})}return B.filter((fe,oe,ue)=>oe===ue.findIndex($=>$.key===fe.key&&$.value===fe.value))},z=O=>!O||O.length===0?"Unknown Artist":O.length===1?O[0]:O.length===2?O.join(" and "):O.slice(0,-1).join(", ")+", and "+O[O.length-1],X=O=>{var q,ee;if((q=O.image_urls)!=null&&q.medium)return O.image_urls.medium;if((ee=O.image_urls)!=null&&ee.large)return O.image_urls.large;if(O.image_url)return O.image_url;const B=Object.values(O.image_urls||{});return B.length>0?B[0]:""};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                    w-12 h-20 p-1
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-left rounded-l-md
                    cursor-pointer transition-colors duration-200 
                    ${a?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:u,children:[k.jsx(iC,{size:20,className:"text-gray-600"})," "]}),k.jsx(Cn.div,{initial:{transform:"rotateX(-45deg) scaleX(0.5)"},animate:{transform:a?"rotateX(0deg) scaleX(1)":"rotateX(-60deg) scaleX(0.5)"},transition:{duration:a?.5:.1,type:"spring",bounce:.3},className:"absolute z-0",children:k.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:a?.5:.1,type:"spring",bounce:.3},className:`nowheel absolute left-0 top-0 transform -translate-x-[${n+6}px] ${c?"bg-blue-100":"bg-[#f2e7ce]"} border shadow-md z-3`,style:{height:`${s}px`,width:`${n}px`},children:!C||!C.value?k.jsx("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",height:"100%"},children:k.jsx("div",{className:"loader"})}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`sticky top-0 z-10 ${c?"bg-blue-100":"bg-[#f2e7ce]"}`,children:[k.jsx("button",{onClick:()=>S(!0),className:"absolute top-2 right-5 p-1 rounded bg-gray-500 hover:bg-gray-300",title:"Expand reader view",children:k.jsx(mg,{size:16})}),k.jsx($1,{handlePrev:T,handleNext:N,currentIndex:h,totalItems:t.length})]}),C?k.jsxs("div",{className:"p-3 pr-5 ml-0 h-[85%] overflow-y-scroll flex flex-col items-center",children:[k.jsxs("div",{draggable:!0,onDragStart:O=>{const B=M(C),q=z(C.artist_names),ee=B?`${C.value} (${B}) by ${q}`:`${C.value} by ${q}`;_(O,"text",ee)},className:`nodrag rounded-md p-1 ${c?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"} text-center`,children:[k.jsx("span",{className:"artwork-title text-md font-medium text-gray-900 italic font-bold block",children:C.value}),M(C)&&k.jsx("span",{className:"text-gray-700 block",children:M(C)}),k.jsxs("span",{className:"text-md text-black-700 block",children:["by ",z(C.artist_names)]})]}),k.jsx("img",{draggable:!0,onDragStart:O=>{const B=M(C),q=z(C.artist_names),ee=B?`"${C.value}" (${B}) by ${q}`:`"${C.value}" by ${q}`;_(O,"image",X(C),ee)},className:`artwork-image nodrag rounded-md m-2 border-2 ${c?"border-blue-200":"border-[#dbcdb4]"}`,src:X(C),alt:`${C.value} by ${z(C.artist_names)}`,style:{maxHeight:"90%",width:"auto",objectFit:"cover"}}),L(C).length>0&&k.jsx("div",{className:"mt-2 text-center",children:k.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:L(C).map((O,B)=>k.jsxs("span",{draggable:!0,onDragStart:q=>_(q,"text",`${O.key}: ${O.value}`),className:`nodrag text-xs px-2 py-1 rounded ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"} cursor-move`,children:[O.key,": ",O.value]},`${O.key}-${B}`))})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx("div",{className:"mt-2 text-center",children:k.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:C.relatedKeywordStrings.slice(0,5).map((O,B)=>k.jsx("span",{draggable:!0,onDragStart:q=>_(q,"text",O),className:`nodrag text-xs px-2 py-1 rounded ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"} cursor-move`,children:O},B))})}),k.jsx("div",{className:"mt-2 text-center",children:k.jsx(X$,{descriptions:A(C),isAIGenerated:c,as:"div"})}),C.rights&&k.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:C.rights})]}):k.jsx("div",{className:"p-3 ml-0 h-full overflow-y-auto",children:k.jsx("h2",{className:"text-xs font-medium text-gray-900 italic font-bold",children:"No content"})})]})})}),v&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>S(!1)}),k.jsxs("div",{className:"fixed z-50 bg-white border border-gray-700 rounded shadow-lg p-5 w-[600px] h-[700px] overflow-y-auto",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[k.jsx("button",{onClick:()=>S(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-400 bg-gray-700",children:k.jsx(I$,{size:20,className:"text-white"})}),k.jsx($1,{handlePrev:T,handleNext:N,currentIndex:h,totalItems:t.length}),k.jsxs("div",{className:"text-black",children:[k.jsxs("h2",{className:"text-2xl font-bold text-center mb-4",children:[C.value,M(C)&&` (${M(C)})`]}),k.jsxs("p",{className:"text-lg text-center mb-4",children:["by ",z(C.artist_names)]}),k.jsx("img",{className:"mx-auto mb-4 max-h-[300px] rounded",src:X(C),alt:`${C.value} by ${z(C.artist_names)}`}),L(C).length>0&&k.jsx("div",{className:"mb-4",children:k.jsx("div",{className:"space-y-1",children:L(C).map((O,B)=>k.jsxs("p",{className:"text-sm",children:[k.jsxs("span",{className:"font-medium",children:[O.key,":"]})," ",O.value]},`${O.key}-${B}`))})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx("div",{className:"mb-4",children:k.jsx("p",{className:"text-sm",children:C.relatedKeywordStrings.join(", ")})}),A(C).length>0&&k.jsxs("div",{className:"mb-4",children:[k.jsx("h3",{className:"font-semibold mb-2",children:"Description:"}),k.jsx("div",{className:"text-sm space-y-2",children:A(C).map(O=>k.jsxs("div",{children:[k.jsxs("p",{className:"font-medium text-gray-600",children:[O.source,":"]}),k.jsx("p",{children:O.description})]},O.source))})]}),C.rights&&k.jsx("p",{className:"text-xs text-gray-500 mt-4",children:C.rights})]})]})]})]})},sF=({content:e,showDescription:t=!1,containerHeight:n=100,containerWidth:s=100,parentNodeId:a,toggleDescription:u,isAIGenerated:c=!1})=>{const{setDraggableType:d,setDraggableData:h}=ps(),g=(y,x,v="text",S)=>{y.dataTransfer.effectAllowed="move",d(v),h({content:x,prompt:S,provenance:c?"ai":"history",parentNodeId:a})};return e?k.jsxs("div",{className:"relative",style:{height:`${n}px`,overflow:"visible"},children:[k.jsx("div",{className:"overflow-hidden",style:{height:`calc(${n-24}px)`,width:`${s}px`},children:k.jsx(Cn.div,{initial:{},animate:{scaleY:t?1:.5,rotateX:t?0:90},transition:{duration:t?.5:.1,opacity:t?1:0,type:"spring",bounce:.2},className:`nowheel p-3 overflow-scroll border rounded-b-md shadow-md p-0 h-full ${c?"bg-blue-50":"bg-[#f4efe3] border-[#998056]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[c?"Prompt:":"",k.jsx("div",{className:`nodrag ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"} rounded-md p-1 flex flex-col gap-3 overflow-y-auto text-xs flex-grow`,children:k.jsx("p",{draggable:!0,onDragStart:y=>g(y,e),children:e})})]})})}),k.jsxs("div",{className:`
                    w-12 h-10 p-1 mt-5
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-center rounded-br-md rounded-bl-md
                    cursor-pointer transition-colors duration-200 
                    absolute bottom-0 right-2
                    ${t?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:u,children:[k.jsx(Wg,{size:20,className:"text-gray-600"})," "]})]}):null};function B1({id:e,data:t,selected:n,dragging:s}){const{mergeNodes:a}=Ic(),{addClippedNode:u,getNextPaletteIndex:c}=By(),[d,h]=P.useState(""),[g,y]=P.useState(150),[x,v]=P.useState(150),[S,_]=P.useState(!1),[T,N]=P.useState(!1),[C,M]=P.useState(!1),[A,L]=P.useState(!1),z=()=>{L(!A)};P.useEffect(()=>{t.content&&h(t.content)},[t.content]);const X=()=>{_(!S)},O=()=>{N(!T)},[B,q]=P.useState(!0),ee=[{image_id:"",image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019",image_urls:{original:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"},filename:"",value:"",artist_names:[],descriptions:{default:{date:"",description:"No description available."}},relatedKeywordIds:[],relatedKeywordStrings:[],rights:void 0,distance:void 0}],[fe,oe]=P.useState(t.similarArtworks||ee),{backend:ue,userID:$,admins:ne,condition:Y}=Li(),H=async J=>{try{console.log("sending this image to the backend for lookup:",J);const we=(await Ot.post(`${ue}/api/get-similar-images`,{image:J},{headers:{"Content-Type":"application/json"}})).data.map(ve=>({image_id:ve.image_id,image_url:ve.image_url,image_urls:ve.image_urls||{},filename:ve.filename,value:ve.value,artist_names:Array.isArray(ve.artist_names)?ve.artist_names.flatMap(_e=>{try{const ke=JSON.parse(_e);return Array.isArray(ke)?ke:typeof ke=="string"?[ke]:[]}catch{return[_e]}}):[],descriptions:ve.descriptions||{},relatedKeywordIds:ve.relatedKeywordIds||[],relatedKeywordStrings:ve.relatedKeywordStrings||[],rights:ve.rights,distance:ve.distance}));return console.log("fetched similar artworks from backend:",we),we}catch(me){return console.error("Error fetching similar artworks:",me),ee}},[F,K]=P.useState(!0);P.useEffect(()=>{h(t.content||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"),n?(q(!0),t.similarArtworks&&t.similarArtworks.length>0&&!s&&N(!0),t.prompt&&!s&&_(!0)):(_(!1),N(!1),q(!1),L(!1))},[n,d,t.content,t.similarArtworks]),P.useEffect(()=>{t.similarArtworks&&t.similarArtworks.length>0&&Y==="experimental"&&oe(t.similarArtworks)},[JSON.stringify(t.similarArtworks),Y]),P.useEffect(()=>{M(t.provenance==="ai")},[t.provenance]),P.useEffect(()=>{const J=async()=>{const me=await H(d);t.similarArtworks=me,oe(me),K(!1)};Y==="experimental"&&F&&(!t.similarArtworks||t.similarArtworks.length<=0)&&d!==""&&J()},[F,t.similarArtworks,d,Y]);const G="relative nowheel p-0.5",V=C?`${G} bg-blue-400 rounded-xl   ${n?"ring-2 ring-blue-300":""}`:`${G} bg-stone-500  ${n?"ring-2 ring-[#dbcdb4] border-[#b39e79]":""}`;return k.jsxs(Cn.div,{initial:{opacity:0,x:0,y:10,scale:1.1,rotateY:-45,filter:"drop-shadow(10px 10px 10px rgba(0, 0, 0, 0.55))"},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,scaleX:1,filter:"drop-shadow(1px 2px 1px rgba(0, 0, 0, 0.15))"},transition:{duration:.3,type:"spring",bounce:.1},className:"drag-handle__invisible bg-transparent",children:[Y==="experimental"&&k.jsx(Cn.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:T?`-${g*2-10}px`:"-6px",transform:"scaleY(1)",opacity:B?1:0},transition:{duration:.2},className:"absolute",children:k.jsx(iF,{parentNodeId:e,similarArtworks:fe,width:g*2,height:x*2,showFolder:T,toggleFolder:O,isAIGenerated:C,selected:n})}),k.jsxs(H0,{isVisible:n,position:$e.Top,children:[k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>u({id:c(),type:"image",content:d,prompt:t.prompt||"",provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarArtworks:fe}),"aria-label":"Save to Palette",style:{},children:k.jsx(nC,{size:16})}),t.intersections&&t.intersections.length>1&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>a(t.intersections),"aria-label":"Merge",style:{marginRight:"0px"},children:k.jsx(tC,{size:16})}),k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:z,"aria-label":"Enlarge Image",children:k.jsx(mg,{size:16})})]}),$&&ne.includes($)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Wg,{size:16})})]}),k.jsx("div",{className:`bg-transparent rounded-full ${C?"rounded-xl":""}`,style:{width:`${g}px`,height:`${x}px`,position:"relative"},children:k.jsx("img",{className:`${V}`,src:d,alt:t.prompt||"generated image",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top"}})}),k.jsx(na,{type:"source",position:$e.Bottom,id:"a",isConnectable:!1,className:"invisible",onConnect:J=>console.log("handle onConnect",J)}),k.jsx(na,{type:"target",position:$e.Top,id:"b",isConnectable:!1,className:"invisible",onConnect:J=>console.log("handle onConnect",J)}),k.jsx(Cn.div,{initial:{top:0},animate:{top:S?x:40,opacity:B?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(sF,{containerHeight:x,containerWidth:g,showDescription:S,toggleDescription:X,parentNodeId:e,content:t.prompt,isAIGenerated:C})}),A&&k.jsx(Cn.div,{className:"fixed top-0 left-0 w-screen-[50vw] h-screen-[50vw] bg-black/70 flex justify-center items-center z-50",onClick:()=>L(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:k.jsx("img",{src:d,className:"max-w-[45vw] max-h-[45vh] rounded-lg shadow-xl"})})]})}const lC=({currentIndex:e,totalItems:t,handlePrev:n,handleNext:s,itemLabel:a})=>k.jsxs("div",{className:"flex items-center w-full",children:[k.jsx("button",{onClick:n,className:"flex-1 flex justify-end items-center p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer bg-transparent","aria-label":"Previous",type:"button",style:{background:"none"},children:k.jsx(Jb,{size:"18"})}),k.jsxs("span",{className:"flex-shrink-0 mx-4 text-gray-600 text-xs",children:[e+1,"/",t,typeof a=="string"&&` ${a}${t>1?"s":""}`]}),k.jsx("button",{onClick:s,className:"flex-1 flex justify-start items-center p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer bg-transparent","aria-label":"Next",type:"button",style:{background:"none"},children:k.jsx(eC,{size:"18"})})]}),oF=({imageIds:e,parentNodeId:t})=>{var N;const[n,s]=P.useState([]),[a,u]=P.useState(0),[c,d]=P.useState(!1),{backend:h}=Li(),{setDraggableType:g,setDraggableData:y}=ps(),x=(C,M,A,L)=>{C.dataTransfer.effectAllowed="move",g(M),y({content:A,prompt:L,parentNodeId:t,provenance:"history"})};P.useEffect(()=>{if(!e||e.length===0){s([]);return}d(!0),fetch(`${h}/api/get-artworks-by-ids`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entryIds:e})}).then(C=>C.json()).then(C=>{C&&C.success&&Array.isArray(C.artworks)?s(C.artworks):s([]),u(0)}).finally(()=>d(!1))},[e,h]);const v=()=>{u(C=>C>0?C-1:n.length-1)},S=()=>{u(C=>C<n.length-1?C+1:0)};if(c)return k.jsx("div",{className:"text-center text-gray-400 text-xs py-4",children:"Loading images..."});if(!n.length)return k.jsx("div",{className:"text-center text-gray-400 text-xs py-4",children:"No images to display."});const _=n[a],T=((N=Object.values(_.descriptions||{}).find(C=>C.date))==null?void 0:N.date)||"";return k.jsxs("div",{draggable:!0,className:"nodrag flex flex-col items-center w-full",children:[k.jsx("div",{draggable:!0,onDragStart:C=>{const M=_.artist_names&&_.artist_names.length>0?_.artist_names.join(", "):"Unknown artist",A=T?`"${_.value}" (${T}) by ${M}`:`"${_.value}" by ${M}`;x(C,"image",_.image_url,A)},className:"w-full flex justify-center",children:k.jsx("img",{src:_.image_url,alt:_.value,className:"max-h-32 max-w-full rounded shadow",style:{objectFit:"contain"}})}),k.jsx("div",{className:"w-full mt-2 text-left text-xs italic text-gray-600",children:k.jsxs("div",{children:[_.value,T&&` (${T})`]})}),k.jsx(lC,{currentIndex:a,totalItems:n.length,handlePrev:v,handleNext:S,itemLabel:"artwork"})]})},uC=({descriptions:e,isAIGenerated:t,as:n="div"})=>{const[s,a]=P.useState(null),{setDraggableType:u,setDraggableData:c}=ps();P.useEffect(()=>{var v,S;a(((v=e.find(_=>_.source==="synth"))==null?void 0:v.source)||((S=e[0])==null?void 0:S.source)||null)},[e]);const d=()=>{var v;return((v=e.find(S=>S.source===s))==null?void 0:v.description)||""};if(!e||e.length===0)return;const h=v=>{a(v)},g=v=>{const S=d();v.dataTransfer.effectAllowed="move",u("text"),c({content:S,provenance:s==="synth"?"ai-description":"description"})},y=d(),x=n;return k.jsxs(x,{className:"mb-4",children:[y?k.jsx("span",{className:`cursor-move inline-block p-1 text-xs 
                        ${t?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,draggable:!0,onDragStart:g,children:y}):k.jsx("span",{className:"text-gray-500 italic inline-block p-2"}),k.jsxs("span",{className:"italic text-gray-500 text-xs mt-1 block",style:{userSelect:"none"},children:["Source:"," ",e.sort((v,S)=>v.source==="synth"?-1:S.source==="synth"?1:0).map(v=>k.jsx("button",{onClick:()=>h(v.source),className:`px-1 py-1 mx-0.5 rounded text-xxs ${v.source===s?t?"bg-blue-500 text-white":"bg-stone-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v.source},v.source))]})]})},aF=({word:e})=>k.jsx("span",{style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:"cursor-pointer rounded-sm m-0.5 p-0.5",children:e.value})}),lF=({keyword:e,handleKeywordClick:t})=>{const[n,s]=P.useState(!1),a=()=>{t(),s(!n)};return k.jsx(Cn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:`cursor-pointer 
                    rounded-sm mx-0.5 p-0
                    transition-all duration-200 
                    bg-amber-100 hover:bg-amber-200`,onClick:a,children:e.value})})},cC=({relatedKeywords:e,isAIGenerated:t})=>{const{setDraggableType:n,setDraggableData:s}=ps(),a=(u,c)=>{u.dataTransfer.effectAllowed="move",n("text"),s({content:c,provenance:"history"})};return k.jsxs("div",{className:"nodrag p-2 flex flex-wrap gap-0.5 mb-5 pb-5",children:[k.jsx("strong",{className:"text-gray-900 text-sm italic mr-1",children:"see also: "}),e.map((u,c)=>k.jsx("div",{className:`text-xs p-0.5 rounded-sm cursor-grab ${t?"text-blue-50 bg-blue-500 hover:bg-blue-400":"text-stone-50 bg-stone-500 hover:bg-stone-400"}`,draggable:!0,onDragStart:d=>a(d,u),children:u},c))]})},uF=({keyword:e,containerHeight:t=100,containerWidth:n=100,showDescription:s=!1,parentNodeId:a,toggleDescription:u,isAIGenerated:c=!1})=>{const{setDraggableType:d,setDraggableData:h}=ps(),g=(y,x,v,S)=>{y.dataTransfer.effectAllowed="move",d(x),h({content:v,prompt:S,provenance:"history",parentNodeId:a})};return e?k.jsxs("div",{className:"relative",style:{height:`${t}px`,width:`${n}px`,overflow:"visible"},children:[k.jsx("div",{id:"descriptionpanel-body",className:"overflow-hidden",style:{height:`calc(${t-24}px`,zIndex:-1},children:k.jsx(Cn.div,{initial:{},animate:{scaleY:s?1:.5,rotateX:s?0:90},transition:{duration:s?.5:.1,type:"spring",bounce:.2},className:`nodrag nowheel overflow-scroll border rounded-b-md shadow-md p-0 h-full ${c?"bg-blue-50":"bg-[#f4efe3] border-[#d9cdb2]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[e.databaseValue&&k.jsx("div",{draggable:!0,onDragStart:y=>g(y,"text",e.databaseValue||e.value),className:`nodrag nowheel text-sm font-bold text-gray-800 mb-2 cursor-pointer ${c?" bg-blue-100 hover:bg-blue-300":"hover:bg-[#D1BC97]"}`,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",marginTop:"5px",marginLeft:"-1px",backgroundColor:c?"#f5f5dc":"#dbcdb4",borderBottom:"1px solid rgba(0, 0, 0, 0.34)",overflow:"visible",width:"90%",borderRadius:"0 8px 8px 0"},children:e.databaseValue||e.value}),k.jsx("div",{className:"text-xs/4 m-2 p-0.5 rounded-sm",children:e.descriptions&&k.jsx(uC,{descriptions:e.descriptions,isAIGenerated:c})}),e.relatedKeywordStrings&&e.relatedKeywordStrings.length>0&&k.jsx(cC,{relatedKeywords:e.relatedKeywordStrings,isAIGenerated:c})]})})}),k.jsxs("div",{className:`
        w-12 h-10 p-1 
        ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-yellow-300"}
        flex items-center justify-center rounded-br-md rounded-bl-md
        cursor-pointer transition-colors duration-200 
        absolute bottom-0 right-2
        ${s?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,style:{zIndex:1},onClick:u,children:[k.jsx(Wg,{size:20,className:"text-gray-600"})," "]})]}):null},cF=({parentNodeId:e,width:t,height:n,showFolder:s,toggleFolder:a,similarTexts:u,isAIGenerated:c=!1,selected:d})=>{const[h,g]=P.useState(0),[y,x]=P.useState(!1),{setDraggableType:v,setDraggableData:S}=ps(),_=(M,A,L,z)=>{M.dataTransfer.effectAllowed="move",v(A),S({content:L,prompt:z,provenance:"history",parentNodeId:e})},T=()=>{g(M=>M>0?M-1:u.length-1)},N=()=>{g(M=>M<u.length-1?M+1:0)},C=u[h];return P.useEffect(()=>{d||x(!1)},[d]),k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                    w-12 h-20 p-1
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-left rounded-l-md
                    cursor-pointer transition-colors duration-200 
                    ${s?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:a,children:[k.jsx(iC,{size:20,className:"text-gray-600"})," "]}),k.jsx(Cn.div,{initial:{transform:"rotateX(-45deg)"},animate:{transform:s?"rotateX(0deg)":"rotateX(-60deg)"},transition:{duration:.3,type:"spring",bounce:.2},className:"absolute",children:k.jsx("div",{className:`absolute left-0 top-0 transform ${y?`-translate-x-[${t*1.5+6}px] z-500`:`-translate-x-[${t+50}px]`} ${y?"bg-white border-2 border-gray-700":c?"bg-blue-100":s?"bg-[#f2e7ce]":"bg-[#dbcdb4]"} rounded-md shadow-md`,style:{height:y?`${n*3}px`:`${n*2}px`,width:y?`${t*1.5}px`:`${t}px`,fontSize:y?"1.2rem":"inherit"},children:u.length>0?k.jsx(k.Fragment,{children:k.jsxs("div",{className:`p-3 pt-0 ml-0 h-full overflow-y-auto ${y?"p-5":""}`,children:[k.jsx("div",{className:"pt-2 pb-0",children:k.jsx(lC,{currentIndex:h,totalItems:u.length,handlePrev:T,handleNext:N})}),k.jsx("div",{className:"p-0 text-xs text-gray-600 italic",children:"This might be related..."}),C&&k.jsxs("div",{className:`nodrag nowheel overflow-y-auto ${y?"text-black":"text-gray-600"}`,children:[k.jsx("p",{draggable:!0,onDragStart:M=>_(M,"text",C.value),className:`font-bold ${y?"text-xl hover:bg-gray-200":`text-md ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`}`,children:C.value}),k.jsx("p",{draggable:!0,onDragStart:M=>_(M,"text",C.type),className:`italic ${y?"text-sm hover:bg-gray-200":`text-xs ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`}`,children:C.type}),C.images&&C.images.length>0&&k.jsx(oF,{imageIds:C.images,parentNodeId:e}),k.jsx("div",{className:`mt-2 p-0.5 rounded-sm ${y?"text-base":"text-xs/4"}`,children:C.descriptions&&k.jsx(uC,{descriptions:C.descriptions,isAIGenerated:c})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx(cC,{relatedKeywords:C.relatedKeywordStrings,isAIGenerated:c})]})]})}):k.jsxs("div",{className:`p-3 ml-0 h-full overflow-y-auto flex flex-col items-center justify-center ${y?"text-black":""}`,children:[k.jsx("h2",{className:`font-medium italic font-bold text-center mb-5 ${y?"text-base":"text-xs text-gray-900"}`,children:"...We haven't found anything relevant to this in our database yet..."}),k.jsx("div",{className:"loader"})]})})})]})};function U1({id:e,data:t,selected:n}){const s=P.useRef(null),[a,u]=P.useState(t.content||""),[c,d]=P.useState(!1),[h,g]=P.useState(!1),[y,x]=P.useState(t.words||[]),[v,S]=P.useState(t.similarTexts||[]),[_,T]=P.useState(null),{mergeNodes:N}=Ic(),[C,M]=P.useState(200),[A,L]=P.useState(150),[z,X]=P.useState(!1),[O,B]=P.useState(!1),{backend:q,userID:ee,admins:fe,condition:oe}=Li(),{addClippedNode:ue,getNextPaletteIndex:$}=By(),[ne,Y]=P.useState(!0),[H,F]=P.useState(t.provenance==="ai"),K=async Ne=>{console.log("fetching texts for:",Ne);try{const Pe=await fetch(`${q}/api/get-similar-texts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:Ne})});if(!Pe.ok)throw new Error("Failed to fetch similar texts");const Ke=await Pe.json();if(Ke.length===0)return[];{const ot=Ke.map(Et=>F1(Et));return console.log("similar texts found:",ot),ot}}catch(Pe){return console.error("Error fetching similar texts:",Pe),{id:"0",value:"none",description:"it seems some kind of error occurred. check your connection!",type:"none"}}},G=async Ne=>{if(Ne.length===0)return[];try{const Pe=await fetch(`${q}/api/check-for-keywords`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Ne.map(Et=>Et.value).join(" ")})});if(!Pe.ok)throw new Error("Failed to check for keywords");return(await Pe.json()).words.map(Et=>Et.details?F1(Et):{value:Et.value})}catch(Pe){return console.error("Error checking for keywords:",Pe),console.log("Fallback words array:",y),y}},V=Ne=>{u(Ne.target.value)},J=()=>{u(y.map(Ne=>Ne.value).join(" ")),d(!0),g(!1)},me=()=>{d(!0),g(!0)},ye=async Ne=>{if(Ne.key==="Enter"){Ne.preventDefault();const Pe=sC(a);x(Pe),t.words=Pe,t.hasNoKeywords=!1,t.hasNoSimilarTexts=!1,d(!1),X(!1),B(!1),T(null),console.log("words have changed to:",Pe);const Ke=await K(pl(Pe));S(Ke),t.similarTexts=Ke}},we=Ne=>{T(Ne),X(!z)},ve=()=>{X(!z)},_e=()=>{B(!O)},[ke,Re]=P.useState(!0);P.useEffect(()=>{if(x(t.words||[]),t.content=pl(y),_===null){const Ne=y.find(Pe=>"id"in Pe);Ne&&T(Ne)}},[JSON.stringify(t.words),_]),P.useEffect(()=>{t.similarTexts&&t.similarTexts.length>0&&S(t.similarTexts||[])},[t.similarTexts]),P.useEffect(()=>{(t.words&&t.words.some(Ne=>"id"in Ne)||t.hasNoKeywords)&&(t.similarTexts&&t.similarTexts.length>0||t.hasNoSimilarTexts)?(S(t.similarTexts||[]),x(t.words||[]),Y(!1)):ne&&((async()=>{if(t.words&&t.words.some(Pe=>"id"in Pe)||t.hasNoKeywords)x(t.words);else if(oe==="experimental"){const Pe=await G(y);x(Pe),t.words=Pe,t.content=pl(Pe)}if(t.similarTexts&&t.similarTexts.length>0&&!t.hasNoSimilarTexts)S(t.similarTexts);else if(oe==="experimental"){const Pe=await K(pl(y));t.similarTexts=Pe}Y(!1)})(),t.similarTexts&&t.similarTexts.length>0&&S(t.similarTexts||[]))},[]),P.useEffect(()=>{if(s.current){const Pe=s.current;Pe.style.height="auto",Pe.style.height=`${Pe.scrollHeight}px`;const ot=parseInt(getComputedStyle(Pe).lineHeight,10)*10;Pe.scrollHeight>ot?(Pe.style.height=`${ot}px`,Pe.style.overflowY="scroll"):Pe.style.overflowY="hidden"}n?Re(!0):(X(!1),B(!1),T(null),d(!1),Re(!1),g(!1)),c&&T(null)},[a,t,y,c,n]);const Ye=`relative nowheel p-4 border ${n?"ring-2 ring-blue-400":""}`,qe=H?`${Ye} border-blue-200 bg-blue-50 rounded-lg shadow-sm`:`${Ye} border-amber-300 bg-amber-50 shadow-sm`;return P.useEffect(()=>{F(t.provenance==="ai")},[t.provenance]),k.jsxs(Cn.div,{initial:{opacity:.2,x:0,y:10,scale:1.1,rotateY:Math.random()*30-15,rotateX:-75},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,rotateX:0,scaleX:1},transition:{duration:.15,type:"spring",bounce:.1},className:"",children:[k.jsx(na,{type:"source",position:$e.Bottom,id:"a",isConnectable:!1,onConnect:Ne=>console.log("handle onConnect",Ne)}),k.jsx(na,{type:"target",position:$e.Top,id:"b",isConnectable:!1,onConnect:Ne=>console.log("handle onConnect",Ne)}),k.jsx("div",{className:"relative",style:{width:`${C}px`},children:c?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{fontSize:"0.75rem",color:"gray",filter:"none",position:"absolute",top:"-1.5rem",left:"0"},children:"ENTER TO CONFIRM"}),!h&&t.content&&t.content.length>100&&k.jsx(H0,{isVisible:n,position:$e.Right,children:k.jsx("div",{className:"flex items-center justify-center space-x-2",children:k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:me,"aria-label":"Expand Editor",style:{marginRight:"0px"},children:k.jsx(mg,{size:16})})})}),k.jsx("div",{className:`text-xs border border-gray-700 rounded bg-white nowheel ${h?"p-5 w-[400px] h-[500px] text-lg":"p-2 w-[200px] h-[150px]"}`,children:k.jsx("textarea",{className:`nowheel nodrag resize-none border overflow-auto font-inherit p-2 w-full h-full ${h?"text-lg":"text-xs"}`,ref:s,value:a,onChange:V,onKeyDown:ye})})]}):k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:J,style:{display:ke?"block":"none",position:"absolute",top:"2px",right:"-10px",zIndex:1e3},className:"p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:k.jsx(O$,{size:16})}),oe==="experimental"&&k.jsx(Cn.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:O?`-${C+50}px`:"-6px",transform:"scaleY(1)",opacity:ke?1:0},transition:{duration:.2},className:"absolute",children:k.jsx(cF,{parentNodeId:e,width:O?C+50:C,height:A,showFolder:O,toggleFolder:_e,similarTexts:v,isAIGenerated:H,selected:n&&O})}),k.jsx(H0,{isVisible:n,position:$e.Top,children:k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>ue({id:$(),type:"text",content:pl(y),provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarTexts:t.similarTexts,prompt:"none"}),"aria-label":"Save to Palette",style:{marginRight:"0px"},children:k.jsx(nC,{size:16})}),t.content&&t.content.length>100&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:me,"aria-label":"Expand Editor",style:{marginRight:"0px"},children:k.jsx(mg,{size:16})}),t.intersections&&t.intersections.length>1&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>N(t.intersections),"aria-label":"Merge",style:{marginRight:"0px"},children:k.jsx(tC,{size:16})}),ee&&fe.includes(ee)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Wg,{size:16})})]})}),k.jsx("div",{className:`${qe}`,style:{zIndex:10,height:`${A}px`,filter:"drop-shadow(3px 3px 3px rgba(0, 0, 0, 0.25))"},onDoubleClick:J,children:ne?k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-xs nowheel",style:{position:"relative",opacity:.7,color:"gray",overflow:"auto",height:"100%",width:"100%"},children:a}),k.jsx("div",{className:"loader",style:{opacity:.7,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):k.jsx(k.Fragment,{children:k.jsx("div",{className:"nowheel p-0 overflow-y-auto overflow-x-visible h-full text-xs/4 text-gray-800 relative inline-block",children:y.map((Ne,Pe)=>k.jsx(vy.Fragment,{children:"entryId"in Ne&&oe==="experimental"?k.jsx(lF,{keyword:Ne,handleKeywordClick:()=>we(Ne)}):k.jsx(aF,{word:Ne})},Pe))})})}),oe==="experimental"&&k.jsx(Cn.div,{initial:{top:0},animate:{top:z?A:-A+40,opacity:ke?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(uF,{keyword:_,containerHeight:A*2,containerWidth:C,showDescription:z,parentNodeId:e,toggleDescription:ve,isAIGenerated:H})})]})})]})}function fF(){return k.jsx(Cn.div,{initial:{opacity:0,x:0,y:3,scale:.6},animate:{opacity:1,x:0,y:0,scale:1,scaleX:1},transition:{duration:.4,type:"spring",bounce:.1},className:"text-md",children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-gray-800",children:"...loading..."}),k.jsx("div",{className:"loader"})]})})}const _v={words:["your","text","here.","click","the","pencil","icon","in","the","top","right","to","edit.","Use","Alt+Click","to","generate","new","nodes."].map(e=>({value:e})),intersections:[],similarTexts:[],provenance:"user",hasNoKeywords:!0,hasNoSimilarTexts:!0},fC={default:fF,image:B1,text:U1,imagewithlookup:B1,textwithkeywords:U1},dF=e=>{const[t,n]=P.useState(null),{setNodes:s,setEdges:a}=Ic(),u=P.useCallback(()=>{const h=e.filter(g=>g.selected);n(h)},[e]),c=P.useCallback(()=>{const h=e.filter(g=>g.selected);n(h),s(g=>g.filter(y=>!y.selected))},[e,s]),d=P.useCallback(()=>{if(t){const h=10*(e.length+1),g=t.map(x=>{const v=x.type;return{...x,id:`${v}-${kd()}`,position:{x:x.position.x+h,y:x.position.y+h},selected:!0}}),y=t.map((x,v)=>({id:`edge-${x.id}-${g[v].id}`,source:x.id,target:g[v].id,type:"default"}));a(x=>[...x,...y]),s(x=>x.map(v=>({...v,selected:!1})).concat(g))}},[t,e,s,a]);return{handleCopy:u,handleCut:c,handlePaste:d}},hF=({addTextWithKeywordsNode:e})=>{const[t,n]=P.useState({x:20,y:100}),[s,a]=P.useState(!1),[u,c]=P.useState({x:0,y:0}),d=y=>{a(!0),c({x:y.clientX-t.x,y:y.clientY-t.y})},h=y=>{s&&n({x:y.clientX-u.x,y:y.clientY-u.y})},g=()=>{a(!1)};return k.jsxs("div",{style:{position:"absolute",top:`${t.y}px`,left:`${t.x}px`,display:"flex",flexDirection:"column",gap:"10px",background:"rgba(35, 30, 24, 0.8)",padding:"10px",borderRadius:"10px",zIndex:10,cursor:s?"grabbing":"grab",userSelect:"none"},onMouseMove:h,onMouseUp:g,onMouseLeave:g,children:[k.jsx("div",{onMouseDown:d,style:{cursor:"grab",padding:"-10px",margin:"-5px",textAlign:"center",color:"#AAA",fontSize:"14px",fontWeight:"bold"},children:"☰"}),k.jsx("button",{onClick:()=>e(),className:"text-white bg-stone-800 w-8 h-8 flex items-center justify-center border border-gray-500 rounded hover:bg-stone-600 active:bg-stone-700 transition duration-300 cursor-pointer",children:k.jsx(rC,{size:28})})]})},pF=()=>{const{userID:e,backend:t,loginStatus:n}=Li(),{saveCanvas:s,canvasName:a,canvasID:u,setCanvasId:c,pullCanvas:d,quickSaveToBrowser:h,pullCanvasFromBrowser:g,setCanvasName:y,setLastSaved:x,createNewCanvas:v}=Kg(),{nodes:S,setNodes:_,edges:T,setEdges:N,drawEdge:C,saveCurrentViewport:M,canvasToObject:A,handleOnEdgesChange:L,handleOnNodesChange:z,onNodesDelete:X,deleteNodeById:O}=Ic(),{screenToFlowPosition:B,setViewport:q,getViewport:ee,getNodesBounds:fe,getIntersectingNodes:oe,getNode:ue}=Pg(),{draggableType:$,draggableData:ne,setDraggableData:Y,setDraggableType:H}=ps(),[F,K]=P.useState(!1),[G,V]=P.useState(!1),[J,me]=P.useState(0),[ye]=Ig(),we=ye.get("canvas"),ve=async(Fe,be)=>{if(be){if(Fe&&be&&!be.includes(Fe))return window.location.href=`/?userId=${Fe}&canvasId=${Fe}-${be}`,!1;{const He=await(await fetch(`${t}/api/list-canvases/${Fe}`)).json();if(!He.success||!He.canvases.includes(be))return console.error(`${be} not found for the user `+Fe+"in"+He.canvases),!1}}else return!1;return!0},_e=P.useCallback((Fe,be)=>{H(be.type),Y(be.data),be.type!="default"&&Re(be,S)},[_,oe]),ke=P.useCallback((Fe,be)=>{_(ze=>Re(be,ze))},[_,e]),Re=(Fe,be)=>{const ze=oe(Fe).filter(He=>He.type===Fe.type).map(He=>He.id);return be.map(He=>{if(He.id===Fe.id){const gt=[{id:He.id,position:He.position,content:He.type==="image"?He.data.prompt:He.data.content},...ze.map(vt=>{const _t=be.find(Ft=>Ft.id===vt);return _t?{id:_t.id,position:_t.position,content:_t.type==="image"?_t.data.prompt:_t.data.content}:null}).filter(Boolean)];return{...He,data:{...He.data,intersections:gt}}}return He})},Ye=P.useCallback((Fe,be)=>{if(Fe.preventDefault(),be.data.type!=="default"){if(be.data.content&&be.data.content!="loading ")sr(be.id,be.data.content,$p(fe([be])));else if(Array.isArray(be.data.words)){const ze=pl(be.data.words);sr(be.id,ze,$p(fe([be])))}console.log("you right clicked this node:",be.data)}},[]),qe=P.useCallback((Fe,be)=>{if(Fe.altKey){if(be.data.type==="default")return;if(be.data.content&&be.data.content!="loading ")sr(be.id,be.data.content,$p(fe([be])));else if(Array.isArray(be.data.words)){const ze=pl(be.data.words);sr(be.id,ze,$p(fe([be])))}console.log("you option clicked this node:",be.data)}},[]);xM({onStart:()=>me(0),onEnd:()=>{const Fe=ee();M(Fe)}});const{handleCopy:Ne,handleCut:Pe,handlePaste:Ke}=dF(S);P.useEffect(()=>{const Fe=be=>{(be.metaKey||be.ctrlKey)&&(be.key==="c"&&Ne(),be.key==="x"&&Pe(),be.key==="v"&&Ke())};return document.addEventListener("keydown",Fe),()=>document.removeEventListener("keydown",Fe)},[Ne,Pe,Ke]);const ot=(Fe="your text here. click the pencil icon in the top right to edit. Use Alt+Click to generate new nodes.",be="user",ze,He=!1,gt,vt)=>{let _t=ze;const Ft=be==="user"&&!ze&&!He;if(Ft){const an={x:window.innerWidth/4,y:window.innerHeight/4},kn=B({x:an.x,y:an.y});_t={x:kn.x+J*15+Math.random()*50-25,y:kn.y+J*20},me(J+1),console.log("making a default text node")}const bt=Ft?_v:{words:Fe.split(" ").map(an=>({value:an})),provenance:be,content:Fe,intersections:[],similarTexts:vt??[],hasNoKeywords:He},Yt={id:`text-${kd()}`,type:"text",zIndex:1e3,position:_t??{x:250,y:250},data:bt};console.log("put the new text node at: ",_t),_(an=>{const kn=[...an,Yt];return gt&&C(gt,Yt.id,kn),kn})},Et=(Fe,be,ze,He,gt,vt)=>{Fe=Fe??"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",ze=ze??"default placeholder image. try creating something of your own!",He=He??"user",vt=vt&&vt.length>0?vt:void 0,be=be??{x:Math.random()*250,y:Math.random()*250};const _t=`image-${kd()}`,Ft={id:_t,type:"image",position:be,zIndex:1e3,data:{content:Fe,prompt:ze,provenance:He,parentNodeId:gt,similarArtworks:vt,intersections:[]},dragHandle:".drag-handle__invisible"};_(bt=>{const Yt=[...bt,Ft];return gt&&C(gt,_t,Yt),Yt})},cn=P.useCallback(Fe=>{Fe.preventDefault(),Fe.dataTransfer.dropEffect="move"},[]),li=P.useCallback(Fe=>{if(Fe.preventDefault(),!$)return;const be=B({x:Fe.clientX-60,y:Fe.clientY-60});if(console.log(`you just dropped a: ${JSON.stringify($)} in this location: ${JSON.stringify(be)} with this content: ${JSON.stringify(ne)}`),$==="image"){const ze="content"in ne?ne.content:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019",He="prompt"in ne?ne.prompt:"",gt="provenance"in ne?ne.provenance:"user",vt="parentNodeId"in ne?ne.parentNodeId:void 0,_t="similarArtworks"in ne?ne.similarArtworks:[];Et(ze,be,He,gt,vt,_t)}else if("content"in ne){const ze="provenance"in ne?ne.provenance:"user",He="parentNodeId"in ne?ne.parentNodeId:void 0,gt="similarTexts"in ne?ne.similarTexts:[];ot(ne.content,ze,be,!1,He,gt)}s(A(),u,a)},[$,ne,B,n]),sr=P.useCallback(async(Fe,be="bunny on the moon",ze={x:250,y:250})=>{var _t,Ft;const He=/\.(jpeg|jpg|gif|png|webp)$/.test(be),gt=`loading-${kd()}`,vt={id:gt,type:"default",position:ze,zIndex:1e3,data:{content:"loading "}};_(bt=>[...bt,vt]);try{if(He){const bt=await Ot.post(`${t}/api/generate-text`,{imageUrl:be});if(bt.status===200){const Yt=(_t=ue(gt))==null?void 0:_t.position;ot(bt.data.text,"ai",Yt,!1,Fe,[]),O(gt)}else console.error(`Text generation Error: ${bt.status}`)}else{console.log(`Generating with prompt: ${be}`),new FormData().append("prompt",be);const Yt=await Ot.post(`${t}/api/generate-image`,{prompt:be});if(Yt.status===200){const an=(Ft=ue(gt))==null?void 0:Ft.position;Et(Yt.data.imageUrl,an||vt.position,be,"ai",Fe,[]),O(gt)}else console.error(`Image generation Error: ${Yt.status}`)}}catch(bt){bt instanceof Error?console.error("Failed to generate image:",bt.message):console.error("Unknown error occurred:",bt)}},[]);return P.useEffect(()=>{if(F||n==="logging in")return;(async()=>{if(n==="logged out"){console.log("USER IS LOGGED OUT"),c("browser");const be=g("browser");if(be){console.log("Canvas loaded from browser storage!: ",be);const{nodes:ze=[],edges:He=[],viewport:gt={x:0,y:0,zoom:1}}=be;_(ze),N(He),q(gt)}else console.log("No canvas found in browser storage. Loading default canvas data..."),fetch("/default_canvas_data.json").then(ze=>ze.json()).then(ze=>{const{nodes:He=[],edges:gt=[],viewport:vt={x:0,y:0,zoom:1}}=ze;_(He),N(gt),q(vt),h(A(),"browser","browserCanvas")}).catch(ze=>{console.error("Failed to load default canvas data:",ze),_([]),N([]),ot("your text here. click the pencil icon in the top right to edit. Right-Click, or use Alt+Click to generate new nodes.","user",{x:0,y:0}),q({x:0,y:0,zoom:1}),h(A(),"browser","browserCanvas")});K(!0);return}if(n==="logged in"&&e)if(we)c(we),d(`${we}`).then(be=>{if(be!==null){console.log("URL requested canvas found in the database!"),console.log(be);const{nodes:ze=[],edges:He=[],viewport:gt={x:0,y:0,zoom:1}}=be.canvasData;console.log("flow has received: ",be),_(ze),N(He),q(gt),y(be.canvasName),x(be.timestamp),K(!0);return}else console.log("No canvas found for the given ID.")});else{const ze=await(await fetch(`${t}/api/list-canvases/${e}`)).json();if(ze.success&&ze.canvases.length>0){const He=ze.canvases[ze.canvases.length-1].canvasId;console.log("Redirecting to the last canvas:",He),K(!0),window.location.href=`/?user=${e}&canvas=${He}`}else ze.success&&ze.canvases.length===0&&(console.log("No canvases found, creating a new one."),v(e));K(!0)}})()},[e,n,F,we,t,ve,d,c,_,q,y,x,h,A,ot,v,g]),P.useEffect(()=>{const Fe=setInterval(()=>{e?s(A()):h(A(),"browser","browserCanvas")},6e4);return()=>clearInterval(Fe)},[e,u,a,h,s,A]),k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"100%",height:"100%"},children:k.jsxs(A_,{nodes:S,edges:T,nodeTypes:fC,minZoom:.009,onNodesChange:z,onEdgesChange:L,onNodeDrag:_e,onNodeDragStop:ke,onNodesDelete:X,onNodeContextMenu:Ye,onNodeClick:(Fe,be)=>qe(Fe,be),onDrop:li,onDragOver:cn,zoomOnDoubleClick:!1,fitView:!0,selectionOnDrag:!0,children:[k.jsx(bM,{}),k.jsx(RM,{})]})}),k.jsx(hF,{addTextWithKeywordsNode:()=>ot(),addImageNode:Et,addSynthesizer:()=>V(!0)})]})},gF=()=>k.jsx("div",{children:k.jsx("div",{className:"flex h-screen mt-20 bg-red",children:k.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[k.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"ArtiFactor"}),k.jsxs("div",{id:"section1",className:"my-8",children:[k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Our Project"}),k.jsx("p",{children:"Pretend we filled this out."})]}),k.jsx("div",{id:"exampleSection",className:"mb-8",children:k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Text with keywords test"})})]})})}),mF=()=>{const{backend:e,addUser:t}=Li(),[n,s]=P.useState([]),[a,u]=P.useState([]),[c,d]=P.useState([]),[h,g]=P.useState([]),[y,x]=P.useState(""),[v,S]=P.useState(""),[_,T]=P.useState(""),[N,C]=P.useState(""),[M,A]=P.useState(""),[L,z]=P.useState(""),[X,O]=P.useState(""),[B,q]=P.useState(!1),ee=async H=>{const F=H.target.value;if(x(F),S(""),T(""),C(""),A(""),s([]),F==="browserdata"){const K=Object.keys(localStorage).filter(G=>{var V;return(V=localStorage.getItem(G))==null?void 0:V.includes('"nodes":')});d(K.map(G=>({id:G,name:G})))}else{const G=await(await fetch(`${e}/api/list-users`)).json();if(G.success){const V=G.users.find(J=>J.userId===F);d(V?V.canvases:[])}else console.error("Failed to fetch users:",G.error)}},fe=async H=>{const F=H.target.value;S(F),T(""),C(""),A(""),s([]);const G=await(await fetch(`${e}/api/list-versions/${F}`)).json();G.success?(console.log("fetched versions:",G),g(G.versions)):console.error("Failed to fetch versions:",G.error)},oe=async H=>{try{const K=await(await fetch(`${e}/api/get-version/${H}`)).json();return K.success?K.version.jsonBlob:(console.error("Failed to fetch version:",K.error),null)}catch(F){return console.error("Error fetching version:",F),null}},ue=async H=>{console.log(`Fetching all versions for canvas ID: ${H}`);try{const K=await(await fetch(`${e}/api/list-versions/${H}`)).json();if(K.success){console.log(`Successfully fetched versions for canvas ID: ${H}`,K.versions);const G=K.versions,V={};for(let J=0;J<G.length;J++){const me=G[J];console.log(`Fetching data for version ${J+1} of ${G.length}: ${me.versionId}`);const ye=await oe(me.versionId);ye?(console.log(`Successfully fetched data for version ID: ${me.versionId}`),V[me.versionId]=ye):console.warn(`No data found for version ID: ${me.versionId}`)}return console.log("Compiled versions:",V),V}else return console.error(`Failed to fetch versions for canvas ID: ${H}`,K.error),null}catch(F){return console.error(`Error fetching all versions of canvas ID: ${H}`,F),null}},$=async H=>{const F=H.target.value;T(F);const G=await(await fetch(`${e}/api/get-version/${F}`)).json();if(G.success){const V=G.version.jsonBlob;C(G.version.timestamp),A(JSON.stringify(V,null,2)),s(V.nodes.map(J=>({node_id:J.id,type:J.type,content:ne(J.data.content)?k.jsx("img",{src:J.data.content,alt:"node content",style:{maxWidth:"50px"}}):J.data.content.substring(0,100)})))}else console.error("Failed to fetch version:",G.error)},ne=H=>/\.(jpeg|jpg|gif|png|webp)$/.test(H),Y=async()=>{y&&v&&window.confirm("Are you sure you want to delete this canvas?")&&((await(await fetch(`${e}/api/delete-canvas/${y}/${v}`,{method:"DELETE"})).json()).success?(alert("Canvas deleted successfully"),S(""),C(""),s([]),A("")):alert("Failed to delete canvas"))};return P.useEffect(()=>{(async()=>{try{const K=await(await fetch(`${e}/api/list-users`)).json();K.success?(console.log("fetched users:",K),u(K.users)):console.error("Failed to fetch users:",K.error)}catch(F){console.error("Error fetching users:",F)}})()},[e]),k.jsx("div",{className:"flex flex-col mt-20 overflow-scroll px-10",style:{height:"calc(100vh - 100px)"},children:k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex flex-wrap bg-stone-200 p-4",children:[k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsxs("h3",{onClick:()=>q(!B),className:"cursor-pointer",children:[B?"▼":"▶"," Add new user"]}),B&&k.jsxs("div",{children:[k.jsx("input",{type:"text",placeholder:"Enter new user ID",value:L,onChange:H=>z(H.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("input",{type:"password",placeholder:"Enter new user password",value:X,onChange:H=>O(H.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("button",{onClick:()=>t(L,X),className:"w-full bg-stone-500 text-white p-2 rounded",children:"Add User"})]})]}),k.jsxs("div",{className:"mr-4 mb-4 display-block w-full p-3 relative",children:[k.jsx("button",{onClick:()=>console.log(localStorage),className:"w-50% bg-brown-500 text-white p-2 rounded mt-2",children:"Print Local Storage to console"}),k.jsx("button",{onClick:()=>{Object.keys(localStorage).filter(F=>{var K;return(K=localStorage.getItem(F))==null?void 0:K.includes('"nodes":')}).forEach(F=>localStorage.removeItem(F)),alert("All canvases in LocalStorage have been deleted.")},className:"w-50% bg-red-500 text-white p-2 rounded mt-2",children:"Delete All LocalStorage Canvases"}),k.jsx("br",{}),k.jsx("label",{htmlFor:"user-select",children:"Select User: "}),k.jsxs("select",{id:"user-select",value:y,onChange:ee,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a user"}),a.map(H=>k.jsx("option",{value:H.userId,children:H.userId},H.userId)),k.jsx("option",{value:"browserdata",children:"Browser Data"})]})]}),y&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("label",{htmlFor:"canvas-select",children:"Select Canvas: "}),k.jsxs("select",{id:"canvas-select",value:v,onChange:fe,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a canvas"}),c.map(H=>k.jsx("option",{value:H.canvasId,children:H.canvasName},H.canvasId))]})]}),v&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("button",{onClick:async()=>{const H=await ue(v),F=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=URL.createObjectURL(F),G=document.createElement("a");G.href=K,G.download=`${y}-${v}.json`,G.click()},className:"bg-green-500 text-white px-4 py-2 mb-4",children:"Download All Versions as JSON data dump"}),k.jsx("br",{}),k.jsx("label",{htmlFor:"version-select",children:"Select Version: "}),k.jsxs("select",{id:"version-select",value:_,onChange:$,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a version"}),h.map(H=>k.jsx("option",{value:H.versionId,children:H.versionId},H.versionId))]})]})]}),v&&_&&k.jsxs("div",{className:"bg-brown-200 p-4",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("button",{onClick:()=>{console.log("sending user to: "+y+" and canvas to:"+v),window.location.href=`/?user=${y}&canvas=${v}`},className:"bg-blue-500 text-white px-4 py-2 mb-4",children:"Go to Canvas Page"}),k.jsxs("p",{children:["Canvas ID in database: ",v]}),k.jsxs("p",{children:["Timestamp: ",N]}),k.jsxs("p",{children:["Number of Nodes: ",n.length]}),k.jsx("p",{className:"font-bold",children:"Raw canvas data dump from server: "}),k.jsx("div",{className:"overflow-scroll bg-gray-100 p-4 mt-4 text-xs",style:{height:"200px",width:"100%",whiteSpace:"pre-wrap"},children:k.jsx("pre",{children:M})}),k.jsx("button",{onClick:Y,className:"bg-red-500 text-white px-4 py-2",children:"Delete Canvas"})]}),k.jsxs("div",{className:"overflow-scroll",style:{height:"calc(100vh - 100px)"},children:[v&&k.jsxs("div",{className:"flex justify-between mb-4",children:[k.jsx("button",{onClick:()=>{const H=h.findIndex(F=>F.versionId===_);if(H>0){const F=h[H-1].versionId;T(F),$({target:{value:F}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:h.findIndex(H=>H.versionId===_)===0,children:"Previous"}),k.jsxs("span",{className:"px-4 py-2 text-center",children:[h.findIndex(H=>H.versionId===_)+1," / ",h.length,k.jsxs("p",{className:"text-center",children:["Version ID: ",_]})]}),k.jsx("button",{onClick:()=>{const H=h.findIndex(F=>F.versionId===_);if(H<h.length-1){const F=h[H+1].versionId;T(F),$({target:{value:F}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:h.findIndex(H=>H.versionId===_)===h.length-1,children:"Next"})]}),k.jsx("p",{className:"font-bold",children:"Node data from server, as a table: "}),k.jsxs("table",{className:"min-w-full",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-4 py-2"}),n.length>0&&Object.keys(n[0]).map(H=>k.jsx("th",{className:"px-4 py-2",children:H},H))]})}),k.jsx("tbody",{children:n.map((H,F)=>k.jsxs("tr",{children:[k.jsx("td",{className:"border px-4 py-2",children:F+1}),Object.values(H).map((K,G)=>k.jsx("td",{className:"border px-4 py-2",children:K},G))]},F))})]})]})]})]})})},b0=()=>{const e=["the dog is eating a sandwich by paul cezanne","the cat is playing with a ball by vincent van gogh","light bright shining, 2d, futurism, claude monet","the moon is rising, abstract expressionism, rembrandt","a beautiful sunset cubism, picasso, impressionism, edgar degas"],t=e[Math.floor(Math.random()*e.length)],n=t.split(" ").map(a=>({value:a}));return{..._v,content:t,words:n,similarTexts:[{entryId:"1",value:"quantum",databaseValue:"Quantum Computing",images:["image1.jpg","image2.jpg"],isArtist:!1,type:"technology",aliases:[],descriptions:[{source:"wikipedia",description:"A type of computing that uses quantum-mechanical phenomena",date:"2023-10-01"},{source:"synth",description:"Recent advancements in quantum computing algorithms",date:"2023-09-15"}],relatedKeywordIds:["2","3","4"],relatedKeywordStrings:["computing","physics","technology"]},{entryId:"2",value:"machine learning",databaseValue:"Machine Learning",images:["image3.jpg","image4.jpg"],isArtist:!1,type:"technology",aliases:[],descriptions:[{source:"wikipedia",description:"A subset of artificial intelligence that enables systems to learn from data",date:"2023-10-01"},{source:"arxiv",description:"Recent advancements in machine learning algorithms and applications",date:"2023-09-15"}],relatedKeywordIds:["5","6","7"],relatedKeywordStrings:["AI","algorithms","data science"]}],hasNoKeywords:!1,hasNoSimilarTexts:!1,provenance:Math.random()>.5?"ai":"user"}},yF=()=>{const[e,t]=P.useState([{id:"1",type:"textwithkeywords",position:{x:250,y:100},data:b0()}]),[n,s]=P.useState(0),[a,u]=P.useState(!1),c=async()=>{u(!0),await new Promise(v=>setTimeout(v,500)),t(v=>v.map(S=>({...S,data:b0()}))),s(v=>v+1),u(!1)},d=()=>{const v={id:`${e.length+1}`,type:"textwithkeywords",position:{x:250+e.length%3*300,y:100+Math.floor(e.length/3)*250},data:b0()};t(S=>[...S,v])},h=()=>{t([]),s(0)},g=()=>{t(v=>v.map(S=>({...S,data:{...S.data,provenance:S.data.provenance==="ai"?"user":"ai"}})))},y=()=>{t([{id:"1",type:"textwithkeywords",position:{x:250,y:100},data:{..._v}}])},x=()=>{t(v=>v.length<2?v:v.map((S,_)=>_===0?{...S,data:{...S.data,intersections:[{id:v[1].id,position:v[1].position,content:v[1].data.content||""}]}}:_===1?{...S,data:{...S.data,intersections:[{id:v[0].id,position:v[0].position,content:v[0].data.content||""}]}}:S))};return k.jsxs("div",{style:{width:"100vw",height:"calc(100vh - 48px)",marginTop:"48px",display:"flex",flexDirection:"column"},children:[k.jsxs("div",{style:{padding:"20px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[k.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"TextWithKeywordsNode Test Page"}),k.jsxs("div",{style:{display:"flex",gap:"10px",marginLeft:"auto"},children:[k.jsxs("button",{onClick:c,disabled:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #3b82f6",backgroundColor:"#3b82f6",color:"white",cursor:a?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:a?.6:1,transition:"all 0.2s"},onMouseEnter:v=>!a&&(v.currentTarget.style.backgroundColor="#2563eb"),onMouseLeave:v=>!a&&(v.currentTarget.style.backgroundColor="#3b82f6"),children:[k.jsx(B$,{size:16,className:a?"animate-spin":""}),a?"Refreshing...":"Refresh Data"]}),k.jsxs("button",{onClick:d,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #10b981",backgroundColor:"#10b981",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#059669",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#10b981",children:[k.jsx(rC,{size:16}),"Add Node"]}),k.jsx("button",{onClick:g,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #8b5cf6",backgroundColor:"#8b5cf6",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#7c3aed",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#8b5cf6",children:"Toggle AI/User"}),k.jsx("button",{onClick:y,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #6b7280",backgroundColor:"#6b7280",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#4b5563",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#6b7280",children:"Use Default Data"}),k.jsx("button",{onClick:x,disabled:e.length<2,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #f59e0b",backgroundColor:"#f59e0b",color:"white",cursor:e.length<2?"not-allowed":"pointer",opacity:e.length<2?.6:1,transition:"all 0.2s"},onMouseEnter:v=>e.length>=2&&(v.currentTarget.style.backgroundColor="#d97706"),onMouseLeave:v=>e.length>=2&&(v.currentTarget.style.backgroundColor="#f59e0b"),children:"Test Intersections"}),k.jsxs("button",{onClick:h,disabled:e.length===0,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #ef4444",backgroundColor:"#ef4444",color:"white",cursor:e.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:e.length===0?.6:1,transition:"all 0.2s"},onMouseEnter:v=>e.length>0&&(v.currentTarget.style.backgroundColor="#dc2626"),onMouseLeave:v=>e.length>0&&(v.currentTarget.style.backgroundColor="#ef4444"),children:[k.jsx(Y$,{size:16}),"Clear All"]})]})]}),k.jsxs("div",{style:{padding:"15px 20px",backgroundColor:"#fef3c7",borderBottom:"1px solid #fbbf24",fontSize:"14px"},children:[k.jsx("strong",{children:"Info:"})," Nodes: ",e.length," | Refreshes: ",n," |",k.jsx("span",{style:{marginLeft:"10px"},children:"Click on nodes to interact with them. Double-click to edit text. Press Enter to confirm edits and trigger keyword/similar text fetching."})]}),k.jsx("div",{style:{flex:1},children:k.jsx(A_,{nodes:e,onNodesChange:v=>{t(S=>{const _=[...S];return v.forEach(T=>{if(T.type==="position"&&T.position){const N=_.find(C=>C.id===T.id);N&&(N.position=T.position)}if(T.type==="select"){const N=_.find(C=>C.id===T.id);N&&(N.selected=T.selected)}}),_})},nodeTypes:fC,fitView:!0,style:{backgroundColor:"#f9fafb"}})}),k.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        .loader {
          border: 2px solid #f3f3f3;
          border-top: 2px solid #3498db;
          border-radius: 50%;
          width: 20px;
          height: 20px;
          animation: spin 1s linear infinite;
        }
      `})]})},vF=({onClose:e})=>{const{canvasID:t,canvasName:n,saveCanvas:s,deleteCanvas:a,createNewCanvas:u}=Kg(),{backend:c,handleUserLogin:d,userID:h,admins:g,loginStatus:y}=Li(),{canvasToObject:x}=Ic(),[v,S]=P.useState(""),[_,T]=P.useState(""),[N,C]=P.useState([]),[M,A]=P.useState(!1),[L,z]=P.useState(!1);P.useEffect(()=>{ee()},[h,n,t]);const X=async()=>{if(z(!0),!t||!h){console.error("No canvas to save.");return}try{console.log("sidebar is calling save canvas"),await s(x(),t,n)}catch(oe){console.error("Error saving canvas:",oe)}ee(),z(!1)},O=async()=>{if(h)try{u(h)}catch(oe){console.error("Sidebar failed to create new canvas:",oe)}else{console.error("You have to log in before you can create a new canvas.");return}},B=async oe=>{oe.preventDefault(),T("");try{await d(v,"")}catch(ue){console.error("Error logging in user:",ue),T("Something went wrong.")}},q=()=>{window.confirm("Are you sure you want to log out? (You may lose unsaved changes)")&&(window.location.href="/",localStorage.removeItem("last_userID"),localStorage.removeItem("last_password"),d("",""))},ee=async()=>{if(!(!h||h==="default"))try{console.log("Refreshing canvases...");const ue=await(await fetch(`${c}/api/list-canvases/${h}`)).json();if(!ue.success){T("Error fetching canvases.");return}C(ue.canvases)}catch(oe){console.error("Error refreshing canvasList:",oe),T("Something went wrong.")}},fe=async oe=>{if(oe===t){alert("You can't delete the canvas you're currently working on!");return}window.confirm("Are you sure you want to delete this canvas?")&&(await a(oe),ee())};return k.jsxs("div",{className:"fixed top-0 left-0 w-64 h-full bg-gray-800 text-white p-4 z-40",children:[k.jsx("button",{onClick:e,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Close"}),(!h||h==="default")&&k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Enter UserID"}),k.jsxs("form",{onSubmit:B,className:"mb-4",children:[k.jsx("input",{type:"text",value:v,onChange:oe=>S(oe.target.value),placeholder:"enter userID:",className:"w-full p-2 border rounded text-black"}),k.jsx("button",{type:"submit",className:"mt-2 w-full bg-blue-500 text-white p-2 rounded",children:"Submit"})]}),k.jsx("p",{className:"text-red-500",children:_})]}),h&&y==="logged in"&&k.jsxs(k.Fragment,{children:[k.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Hi, ",h,"!"]}),k.jsx(Cn.button,{onClick:X,className:`mt-2 w-full text-white p-2 rounded ${L?"bg-stone-600":"bg-stone-500"}`,animate:{y:L?[0,-2,0]:0},transition:{duration:.5,ease:"easeInOut",repeat:L?1/0:0},children:L?"Saving...":`Save this canvas (${n})`}),k.jsx("button",{onClick:O,className:"w-full text-center text-left bg-gray-700 hover:bg-gray-600 p-2 rounded",children:"+ Start New Canvas"}),k.jsxs("div",{className:"flex items-center justify-between mt-2",children:[k.jsx("h3",{className:"text-md font-semibold",children:"Your Canvases:"}),k.jsx("button",{onClick:ee,className:"text-white p-2 rounded",children:"🔄"}),k.jsx("button",{onClick:()=>A(!M),className:"text-white p-2 rounded",children:"✏️"})]}),k.jsx("ul",{className:"mt-2",children:N&&N.length>0?N.map(oe=>k.jsxs("li",{className:"mt-1 flex items-center",children:[k.jsxs(Cn.button,{onClick:()=>{window.location.href=`/?user=${h}&canvas=${oe.canvasId}`},className:`w-full text-left p-2 rounded ${oe.canvasId===t?"bg-stone-500":M?"bg-gray-700":"bg-gray-700 hover:bg-gray-600"}`,disabled:M||oe.canvasId===t,animate:M&&oe.canvasId!=t?{rotate:[0,-1,1,0]}:{},transition:{duration:.3,repeat:M?1/0:0},children:[oe.canvasName," ",oe.canvasId===t&&"(current canvas)"]}),M&&oe.canvasId!=t&&k.jsx("button",{onClick:()=>fe(oe.canvasId),className:"ml-2 text-red-500 hover:text-red-700",children:"🗑️"})]},oe.canvasId)):k.jsx("p",{className:"text-gray-400",children:"No canvases yet."})}),k.jsx("button",{onClick:q,className:"mt-4 w-full bg-red-500 text-white p-2 rounded",children:"Log Out"})]}),h&&g.includes(h)&&k.jsxs("div",{className:"mt-4 p-4 bg-black rounded",children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Admin Controls"}),k.jsx("button",{onClick:()=>window.location.href="/admin",className:"w-full bg-blue-500 text-white p-2 rounded mt-2",children:"Go to Admin Page"})]})]})},xF=({data:e,type:t,removeNode:n})=>{const{setDraggableType:s,setDraggableData:a}=ps(),[u,c]=P.useState(!1),{userID:d,admins:h}=Li(),[g,y]=P.useState(!1),x=S=>{S.dataTransfer.effectAllowed="move",s(t),a(e)},v=async()=>{try{const S=e.content,_=await fetch(S);if(!_.ok)throw new Error("Failed to fetch the image.");const T=await _.blob(),N=URL.createObjectURL(T),C=document.createElement("a");C.href=N,C.download=`${e.prompt}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)}catch(S){console.error("Error downloading image:",S)}};return k.jsx("div",{className:"border border-gray-600 rounded-md p-2 cursor-grab hover:bg-gray-50 hover:shadow-sm transition-all text-sm relative",draggable:!0,onDragStart:x,style:{width:"100%"},onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),y(!1)},onClick:()=>y(!g),children:t==="text"?k.jsxs(Cn.div,{className:"relative pr-2.5",style:{textOverflow:"ellipsis",overflow:"hidden"},animate:{height:u?"auto":"20px"},transition:{duration:.35},children:[e.content,k.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),n(e.id)},children:"✕"})]}):k.jsxs("div",{className:"relative",children:[k.jsxs(Cn.div,{className:`max-h-${u?"full":"60"} overflow-hidden relative`,style:{height:u?"auto":"60px"},animate:{height:u?"auto":"60px"},transition:{duration:.35},children:[k.jsx("img",{src:e.content,alt:e.prompt,className:"rounded-md object-cover w-full h-full"}),k.jsxs("div",{className:`absolute bottom-0 left-0 w-full h-full bg-white bg-opacity-50 
               text-gray-800 text-md uppercase text-center p-1 
               ${g?"opacity-100":"opacity-0"} 
               transition-opacity duration-300 font-bold italic 
               leading-tight flex flex-col items-center justify-center`,style:{zIndex:10,visibility:g?"visible":"hidden"},children:[k.jsx("span",{children:e.prompt.length>40?`${e.prompt.substring(0,40)}...`:e.prompt}),k.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),v()},className:"bg-gray-800 text-white px-2 py-1 rounded-md text-sm mt-2",children:k.jsx(P$,{size:16})})]})]}),k.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),n(e.id)},children:"✕"}),d&&h.includes(d)&&k.jsx("button",{type:"button",className:"absolute top-1 left-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),console.log(e)},children:"data"})]})})},wF=()=>{const{removeNode:e,activeTab:t,setActiveTab:n,clippedNodes:s=[]}=By();P.useEffect(()=>{s.length>0&&n(s[s.length-1].type)},[s,n]);const a=c=>{e(c)},u=s.filter(c=>c.type===t);return k.jsxs("div",{className:"p-4 h-[100%] border-stone-800 rounded-md flex flex-col",children:[k.jsx("div",{className:"flex space-x-2 mb-4 sticky top-0 bg-white z-10",children:["text","image"].map(c=>k.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===c?"bg-stone-800 text-white":"bg-stone-200 text-stone-600"}`,onClick:()=>n(c),type:"button",children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),k.jsx("div",{className:"space-y-3 overflow-y-scroll flex-grow",children:u.map((c,d)=>k.jsx("div",{className:"relative",children:k.jsx(xF,{data:c,type:t,removeNode:()=>a(c.id)})},d))})]})},SF=({toggleSidebar:e})=>{const{canvasID:t,canvasName:n,setCanvasName:s,saveCanvas:a,lastSaved:u}=Kg(),{loginStatus:c,condition:d}=Li(),{canvasToObject:h}=Ic(),[g,y]=P.useState(!1),[x,v]=P.useState(n),[S,_]=P.useState("Never"),[T,N]=P.useState(!1),C=async()=>{y(!1),x.trim()!==""&&x!==n?s(x):v(n),M()},M=async()=>{if(t){N(!0),console.log("Title bar is saving the canvas.");try{await a(h(),t,n)}catch(A){console.error("Error saving canvas:",A)}N(!1)}};return P.useEffect(()=>{c==="logged in"&&v(n)},[n]),P.useEffect(()=>{if(u){const A=new Date,L=new Date(u),z=Math.floor((A.getTime()-L.getTime())/1e3);if(z<=3)_("just now");else{const X=Math.floor(z/60),O=z%60;_(X>0?`${X} minute${X>1?"s":""} and ${O} second${O!==1?"s":""} ago`:`${O} second${O!==1?"s":""} ago`)}}else _("Never")},[u]),k.jsxs("div",{className:"w-full flex items-center justify-between bg-stone-900 text-white px-4 py-2 shadow-md",children:[d&&c==="logged in"&&k.jsx("button",{onClick:e,className:"p-2",children:k.jsx(D$,{size:16})}),c!=="logged in"?k.jsx("h1",{className:"text-lg font-semibold text-stone-400",children:"ArtiFactor"}):k.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4",children:[k.jsxs("div",{className:"flex items-center",children:[g?k.jsx("input",{type:"text",value:x,onChange:A=>v(A.target.value),onBlur:C,onKeyDown:A=>A.key==="Enter"&&C(),autoFocus:!0,className:"bg-stone-800 text-white px-2 py-1 border border-gray-700 rounded"}):k.jsx("span",{className:"text-white cursor-pointer",onClick:()=>y(!0),children:n}),k.jsx(F$,{size:16,className:"ml-2 cursor-pointer",onClick:()=>y(!0)})]}),k.jsxs("span",{className:"text-sm text-stone-400",children:["Last saved... ",S]})]}),c==="logged in"&&k.jsx("button",{onClick:M,className:`flex items-center gap-2 px-4 py-2 rounded ${T?"bg-gray-600":"bg-stone-500"} text-white`,children:T?"...":k.jsx(H$,{size:16})})]})},_F="https://snailbunny.site";function EF(){const[e]=Ig();let t=e.get("con");t==="A"||t==="a"?t="control":t="experimental";const[n,s]=P.useState(!1),a=()=>{s(u=>!u)};return P.useEffect(()=>{const u=c=>{c.preventDefault(),c.returnValue=""};return window.addEventListener("beforeunload",u),()=>{window.removeEventListener("beforeunload",u)}},[]),P.useEffect(()=>{const u=c=>{const{ctrlKey:d}=c;d&&c.preventDefault()};return window.addEventListener("wheel",u,{passive:!1}),()=>{window.removeEventListener("wheel",u)}},[]),k.jsx(X3,{backend:_F,condition:t,children:k.jsx(q$,{children:k.jsx(G3,{children:k.jsx(P_,{children:k.jsx(rF,{children:k.jsx(q3,{children:k.jsxs("div",{className:"relative h-screen w-screen overflow-hidden",children:[k.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-800 text-white w-64 transition-transform duration-300 ${n?"translate-x-0":"-translate-x-64"}`,style:{zIndex:50,overflow:"hidden"},children:k.jsx(vF,{onClose:a})}),k.jsx("div",{className:"fixed top-0 left-0 w-full h-12 bg-gray-800 text-white transition-transform duration-300",style:{overflow:"hidden"},children:k.jsx(SF,{toggleSidebar:a})}),k.jsxs($I,{children:[k.jsx(md,{path:"/about",element:k.jsx("div",{className:"flex bottom-0 bg-red",style:{height:"calc(100vh - 100px)",marginTop:"50px",padding:"10px",overflow:"scroll",background:"red"},children:k.jsx(gF,{})})}),k.jsx(md,{path:"/test",element:k.jsx(yF,{})}),k.jsx(md,{path:"/admin",element:k.jsx(mF,{})}),k.jsx(md,{path:"/",element:k.jsxs("div",{className:"flex fixed",style:{height:"calc(100vh - 80px)",marginTop:"24px",overflow:"hidden"},children:[k.jsx("div",{className:"border border-gray-500",style:{height:"100%",width:"75vw",margin:0,padding:0,overflow:"hidden"},children:k.jsx(pF,{})}),k.jsx("div",{className:"border border-gray-500 ml-5 rounded-lg",style:{height:"100%",width:"21vw",margin:0,marginRight:10,zIndex:3,overflow:"hidden"},children:k.jsx(wF,{})})]})})]})]})})})})})})})}function bF(){return k.jsx(uL,{children:k.jsx(EF,{})})}Hk.createRoot(document.getElementById("root")).render(k.jsx(k.Fragment,{children:k.jsxs(vy.StrictMode,{children:[" ",k.jsx(eT,{}),k.jsx(bF,{})]})}));
