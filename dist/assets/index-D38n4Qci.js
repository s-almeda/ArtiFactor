(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tf={exports:{}},es={},_f={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function CC(){if(_g)return Ae;_g=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function E(A,W,ae){this.props=A,this.context=W,this.refs=S,this.updater=ae||v}E.prototype.isReactComponent={},E.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(A,W,ae){this.props=A,this.context=W,this.refs=S,this.updater=ae||v}var b=T.prototype=new C;b.constructor=T,w(b,E.prototype),b.isPureReactComponent=!0;var _=Array.isArray,M=Object.prototype.hasOwnProperty,$={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function z(A,W,ae){var ne,le={},ce=null,oe=null;if(W!=null)for(ne in W.ref!==void 0&&(oe=W.ref),W.key!==void 0&&(ce=""+W.key),W)M.call(W,ne)&&!I.hasOwnProperty(ne)&&(le[ne]=W[ne]);var te=arguments.length-2;if(te===1)le.children=ae;else if(1<te){for(var se=Array(te),Se=0;Se<te;Se++)se[Se]=arguments[Se+2];le.children=se}if(A&&A.defaultProps)for(ne in te=A.defaultProps,te)le[ne]===void 0&&(le[ne]=te[ne]);return{$$typeof:e,type:A,key:ce,ref:oe,props:le,_owner:$.current}}function K(A,W){return{$$typeof:e,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function Y(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function ee(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return W[ae]})}var q=/\/+/g;function J(A,W){return typeof A=="object"&&A!==null&&A.key!=null?ee(""+A.key):W.toString(36)}function R(A,W,ae,ne,le){var ce=typeof A;(ce==="undefined"||ce==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ce){case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case e:case t:oe=!0}}if(oe)return oe=A,le=le(oe),A=ne===""?"."+J(oe,0):ne,_(le)?(ae="",A!=null&&(ae=A.replace(q,"$&/")+"/"),R(le,W,ae,"",function(Se){return Se})):le!=null&&(Y(le)&&(le=K(le,ae+(!le.key||oe&&oe.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+A)),W.push(le)),1;if(oe=0,ne=ne===""?".":ne+":",_(A))for(var te=0;te<A.length;te++){ce=A[te];var se=ne+J(ce,te);oe+=R(ce,W,ae,se,le)}else if(se=g(A),typeof se=="function")for(A=se.call(A),te=0;!(ce=A.next()).done;)ce=ce.value,se=ne+J(ce,te++),oe+=R(ce,W,ae,se,le);else if(ce==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return oe}function V(A,W,ae){if(A==null)return A;var ne=[],le=0;return R(A,ne,"","",function(ce){return W.call(ae,ce,le++)}),ne}function L(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var U={current:null},D={transition:null},O={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:D,ReactCurrentOwner:$};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:V,forEach:function(A,W,ae){V(A,function(){W.apply(this,arguments)},ae)},count:function(A){var W=0;return V(A,function(){W++}),W},toArray:function(A){return V(A,function(W){return W})||[]},only:function(A){if(!Y(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ae.Component=E,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=T,Ae.StrictMode=o,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,Ae.act=B,Ae.cloneElement=function(A,W,ae){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ne=w({},A.props),le=A.key,ce=A.ref,oe=A._owner;if(W!=null){if(W.ref!==void 0&&(ce=W.ref,oe=$.current),W.key!==void 0&&(le=""+W.key),A.type&&A.type.defaultProps)var te=A.type.defaultProps;for(se in W)M.call(W,se)&&!I.hasOwnProperty(se)&&(ne[se]=W[se]===void 0&&te!==void 0?te[se]:W[se])}var se=arguments.length-2;if(se===1)ne.children=ae;else if(1<se){te=Array(se);for(var Se=0;Se<se;Se++)te[Se]=arguments[Se+2];ne.children=te}return{$$typeof:e,type:A.type,key:le,ref:ce,props:ne,_owner:oe}},Ae.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},Ae.createElement=z,Ae.createFactory=function(A){var W=z.bind(null,A);return W.type=A,W},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(A){return{$$typeof:c,render:A}},Ae.isValidElement=Y,Ae.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:L}},Ae.memo=function(A,W){return{$$typeof:h,type:A,compare:W===void 0?null:W}},Ae.startTransition=function(A){var W=D.transition;D.transition={};try{A()}finally{D.transition=W}},Ae.unstable_act=B,Ae.useCallback=function(A,W){return U.current.useCallback(A,W)},Ae.useContext=function(A){return U.current.useContext(A)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(A){return U.current.useDeferredValue(A)},Ae.useEffect=function(A,W){return U.current.useEffect(A,W)},Ae.useId=function(){return U.current.useId()},Ae.useImperativeHandle=function(A,W,ae){return U.current.useImperativeHandle(A,W,ae)},Ae.useInsertionEffect=function(A,W){return U.current.useInsertionEffect(A,W)},Ae.useLayoutEffect=function(A,W){return U.current.useLayoutEffect(A,W)},Ae.useMemo=function(A,W){return U.current.useMemo(A,W)},Ae.useReducer=function(A,W,ae){return U.current.useReducer(A,W,ae)},Ae.useRef=function(A){return U.current.useRef(A)},Ae.useState=function(A){return U.current.useState(A)},Ae.useSyncExternalStore=function(A,W,ae){return U.current.useSyncExternalStore(A,W,ae)},Ae.useTransition=function(){return U.current.useTransition()},Ae.version="18.3.1",Ae}var Rg;function Is(){return Rg||(Rg=1,_f.exports=CC()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function kC(){if(Ag)return es;Ag=1;var e=Is(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,h){var p,m={},g=null,v=null;h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(v=f.ref);for(p in f)o.call(f,p)&&!a.hasOwnProperty(p)&&(m[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)m[p]===void 0&&(m[p]=f[p]);return{$$typeof:t,type:c,key:g,ref:v,props:m,_owner:s.current}}return es.Fragment=n,es.jsx=u,es.jsxs=u,es}var Dg;function bC(){return Dg||(Dg=1,Tf.exports=kC()),Tf.exports}var k=bC(),N=Is();const th=eh(N);var dl={},Rf={exports:{}},jt={},Af={exports:{}},Df={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function NC(){return Mg||(Mg=1,function(e){function t(D,O){var B=D.length;D.push(O);e:for(;0<B;){var A=B-1>>>1,W=D[A];if(0<s(W,O))D[A]=O,D[B]=W,B=A;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var O=D[0],B=D.pop();if(B!==O){D[0]=B;e:for(var A=0,W=D.length,ae=W>>>1;A<ae;){var ne=2*(A+1)-1,le=D[ne],ce=ne+1,oe=D[ce];if(0>s(le,B))ce<W&&0>s(oe,le)?(D[A]=oe,D[ce]=B,A=ce):(D[A]=le,D[ne]=B,A=ne);else if(ce<W&&0>s(oe,B))D[A]=oe,D[ce]=B,A=ce;else break e}}return O}function s(D,O){var B=D.sortIndex-O.sortIndex;return B!==0?B:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var f=[],h=[],p=1,m=null,g=3,v=!1,w=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var O=n(h);O!==null;){if(O.callback===null)o(h);else if(O.startTime<=D)o(h),O.sortIndex=O.expirationTime,t(f,O);else break;O=n(h)}}function _(D){if(S=!1,b(D),!w)if(n(f)!==null)w=!0,L(M);else{var O=n(h);O!==null&&U(_,O.startTime-D)}}function M(D,O){w=!1,S&&(S=!1,C(z),z=-1),v=!0;var B=g;try{for(b(O),m=n(f);m!==null&&(!(m.expirationTime>O)||D&&!ee());){var A=m.callback;if(typeof A=="function"){m.callback=null,g=m.priorityLevel;var W=A(m.expirationTime<=O);O=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(f)&&o(f),b(O)}else o(f);m=n(f)}if(m!==null)var ae=!0;else{var ne=n(h);ne!==null&&U(_,ne.startTime-O),ae=!1}return ae}finally{m=null,g=B,v=!1}}var $=!1,I=null,z=-1,K=5,Y=-1;function ee(){return!(e.unstable_now()-Y<K)}function q(){if(I!==null){var D=e.unstable_now();Y=D;var O=!0;try{O=I(!0,D)}finally{O?J():($=!1,I=null)}}else $=!1}var J;if(typeof T=="function")J=function(){T(q)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=q,J=function(){V.postMessage(null)}}else J=function(){E(q,0)};function L(D){I=D,$||($=!0,J())}function U(D,O){z=E(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,L(M))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var B=g;g=O;try{return D()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=g;g=D;try{return O()}finally{g=B}},e.unstable_scheduleCallback=function(D,O,B){var A=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?A+B:A):B=A,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=B+W,D={id:p++,callback:O,priorityLevel:D,startTime:B,expirationTime:W,sortIndex:-1},B>A?(D.sortIndex=B,t(h,D),n(f)===null&&D===n(h)&&(S?(C(z),z=-1):S=!0,U(_,B-A))):(D.sortIndex=W,t(f,D),w||v||(w=!0,L(M))),D},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(D){var O=g;return function(){var B=g;g=O;try{return D.apply(this,arguments)}finally{g=B}}}}(Df)),Df}var jg;function PC(){return jg||(jg=1,Af.exports=NC()),Af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function TC(){if(Lg)return jt;Lg=1;var e=Is(),t=PC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function a(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(r){return f.call(m,r)?!0:f.call(p,r)?!1:h.test(r)?m[r]=!0:(p[r]=!0,!1)}function v(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,i,l,d){if(i===null||typeof i>"u"||v(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,l,d,y,x,P){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=x,this.removeEmptyString=P}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];E[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,T);E[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,T);E[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,T);E[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,i,l,d){var y=E.hasOwnProperty(i)?E[i]:null;(y!==null?y.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,l,y,d)&&(l=null),d||y===null?g(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):y.mustUseProperty?r[y.propertyName]=l===null?y.type===3?!1:"":l:(i=y.attributeName,d=y.attributeNamespace,l===null?r.removeAttribute(i):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),$=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),D=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var B=Object.assign,A;function W(r){if(A===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+r}var ae=!1;function ne(r,i){if(!r||ae)return"";ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(r,[],i)}else{try{i.call()}catch(Q){d=Q}r.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var y=Q.stack.split(`
`),x=d.stack.split(`
`),P=y.length-1,j=x.length-1;1<=P&&0<=j&&y[P]!==x[j];)j--;for(;1<=P&&0<=j;P--,j--)if(y[P]!==x[j]){if(P!==1||j!==1)do if(P--,j--,0>j||y[P]!==x[j]){var F=`
`+y[P].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=P&&0<=j);break}}}finally{ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function le(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=ne(r.type,!1),r;case 11:return r=ne(r.type.render,!1),r;case 1:return r=ne(r.type,!0),r;default:return""}}function ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case $:return"Portal";case K:return"Profiler";case z:return"StrictMode";case J:return"Suspense";case R:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ee:return(r.displayName||"Context")+".Consumer";case Y:return(r._context.displayName||"Context")+".Provider";case q:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return i=r.displayName||null,i!==null?i:ce(r.type)||"Memo";case L:i=r._payload,r=r._init;try{return ce(r(i))}catch{}}return null}function oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Se(r){var i=se(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return y.call(this)},set:function(P){d=""+P,x.call(this,P)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ke(r){r._valueTracker||(r._valueTracker=Se(r))}function he(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=se(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function Re(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ie(r,i){var l=i.checked;return B({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ye(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=te(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function dt(r,i){i=i.checked,i!=null&&b(r,"checked",i,!1)}function we(r,i){dt(r,i);var l=te(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Pe(r,i.type,l):i.hasOwnProperty("defaultValue")&&Pe(r,i.type,te(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function de(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Pe(r,i,l){(i!=="number"||Re(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ne=Array.isArray;function Me(r,i,l,d){if(r=r.options,i){i={};for(var y=0;y<l.length;y++)i["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=i.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&d&&(r[l].defaultSelected=!0)}else{for(l=""+te(l),i=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}i!==null||r[y].disabled||(i=r[y])}i!==null&&(i.selected=!0)}}function Oe(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function je(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ne(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:te(l)}}function ht(r,i){var l=te(i.value),d=te(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Pt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xn(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var li,ui=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,y){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,y)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=li.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function _r(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(r){ju.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Rr[i]=Rr[r]})});function Gs(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Rr.hasOwnProperty(r)&&Rr[r]?(""+i).trim():i+"px"}function Qs(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,y=Gs(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,y):r[l]=y}}var Lu=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(r,i){if(i){if(Lu[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function fo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function po(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mo=null,qn=null,Gn=null;function Zs(r){if(r=Vo(r)){if(typeof mo!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Pa(i),mo(r.stateNode,r.type,i))}}function go(r){qn?Gn?Gn.push(r):Gn=[r]:qn=r}function Js(){if(qn){var r=qn,i=Gn;if(Gn=qn=null,Zs(r),i)for(r=0;r<i.length;r++)Zs(i[r])}}function ea(r,i){return r(i)}function ta(){}var yo=!1;function na(r,i,l){if(yo)return r(i,l);yo=!0;try{return ea(r,i,l)}finally{yo=!1,(qn!==null||Gn!==null)&&(ta(),Js())}}function Ar(r,i){var l=r.stateNode;if(l===null)return null;var d=Pa(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var vo=!1;if(c)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){vo=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{vo=!1}function Iu(r,i,l,d,y,x,P,j,F){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(ie){this.onError(ie)}}var Mr=!1,ci=null,fi=!1,xo=null,$u={onError:function(r){Mr=!0,ci=r}};function Ou(r,i,l,d,y,x,P,j,F){Mr=!1,ci=null,Iu.apply($u,arguments)}function ra(r,i,l,d,y,x,P,j,F){if(Ou.apply(this,arguments),Mr){if(Mr){var Q=ci;Mr=!1,ci=null}else throw Error(n(198));fi||(fi=!0,xo=Q)}}function gn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function ia(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function oa(r){if(gn(r)!==r)throw Error(n(188))}function Vu(r){var i=r.alternate;if(!i){if(i=gn(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,d=i;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return oa(y),r;if(x===d)return oa(y),i;x=x.sibling}throw Error(n(188))}if(l.return!==d.return)l=y,d=x;else{for(var P=!1,j=y.child;j;){if(j===l){P=!0,l=y,d=x;break}if(j===d){P=!0,d=y,l=x;break}j=j.sibling}if(!P){for(j=x.child;j;){if(j===l){P=!0,l=x,d=y;break}if(j===d){P=!0,d=x,l=y;break}j=j.sibling}if(!P)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function sa(r){return r=Vu(r),r!==null?aa(r):null}function aa(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=aa(r);if(i!==null)return i;r=r.sibling}return null}var la=t.unstable_scheduleCallback,ua=t.unstable_cancelCallback,ca=t.unstable_shouldYield,Fu=t.unstable_requestPaint,Xe=t.unstable_now,zu=t.unstable_getCurrentPriorityLevel,wo=t.unstable_ImmediatePriority,fa=t.unstable_UserBlockingPriority,di=t.unstable_NormalPriority,Bu=t.unstable_LowPriority,So=t.unstable_IdlePriority,hi=null,Kt=null;function Uu(r){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(hi,r,void 0,(r.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Ku,Hu=Math.log,Wu=Math.LN2;function Ku(r){return r>>>=0,r===0?32:31-(Hu(r)/Wu|0)|0}var Tn=64,pi=4194304;function jr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qn(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,y=r.suspendedLanes,x=r.pingedLanes,P=l&268435455;if(P!==0){var j=P&~y;j!==0?d=jr(j):(x&=P,x!==0&&(d=jr(x)))}else P=l&~y,P!==0?d=jr(P):x!==0&&(d=jr(x));if(d===0)return 0;if(i!==0&&i!==d&&(i&y)===0&&(y=d&-d,x=i&-i,y>=x||y===16&&(x&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-$t(i),y=1<<l,d|=r[l],i&=~y;return d}function Yu(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes;0<x;){var P=31-$t(x),j=1<<P,F=y[P];F===-1?((j&l)===0||(j&d)!==0)&&(y[P]=Yu(j,i)):F<=i&&(r.expiredLanes|=j),x&=~j}}function mi(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function sp(){var r=Tn;return Tn<<=1,(Tn&4194240)===0&&(Tn=64),r}function qu(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Eo(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-$t(i),r[i]=l}function WS(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var y=31-$t(l),x=1<<y;i[y]=0,d[y]=-1,r[y]=-1,l&=~x}}function Gu(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-$t(l),y=1<<d;y&i|r[d]&i&&(r[d]|=i),l&=~y}}var Ve=0;function ap(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var lp,Qu,up,cp,fp,Zu=!1,da=[],Zn=null,Jn=null,er=null,Co=new Map,ko=new Map,tr=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dp(r,i){switch(r){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Co.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(i.pointerId)}}function bo(r,i,l,d,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},i!==null&&(i=Vo(i),i!==null&&Qu(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),r)}function YS(r,i,l,d,y){switch(i){case"focusin":return Zn=bo(Zn,r,i,l,d,y),!0;case"dragenter":return Jn=bo(Jn,r,i,l,d,y),!0;case"mouseover":return er=bo(er,r,i,l,d,y),!0;case"pointerover":var x=y.pointerId;return Co.set(x,bo(Co.get(x)||null,r,i,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,ko.set(x,bo(ko.get(x)||null,r,i,l,d,y)),!0}return!1}function hp(r){var i=Lr(r.target);if(i!==null){var l=gn(i);if(l!==null){if(i=l.tag,i===13){if(i=ia(l),i!==null){r.blockedOn=i,fp(r.priority,function(){up(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ha(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=ec(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ho=d,l.target.dispatchEvent(d),ho=null}else return i=Vo(l),i!==null&&Qu(i),r.blockedOn=l,!1;i.shift()}return!0}function pp(r,i,l){ha(r)&&l.delete(i)}function XS(){Zu=!1,Zn!==null&&ha(Zn)&&(Zn=null),Jn!==null&&ha(Jn)&&(Jn=null),er!==null&&ha(er)&&(er=null),Co.forEach(pp),ko.forEach(pp)}function No(r,i){r.blockedOn===i&&(r.blockedOn=null,Zu||(Zu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XS)))}function Po(r){function i(y){return No(y,r)}if(0<da.length){No(da[0],r);for(var l=1;l<da.length;l++){var d=da[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Zn!==null&&No(Zn,r),Jn!==null&&No(Jn,r),er!==null&&No(er,r),Co.forEach(i),ko.forEach(i),l=0;l<tr.length;l++)d=tr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)hp(l),l.blockedOn===null&&tr.shift()}var gi=_.ReactCurrentBatchConfig,pa=!0;function qS(r,i,l,d){var y=Ve,x=gi.transition;gi.transition=null;try{Ve=1,Ju(r,i,l,d)}finally{Ve=y,gi.transition=x}}function GS(r,i,l,d){var y=Ve,x=gi.transition;gi.transition=null;try{Ve=4,Ju(r,i,l,d)}finally{Ve=y,gi.transition=x}}function Ju(r,i,l,d){if(pa){var y=ec(r,i,l,d);if(y===null)yc(r,i,d,ma,l),dp(r,d);else if(YS(y,r,i,l,d))d.stopPropagation();else if(dp(r,d),i&4&&-1<KS.indexOf(r)){for(;y!==null;){var x=Vo(y);if(x!==null&&lp(x),x=ec(r,i,l,d),x===null&&yc(r,i,d,ma,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else yc(r,i,d,null,l)}}var ma=null;function ec(r,i,l,d){if(ma=null,r=po(d),r=Lr(r),r!==null)if(i=gn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=ia(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ma=r,null}function mp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zu()){case wo:return 1;case fa:return 4;case di:case Bu:return 16;case So:return 536870912;default:return 16}default:return 16}}var nr=null,tc=null,ga=null;function gp(){if(ga)return ga;var r,i=tc,l=i.length,d,y="value"in nr?nr.value:nr.textContent,x=y.length;for(r=0;r<l&&i[r]===y[r];r++);var P=l-r;for(d=1;d<=P&&i[l-d]===y[x-d];d++);return ga=y.slice(r,1<d?1-d:void 0)}function ya(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function va(){return!0}function yp(){return!1}function Ot(r){function i(l,d,y,x,P){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=P,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(l=r[j],this[j]=l?l(x):x[j]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?va:yp,this.isPropagationStopped=yp,this}return B(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),i}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Ot(yi),To=B({},yi,{view:0,detail:0}),QS=Ot(To),rc,ic,_o,xa=B({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_o&&(_o&&r.type==="mousemove"?(rc=r.screenX-_o.screenX,ic=r.screenY-_o.screenY):ic=rc=0,_o=r),rc)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),vp=Ot(xa),ZS=B({},xa,{dataTransfer:0}),JS=Ot(ZS),eE=B({},To,{relatedTarget:0}),oc=Ot(eE),tE=B({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),nE=Ot(tE),rE=B({},yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iE=Ot(rE),oE=B({},yi,{data:0}),xp=Ot(oE),sE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lE[r])?!!i[r]:!1}function sc(){return uE}var cE=B({},To,{key:function(r){if(r.key){var i=sE[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ya(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?aE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(r){return r.type==="keypress"?ya(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ya(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fE=Ot(cE),dE=B({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=Ot(dE),hE=B({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),pE=Ot(hE),mE=B({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=Ot(mE),yE=B({},xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=Ot(yE),xE=[9,13,27,32],ac=c&&"CompositionEvent"in window,Ro=null;c&&"documentMode"in document&&(Ro=document.documentMode);var wE=c&&"TextEvent"in window&&!Ro,Sp=c&&(!ac||Ro&&8<Ro&&11>=Ro),Ep=" ",Cp=!1;function kp(r,i){switch(r){case"keyup":return xE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vi=!1;function SE(r,i){switch(r){case"compositionend":return bp(i);case"keypress":return i.which!==32?null:(Cp=!0,Ep);case"textInput":return r=i.data,r===Ep&&Cp?null:r;default:return null}}function EE(r,i){if(vi)return r==="compositionend"||!ac&&kp(r,i)?(r=gp(),ga=tc=nr=null,vi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sp&&i.locale!=="ko"?null:i.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!CE[r.type]:i==="textarea"}function Pp(r,i,l,d){go(d),i=ka(i,"onChange"),0<i.length&&(l=new nc("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var Ao=null,Do=null;function kE(r){Wp(r,0)}function wa(r){var i=Ci(r);if(he(i))return r}function bE(r,i){if(r==="change")return i}var Tp=!1;if(c){var lc;if(c){var uc="oninput"in document;if(!uc){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),uc=typeof _p.oninput=="function"}lc=uc}else lc=!1;Tp=lc&&(!document.documentMode||9<document.documentMode)}function Rp(){Ao&&(Ao.detachEvent("onpropertychange",Ap),Do=Ao=null)}function Ap(r){if(r.propertyName==="value"&&wa(Do)){var i=[];Pp(i,Do,r,po(r)),na(kE,i)}}function NE(r,i,l){r==="focusin"?(Rp(),Ao=i,Do=l,Ao.attachEvent("onpropertychange",Ap)):r==="focusout"&&Rp()}function PE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wa(Do)}function TE(r,i){if(r==="click")return wa(i)}function _E(r,i){if(r==="input"||r==="change")return wa(i)}function RE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tn=typeof Object.is=="function"?Object.is:RE;function Mo(r,i){if(tn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!f.call(i,y)||!tn(r[y],i[y]))return!1}return!0}function Dp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mp(r,i){var l=Dp(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dp(l)}}function jp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?jp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Lp(){for(var r=window,i=Re();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Re(r.document)}return i}function cc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function AE(r){var i=Lp(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&jp(l.ownerDocument.documentElement,l)){if(d!==null&&cc(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var y=l.textContent.length,x=Math.min(d.start,y);d=d.end===void 0?x:Math.min(d.end,y),!r.extend&&x>d&&(y=d,d=x,x=y),y=Mp(l,x);var P=Mp(l,d);y&&P&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==P.node||r.focusOffset!==P.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),r.removeAllRanges(),x>d?(r.addRange(i),r.extend(P.node,P.offset)):(i.setEnd(P.node,P.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var DE=c&&"documentMode"in document&&11>=document.documentMode,xi=null,fc=null,jo=null,dc=!1;function Ip(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dc||xi==null||xi!==Re(d)||(d=xi,"selectionStart"in d&&cc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jo&&Mo(jo,d)||(jo=d,d=ka(fc,"onSelect"),0<d.length&&(i=new nc("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=xi)))}function Sa(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var wi={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},hc={},$p={};c&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Ea(r){if(hc[r])return hc[r];if(!wi[r])return r;var i=wi[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in $p)return hc[r]=i[l];return r}var Op=Ea("animationend"),Vp=Ea("animationiteration"),Fp=Ea("animationstart"),zp=Ea("transitionend"),Bp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(r,i){Bp.set(r,i),a(i,[r])}for(var pc=0;pc<Up.length;pc++){var mc=Up[pc],ME=mc.toLowerCase(),jE=mc[0].toUpperCase()+mc.slice(1);rr(ME,"on"+jE)}rr(Op,"onAnimationEnd"),rr(Vp,"onAnimationIteration"),rr(Fp,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(zp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Hp(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,ra(d,i,void 0,r),r.currentTarget=null}function Wp(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],y=d.event;d=d.listeners;e:{var x=void 0;if(i)for(var P=d.length-1;0<=P;P--){var j=d[P],F=j.instance,Q=j.currentTarget;if(j=j.listener,F!==x&&y.isPropagationStopped())break e;Hp(y,j,Q),x=F}else for(P=0;P<d.length;P++){if(j=d[P],F=j.instance,Q=j.currentTarget,j=j.listener,F!==x&&y.isPropagationStopped())break e;Hp(y,j,Q),x=F}}}if(fi)throw r=xo,fi=!1,xo=null,r}function Be(r,i){var l=i[Cc];l===void 0&&(l=i[Cc]=new Set);var d=r+"__bubble";l.has(d)||(Kp(i,r,2,!1),l.add(d))}function gc(r,i,l){var d=0;i&&(d|=4),Kp(l,r,d,i)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Io(r){if(!r[Ca]){r[Ca]=!0,o.forEach(function(l){l!=="selectionchange"&&(LE.has(l)||gc(l,!1,r),gc(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ca]||(i[Ca]=!0,gc("selectionchange",!1,i))}}function Kp(r,i,l,d){switch(mp(i)){case 1:var y=qS;break;case 4:y=GS;break;default:y=Ju}l=y.bind(null,i,l,r),y=void 0,!vo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(i,l,{capture:!0,passive:y}):r.addEventListener(i,l,!0):y!==void 0?r.addEventListener(i,l,{passive:y}):r.addEventListener(i,l,!1)}function yc(r,i,l,d,y){var x=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var P=d.tag;if(P===3||P===4){var j=d.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(P===4)for(P=d.return;P!==null;){var F=P.tag;if((F===3||F===4)&&(F=P.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;P=P.return}for(;j!==null;){if(P=Lr(j),P===null)return;if(F=P.tag,F===5||F===6){d=x=P;continue e}j=j.parentNode}}d=d.return}na(function(){var Q=x,ie=po(l),ue=[];e:{var re=Bp.get(r);if(re!==void 0){var pe=nc,ge=r;switch(r){case"keypress":if(ya(l)===0)break e;case"keydown":case"keyup":pe=fE;break;case"focusin":ge="focus",pe=oc;break;case"focusout":ge="blur",pe=oc;break;case"beforeblur":case"afterblur":pe=oc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=JS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=pE;break;case Op:case Vp:case Fp:pe=nE;break;case zp:pe=gE;break;case"scroll":pe=QS;break;case"wheel":pe=vE;break;case"copy":case"cut":case"paste":pe=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=wp}var ve=(i&4)!==0,nt=!ve&&r==="scroll",X=ve?re!==null?re+"Capture":null:re;ve=[];for(var H=Q,G;H!==null;){G=H;var fe=G.stateNode;if(G.tag===5&&fe!==null&&(G=fe,X!==null&&(fe=Ar(H,X),fe!=null&&ve.push($o(H,fe,G)))),nt)break;H=H.return}0<ve.length&&(re=new pe(re,ge,null,l,ie),ue.push({event:re,listeners:ve}))}}if((i&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",re&&l!==ho&&(ge=l.relatedTarget||l.fromElement)&&(Lr(ge)||ge[_n]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ge=l.relatedTarget||l.toElement,pe=Q,ge=ge?Lr(ge):null,ge!==null&&(nt=gn(ge),ge!==nt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(pe=null,ge=Q),pe!==ge)){if(ve=vp,fe="onMouseLeave",X="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(ve=wp,fe="onPointerLeave",X="onPointerEnter",H="pointer"),nt=pe==null?re:Ci(pe),G=ge==null?re:Ci(ge),re=new ve(fe,H+"leave",pe,l,ie),re.target=nt,re.relatedTarget=G,fe=null,Lr(ie)===Q&&(ve=new ve(X,H+"enter",ge,l,ie),ve.target=G,ve.relatedTarget=nt,fe=ve),nt=fe,pe&&ge)t:{for(ve=pe,X=ge,H=0,G=ve;G;G=Si(G))H++;for(G=0,fe=X;fe;fe=Si(fe))G++;for(;0<H-G;)ve=Si(ve),H--;for(;0<G-H;)X=Si(X),G--;for(;H--;){if(ve===X||X!==null&&ve===X.alternate)break t;ve=Si(ve),X=Si(X)}ve=null}else ve=null;pe!==null&&Yp(ue,re,pe,ve,!1),ge!==null&&nt!==null&&Yp(ue,nt,ge,ve,!0)}}e:{if(re=Q?Ci(Q):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var xe=bE;else if(Np(re))if(Tp)xe=_E;else{xe=PE;var Ee=NE}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(xe=TE);if(xe&&(xe=xe(r,Q))){Pp(ue,xe,l,ie);break e}Ee&&Ee(r,re,Q),r==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&Pe(re,"number",re.value)}switch(Ee=Q?Ci(Q):window,r){case"focusin":(Np(Ee)||Ee.contentEditable==="true")&&(xi=Ee,fc=Q,jo=null);break;case"focusout":jo=fc=xi=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Ip(ue,l,ie);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":Ip(ue,l,ie)}var Ce;if(ac)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else vi?kp(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Sp&&l.locale!=="ko"&&(vi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&vi&&(Ce=gp()):(nr=ie,tc="value"in nr?nr.value:nr.textContent,vi=!0)),Ee=ka(Q,Te),0<Ee.length&&(Te=new xp(Te,r,null,l,ie),ue.push({event:Te,listeners:Ee}),Ce?Te.data=Ce:(Ce=bp(l),Ce!==null&&(Te.data=Ce)))),(Ce=wE?SE(r,l):EE(r,l))&&(Q=ka(Q,"onBeforeInput"),0<Q.length&&(ie=new xp("onBeforeInput","beforeinput",null,l,ie),ue.push({event:ie,listeners:Q}),ie.data=Ce))}Wp(ue,i)})}function $o(r,i,l){return{instance:r,listener:i,currentTarget:l}}function ka(r,i){for(var l=i+"Capture",d=[];r!==null;){var y=r,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Ar(r,l),x!=null&&d.unshift($o(r,x,y)),x=Ar(r,i),x!=null&&d.push($o(r,x,y))),r=r.return}return d}function Si(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yp(r,i,l,d,y){for(var x=i._reactName,P=[];l!==null&&l!==d;){var j=l,F=j.alternate,Q=j.stateNode;if(F!==null&&F===d)break;j.tag===5&&Q!==null&&(j=Q,y?(F=Ar(l,x),F!=null&&P.unshift($o(l,F,j))):y||(F=Ar(l,x),F!=null&&P.push($o(l,F,j)))),l=l.return}P.length!==0&&r.push({event:i,listeners:P})}var IE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Xp(r){return(typeof r=="string"?r:""+r).replace(IE,`
`).replace($E,"")}function ba(r,i,l){if(i=Xp(i),Xp(r)!==i&&l)throw Error(n(425))}function Na(){}var vc=null,xc=null;function wc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,VE=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(r){return qp.resolve(null).then(r).catch(FE)}:Sc;function FE(r){setTimeout(function(){throw r})}function Ec(r,i){var l=i,d=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(d===0){r.removeChild(y),Po(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=y}while(l);Po(i)}function ir(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Gp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),yn="__reactFiber$"+Ei,Oo="__reactProps$"+Ei,_n="__reactContainer$"+Ei,Cc="__reactEvents$"+Ei,zE="__reactListeners$"+Ei,BE="__reactHandles$"+Ei;function Lr(r){var i=r[yn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[_n]||l[yn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Gp(r);r!==null;){if(l=r[yn])return l;r=Gp(r)}return i}r=l,l=r.parentNode}return null}function Vo(r){return r=r[yn]||r[_n],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ci(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Pa(r){return r[Oo]||null}var kc=[],ki=-1;function or(r){return{current:r}}function Ue(r){0>ki||(r.current=kc[ki],kc[ki]=null,ki--)}function Fe(r,i){ki++,kc[ki]=r.current,r.current=i}var sr={},yt=or(sr),_t=or(!1),Ir=sr;function bi(r,i){var l=r.type.contextTypes;if(!l)return sr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in l)y[x]=i[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=y),y}function Rt(r){return r=r.childContextTypes,r!=null}function Ta(){Ue(_t),Ue(yt)}function Qp(r,i,l){if(yt.current!==sr)throw Error(n(168));Fe(yt,i),Fe(_t,l)}function Zp(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var y in d)if(!(y in i))throw Error(n(108,oe(r)||"Unknown",y));return B({},l,d)}function _a(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,Ir=yt.current,Fe(yt,r),Fe(_t,_t.current),!0}function Jp(r,i,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Zp(r,i,Ir),d.__reactInternalMemoizedMergedChildContext=r,Ue(_t),Ue(yt),Fe(yt,r)):Ue(_t),Fe(_t,l)}var Rn=null,Ra=!1,bc=!1;function em(r){Rn===null?Rn=[r]:Rn.push(r)}function UE(r){Ra=!0,em(r)}function ar(){if(!bc&&Rn!==null){bc=!0;var r=0,i=Ve;try{var l=Rn;for(Ve=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Rn=null,Ra=!1}catch(y){throw Rn!==null&&(Rn=Rn.slice(r+1)),la(wo,ar),y}finally{Ve=i,bc=!1}}return null}var Ni=[],Pi=0,Aa=null,Da=0,Yt=[],Xt=0,$r=null,An=1,Dn="";function Or(r,i){Ni[Pi++]=Da,Ni[Pi++]=Aa,Aa=r,Da=i}function tm(r,i,l){Yt[Xt++]=An,Yt[Xt++]=Dn,Yt[Xt++]=$r,$r=r;var d=An;r=Dn;var y=32-$t(d)-1;d&=~(1<<y),l+=1;var x=32-$t(i)+y;if(30<x){var P=y-y%5;x=(d&(1<<P)-1).toString(32),d>>=P,y-=P,An=1<<32-$t(i)+y|l<<y|d,Dn=x+r}else An=1<<x|l<<y|d,Dn=r}function Nc(r){r.return!==null&&(Or(r,1),tm(r,1,0))}function Pc(r){for(;r===Aa;)Aa=Ni[--Pi],Ni[Pi]=null,Da=Ni[--Pi],Ni[Pi]=null;for(;r===$r;)$r=Yt[--Xt],Yt[Xt]=null,Dn=Yt[--Xt],Yt[Xt]=null,An=Yt[--Xt],Yt[Xt]=null}var Vt=null,Ft=null,Ke=!1,nn=null;function nm(r,i){var l=Zt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function rm(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Vt=r,Ft=ir(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Vt=r,Ft=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=$r!==null?{id:An,overflow:Dn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Zt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Vt=r,Ft=null,!0):!1;default:return!1}}function Tc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _c(r){if(Ke){var i=Ft;if(i){var l=i;if(!rm(r,i)){if(Tc(r))throw Error(n(418));i=ir(l.nextSibling);var d=Vt;i&&rm(r,i)?nm(d,l):(r.flags=r.flags&-4097|2,Ke=!1,Vt=r)}}else{if(Tc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ke=!1,Vt=r}}}function im(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vt=r}function Ma(r){if(r!==Vt)return!1;if(!Ke)return im(r),Ke=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!wc(r.type,r.memoizedProps)),i&&(i=Ft)){if(Tc(r))throw om(),Error(n(418));for(;i;)nm(r,i),i=ir(i.nextSibling)}if(im(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Ft=ir(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Ft=null}}else Ft=Vt?ir(r.stateNode.nextSibling):null;return!0}function om(){for(var r=Ft;r;)r=ir(r.nextSibling)}function Ti(){Ft=Vt=null,Ke=!1}function Rc(r){nn===null?nn=[r]:nn.push(r)}var HE=_.ReactCurrentBatchConfig;function Fo(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var y=d,x=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(P){var j=y.refs;P===null?delete j[x]:j[x]=P},i._stringRef=x,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function ja(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function sm(r){var i=r._init;return i(r._payload)}function am(r){function i(X,H){if(r){var G=X.deletions;G===null?(X.deletions=[H],X.flags|=16):G.push(H)}}function l(X,H){if(!r)return null;for(;H!==null;)i(X,H),H=H.sibling;return null}function d(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function y(X,H){return X=mr(X,H),X.index=0,X.sibling=null,X}function x(X,H,G){return X.index=G,r?(G=X.alternate,G!==null?(G=G.index,G<H?(X.flags|=2,H):G):(X.flags|=2,H)):(X.flags|=1048576,H)}function P(X){return r&&X.alternate===null&&(X.flags|=2),X}function j(X,H,G,fe){return H===null||H.tag!==6?(H=Ef(G,X.mode,fe),H.return=X,H):(H=y(H,G),H.return=X,H)}function F(X,H,G,fe){var xe=G.type;return xe===I?ie(X,H,G.props.children,fe,G.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&sm(xe)===H.type)?(fe=y(H,G.props),fe.ref=Fo(X,H,G),fe.return=X,fe):(fe=il(G.type,G.key,G.props,null,X.mode,fe),fe.ref=Fo(X,H,G),fe.return=X,fe)}function Q(X,H,G,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=Cf(G,X.mode,fe),H.return=X,H):(H=y(H,G.children||[]),H.return=X,H)}function ie(X,H,G,fe,xe){return H===null||H.tag!==7?(H=Kr(G,X.mode,fe,xe),H.return=X,H):(H=y(H,G),H.return=X,H)}function ue(X,H,G){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Ef(""+H,X.mode,G),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return G=il(H.type,H.key,H.props,null,X.mode,G),G.ref=Fo(X,null,H),G.return=X,G;case $:return H=Cf(H,X.mode,G),H.return=X,H;case L:var fe=H._init;return ue(X,fe(H._payload),G)}if(Ne(H)||O(H))return H=Kr(H,X.mode,G,null),H.return=X,H;ja(X,H)}return null}function re(X,H,G,fe){var xe=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:j(X,H,""+G,fe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return G.key===xe?F(X,H,G,fe):null;case $:return G.key===xe?Q(X,H,G,fe):null;case L:return xe=G._init,re(X,H,xe(G._payload),fe)}if(Ne(G)||O(G))return xe!==null?null:ie(X,H,G,fe,null);ja(X,G)}return null}function pe(X,H,G,fe,xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(G)||null,j(H,X,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return X=X.get(fe.key===null?G:fe.key)||null,F(H,X,fe,xe);case $:return X=X.get(fe.key===null?G:fe.key)||null,Q(H,X,fe,xe);case L:var Ee=fe._init;return pe(X,H,G,Ee(fe._payload),xe)}if(Ne(fe)||O(fe))return X=X.get(G)||null,ie(H,X,fe,xe,null);ja(H,fe)}return null}function ge(X,H,G,fe){for(var xe=null,Ee=null,Ce=H,Te=H=0,ct=null;Ce!==null&&Te<G.length;Te++){Ce.index>Te?(ct=Ce,Ce=null):ct=Ce.sibling;var $e=re(X,Ce,G[Te],fe);if($e===null){Ce===null&&(Ce=ct);break}r&&Ce&&$e.alternate===null&&i(X,Ce),H=x($e,H,Te),Ee===null?xe=$e:Ee.sibling=$e,Ee=$e,Ce=ct}if(Te===G.length)return l(X,Ce),Ke&&Or(X,Te),xe;if(Ce===null){for(;Te<G.length;Te++)Ce=ue(X,G[Te],fe),Ce!==null&&(H=x(Ce,H,Te),Ee===null?xe=Ce:Ee.sibling=Ce,Ee=Ce);return Ke&&Or(X,Te),xe}for(Ce=d(X,Ce);Te<G.length;Te++)ct=pe(Ce,X,Te,G[Te],fe),ct!==null&&(r&&ct.alternate!==null&&Ce.delete(ct.key===null?Te:ct.key),H=x(ct,H,Te),Ee===null?xe=ct:Ee.sibling=ct,Ee=ct);return r&&Ce.forEach(function(gr){return i(X,gr)}),Ke&&Or(X,Te),xe}function ve(X,H,G,fe){var xe=O(G);if(typeof xe!="function")throw Error(n(150));if(G=xe.call(G),G==null)throw Error(n(151));for(var Ee=xe=null,Ce=H,Te=H=0,ct=null,$e=G.next();Ce!==null&&!$e.done;Te++,$e=G.next()){Ce.index>Te?(ct=Ce,Ce=null):ct=Ce.sibling;var gr=re(X,Ce,$e.value,fe);if(gr===null){Ce===null&&(Ce=ct);break}r&&Ce&&gr.alternate===null&&i(X,Ce),H=x(gr,H,Te),Ee===null?xe=gr:Ee.sibling=gr,Ee=gr,Ce=ct}if($e.done)return l(X,Ce),Ke&&Or(X,Te),xe;if(Ce===null){for(;!$e.done;Te++,$e=G.next())$e=ue(X,$e.value,fe),$e!==null&&(H=x($e,H,Te),Ee===null?xe=$e:Ee.sibling=$e,Ee=$e);return Ke&&Or(X,Te),xe}for(Ce=d(X,Ce);!$e.done;Te++,$e=G.next())$e=pe(Ce,X,Te,$e.value,fe),$e!==null&&(r&&$e.alternate!==null&&Ce.delete($e.key===null?Te:$e.key),H=x($e,H,Te),Ee===null?xe=$e:Ee.sibling=$e,Ee=$e);return r&&Ce.forEach(function(EC){return i(X,EC)}),Ke&&Or(X,Te),xe}function nt(X,H,G,fe){if(typeof G=="object"&&G!==null&&G.type===I&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case M:e:{for(var xe=G.key,Ee=H;Ee!==null;){if(Ee.key===xe){if(xe=G.type,xe===I){if(Ee.tag===7){l(X,Ee.sibling),H=y(Ee,G.props.children),H.return=X,X=H;break e}}else if(Ee.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&sm(xe)===Ee.type){l(X,Ee.sibling),H=y(Ee,G.props),H.ref=Fo(X,Ee,G),H.return=X,X=H;break e}l(X,Ee);break}else i(X,Ee);Ee=Ee.sibling}G.type===I?(H=Kr(G.props.children,X.mode,fe,G.key),H.return=X,X=H):(fe=il(G.type,G.key,G.props,null,X.mode,fe),fe.ref=Fo(X,H,G),fe.return=X,X=fe)}return P(X);case $:e:{for(Ee=G.key;H!==null;){if(H.key===Ee)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){l(X,H.sibling),H=y(H,G.children||[]),H.return=X,X=H;break e}else{l(X,H);break}else i(X,H);H=H.sibling}H=Cf(G,X.mode,fe),H.return=X,X=H}return P(X);case L:return Ee=G._init,nt(X,H,Ee(G._payload),fe)}if(Ne(G))return ge(X,H,G,fe);if(O(G))return ve(X,H,G,fe);ja(X,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,H!==null&&H.tag===6?(l(X,H.sibling),H=y(H,G),H.return=X,X=H):(l(X,H),H=Ef(G,X.mode,fe),H.return=X,X=H),P(X)):l(X,H)}return nt}var _i=am(!0),lm=am(!1),La=or(null),Ia=null,Ri=null,Ac=null;function Dc(){Ac=Ri=Ia=null}function Mc(r){var i=La.current;Ue(La),r._currentValue=i}function jc(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function Ai(r,i){Ia=r,Ac=Ri=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(At=!0),r.firstContext=null)}function qt(r){var i=r._currentValue;if(Ac!==r)if(r={context:r,memoizedValue:i,next:null},Ri===null){if(Ia===null)throw Error(n(308));Ri=r,Ia.dependencies={lanes:0,firstContext:r}}else Ri=Ri.next=r;return i}var Vr=null;function Lc(r){Vr===null?Vr=[r]:Vr.push(r)}function um(r,i,l,d){var y=i.interleaved;return y===null?(l.next=l,Lc(i)):(l.next=y.next,y.next=l),i.interleaved=l,Mn(r,d)}function Mn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var lr=!1;function Ic(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function jn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ur(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var y=d.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),d.pending=i,Mn(r,l)}return y=d.interleaved,y===null?(i.next=i,Lc(d)):(i.next=y.next,y.next=i),d.interleaved=i,Mn(r,l)}function $a(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Gu(r,l)}}function fm(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?y=x=P:x=x.next=P,l=l.next}while(l!==null);x===null?y=x=i:x=x.next=i}else y=x=i;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Oa(r,i,l,d){var y=r.updateQueue;lr=!1;var x=y.firstBaseUpdate,P=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var F=j,Q=F.next;F.next=null,P===null?x=Q:P.next=Q,P=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==P&&(j===null?ie.firstBaseUpdate=Q:j.next=Q,ie.lastBaseUpdate=F))}if(x!==null){var ue=y.baseState;P=0,ie=Q=F=null,j=x;do{var re=j.lane,pe=j.eventTime;if((d&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ge=r,ve=j;switch(re=i,pe=l,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){ue=ge.call(pe,ue,re);break e}ue=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,re=typeof ge=="function"?ge.call(pe,ue,re):ge,re==null)break e;ue=B({},ue,re);break e;case 2:lr=!0}}j.callback!==null&&j.lane!==0&&(r.flags|=64,re=y.effects,re===null?y.effects=[j]:re.push(j))}else pe={eventTime:pe,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(Q=ie=pe,F=ue):ie=ie.next=pe,P|=re;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;re=j,j=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(ie===null&&(F=ue),y.baseState=F,y.firstBaseUpdate=Q,y.lastBaseUpdate=ie,i=y.shared.interleaved,i!==null){y=i;do P|=y.lane,y=y.next;while(y!==i)}else x===null&&(y.shared.lanes=0);Br|=P,r.lanes=P,r.memoizedState=ue}}function dm(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],y=d.callback;if(y!==null){if(d.callback=null,d=l,typeof y!="function")throw Error(n(191,y));y.call(d)}}}var zo={},vn=or(zo),Bo=or(zo),Uo=or(zo);function Fr(r){if(r===zo)throw Error(n(174));return r}function $c(r,i){switch(Fe(Uo,i),Fe(Bo,r),Fe(vn,zo),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Xn(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Xn(i,r)}Ue(vn),Fe(vn,i)}function Di(){Ue(vn),Ue(Bo),Ue(Uo)}function hm(r){Fr(Uo.current);var i=Fr(vn.current),l=Xn(i,r.type);i!==l&&(Fe(Bo,r),Fe(vn,l))}function Oc(r){Bo.current===r&&(Ue(vn),Ue(Bo))}var qe=or(0);function Va(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vc=[];function Fc(){for(var r=0;r<Vc.length;r++)Vc[r]._workInProgressVersionPrimary=null;Vc.length=0}var Fa=_.ReactCurrentDispatcher,zc=_.ReactCurrentBatchConfig,zr=0,Ge=null,st=null,lt=null,za=!1,Ho=!1,Wo=0,WE=0;function vt(){throw Error(n(321))}function Bc(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!tn(r[l],i[l]))return!1;return!0}function Uc(r,i,l,d,y,x){if(zr=x,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fa.current=r===null||r.memoizedState===null?qE:GE,r=l(d,y),Ho){x=0;do{if(Ho=!1,Wo=0,25<=x)throw Error(n(301));x+=1,lt=st=null,i.updateQueue=null,Fa.current=QE,r=l(d,y)}while(Ho)}if(Fa.current=Ha,i=st!==null&&st.next!==null,zr=0,lt=st=Ge=null,za=!1,i)throw Error(n(300));return r}function Hc(){var r=Wo!==0;return Wo=0,r}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ge.memoizedState=lt=r:lt=lt.next=r,lt}function Gt(){if(st===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var i=lt===null?Ge.memoizedState:lt.next;if(i!==null)lt=i,st=r;else{if(r===null)throw Error(n(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?Ge.memoizedState=lt=r:lt=lt.next=r}return lt}function Ko(r,i){return typeof i=="function"?i(r):i}function Wc(r){var i=Gt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=st,y=d.baseQueue,x=l.pending;if(x!==null){if(y!==null){var P=y.next;y.next=x.next,x.next=P}d.baseQueue=y=x,l.pending=null}if(y!==null){x=y.next,d=d.baseState;var j=P=null,F=null,Q=x;do{var ie=Q.lane;if((zr&ie)===ie)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var ue={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(j=F=ue,P=d):F=F.next=ue,Ge.lanes|=ie,Br|=ie}Q=Q.next}while(Q!==null&&Q!==x);F===null?P=d:F.next=j,tn(d,i.memoizedState)||(At=!0),i.memoizedState=d,i.baseState=P,i.baseQueue=F,l.lastRenderedState=d}if(r=l.interleaved,r!==null){y=r;do x=y.lane,Ge.lanes|=x,Br|=x,y=y.next;while(y!==r)}else y===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Kc(r){var i=Gt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,y=l.pending,x=i.memoizedState;if(y!==null){l.pending=null;var P=y=y.next;do x=r(x,P.action),P=P.next;while(P!==y);tn(x,i.memoizedState)||(At=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),l.lastRenderedState=x}return[x,d]}function pm(){}function mm(r,i){var l=Ge,d=Gt(),y=i(),x=!tn(d.memoizedState,y);if(x&&(d.memoizedState=y,At=!0),d=d.queue,Yc(vm.bind(null,l,d,r),[r]),d.getSnapshot!==i||x||lt!==null&&lt.memoizedState.tag&1){if(l.flags|=2048,Yo(9,ym.bind(null,l,d,y,i),void 0,null),ut===null)throw Error(n(349));(zr&30)!==0||gm(l,i,y)}return y}function gm(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function ym(r,i,l,d){i.value=l,i.getSnapshot=d,xm(i)&&wm(r)}function vm(r,i,l){return l(function(){xm(i)&&wm(r)})}function xm(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!tn(r,l)}catch{return!0}}function wm(r){var i=Mn(r,1);i!==null&&an(i,r,1,-1)}function Sm(r){var i=xn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:r},i.queue=r,r=r.dispatch=XE.bind(null,Ge,r),[i.memoizedState,r]}function Yo(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function Em(){return Gt().memoizedState}function Ba(r,i,l,d){var y=xn();Ge.flags|=r,y.memoizedState=Yo(1|i,l,void 0,d===void 0?null:d)}function Ua(r,i,l,d){var y=Gt();d=d===void 0?null:d;var x=void 0;if(st!==null){var P=st.memoizedState;if(x=P.destroy,d!==null&&Bc(d,P.deps)){y.memoizedState=Yo(i,l,x,d);return}}Ge.flags|=r,y.memoizedState=Yo(1|i,l,x,d)}function Cm(r,i){return Ba(8390656,8,r,i)}function Yc(r,i){return Ua(2048,8,r,i)}function km(r,i){return Ua(4,2,r,i)}function bm(r,i){return Ua(4,4,r,i)}function Nm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Pm(r,i,l){return l=l!=null?l.concat([r]):null,Ua(4,4,Nm.bind(null,i,r),l)}function Xc(){}function Tm(r,i){var l=Gt();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Bc(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function _m(r,i){var l=Gt();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Bc(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function Rm(r,i,l){return(zr&21)===0?(r.baseState&&(r.baseState=!1,At=!0),r.memoizedState=l):(tn(l,i)||(l=sp(),Ge.lanes|=l,Br|=l,r.baseState=!0),i)}function KE(r,i){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var d=zc.transition;zc.transition={};try{r(!1),i()}finally{Ve=l,zc.transition=d}}function Am(){return Gt().memoizedState}function YE(r,i,l){var d=hr(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Dm(r))Mm(i,l);else if(l=um(r,i,l,d),l!==null){var y=bt();an(l,r,d,y),jm(l,i,d)}}function XE(r,i,l){var d=hr(r),y={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dm(r))Mm(i,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var P=i.lastRenderedState,j=x(P,l);if(y.hasEagerState=!0,y.eagerState=j,tn(j,P)){var F=i.interleaved;F===null?(y.next=y,Lc(i)):(y.next=F.next,F.next=y),i.interleaved=y;return}}catch{}finally{}l=um(r,i,y,d),l!==null&&(y=bt(),an(l,r,d,y),jm(l,i,d))}}function Dm(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function Mm(r,i){Ho=za=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function jm(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Gu(r,l)}}var Ha={readContext:qt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},qE={readContext:qt,useCallback:function(r,i){return xn().memoizedState=[r,i===void 0?null:i],r},useContext:qt,useEffect:Cm,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Ba(4194308,4,Nm.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Ba(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ba(4,2,r,i)},useMemo:function(r,i){var l=xn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=xn();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=YE.bind(null,Ge,r),[d.memoizedState,r]},useRef:function(r){var i=xn();return r={current:r},i.memoizedState=r},useState:Sm,useDebugValue:Xc,useDeferredValue:function(r){return xn().memoizedState=r},useTransition:function(){var r=Sm(!1),i=r[0];return r=KE.bind(null,r[1]),xn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=Ge,y=xn();if(Ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ut===null)throw Error(n(349));(zr&30)!==0||gm(d,i,l)}y.memoizedState=l;var x={value:l,getSnapshot:i};return y.queue=x,Cm(vm.bind(null,d,x,r),[r]),d.flags|=2048,Yo(9,ym.bind(null,d,x,l,i),void 0,null),l},useId:function(){var r=xn(),i=ut.identifierPrefix;if(Ke){var l=Dn,d=An;l=(d&~(1<<32-$t(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Wo++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=WE++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},GE={readContext:qt,useCallback:Tm,useContext:qt,useEffect:Yc,useImperativeHandle:Pm,useInsertionEffect:km,useLayoutEffect:bm,useMemo:_m,useReducer:Wc,useRef:Em,useState:function(){return Wc(Ko)},useDebugValue:Xc,useDeferredValue:function(r){var i=Gt();return Rm(i,st.memoizedState,r)},useTransition:function(){var r=Wc(Ko)[0],i=Gt().memoizedState;return[r,i]},useMutableSource:pm,useSyncExternalStore:mm,useId:Am,unstable_isNewReconciler:!1},QE={readContext:qt,useCallback:Tm,useContext:qt,useEffect:Yc,useImperativeHandle:Pm,useInsertionEffect:km,useLayoutEffect:bm,useMemo:_m,useReducer:Kc,useRef:Em,useState:function(){return Kc(Ko)},useDebugValue:Xc,useDeferredValue:function(r){var i=Gt();return st===null?i.memoizedState=r:Rm(i,st.memoizedState,r)},useTransition:function(){var r=Kc(Ko)[0],i=Gt().memoizedState;return[r,i]},useMutableSource:pm,useSyncExternalStore:mm,useId:Am,unstable_isNewReconciler:!1};function rn(r,i){if(r&&r.defaultProps){i=B({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function qc(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:B({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Wa={isMounted:function(r){return(r=r._reactInternals)?gn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=bt(),y=hr(r),x=jn(d,y);x.payload=i,l!=null&&(x.callback=l),i=ur(r,x,y),i!==null&&(an(i,r,y,d),$a(i,r,y))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=bt(),y=hr(r),x=jn(d,y);x.tag=1,x.payload=i,l!=null&&(x.callback=l),i=ur(r,x,y),i!==null&&(an(i,r,y,d),$a(i,r,y))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=bt(),d=hr(r),y=jn(l,d);y.tag=2,i!=null&&(y.callback=i),i=ur(r,y,d),i!==null&&(an(i,r,d,l),$a(i,r,d))}};function Lm(r,i,l,d,y,x,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,P):i.prototype&&i.prototype.isPureReactComponent?!Mo(l,d)||!Mo(y,x):!0}function Im(r,i,l){var d=!1,y=sr,x=i.contextType;return typeof x=="object"&&x!==null?x=qt(x):(y=Rt(i)?Ir:yt.current,d=i.contextTypes,x=(d=d!=null)?bi(r,y):sr),i=new i(l,x),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Wa,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=x),i}function $m(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&Wa.enqueueReplaceState(i,i.state,null)}function Gc(r,i,l,d){var y=r.stateNode;y.props=l,y.state=r.memoizedState,y.refs={},Ic(r);var x=i.contextType;typeof x=="object"&&x!==null?y.context=qt(x):(x=Rt(i)?Ir:yt.current,y.context=bi(r,x)),y.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(qc(r,i,x,l),y.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&Wa.enqueueReplaceState(y,y.state,null),Oa(r,l,y,d),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Mi(r,i){try{var l="",d=i;do l+=le(d),d=d.return;while(d);var y=l}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:i,stack:y,digest:null}}function Qc(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Zc(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function Om(r,i,l){l=jn(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Za||(Za=!0,pf=d),Zc(r,i)},l}function Vm(r,i,l){l=jn(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=i.value;l.payload=function(){return d(y)},l.callback=function(){Zc(r,i)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Zc(r,i),typeof d!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var P=i.stack;this.componentDidCatch(i.value,{componentStack:P!==null?P:""})}),l}function Fm(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new ZE;var y=new Set;d.set(i,y)}else y=d.get(i),y===void 0&&(y=new Set,d.set(i,y));y.has(l)||(y.add(l),r=dC.bind(null,r,i,l),i.then(r,r))}function zm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Bm(r,i,l,d,y){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=jn(-1,1),i.tag=2,ur(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var JE=_.ReactCurrentOwner,At=!1;function kt(r,i,l,d){i.child=r===null?lm(i,null,l,d):_i(i,r.child,l,d)}function Um(r,i,l,d,y){l=l.render;var x=i.ref;return Ai(i,y),d=Uc(r,i,l,d,x,y),l=Hc(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~y,Ln(r,i,y)):(Ke&&l&&Nc(i),i.flags|=1,kt(r,i,d,y),i.child)}function Hm(r,i,l,d,y){if(r===null){var x=l.type;return typeof x=="function"&&!Sf(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=x,Wm(r,i,x,d,y)):(r=il(l.type,null,d,i,i.mode,y),r.ref=i.ref,r.return=i,i.child=r)}if(x=r.child,(r.lanes&y)===0){var P=x.memoizedProps;if(l=l.compare,l=l!==null?l:Mo,l(P,d)&&r.ref===i.ref)return Ln(r,i,y)}return i.flags|=1,r=mr(x,d),r.ref=i.ref,r.return=i,i.child=r}function Wm(r,i,l,d,y){if(r!==null){var x=r.memoizedProps;if(Mo(x,d)&&r.ref===i.ref)if(At=!1,i.pendingProps=d=x,(r.lanes&y)!==0)(r.flags&131072)!==0&&(At=!0);else return i.lanes=r.lanes,Ln(r,i,y)}return Jc(r,i,l,d,y)}function Km(r,i,l){var d=i.pendingProps,y=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Li,zt),zt|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Fe(Li,zt),zt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Fe(Li,zt),zt|=d}else x!==null?(d=x.baseLanes|l,i.memoizedState=null):d=l,Fe(Li,zt),zt|=d;return kt(r,i,y,l),i.child}function Ym(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Jc(r,i,l,d,y){var x=Rt(l)?Ir:yt.current;return x=bi(i,x),Ai(i,y),l=Uc(r,i,l,d,x,y),d=Hc(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~y,Ln(r,i,y)):(Ke&&d&&Nc(i),i.flags|=1,kt(r,i,l,y),i.child)}function Xm(r,i,l,d,y){if(Rt(l)){var x=!0;_a(i)}else x=!1;if(Ai(i,y),i.stateNode===null)Ya(r,i),Im(i,l,d),Gc(i,l,d,y),d=!0;else if(r===null){var P=i.stateNode,j=i.memoizedProps;P.props=j;var F=P.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=qt(Q):(Q=Rt(l)?Ir:yt.current,Q=bi(i,Q));var ie=l.getDerivedStateFromProps,ue=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";ue||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(j!==d||F!==Q)&&$m(i,P,d,Q),lr=!1;var re=i.memoizedState;P.state=re,Oa(i,d,P,y),F=i.memoizedState,j!==d||re!==F||_t.current||lr?(typeof ie=="function"&&(qc(i,l,ie,d),F=i.memoizedState),(j=lr||Lm(i,l,j,d,re,F,Q))?(ue||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(i.flags|=4194308)):(typeof P.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=F),P.props=d,P.state=F,P.context=Q,d=j):(typeof P.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{P=i.stateNode,cm(r,i),j=i.memoizedProps,Q=i.type===i.elementType?j:rn(i.type,j),P.props=Q,ue=i.pendingProps,re=P.context,F=l.contextType,typeof F=="object"&&F!==null?F=qt(F):(F=Rt(l)?Ir:yt.current,F=bi(i,F));var pe=l.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(j!==ue||re!==F)&&$m(i,P,d,F),lr=!1,re=i.memoizedState,P.state=re,Oa(i,d,P,y);var ge=i.memoizedState;j!==ue||re!==ge||_t.current||lr?(typeof pe=="function"&&(qc(i,l,pe,d),ge=i.memoizedState),(Q=lr||Lm(i,l,Q,d,re,ge,F)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(d,ge,F),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(d,ge,F)),typeof P.componentDidUpdate=="function"&&(i.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof P.componentDidUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(i.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ge),P.props=d,P.state=ge,P.context=F,d=Q):(typeof P.componentDidUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(i.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&re===r.memoizedState||(i.flags|=1024),d=!1)}return ef(r,i,l,d,x,y)}function ef(r,i,l,d,y,x){Ym(r,i);var P=(i.flags&128)!==0;if(!d&&!P)return y&&Jp(i,l,!1),Ln(r,i,x);d=i.stateNode,JE.current=i;var j=P&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&P?(i.child=_i(i,r.child,null,x),i.child=_i(i,null,j,x)):kt(r,i,j,x),i.memoizedState=d.state,y&&Jp(i,l,!0),i.child}function qm(r){var i=r.stateNode;i.pendingContext?Qp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Qp(r,i.context,!1),$c(r,i.containerInfo)}function Gm(r,i,l,d,y){return Ti(),Rc(y),i.flags|=256,kt(r,i,l,d),i.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qm(r,i,l){var d=i.pendingProps,y=qe.current,x=!1,P=(i.flags&128)!==0,j;if((j=P)||(j=r!==null&&r.memoizedState===null?!1:(y&2)!==0),j?(x=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),Fe(qe,y&1),r===null)return _c(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(P=d.children,r=d.fallback,x?(d=i.mode,x=i.child,P={mode:"hidden",children:P},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=P):x=ol(P,d,0,null),r=Kr(r,d,l,null),x.return=i,r.return=i,x.sibling=r,i.child=x,i.child.memoizedState=nf(l),i.memoizedState=tf,r):rf(i,P));if(y=r.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return eC(r,i,P,d,j,y,l);if(x){x=d.fallback,P=i.mode,y=r.child,j=y.sibling;var F={mode:"hidden",children:d.children};return(P&1)===0&&i.child!==y?(d=i.child,d.childLanes=0,d.pendingProps=F,i.deletions=null):(d=mr(y,F),d.subtreeFlags=y.subtreeFlags&14680064),j!==null?x=mr(j,x):(x=Kr(x,P,l,null),x.flags|=2),x.return=i,d.return=i,d.sibling=x,i.child=d,d=x,x=i.child,P=r.child.memoizedState,P=P===null?nf(l):{baseLanes:P.baseLanes|l,cachePool:null,transitions:P.transitions},x.memoizedState=P,x.childLanes=r.childLanes&~l,i.memoizedState=tf,d}return x=r.child,r=x.sibling,d=mr(x,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function rf(r,i){return i=ol({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ka(r,i,l,d){return d!==null&&Rc(d),_i(i,r.child,null,l),r=rf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function eC(r,i,l,d,y,x,P){if(l)return i.flags&256?(i.flags&=-257,d=Qc(Error(n(422))),Ka(r,i,P,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(x=d.fallback,y=i.mode,d=ol({mode:"visible",children:d.children},y,0,null),x=Kr(x,y,P,null),x.flags|=2,d.return=i,x.return=i,d.sibling=x,i.child=d,(i.mode&1)!==0&&_i(i,r.child,null,P),i.child.memoizedState=nf(P),i.memoizedState=tf,x);if((i.mode&1)===0)return Ka(r,i,P,null);if(y.data==="$!"){if(d=y.nextSibling&&y.nextSibling.dataset,d)var j=d.dgst;return d=j,x=Error(n(419)),d=Qc(x,d,void 0),Ka(r,i,P,d)}if(j=(P&r.childLanes)!==0,At||j){if(d=ut,d!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(d.suspendedLanes|P))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Mn(r,y),an(d,r,y,-1))}return wf(),d=Qc(Error(n(421))),Ka(r,i,P,d)}return y.data==="$?"?(i.flags|=128,i.child=r.child,i=hC.bind(null,r),y._reactRetry=i,null):(r=x.treeContext,Ft=ir(y.nextSibling),Vt=i,Ke=!0,nn=null,r!==null&&(Yt[Xt++]=An,Yt[Xt++]=Dn,Yt[Xt++]=$r,An=r.id,Dn=r.overflow,$r=i),i=rf(i,d.children),i.flags|=4096,i)}function Zm(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),jc(r.return,i,l)}function of(r,i,l,d,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=y)}function Jm(r,i,l){var d=i.pendingProps,y=d.revealOrder,x=d.tail;if(kt(r,i,d.children,l),d=qe.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zm(r,l,i);else if(r.tag===19)Zm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Fe(qe,d),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(l=i.child,y=null;l!==null;)r=l.alternate,r!==null&&Va(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=i.child,i.child=null):(y=l.sibling,l.sibling=null),of(i,!1,y,l,x);break;case"backwards":for(l=null,y=i.child,i.child=null;y!==null;){if(r=y.alternate,r!==null&&Va(r)===null){i.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}of(i,!0,l,null,x);break;case"together":of(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ya(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ln(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Br|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=mr(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=mr(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function tC(r,i,l){switch(i.tag){case 3:qm(i),Ti();break;case 5:hm(i);break;case 1:Rt(i.type)&&_a(i);break;case 4:$c(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,y=i.memoizedProps.value;Fe(La,d._currentValue),d._currentValue=y;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Fe(qe,qe.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Qm(r,i,l):(Fe(qe,qe.current&1),r=Ln(r,i,l),r!==null?r.sibling:null);Fe(qe,qe.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return Jm(r,i,l);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Fe(qe,qe.current),d)break;return null;case 22:case 23:return i.lanes=0,Km(r,i,l)}return Ln(r,i,l)}var eg,sf,tg,ng;eg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sf=function(){},tg=function(r,i,l,d){var y=r.memoizedProps;if(y!==d){r=i.stateNode,Fr(vn.current);var x=null;switch(l){case"input":y=Ie(r,y),d=Ie(r,d),x=[];break;case"select":y=B({},y,{value:void 0}),d=B({},d,{value:void 0}),x=[];break;case"textarea":y=Oe(r,y),d=Oe(r,d),x=[];break;default:typeof y.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Na)}co(l,d);var P;l=null;for(Q in y)if(!d.hasOwnProperty(Q)&&y.hasOwnProperty(Q)&&y[Q]!=null)if(Q==="style"){var j=y[Q];for(P in j)j.hasOwnProperty(P)&&(l||(l={}),l[P]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?x||(x=[]):(x=x||[]).push(Q,null));for(Q in d){var F=d[Q];if(j=y!=null?y[Q]:void 0,d.hasOwnProperty(Q)&&F!==j&&(F!=null||j!=null))if(Q==="style")if(j){for(P in j)!j.hasOwnProperty(P)||F&&F.hasOwnProperty(P)||(l||(l={}),l[P]="");for(P in F)F.hasOwnProperty(P)&&j[P]!==F[P]&&(l||(l={}),l[P]=F[P])}else l||(x||(x=[]),x.push(Q,l)),l=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,j=j?j.__html:void 0,F!=null&&j!==F&&(x=x||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&Be("scroll",r),x||j===F||(x=[])):(x=x||[]).push(Q,F))}l&&(x=x||[]).push("style",l);var Q=x;(i.updateQueue=Q)&&(i.flags|=4)}},ng=function(r,i,l,d){l!==d&&(i.flags|=4)};function Xo(r,i){if(!Ke)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&14680064,d|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function nC(r,i,l){var d=i.pendingProps;switch(Pc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return Rt(i.type)&&Ta(),xt(i),null;case 3:return d=i.stateNode,Di(),Ue(_t),Ue(yt),Fc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Ma(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nn!==null&&(yf(nn),nn=null))),sf(r,i),xt(i),null;case 5:Oc(i);var y=Fr(Uo.current);if(l=i.type,r!==null&&i.stateNode!=null)tg(r,i,l,d,y),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return xt(i),null}if(r=Fr(vn.current),Ma(i)){d=i.stateNode,l=i.type;var x=i.memoizedProps;switch(d[yn]=i,d[Oo]=x,r=(i.mode&1)!==0,l){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(y=0;y<Lo.length;y++)Be(Lo[y],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":Ye(d,x),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Be("invalid",d);break;case"textarea":je(d,x),Be("invalid",d)}co(l,x),y=null;for(var P in x)if(x.hasOwnProperty(P)){var j=x[P];P==="children"?typeof j=="string"?d.textContent!==j&&(x.suppressHydrationWarning!==!0&&ba(d.textContent,j,r),y=["children",j]):typeof j=="number"&&d.textContent!==""+j&&(x.suppressHydrationWarning!==!0&&ba(d.textContent,j,r),y=["children",""+j]):s.hasOwnProperty(P)&&j!=null&&P==="onScroll"&&Be("scroll",d)}switch(l){case"input":ke(d),de(d,x,!0);break;case"textarea":ke(d),Pt(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Na)}d=y,i.updateQueue=d,d!==null&&(i.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=P.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=P.createElement(l,{is:d.is}):(r=P.createElement(l),l==="select"&&(P=r,d.multiple?P.multiple=!0:d.size&&(P.size=d.size))):r=P.createElementNS(r,l),r[yn]=i,r[Oo]=d,eg(r,i,!1,!1),i.stateNode=r;e:{switch(P=fo(l,d),l){case"dialog":Be("cancel",r),Be("close",r),y=d;break;case"iframe":case"object":case"embed":Be("load",r),y=d;break;case"video":case"audio":for(y=0;y<Lo.length;y++)Be(Lo[y],r);y=d;break;case"source":Be("error",r),y=d;break;case"img":case"image":case"link":Be("error",r),Be("load",r),y=d;break;case"details":Be("toggle",r),y=d;break;case"input":Ye(r,d),y=Ie(r,d),Be("invalid",r);break;case"option":y=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},y=B({},d,{value:void 0}),Be("invalid",r);break;case"textarea":je(r,d),y=Oe(r,d),Be("invalid",r);break;default:y=d}co(l,y),j=y;for(x in j)if(j.hasOwnProperty(x)){var F=j[x];x==="style"?Qs(r,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&ui(r,F)):x==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&_r(r,F):typeof F=="number"&&_r(r,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?F!=null&&x==="onScroll"&&Be("scroll",r):F!=null&&b(r,x,F,P))}switch(l){case"input":ke(r),de(r,d,!1);break;case"textarea":ke(r),Pt(r);break;case"option":d.value!=null&&r.setAttribute("value",""+te(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?Me(r,!!d.multiple,x,!1):d.defaultValue!=null&&Me(r,!!d.multiple,d.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Na)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return xt(i),null;case 6:if(r&&i.stateNode!=null)ng(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(l=Fr(Uo.current),Fr(vn.current),Ma(i)){if(d=i.stateNode,l=i.memoizedProps,d[yn]=i,(x=d.nodeValue!==l)&&(r=Vt,r!==null))switch(r.tag){case 3:ba(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ba(d.nodeValue,l,(r.mode&1)!==0)}x&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[yn]=i,i.stateNode=d}return xt(i),null;case 13:if(Ue(qe),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ke&&Ft!==null&&(i.mode&1)!==0&&(i.flags&128)===0)om(),Ti(),i.flags|=98560,x=!1;else if(x=Ma(i),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[yn]=i}else Ti(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),x=!1}else nn!==null&&(yf(nn),nn=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(qe.current&1)!==0?at===0&&(at=3):wf())),i.updateQueue!==null&&(i.flags|=4),xt(i),null);case 4:return Di(),sf(r,i),r===null&&Io(i.stateNode.containerInfo),xt(i),null;case 10:return Mc(i.type._context),xt(i),null;case 17:return Rt(i.type)&&Ta(),xt(i),null;case 19:if(Ue(qe),x=i.memoizedState,x===null)return xt(i),null;if(d=(i.flags&128)!==0,P=x.rendering,P===null)if(d)Xo(x,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(P=Va(r),P!==null){for(i.flags|=128,Xo(x,!1),d=P.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)x=l,r=d,x.flags&=14680066,P=x.alternate,P===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=P.childLanes,x.lanes=P.lanes,x.child=P.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=P.memoizedProps,x.memoizedState=P.memoizedState,x.updateQueue=P.updateQueue,x.type=P.type,r=P.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Fe(qe,qe.current&1|2),i.child}r=r.sibling}x.tail!==null&&Xe()>Ii&&(i.flags|=128,d=!0,Xo(x,!1),i.lanes=4194304)}else{if(!d)if(r=Va(P),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Xo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!P.alternate&&!Ke)return xt(i),null}else 2*Xe()-x.renderingStartTime>Ii&&l!==1073741824&&(i.flags|=128,d=!0,Xo(x,!1),i.lanes=4194304);x.isBackwards?(P.sibling=i.child,i.child=P):(l=x.last,l!==null?l.sibling=P:i.child=P,x.last=P)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Xe(),i.sibling=null,l=qe.current,Fe(qe,d?l&1|2:l&1),i):(xt(i),null);case 22:case 23:return xf(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(zt&1073741824)!==0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function rC(r,i){switch(Pc(i),i.tag){case 1:return Rt(i.type)&&Ta(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Di(),Ue(_t),Ue(yt),Fc(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Oc(i),null;case 13:if(Ue(qe),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ti()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ue(qe),null;case 4:return Di(),null;case 10:return Mc(i.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Xa=!1,wt=!1,iC=typeof WeakSet=="function"?WeakSet:Set,me=null;function ji(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){et(r,i,d)}else l.current=null}function af(r,i,l){try{l()}catch(d){et(r,i,d)}}var rg=!1;function oC(r,i){if(vc=pa,r=Lp(),cc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var P=0,j=-1,F=-1,Q=0,ie=0,ue=r,re=null;t:for(;;){for(var pe;ue!==l||y!==0&&ue.nodeType!==3||(j=P+y),ue!==x||d!==0&&ue.nodeType!==3||(F=P+d),ue.nodeType===3&&(P+=ue.nodeValue.length),(pe=ue.firstChild)!==null;)re=ue,ue=pe;for(;;){if(ue===r)break t;if(re===l&&++Q===y&&(j=P),re===x&&++ie===d&&(F=P),(pe=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=pe}l=j===-1||F===-1?null:{start:j,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(xc={focusedElem:r,selectionRange:l},pa=!1,me=i;me!==null;)if(i=me,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,me=r;else for(;me!==null;){i=me;try{var ge=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,nt=ge.memoizedState,X=i.stateNode,H=X.getSnapshotBeforeUpdate(i.elementType===i.type?ve:rn(i.type,ve),nt);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){et(i,i.return,fe)}if(r=i.sibling,r!==null){r.return=i.return,me=r;break}me=i.return}return ge=rg,rg=!1,ge}function qo(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&r)===r){var x=y.destroy;y.destroy=void 0,x!==void 0&&af(i,l,x)}y=y.next}while(y!==d)}}function qa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function lf(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function ig(r){var i=r.alternate;i!==null&&(r.alternate=null,ig(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[yn],delete i[Oo],delete i[Cc],delete i[zE],delete i[BE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function og(r){return r.tag===5||r.tag===3||r.tag===4}function sg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||og(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uf(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Na));else if(d!==4&&(r=r.child,r!==null))for(uf(r,i,l),r=r.sibling;r!==null;)uf(r,i,l),r=r.sibling}function cf(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(cf(r,i,l),r=r.sibling;r!==null;)cf(r,i,l),r=r.sibling}var pt=null,on=!1;function cr(r,i,l){for(l=l.child;l!==null;)ag(r,i,l),l=l.sibling}function ag(r,i,l){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 5:wt||ji(l,i);case 6:var d=pt,y=on;pt=null,cr(r,i,l),pt=d,on=y,pt!==null&&(on?(r=pt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):pt.removeChild(l.stateNode));break;case 18:pt!==null&&(on?(r=pt,l=l.stateNode,r.nodeType===8?Ec(r.parentNode,l):r.nodeType===1&&Ec(r,l),Po(r)):Ec(pt,l.stateNode));break;case 4:d=pt,y=on,pt=l.stateNode.containerInfo,on=!0,cr(r,i,l),pt=d,on=y;break;case 0:case 11:case 14:case 15:if(!wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){y=d=d.next;do{var x=y,P=x.destroy;x=x.tag,P!==void 0&&((x&2)!==0||(x&4)!==0)&&af(l,i,P),y=y.next}while(y!==d)}cr(r,i,l);break;case 1:if(!wt&&(ji(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(j){et(l,i,j)}cr(r,i,l);break;case 21:cr(r,i,l);break;case 22:l.mode&1?(wt=(d=wt)||l.memoizedState!==null,cr(r,i,l),wt=d):cr(r,i,l);break;default:cr(r,i,l)}}function lg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new iC),i.forEach(function(d){var y=pC.bind(null,r,d);l.has(d)||(l.add(d),d.then(y,y))})}}function sn(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];try{var x=r,P=i,j=P;e:for(;j!==null;){switch(j.tag){case 5:pt=j.stateNode,on=!1;break e;case 3:pt=j.stateNode.containerInfo,on=!0;break e;case 4:pt=j.stateNode.containerInfo,on=!0;break e}j=j.return}if(pt===null)throw Error(n(160));ag(x,P,y),pt=null,on=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(Q){et(y,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ug(i,r),i=i.sibling}function ug(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(sn(i,r),wn(r),d&4){try{qo(3,r,r.return),qa(3,r)}catch(ve){et(r,r.return,ve)}try{qo(5,r,r.return)}catch(ve){et(r,r.return,ve)}}break;case 1:sn(i,r),wn(r),d&512&&l!==null&&ji(l,l.return);break;case 5:if(sn(i,r),wn(r),d&512&&l!==null&&ji(l,l.return),r.flags&32){var y=r.stateNode;try{_r(y,"")}catch(ve){et(r,r.return,ve)}}if(d&4&&(y=r.stateNode,y!=null)){var x=r.memoizedProps,P=l!==null?l.memoizedProps:x,j=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{j==="input"&&x.type==="radio"&&x.name!=null&&dt(y,x),fo(j,P);var Q=fo(j,x);for(P=0;P<F.length;P+=2){var ie=F[P],ue=F[P+1];ie==="style"?Qs(y,ue):ie==="dangerouslySetInnerHTML"?ui(y,ue):ie==="children"?_r(y,ue):b(y,ie,ue,Q)}switch(j){case"input":we(y,x);break;case"textarea":ht(y,x);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var pe=x.value;pe!=null?Me(y,!!x.multiple,pe,!1):re!==!!x.multiple&&(x.defaultValue!=null?Me(y,!!x.multiple,x.defaultValue,!0):Me(y,!!x.multiple,x.multiple?[]:"",!1))}y[Oo]=x}catch(ve){et(r,r.return,ve)}}break;case 6:if(sn(i,r),wn(r),d&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,x=r.memoizedProps;try{y.nodeValue=x}catch(ve){et(r,r.return,ve)}}break;case 3:if(sn(i,r),wn(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(ve){et(r,r.return,ve)}break;case 4:sn(i,r),wn(r);break;case 13:sn(i,r),wn(r),y=r.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(hf=Xe())),d&4&&lg(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(wt=(Q=wt)||ie,sn(i,r),wt=Q):sn(i,r),wn(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ie&&(r.mode&1)!==0)for(me=r,ie=r.child;ie!==null;){for(ue=me=ie;me!==null;){switch(re=me,pe=re.child,re.tag){case 0:case 11:case 14:case 15:qo(4,re,re.return);break;case 1:ji(re,re.return);var ge=re.stateNode;if(typeof ge.componentWillUnmount=="function"){d=re,l=re.return;try{i=d,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(ve){et(d,l,ve)}}break;case 5:ji(re,re.return);break;case 22:if(re.memoizedState!==null){dg(ue);continue}}pe!==null?(pe.return=re,me=pe):dg(ue)}ie=ie.sibling}e:for(ie=null,ue=r;;){if(ue.tag===5){if(ie===null){ie=ue;try{y=ue.stateNode,Q?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(j=ue.stateNode,F=ue.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null,j.style.display=Gs("display",P))}catch(ve){et(r,r.return,ve)}}}else if(ue.tag===6){if(ie===null)try{ue.stateNode.nodeValue=Q?"":ue.memoizedProps}catch(ve){et(r,r.return,ve)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===r)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===r)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===r)break e;ie===ue&&(ie=null),ue=ue.return}ie===ue&&(ie=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:sn(i,r),wn(r),d&4&&lg(r);break;case 21:break;default:sn(i,r),wn(r)}}function wn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(og(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var y=d.stateNode;d.flags&32&&(_r(y,""),d.flags&=-33);var x=sg(r);cf(r,x,y);break;case 3:case 4:var P=d.stateNode.containerInfo,j=sg(r);uf(r,j,P);break;default:throw Error(n(161))}}catch(F){et(r,r.return,F)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function sC(r,i,l){me=r,cg(r)}function cg(r,i,l){for(var d=(r.mode&1)!==0;me!==null;){var y=me,x=y.child;if(y.tag===22&&d){var P=y.memoizedState!==null||Xa;if(!P){var j=y.alternate,F=j!==null&&j.memoizedState!==null||wt;j=Xa;var Q=wt;if(Xa=P,(wt=F)&&!Q)for(me=y;me!==null;)P=me,F=P.child,P.tag===22&&P.memoizedState!==null?hg(y):F!==null?(F.return=P,me=F):hg(y);for(;x!==null;)me=x,cg(x),x=x.sibling;me=y,Xa=j,wt=Q}fg(r)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,me=x):fg(r)}}function fg(r){for(;me!==null;){var i=me;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:wt||qa(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!wt)if(l===null)d.componentDidMount();else{var y=i.elementType===i.type?l.memoizedProps:rn(i.type,l.memoizedProps);d.componentDidUpdate(y,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&dm(i,x,d);break;case 3:var P=i.updateQueue;if(P!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}dm(i,P,l)}break;case 5:var j=i.stateNode;if(l===null&&i.flags&4){l=j;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var ue=ie.dehydrated;ue!==null&&Po(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wt||i.flags&512&&lf(i)}catch(re){et(i,i.return,re)}}if(i===r){me=null;break}if(l=i.sibling,l!==null){l.return=i.return,me=l;break}me=i.return}}function dg(r){for(;me!==null;){var i=me;if(i===r){me=null;break}var l=i.sibling;if(l!==null){l.return=i.return,me=l;break}me=i.return}}function hg(r){for(;me!==null;){var i=me;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{qa(4,i)}catch(F){et(i,l,F)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var y=i.return;try{d.componentDidMount()}catch(F){et(i,y,F)}}var x=i.return;try{lf(i)}catch(F){et(i,x,F)}break;case 5:var P=i.return;try{lf(i)}catch(F){et(i,P,F)}}}catch(F){et(i,i.return,F)}if(i===r){me=null;break}var j=i.sibling;if(j!==null){j.return=i.return,me=j;break}me=i.return}}var aC=Math.ceil,Ga=_.ReactCurrentDispatcher,ff=_.ReactCurrentOwner,Qt=_.ReactCurrentBatchConfig,Le=0,ut=null,ot=null,mt=0,zt=0,Li=or(0),at=0,Go=null,Br=0,Qa=0,df=0,Qo=null,Dt=null,hf=0,Ii=1/0,In=null,Za=!1,pf=null,fr=null,Ja=!1,dr=null,el=0,Zo=0,mf=null,tl=-1,nl=0;function bt(){return(Le&6)!==0?Xe():tl!==-1?tl:tl=Xe()}function hr(r){return(r.mode&1)===0?1:(Le&2)!==0&&mt!==0?mt&-mt:HE.transition!==null?(nl===0&&(nl=sp()),nl):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:mp(r.type)),r)}function an(r,i,l,d){if(50<Zo)throw Zo=0,mf=null,Error(n(185));Eo(r,l,d),((Le&2)===0||r!==ut)&&(r===ut&&((Le&2)===0&&(Qa|=l),at===4&&pr(r,mt)),Mt(r,d),l===1&&Le===0&&(i.mode&1)===0&&(Ii=Xe()+500,Ra&&ar()))}function Mt(r,i){var l=r.callbackNode;Xu(r,i);var d=Qn(r,r===ut?mt:0);if(d===0)l!==null&&ua(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&ua(l),i===1)r.tag===0?UE(mg.bind(null,r)):em(mg.bind(null,r)),VE(function(){(Le&6)===0&&ar()}),l=null;else{switch(ap(d)){case 1:l=wo;break;case 4:l=fa;break;case 16:l=di;break;case 536870912:l=So;break;default:l=di}l=Cg(l,pg.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function pg(r,i){if(tl=-1,nl=0,(Le&6)!==0)throw Error(n(327));var l=r.callbackNode;if($i()&&r.callbackNode!==l)return null;var d=Qn(r,r===ut?mt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=rl(r,d);else{i=d;var y=Le;Le|=2;var x=yg();(ut!==r||mt!==i)&&(In=null,Ii=Xe()+500,Hr(r,i));do try{cC();break}catch(j){gg(r,j)}while(!0);Dc(),Ga.current=x,Le=y,ot!==null?i=0:(ut=null,mt=0,i=at)}if(i!==0){if(i===2&&(y=mi(r),y!==0&&(d=y,i=gf(r,y))),i===1)throw l=Go,Hr(r,0),pr(r,d),Mt(r,Xe()),l;if(i===6)pr(r,d);else{if(y=r.current.alternate,(d&30)===0&&!lC(y)&&(i=rl(r,d),i===2&&(x=mi(r),x!==0&&(d=x,i=gf(r,x))),i===1))throw l=Go,Hr(r,0),pr(r,d),Mt(r,Xe()),l;switch(r.finishedWork=y,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Wr(r,Dt,In);break;case 3:if(pr(r,d),(d&130023424)===d&&(i=hf+500-Xe(),10<i)){if(Qn(r,0)!==0)break;if(y=r.suspendedLanes,(y&d)!==d){bt(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=Sc(Wr.bind(null,r,Dt,In),i);break}Wr(r,Dt,In);break;case 4:if(pr(r,d),(d&4194240)===d)break;for(i=r.eventTimes,y=-1;0<d;){var P=31-$t(d);x=1<<P,P=i[P],P>y&&(y=P),d&=~x}if(d=y,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*aC(d/1960))-d,10<d){r.timeoutHandle=Sc(Wr.bind(null,r,Dt,In),d);break}Wr(r,Dt,In);break;case 5:Wr(r,Dt,In);break;default:throw Error(n(329))}}}return Mt(r,Xe()),r.callbackNode===l?pg.bind(null,r):null}function gf(r,i){var l=Qo;return r.current.memoizedState.isDehydrated&&(Hr(r,i).flags|=256),r=rl(r,i),r!==2&&(i=Dt,Dt=l,i!==null&&yf(i)),r}function yf(r){Dt===null?Dt=r:Dt.push.apply(Dt,r)}function lC(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!tn(x(),y))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(r,i){for(i&=~df,i&=~Qa,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-$t(i),d=1<<l;r[l]=-1,i&=~d}}function mg(r){if((Le&6)!==0)throw Error(n(327));$i();var i=Qn(r,0);if((i&1)===0)return Mt(r,Xe()),null;var l=rl(r,i);if(r.tag!==0&&l===2){var d=mi(r);d!==0&&(i=d,l=gf(r,d))}if(l===1)throw l=Go,Hr(r,0),pr(r,i),Mt(r,Xe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Wr(r,Dt,In),Mt(r,Xe()),null}function vf(r,i){var l=Le;Le|=1;try{return r(i)}finally{Le=l,Le===0&&(Ii=Xe()+500,Ra&&ar())}}function Ur(r){dr!==null&&dr.tag===0&&(Le&6)===0&&$i();var i=Le;Le|=1;var l=Qt.transition,d=Ve;try{if(Qt.transition=null,Ve=1,r)return r()}finally{Ve=d,Qt.transition=l,Le=i,(Le&6)===0&&ar()}}function xf(){zt=Li.current,Ue(Li)}function Hr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,OE(l)),ot!==null)for(l=ot.return;l!==null;){var d=l;switch(Pc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ta();break;case 3:Di(),Ue(_t),Ue(yt),Fc();break;case 5:Oc(d);break;case 4:Di();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:Mc(d.type._context);break;case 22:case 23:xf()}l=l.return}if(ut=r,ot=r=mr(r.current,null),mt=zt=i,at=0,Go=null,df=Qa=Br=0,Dt=Qo=null,Vr!==null){for(i=0;i<Vr.length;i++)if(l=Vr[i],d=l.interleaved,d!==null){l.interleaved=null;var y=d.next,x=l.pending;if(x!==null){var P=x.next;x.next=y,d.next=P}l.pending=d}Vr=null}return r}function gg(r,i){do{var l=ot;try{if(Dc(),Fa.current=Ha,za){for(var d=Ge.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}za=!1}if(zr=0,lt=st=Ge=null,Ho=!1,Wo=0,ff.current=null,l===null||l.return===null){at=1,Go=i,ot=null;break}e:{var x=r,P=l.return,j=l,F=i;if(i=mt,j.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,ie=j,ue=ie.tag;if((ie.mode&1)===0&&(ue===0||ue===11||ue===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=zm(P);if(pe!==null){pe.flags&=-257,Bm(pe,P,j,x,i),pe.mode&1&&Fm(x,Q,i),i=pe,F=Q;var ge=i.updateQueue;if(ge===null){var ve=new Set;ve.add(F),i.updateQueue=ve}else ge.add(F);break e}else{if((i&1)===0){Fm(x,Q,i),wf();break e}F=Error(n(426))}}else if(Ke&&j.mode&1){var nt=zm(P);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),Bm(nt,P,j,x,i),Rc(Mi(F,j));break e}}x=F=Mi(F,j),at!==4&&(at=2),Qo===null?Qo=[x]:Qo.push(x),x=P;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var X=Om(x,F,i);fm(x,X);break e;case 1:j=F;var H=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(fr===null||!fr.has(G)))){x.flags|=65536,i&=-i,x.lanes|=i;var fe=Vm(x,j,i);fm(x,fe);break e}}x=x.return}while(x!==null)}xg(l)}catch(xe){i=xe,ot===l&&l!==null&&(ot=l=l.return);continue}break}while(!0)}function yg(){var r=Ga.current;return Ga.current=Ha,r===null?Ha:r}function wf(){(at===0||at===3||at===2)&&(at=4),ut===null||(Br&268435455)===0&&(Qa&268435455)===0||pr(ut,mt)}function rl(r,i){var l=Le;Le|=2;var d=yg();(ut!==r||mt!==i)&&(In=null,Hr(r,i));do try{uC();break}catch(y){gg(r,y)}while(!0);if(Dc(),Le=l,Ga.current=d,ot!==null)throw Error(n(261));return ut=null,mt=0,at}function uC(){for(;ot!==null;)vg(ot)}function cC(){for(;ot!==null&&!ca();)vg(ot)}function vg(r){var i=Eg(r.alternate,r,zt);r.memoizedProps=r.pendingProps,i===null?xg(r):ot=i,ff.current=null}function xg(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=nC(l,i,zt),l!==null){ot=l;return}}else{if(l=rC(l,i),l!==null){l.flags&=32767,ot=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{at=6,ot=null;return}}if(i=i.sibling,i!==null){ot=i;return}ot=i=r}while(i!==null);at===0&&(at=5)}function Wr(r,i,l){var d=Ve,y=Qt.transition;try{Qt.transition=null,Ve=1,fC(r,i,l,d)}finally{Qt.transition=y,Ve=d}return null}function fC(r,i,l,d){do $i();while(dr!==null);if((Le&6)!==0)throw Error(n(327));l=r.finishedWork;var y=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(WS(r,x),r===ut&&(ot=ut=null,mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ja||(Ja=!0,Cg(di,function(){return $i(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Qt.transition,Qt.transition=null;var P=Ve;Ve=1;var j=Le;Le|=4,ff.current=null,oC(r,l),ug(l,r),AE(xc),pa=!!vc,xc=vc=null,r.current=l,sC(l),Fu(),Le=j,Ve=P,Qt.transition=x}else r.current=l;if(Ja&&(Ja=!1,dr=r,el=y),x=r.pendingLanes,x===0&&(fr=null),Uu(l.stateNode),Mt(r,Xe()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)y=i[l],d(y.value,{componentStack:y.stack,digest:y.digest});if(Za)throw Za=!1,r=pf,pf=null,r;return(el&1)!==0&&r.tag!==0&&$i(),x=r.pendingLanes,(x&1)!==0?r===mf?Zo++:(Zo=0,mf=r):Zo=0,ar(),null}function $i(){if(dr!==null){var r=ap(el),i=Qt.transition,l=Ve;try{if(Qt.transition=null,Ve=16>r?16:r,dr===null)var d=!1;else{if(r=dr,dr=null,el=0,(Le&6)!==0)throw Error(n(331));var y=Le;for(Le|=4,me=r.current;me!==null;){var x=me,P=x.child;if((me.flags&16)!==0){var j=x.deletions;if(j!==null){for(var F=0;F<j.length;F++){var Q=j[F];for(me=Q;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:qo(8,ie,x)}var ue=ie.child;if(ue!==null)ue.return=ie,me=ue;else for(;me!==null;){ie=me;var re=ie.sibling,pe=ie.return;if(ig(ie),ie===Q){me=null;break}if(re!==null){re.return=pe,me=re;break}me=pe}}}var ge=x.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var nt=ve.sibling;ve.sibling=null,ve=nt}while(ve!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&P!==null)P.return=x,me=P;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:qo(9,x,x.return)}var X=x.sibling;if(X!==null){X.return=x.return,me=X;break e}me=x.return}}var H=r.current;for(me=H;me!==null;){P=me;var G=P.child;if((P.subtreeFlags&2064)!==0&&G!==null)G.return=P,me=G;else e:for(P=H;me!==null;){if(j=me,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:qa(9,j)}}catch(xe){et(j,j.return,xe)}if(j===P){me=null;break e}var fe=j.sibling;if(fe!==null){fe.return=j.return,me=fe;break e}me=j.return}}if(Le=y,ar(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(hi,r)}catch{}d=!0}return d}finally{Ve=l,Qt.transition=i}}return!1}function wg(r,i,l){i=Mi(l,i),i=Om(r,i,1),r=ur(r,i,1),i=bt(),r!==null&&(Eo(r,1,i),Mt(r,i))}function et(r,i,l){if(r.tag===3)wg(r,r,l);else for(;i!==null;){if(i.tag===3){wg(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fr===null||!fr.has(d))){r=Mi(l,r),r=Vm(i,r,1),i=ur(i,r,1),r=bt(),i!==null&&(Eo(i,1,r),Mt(i,r));break}}i=i.return}}function dC(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=bt(),r.pingedLanes|=r.suspendedLanes&l,ut===r&&(mt&l)===l&&(at===4||at===3&&(mt&130023424)===mt&&500>Xe()-hf?Hr(r,0):df|=l),Mt(r,i)}function Sg(r,i){i===0&&((r.mode&1)===0?i=1:(i=pi,pi<<=1,(pi&130023424)===0&&(pi=4194304)));var l=bt();r=Mn(r,i),r!==null&&(Eo(r,i,l),Mt(r,l))}function hC(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Sg(r,l)}function pC(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),Sg(r,l)}var Eg;Eg=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||_t.current)At=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return At=!1,tC(r,i,l);At=(r.flags&131072)!==0}else At=!1,Ke&&(i.flags&1048576)!==0&&tm(i,Da,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ya(r,i),r=i.pendingProps;var y=bi(i,yt.current);Ai(i,l),y=Uc(null,i,d,r,y,l);var x=Hc();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rt(d)?(x=!0,_a(i)):x=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ic(i),y.updater=Wa,i.stateNode=y,y._reactInternals=i,Gc(i,d,r,l),i=ef(null,i,d,!0,x,l)):(i.tag=0,Ke&&x&&Nc(i),kt(null,i,y,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Ya(r,i),r=i.pendingProps,y=d._init,d=y(d._payload),i.type=d,y=i.tag=gC(d),r=rn(d,r),y){case 0:i=Jc(null,i,d,r,l);break e;case 1:i=Xm(null,i,d,r,l);break e;case 11:i=Um(null,i,d,r,l);break e;case 14:i=Hm(null,i,d,rn(d.type,r),l);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,y=i.pendingProps,y=i.elementType===d?y:rn(d,y),Jc(r,i,d,y,l);case 1:return d=i.type,y=i.pendingProps,y=i.elementType===d?y:rn(d,y),Xm(r,i,d,y,l);case 3:e:{if(qm(i),r===null)throw Error(n(387));d=i.pendingProps,x=i.memoizedState,y=x.element,cm(r,i),Oa(i,d,null,l);var P=i.memoizedState;if(d=P.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){y=Mi(Error(n(423)),i),i=Gm(r,i,d,l,y);break e}else if(d!==y){y=Mi(Error(n(424)),i),i=Gm(r,i,d,l,y);break e}else for(Ft=ir(i.stateNode.containerInfo.firstChild),Vt=i,Ke=!0,nn=null,l=lm(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ti(),d===y){i=Ln(r,i,l);break e}kt(r,i,d,l)}i=i.child}return i;case 5:return hm(i),r===null&&_c(i),d=i.type,y=i.pendingProps,x=r!==null?r.memoizedProps:null,P=y.children,wc(d,y)?P=null:x!==null&&wc(d,x)&&(i.flags|=32),Ym(r,i),kt(r,i,P,l),i.child;case 6:return r===null&&_c(i),null;case 13:return Qm(r,i,l);case 4:return $c(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=_i(i,null,d,l):kt(r,i,d,l),i.child;case 11:return d=i.type,y=i.pendingProps,y=i.elementType===d?y:rn(d,y),Um(r,i,d,y,l);case 7:return kt(r,i,i.pendingProps,l),i.child;case 8:return kt(r,i,i.pendingProps.children,l),i.child;case 12:return kt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,y=i.pendingProps,x=i.memoizedProps,P=y.value,Fe(La,d._currentValue),d._currentValue=P,x!==null)if(tn(x.value,P)){if(x.children===y.children&&!_t.current){i=Ln(r,i,l);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var j=x.dependencies;if(j!==null){P=x.child;for(var F=j.firstContext;F!==null;){if(F.context===d){if(x.tag===1){F=jn(-1,l&-l),F.tag=2;var Q=x.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),Q.pending=F}}x.lanes|=l,F=x.alternate,F!==null&&(F.lanes|=l),jc(x.return,l,i),j.lanes|=l;break}F=F.next}}else if(x.tag===10)P=x.type===i.type?null:x.child;else if(x.tag===18){if(P=x.return,P===null)throw Error(n(341));P.lanes|=l,j=P.alternate,j!==null&&(j.lanes|=l),jc(P,l,i),P=x.sibling}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===i){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}kt(r,i,y.children,l),i=i.child}return i;case 9:return y=i.type,d=i.pendingProps.children,Ai(i,l),y=qt(y),d=d(y),i.flags|=1,kt(r,i,d,l),i.child;case 14:return d=i.type,y=rn(d,i.pendingProps),y=rn(d.type,y),Hm(r,i,d,y,l);case 15:return Wm(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,y=i.pendingProps,y=i.elementType===d?y:rn(d,y),Ya(r,i),i.tag=1,Rt(d)?(r=!0,_a(i)):r=!1,Ai(i,l),Im(i,d,y),Gc(i,d,y,l),ef(null,i,d,!0,r,l);case 19:return Jm(r,i,l);case 22:return Km(r,i,l)}throw Error(n(156,i.tag))};function Cg(r,i){return la(r,i)}function mC(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(r,i,l,d){return new mC(r,i,l,d)}function Sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gC(r){if(typeof r=="function")return Sf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===V)return 14}return 2}function mr(r,i){var l=r.alternate;return l===null?(l=Zt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function il(r,i,l,d,y,x){var P=2;if(d=r,typeof r=="function")Sf(r)&&(P=1);else if(typeof r=="string")P=5;else e:switch(r){case I:return Kr(l.children,y,x,i);case z:P=8,y|=8;break;case K:return r=Zt(12,l,i,y|2),r.elementType=K,r.lanes=x,r;case J:return r=Zt(13,l,i,y),r.elementType=J,r.lanes=x,r;case R:return r=Zt(19,l,i,y),r.elementType=R,r.lanes=x,r;case U:return ol(l,y,x,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:P=10;break e;case ee:P=9;break e;case q:P=11;break e;case V:P=14;break e;case L:P=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Zt(P,l,i,y),i.elementType=r,i.type=d,i.lanes=x,i}function Kr(r,i,l,d){return r=Zt(7,r,d,i),r.lanes=l,r}function ol(r,i,l,d){return r=Zt(22,r,d,i),r.elementType=U,r.lanes=l,r.stateNode={isHidden:!1},r}function Ef(r,i,l){return r=Zt(6,r,null,i),r.lanes=l,r}function Cf(r,i,l){return i=Zt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function yC(r,i,l,d,y){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qu(0),this.expirationTimes=qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qu(0),this.identifierPrefix=d,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function kf(r,i,l,d,y,x,P,j,F){return r=new yC(r,i,l,j,F),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Zt(3,null,null,i),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(x),r}function vC(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function kg(r){if(!r)return sr;r=r._reactInternals;e:{if(gn(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Rt(l))return Zp(r,l,i)}return i}function bg(r,i,l,d,y,x,P,j,F){return r=kf(l,d,!0,r,y,x,P,j,F),r.context=kg(null),l=r.current,d=bt(),y=hr(l),x=jn(d,y),x.callback=i??null,ur(l,x,y),r.current.lanes=y,Eo(r,y,d),Mt(r,d),r}function sl(r,i,l,d){var y=i.current,x=bt(),P=hr(y);return l=kg(l),i.context===null?i.context=l:i.pendingContext=l,i=jn(x,P),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ur(y,i,P),r!==null&&(an(r,y,P,x),$a(r,y,P)),P}function al(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ng(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function bf(r,i){Ng(r,i),(r=r.alternate)&&Ng(r,i)}var Pg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Nf(r){this._internalRoot=r}ll.prototype.render=Nf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));sl(r,i,null,null)},ll.prototype.unmount=Nf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ur(function(){sl(null,r,null,null)}),i[_n]=null}};function ll(r){this._internalRoot=r}ll.prototype.unstable_scheduleHydration=function(r){if(r){var i=cp();r={blockedOn:null,target:r,priority:i};for(var l=0;l<tr.length&&i!==0&&i<tr[l].priority;l++);tr.splice(l,0,r),l===0&&hp(r)}};function Pf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ul(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function xC(r,i,l,d,y){if(y){if(typeof d=="function"){var x=d;d=function(){var Q=al(P);x.call(Q)}}var P=bg(i,d,r,0,null,!1,!1,"",Tg);return r._reactRootContainer=P,r[_n]=P.current,Io(r.nodeType===8?r.parentNode:r),Ur(),P}for(;y=r.lastChild;)r.removeChild(y);if(typeof d=="function"){var j=d;d=function(){var Q=al(F);j.call(Q)}}var F=kf(r,0,!1,null,null,!1,!1,"",Tg);return r._reactRootContainer=F,r[_n]=F.current,Io(r.nodeType===8?r.parentNode:r),Ur(function(){sl(i,F,l,d)}),F}function cl(r,i,l,d,y){var x=l._reactRootContainer;if(x){var P=x;if(typeof y=="function"){var j=y;y=function(){var F=al(P);j.call(F)}}sl(i,P,r,y)}else P=xC(l,i,r,y,d);return al(P)}lp=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=jr(i.pendingLanes);l!==0&&(Gu(i,l|1),Mt(i,Xe()),(Le&6)===0&&(Ii=Xe()+500,ar()))}break;case 13:Ur(function(){var d=Mn(r,1);if(d!==null){var y=bt();an(d,r,1,y)}}),bf(r,1)}},Qu=function(r){if(r.tag===13){var i=Mn(r,134217728);if(i!==null){var l=bt();an(i,r,134217728,l)}bf(r,134217728)}},up=function(r){if(r.tag===13){var i=hr(r),l=Mn(r,i);if(l!==null){var d=bt();an(l,r,i,d)}bf(r,i)}},cp=function(){return Ve},fp=function(r,i){var l=Ve;try{return Ve=r,i()}finally{Ve=l}},mo=function(r,i,l){switch(i){case"input":if(we(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var y=Pa(d);if(!y)throw Error(n(90));he(d),we(d,y)}}}break;case"textarea":ht(r,l);break;case"select":i=l.value,i!=null&&Me(r,!!l.multiple,i,!1)}},ea=vf,ta=Ur;var wC={usingClientEntryPoint:!1,Events:[Vo,Ci,Pa,go,Js,vf]},Jo={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sa(r),r===null?null:r.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{hi=fl.inject(SC),Kt=fl}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC,jt.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(i))throw Error(n(200));return vC(r,i,null,l)},jt.createRoot=function(r,i){if(!Pf(r))throw Error(n(299));var l=!1,d="",y=Pg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=kf(r,1,!1,null,null,l,!1,d,y),r[_n]=i.current,Io(r.nodeType===8?r.parentNode:r),new Nf(i)},jt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=sa(i),r=r===null?null:r.stateNode,r},jt.flushSync=function(r){return Ur(r)},jt.hydrate=function(r,i,l){if(!ul(i))throw Error(n(200));return cl(null,r,i,!0,l)},jt.hydrateRoot=function(r,i,l){if(!Pf(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,y=!1,x="",P=Pg;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),i=bg(i,null,r,1,l??null,y,!1,x,P),r[_n]=i.current,Io(r),d)for(r=0;r<d.length;r++)l=d[r],y=l._getVersion,y=y(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,y]:i.mutableSourceEagerHydrationData.push(l,y);return new ll(i)},jt.render=function(r,i,l){if(!ul(i))throw Error(n(200));return cl(null,r,i,!1,l)},jt.unmountComponentAtNode=function(r){if(!ul(r))throw Error(n(40));return r._reactRootContainer?(Ur(function(){cl(null,null,r,!1,function(){r._reactRootContainer=null,r[_n]=null})}),!0):!1},jt.unstable_batchedUpdates=vf,jt.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!ul(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return cl(r,i,l,!1,d)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var Ig;function _v(){if(Ig)return Rf.exports;Ig=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rf.exports=TC(),Rf.exports}var $g;function _C(){if($g)return dl;$g=1;var e=_v();return dl.createRoot=e.createRoot,dl.hydrateRoot=e.hydrateRoot,dl}var RC=_C();const AC=eh(RC);var Og={},DC="@vercel/analytics",MC="1.5.0",jC=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function Rv(){return typeof window<"u"}function Av(){try{const e="production"}catch{}return"production"}function LC(e="auto"){if(e==="auto"){window.vam=Av();return}window.vam=e}function IC(){return(Rv()?window.vam:Av())||"production"}function cd(){return IC()==="development"}function $C(e){return e.scriptSrc?e.scriptSrc:cd()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function OC(e={debug:!0}){var t;if(!Rv())return;LC(e.mode),jC(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=$C(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.dataset.sdkn=DC+(e.framework?`/${e.framework}`:""),o.dataset.sdkv=MC,e.disableAutoTrack&&(o.dataset.disableAutoTrack="1"),e.endpoint?o.dataset.endpoint=e.endpoint:e.basePath&&(o.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(o.dataset.dsn=e.dsn),o.onerror=()=>{const s=cd()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${s}`)},cd()&&e.debug===!1&&(o.dataset.debug="false"),document.head.appendChild(o)}function VC({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function FC(){if(!(typeof process>"u"||typeof Og>"u"))return Og.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function zC(e){return N.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),N.useEffect(()=>{OC({framework:e.framework||"react",basePath:e.basePath??FC(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),N.useEffect(()=>{e.route&&e.path&&VC({route:e.route,path:e.path})},[e.route,e.path]),null}function it(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=it(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var BC={value:()=>{}};function iu(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Nl(n)}function Nl(e){this._=e}function UC(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Nl.prototype=iu.prototype={constructor:Nl,on:function(e,t){var n=this._,o=UC(e+"",n),s,a=-1,u=o.length;if(arguments.length<2){for(;++a<u;)if((s=(e=o[a]).type)&&(s=HC(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<u;)if(s=(e=o[a]).type)n[s]=Vg(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Vg(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nl(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,a;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],o=0,s=a.length;o<s;++o)a[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,a=o.length;s<a;++s)o[s].value.apply(t,n)}};function HC(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function Vg(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=BC,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var fd="http://www.w3.org/1999/xhtml";const Fg={svg:"http://www.w3.org/2000/svg",xhtml:fd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ou(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fg.hasOwnProperty(t)?{space:Fg[t],local:e}:e}function WC(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fd&&t.documentElement.namespaceURI===fd?t.createElement(e):t.createElementNS(n,e)}}function KC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Dv(e){var t=ou(e);return(t.local?KC:WC)(t)}function YC(){}function nh(e){return e==null?YC:function(){return this.querySelector(e)}}function XC(e){typeof e!="function"&&(e=nh(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],u=a.length,c=o[s]=new Array(u),f,h,p=0;p<u;++p)(f=a[p])&&(h=e.call(f,f.__data__,p,a))&&("__data__"in f&&(h.__data__=f.__data__),c[p]=h);return new Wt(o,this._parents)}function qC(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GC(){return[]}function Mv(e){return e==null?GC:function(){return this.querySelectorAll(e)}}function QC(e){return function(){return qC(e.apply(this,arguments))}}function ZC(e){typeof e=="function"?e=QC(e):e=Mv(e);for(var t=this._groups,n=t.length,o=[],s=[],a=0;a<n;++a)for(var u=t[a],c=u.length,f,h=0;h<c;++h)(f=u[h])&&(o.push(e.call(f,f.__data__,h,u)),s.push(f));return new Wt(o,s)}function jv(e){return function(){return this.matches(e)}}function Lv(e){return function(t){return t.matches(e)}}var JC=Array.prototype.find;function ek(e){return function(){return JC.call(this.children,e)}}function tk(){return this.firstElementChild}function nk(e){return this.select(e==null?tk:ek(typeof e=="function"?e:Lv(e)))}var rk=Array.prototype.filter;function ik(){return Array.from(this.children)}function ok(e){return function(){return rk.call(this.children,e)}}function sk(e){return this.selectAll(e==null?ik:ok(typeof e=="function"?e:Lv(e)))}function ak(e){typeof e!="function"&&(e=jv(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],u=a.length,c=o[s]=[],f,h=0;h<u;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new Wt(o,this._parents)}function Iv(e){return new Array(e.length)}function lk(){return new Wt(this._enter||this._groups.map(Iv),this._parents)}function Vl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vl.prototype={constructor:Vl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function uk(e){return function(){return e}}function ck(e,t,n,o,s,a){for(var u=0,c,f=t.length,h=a.length;u<h;++u)(c=t[u])?(c.__data__=a[u],o[u]=c):n[u]=new Vl(e,a[u]);for(;u<f;++u)(c=t[u])&&(s[u]=c)}function fk(e,t,n,o,s,a,u){var c,f,h=new Map,p=t.length,m=a.length,g=new Array(p),v;for(c=0;c<p;++c)(f=t[c])&&(g[c]=v=u.call(f,f.__data__,c,t)+"",h.has(v)?s[c]=f:h.set(v,f));for(c=0;c<m;++c)v=u.call(e,a[c],c,a)+"",(f=h.get(v))?(o[c]=f,f.__data__=a[c],h.delete(v)):n[c]=new Vl(e,a[c]);for(c=0;c<p;++c)(f=t[c])&&h.get(g[c])===f&&(s[c]=f)}function dk(e){return e.__data__}function hk(e,t){if(!arguments.length)return Array.from(this,dk);var n=t?fk:ck,o=this._parents,s=this._groups;typeof e!="function"&&(e=uk(e));for(var a=s.length,u=new Array(a),c=new Array(a),f=new Array(a),h=0;h<a;++h){var p=o[h],m=s[h],g=m.length,v=pk(e.call(p,p&&p.__data__,h,o)),w=v.length,S=c[h]=new Array(w),E=u[h]=new Array(w),C=f[h]=new Array(g);n(p,m,S,E,C,v,t);for(var T=0,b=0,_,M;T<w;++T)if(_=S[T]){for(T>=b&&(b=T+1);!(M=E[b])&&++b<w;);_._next=M||null}}return u=new Wt(u,o),u._enter=c,u._exit=f,u}function pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mk(){return new Wt(this._exit||this._groups.map(Iv),this._parents)}function gk(e,t,n){var o=this.enter(),s=this,a=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),o&&s?o.merge(s).order():s}function yk(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,a=o.length,u=Math.min(s,a),c=new Array(s),f=0;f<u;++f)for(var h=n[f],p=o[f],m=h.length,g=c[f]=new Array(m),v,w=0;w<m;++w)(v=h[w]||p[w])&&(g[w]=v);for(;f<s;++f)c[f]=n[f];return new Wt(c,this._parents)}function vk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,a=o[s],u;--s>=0;)(u=o[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function xk(e){e||(e=wk);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a){for(var u=n[a],c=u.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=u[p])&&(f[p]=h);f.sort(t)}return new Wt(s,this._parents).order()}function wk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ek(){return Array.from(this)}function Ck(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,a=o.length;s<a;++s){var u=o[s];if(u)return u}return null}function kk(){let e=0;for(const t of this)++e;return e}function bk(){return!this.node()}function Nk(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],a=0,u=s.length,c;a<u;++a)(c=s[a])&&e.call(c,c.__data__,a,s);return this}function Pk(e){return function(){this.removeAttribute(e)}}function Tk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _k(e,t){return function(){this.setAttribute(e,t)}}function Rk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ak(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Dk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Mk(e,t){var n=ou(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Tk:Pk:typeof t=="function"?n.local?Dk:Ak:n.local?Rk:_k)(n,t))}function $v(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jk(e){return function(){this.style.removeProperty(e)}}function Lk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ik(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function $k(e,t,n){return arguments.length>1?this.each((t==null?jk:typeof t=="function"?Ik:Lk)(e,t,n??"")):Xi(this.node(),e)}function Xi(e,t){return e.style.getPropertyValue(t)||$v(e).getComputedStyle(e,null).getPropertyValue(t)}function Ok(e){return function(){delete this[e]}}function Vk(e,t){return function(){this[e]=t}}function Fk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zk(e,t){return arguments.length>1?this.each((t==null?Ok:typeof t=="function"?Fk:Vk)(e,t)):this.node()[e]}function Ov(e){return e.trim().split(/^|\s+/)}function rh(e){return e.classList||new Vv(e)}function Vv(e){this._node=e,this._names=Ov(e.getAttribute("class")||"")}Vv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Fv(e,t){for(var n=rh(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function zv(e,t){for(var n=rh(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function Bk(e){return function(){Fv(this,e)}}function Uk(e){return function(){zv(this,e)}}function Hk(e,t){return function(){(t.apply(this,arguments)?Fv:zv)(this,e)}}function Wk(e,t){var n=Ov(e+"");if(arguments.length<2){for(var o=rh(this.node()),s=-1,a=n.length;++s<a;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Hk:t?Bk:Uk)(n,t))}function Kk(){this.textContent=""}function Yk(e){return function(){this.textContent=e}}function Xk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function qk(e){return arguments.length?this.each(e==null?Kk:(typeof e=="function"?Xk:Yk)(e)):this.node().textContent}function Gk(){this.innerHTML=""}function Qk(e){return function(){this.innerHTML=e}}function Zk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Jk(e){return arguments.length?this.each(e==null?Gk:(typeof e=="function"?Zk:Qk)(e)):this.node().innerHTML}function eb(){this.nextSibling&&this.parentNode.appendChild(this)}function tb(){return this.each(eb)}function nb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rb(){return this.each(nb)}function ib(e){var t=typeof e=="function"?e:Dv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ob(){return null}function sb(e,t){var n=typeof e=="function"?e:Dv(e),o=t==null?ob:typeof t=="function"?t:nh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function ab(){var e=this.parentNode;e&&e.removeChild(this)}function lb(){return this.each(ab)}function ub(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fb(e){return this.select(e?cb:ub)}function db(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hb(e){return function(t){e.call(this,t,this.__data__)}}function pb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function mb(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++o]=a;++o?t.length=o:delete this.__on}}}function gb(e,t,n){return function(){var o=this.__on,s,a=hb(t);if(o){for(var u=0,c=o.length;u<c;++u)if((s=o[u]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(s):this.__on=[s]}}function yb(e,t,n){var o=pb(e+""),s,a=o.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,p;f<h;++f)for(s=0,p=c[f];s<a;++s)if((u=o[s]).type===p.type&&u.name===p.name)return p.value}return}for(c=t?gb:mb,s=0;s<a;++s)this.each(c(o[s],t,n));return this}function Bv(e,t,n){var o=$v(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vb(e,t){return function(){return Bv(this,e,t)}}function xb(e,t){return function(){return Bv(this,e,t.apply(this,arguments))}}function wb(e,t){return this.each((typeof t=="function"?xb:vb)(e,t))}function*Sb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,a=o.length,u;s<a;++s)(u=o[s])&&(yield u)}var Uv=[null];function Wt(e,t){this._groups=e,this._parents=t}function $s(){return new Wt([[document.documentElement]],Uv)}function Eb(){return this}Wt.prototype=$s.prototype={constructor:Wt,select:XC,selectAll:ZC,selectChild:nk,selectChildren:sk,filter:ak,data:hk,enter:lk,exit:mk,join:gk,merge:yk,selection:Eb,order:vk,sort:xk,call:Sk,nodes:Ek,node:Ck,size:kk,empty:bk,each:Nk,attr:Mk,style:$k,property:zk,classed:Wk,text:qk,html:Jk,raise:tb,lower:rb,append:ib,insert:sb,remove:lb,clone:fb,datum:db,on:yb,dispatch:wb,[Symbol.iterator]:Sb};function Bt(e){return typeof e=="string"?new Wt([[document.querySelector(e)]],[document.documentElement]):new Wt([[e]],Uv)}function Cb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function un(e,t){if(e=Cb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const kb={passive:!1},ys={capture:!0,passive:!1};function Mf(e){e.stopImmediatePropagation()}function Ki(e){e.preventDefault(),e.stopImmediatePropagation()}function Hv(e){var t=e.document.documentElement,n=Bt(e).on("dragstart.drag",Ki,ys);"onselectstart"in t?n.on("selectstart.drag",Ki,ys):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Wv(e,t){var n=e.document.documentElement,o=Bt(e).on("dragstart.drag",null);t&&(o.on("click.drag",Ki,ys),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hl=e=>()=>e;function dd(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:a,x:u,y:c,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}dd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bb(e){return!e.ctrlKey&&!e.button}function Nb(){return this.parentNode}function Pb(e,t){return t??{x:e.x,y:e.y}}function Tb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kv(){var e=bb,t=Nb,n=Pb,o=Tb,s={},a=iu("start","drag","end"),u=0,c,f,h,p,m=0;function g(_){_.on("mousedown.drag",v).filter(o).on("touchstart.drag",E).on("touchmove.drag",C,kb).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(_,M){if(!(p||!e.call(this,_,M))){var $=b(this,t.call(this,_,M),_,M,"mouse");$&&(Bt(_.view).on("mousemove.drag",w,ys).on("mouseup.drag",S,ys),Hv(_.view),Mf(_),h=!1,c=_.clientX,f=_.clientY,$("start",_))}}function w(_){if(Ki(_),!h){var M=_.clientX-c,$=_.clientY-f;h=M*M+$*$>m}s.mouse("drag",_)}function S(_){Bt(_.view).on("mousemove.drag mouseup.drag",null),Wv(_.view,h),Ki(_),s.mouse("end",_)}function E(_,M){if(e.call(this,_,M)){var $=_.changedTouches,I=t.call(this,_,M),z=$.length,K,Y;for(K=0;K<z;++K)(Y=b(this,I,_,M,$[K].identifier,$[K]))&&(Mf(_),Y("start",_,$[K]))}}function C(_){var M=_.changedTouches,$=M.length,I,z;for(I=0;I<$;++I)(z=s[M[I].identifier])&&(Ki(_),z("drag",_,M[I]))}function T(_){var M=_.changedTouches,$=M.length,I,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),I=0;I<$;++I)(z=s[M[I].identifier])&&(Mf(_),z("end",_,M[I]))}function b(_,M,$,I,z,K){var Y=a.copy(),ee=un(K||$,M),q,J,R;if((R=n.call(_,new dd("beforestart",{sourceEvent:$,target:g,identifier:z,active:u,x:ee[0],y:ee[1],dx:0,dy:0,dispatch:Y}),I))!=null)return q=R.x-ee[0]||0,J=R.y-ee[1]||0,function V(L,U,D){var O=ee,B;switch(L){case"start":s[z]=V,B=u++;break;case"end":delete s[z],--u;case"drag":ee=un(D||U,M),B=u;break}Y.call(L,_,new dd(L,{sourceEvent:U,subject:R,target:g,identifier:z,active:B,x:ee[0]+q,y:ee[1]+J,dx:ee[0]-O[0],dy:ee[1]-O[1],dispatch:Y}),I)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:hl(!!_),g):e},g.container=function(_){return arguments.length?(t=typeof _=="function"?_:hl(_),g):t},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:hl(_),g):n},g.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:hl(!!_),g):o},g.on=function(){var _=a.on.apply(a,arguments);return _===a?g:_},g.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,g):Math.sqrt(m)},g}function ih(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yv(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Os(){}var vs=.7,Fl=1/vs,Yi="\\s*([+-]?\\d+)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_b=/^#([0-9a-f]{3,8})$/,Rb=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Ab=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),Db=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${xs}\\)$`),Mb=new RegExp(`^rgba\\(${En},${En},${En},${xs}\\)$`),jb=new RegExp(`^hsl\\(${xs},${En},${En}\\)$`),Lb=new RegExp(`^hsla\\(${xs},${En},${En},${xs}\\)$`),zg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ih(Os,ws,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bg,formatHex:Bg,formatHex8:Ib,formatHsl:$b,formatRgb:Ug,toString:Ug});function Bg(){return this.rgb().formatHex()}function Ib(){return this.rgb().formatHex8()}function $b(){return Xv(this).formatHsl()}function Ug(){return this.rgb().formatRgb()}function ws(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_b.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hg(t):n===3?new Lt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rb.exec(e))?new Lt(t[1],t[2],t[3],1):(t=Ab.exec(e))?new Lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Db.exec(e))?pl(t[1],t[2],t[3],t[4]):(t=Mb.exec(e))?pl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jb.exec(e))?Yg(t[1],t[2]/100,t[3]/100,1):(t=Lb.exec(e))?Yg(t[1],t[2]/100,t[3]/100,t[4]):zg.hasOwnProperty(e)?Hg(zg[e]):e==="transparent"?new Lt(NaN,NaN,NaN,0):null}function Hg(e){return new Lt(e>>16&255,e>>8&255,e&255,1)}function pl(e,t,n,o){return o<=0&&(e=t=n=NaN),new Lt(e,t,n,o)}function Ob(e){return e instanceof Os||(e=ws(e)),e?(e=e.rgb(),new Lt(e.r,e.g,e.b,e.opacity)):new Lt}function hd(e,t,n,o){return arguments.length===1?Ob(e):new Lt(e,t,n,o??1)}function Lt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}ih(Lt,hd,Yv(Os,{brighter(e){return e=e==null?Fl:Math.pow(Fl,e),new Lt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vs:Math.pow(vs,e),new Lt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Lt(Jr(this.r),Jr(this.g),Jr(this.b),zl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wg,formatHex:Wg,formatHex8:Vb,formatRgb:Kg,toString:Kg}));function Wg(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}`}function Vb(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}${Gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kg(){const e=zl(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function zl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function Yg(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,n,o)}function Xv(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof Os||(e=ws(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),a=Math.max(t,n,o),u=NaN,c=a-s,f=(a+s)/2;return c?(t===a?u=(n-o)/c+(n<o)*6:n===a?u=(o-t)/c+2:u=(t-n)/c+4,c/=f<.5?a+s:2-a-s,u*=60):c=f>0&&f<1?0:u,new cn(u,c,f,e.opacity)}function Fb(e,t,n,o){return arguments.length===1?Xv(e):new cn(e,t,n,o??1)}function cn(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}ih(cn,Fb,Yv(Os,{brighter(e){return e=e==null?Fl:Math.pow(Fl,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vs:Math.pow(vs,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,s=2*n-o;return new Lt(jf(e>=240?e-240:e+120,s,o),jf(e,s,o),jf(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new cn(Xg(this.h),ml(this.s),ml(this.l),zl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zl(this.opacity);return`${e===1?"hsl(":"hsla("}${Xg(this.h)}, ${ml(this.s)*100}%, ${ml(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xg(e){return e=(e||0)%360,e<0?e+360:e}function ml(e){return Math.max(0,Math.min(1,e||0))}function jf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qv=e=>()=>e;function zb(e,t){return function(n){return e+n*t}}function Bb(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Ub(e){return(e=+e)==1?Gv:function(t,n){return n-t?Bb(t,n,e):qv(isNaN(t)?n:t)}}function Gv(e,t){var n=t-e;return n?zb(e,n):qv(isNaN(e)?t:e)}const qg=function e(t){var n=Ub(t);function o(s,a){var u=n((s=hd(s)).r,(a=hd(a)).r),c=n(s.g,a.g),f=n(s.b,a.b),h=Gv(s.opacity,a.opacity);return function(p){return s.r=u(p),s.g=c(p),s.b=f(p),s.opacity=h(p),s+""}}return o.gamma=e,o}(1);function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var pd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lf=new RegExp(pd.source,"g");function Hb(e){return function(){return e}}function Wb(e){return function(t){return e(t)+""}}function Kb(e,t){var n=pd.lastIndex=Lf.lastIndex=0,o,s,a,u=-1,c=[],f=[];for(e=e+"",t=t+"";(o=pd.exec(e))&&(s=Lf.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(o=o[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,f.push({i:u,x:wr(o,s)})),n=Lf.lastIndex;return n<t.length&&(a=t.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?f[0]?Wb(f[0].x):Hb(t):(t=f.length,function(h){for(var p=0,m;p<t;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}var Gg=180/Math.PI,md={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qv(e,t,n,o,s,a){var u,c,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*n+t*o)&&(n-=e*f,o-=t*f),(c=Math.sqrt(n*n+o*o))&&(n/=c,o/=c,f/=c),e*o<t*n&&(e=-e,t=-t,f=-f,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*Gg,skewX:Math.atan(f)*Gg,scaleX:u,scaleY:c}}var gl;function Yb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?md:Qv(t.a,t.b,t.c,t.d,t.e,t.f)}function Xb(e){return e==null||(gl||(gl=document.createElementNS("http://www.w3.org/2000/svg","g")),gl.setAttribute("transform",e),!(e=gl.transform.baseVal.consolidate()))?md:(e=e.matrix,Qv(e.a,e.b,e.c,e.d,e.e,e.f))}function Zv(e,t,n,o){function s(h){return h.length?h.pop()+" ":""}function a(h,p,m,g,v,w){if(h!==m||p!==g){var S=v.push("translate(",null,t,null,n);w.push({i:S-4,x:wr(h,m)},{i:S-2,x:wr(p,g)})}else(m||g)&&v.push("translate("+m+t+g+n)}function u(h,p,m,g){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),g.push({i:m.push(s(m)+"rotate(",null,o)-2,x:wr(h,p)})):p&&m.push(s(m)+"rotate("+p+o)}function c(h,p,m,g){h!==p?g.push({i:m.push(s(m)+"skewX(",null,o)-2,x:wr(h,p)}):p&&m.push(s(m)+"skewX("+p+o)}function f(h,p,m,g,v,w){if(h!==m||p!==g){var S=v.push(s(v)+"scale(",null,",",null,")");w.push({i:S-4,x:wr(h,m)},{i:S-2,x:wr(p,g)})}else(m!==1||g!==1)&&v.push(s(v)+"scale("+m+","+g+")")}return function(h,p){var m=[],g=[];return h=e(h),p=e(p),a(h.translateX,h.translateY,p.translateX,p.translateY,m,g),u(h.rotate,p.rotate,m,g),c(h.skewX,p.skewX,m,g),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,m,g),h=p=null,function(v){for(var w=-1,S=g.length,E;++w<S;)m[(E=g[w]).i]=E.x(v);return m.join("")}}}var qb=Zv(Yb,"px, ","px)","deg)"),Gb=Zv(Xb,", ",")",")"),Qb=1e-12;function Qg(e){return((e=Math.exp(e))+1/e)/2}function Zb(e){return((e=Math.exp(e))-1/e)/2}function Jb(e){return((e=Math.exp(2*e))-1)/(e+1)}const eN=function e(t,n,o){function s(a,u){var c=a[0],f=a[1],h=a[2],p=u[0],m=u[1],g=u[2],v=p-c,w=m-f,S=v*v+w*w,E,C;if(S<Qb)C=Math.log(g/h)/t,E=function(I){return[c+I*v,f+I*w,h*Math.exp(t*I*C)]};else{var T=Math.sqrt(S),b=(g*g-h*h+o*S)/(2*h*n*T),_=(g*g-h*h-o*S)/(2*g*n*T),M=Math.log(Math.sqrt(b*b+1)-b),$=Math.log(Math.sqrt(_*_+1)-_);C=($-M)/t,E=function(I){var z=I*C,K=Qg(M),Y=h/(n*T)*(K*Jb(t*z+M)-Zb(M));return[c+Y*v,f+Y*w,h*K/Qg(t*z+M)]}}return E.duration=C*1e3*t/Math.SQRT2,E}return s.rho=function(a){var u=Math.max(.001,+a),c=u*u,f=c*c;return e(u,c,f)},s}(Math.SQRT2,2,4);var qi=0,as=0,ts=0,Jv=1e3,Bl,ls,Ul=0,ri=0,su=0,Ss=typeof performance=="object"&&performance.now?performance:Date,ex=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oh(){return ri||(ex(tN),ri=Ss.now()+su)}function tN(){ri=0}function Hl(){this._call=this._time=this._next=null}Hl.prototype=tx.prototype={constructor:Hl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?oh():+n)+(t==null?0:+t),!this._next&&ls!==this&&(ls?ls._next=this:Bl=this,ls=this),this._call=e,this._time=n,gd()},stop:function(){this._call&&(this._call=null,this._time=1/0,gd())}};function tx(e,t,n){var o=new Hl;return o.restart(e,t,n),o}function nN(){oh(),++qi;for(var e=Bl,t;e;)(t=ri-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qi}function Zg(){ri=(Ul=Ss.now())+su,qi=as=0;try{nN()}finally{qi=0,iN(),ri=0}}function rN(){var e=Ss.now(),t=e-Ul;t>Jv&&(su-=t,Ul=e)}function iN(){for(var e,t=Bl,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bl=n);ls=e,gd(o)}function gd(e){if(!qi){as&&(as=clearTimeout(as));var t=e-ri;t>24?(e<1/0&&(as=setTimeout(Zg,e-Ss.now()-su)),ts&&(ts=clearInterval(ts))):(ts||(Ul=Ss.now(),ts=setInterval(rN,Jv)),qi=1,ex(Zg))}}function Jg(e,t,n){var o=new Hl;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var oN=iu("start","end","cancel","interrupt"),sN=[],nx=0,ey=1,yd=2,Pl=3,ty=4,vd=5,Tl=6;function au(e,t,n,o,s,a){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;aN(e,n,{name:t,index:o,group:s,on:oN,tween:sN,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:nx})}function sh(e,t){var n=hn(e,t);if(n.state>nx)throw new Error("too late; already scheduled");return n}function bn(e,t){var n=hn(e,t);if(n.state>Pl)throw new Error("too late; already running");return n}function hn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function aN(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=tx(a,0,n.time);function a(h){n.state=ey,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var p,m,g,v;if(n.state!==ey)return f();for(p in o)if(v=o[p],v.name===n.name){if(v.state===Pl)return Jg(u);v.state===ty?(v.state=Tl,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete o[p]):+p<t&&(v.state=Tl,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete o[p])}if(Jg(function(){n.state===Pl&&(n.state=ty,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=yd,n.on.call("start",e,e.__data__,n.index,n.group),n.state===yd){for(n.state=Pl,s=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(v=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=v);s.length=m+1}}function c(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=vd,1),m=-1,g=s.length;++m<g;)s[m].call(e,p);n.state===vd&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Tl,n.timer.stop(),delete o[t];for(var h in o)return;delete e.__transition}}function _l(e,t){var n=e.__transition,o,s,a=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((o=n[u]).name!==t){a=!1;continue}s=o.state>yd&&o.state<vd,o.state=Tl,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[u]}a&&delete e.__transition}}function lN(e){return this.each(function(){_l(this,e)})}function uN(e,t){var n,o;return function(){var s=bn(this,e),a=s.tween;if(a!==n){o=n=a;for(var u=0,c=o.length;u<c;++u)if(o[u].name===t){o=o.slice(),o.splice(u,1);break}}s.tween=o}}function cN(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var a=bn(this,e),u=a.tween;if(u!==o){s=(o=u).slice();for(var c={name:t,value:n},f=0,h=s.length;f<h;++f)if(s[f].name===t){s[f]=c;break}f===h&&s.push(c)}a.tween=s}}function fN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=hn(this.node(),n).tween,s=0,a=o.length,u;s<a;++s)if((u=o[s]).name===e)return u.value;return null}return this.each((t==null?uN:cN)(n,e,t))}function ah(e,t,n){var o=e._id;return e.each(function(){var s=bn(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return hn(s,o).value[t]}}function rx(e,t){var n;return(typeof t=="number"?wr:t instanceof ws?qg:(n=ws(t))?(t=n,qg):Kb)(e,t)}function dN(e){return function(){this.removeAttribute(e)}}function hN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pN(e,t,n){var o,s=n+"",a;return function(){var u=this.getAttribute(e);return u===s?null:u===o?a:a=t(o=u,n)}}function mN(e,t,n){var o,s=n+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===s?null:u===o?a:a=t(o=u,n)}}function gN(e,t,n){var o,s,a;return function(){var u,c=n(this),f;return c==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=c+"",u===f?null:u===o&&f===s?a:(s=f,a=t(o=u,c)))}}function yN(e,t,n){var o,s,a;return function(){var u,c=n(this),f;return c==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=c+"",u===f?null:u===o&&f===s?a:(s=f,a=t(o=u,c)))}}function vN(e,t){var n=ou(e),o=n==="transform"?Gb:rx;return this.attrTween(e,typeof t=="function"?(n.local?yN:gN)(n,o,ah(this,"attr."+e,t)):t==null?(n.local?hN:dN)(n):(n.local?mN:pN)(n,o,t))}function xN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function SN(e,t){var n,o;function s(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&wN(e,a)),n}return s._value=t,s}function EN(e,t){var n,o;function s(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&xN(e,a)),n}return s._value=t,s}function CN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ou(e);return this.tween(n,(o.local?SN:EN)(o,t))}function kN(e,t){return function(){sh(this,e).delay=+t.apply(this,arguments)}}function bN(e,t){return t=+t,function(){sh(this,e).delay=t}}function NN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kN:bN)(t,e)):hn(this.node(),t).delay}function PN(e,t){return function(){bn(this,e).duration=+t.apply(this,arguments)}}function TN(e,t){return t=+t,function(){bn(this,e).duration=t}}function _N(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PN:TN)(t,e)):hn(this.node(),t).duration}function RN(e,t){if(typeof t!="function")throw new Error;return function(){bn(this,e).ease=t}}function AN(e){var t=this._id;return arguments.length?this.each(RN(t,e)):hn(this.node(),t).ease}function DN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bn(this,e).ease=n}}function MN(e){if(typeof e!="function")throw new Error;return this.each(DN(this._id,e))}function jN(e){typeof e!="function"&&(e=jv(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var a=t[s],u=a.length,c=o[s]=[],f,h=0;h<u;++h)(f=a[h])&&e.call(f,f.__data__,h,a)&&c.push(f);return new Un(o,this._parents,this._name,this._id)}function LN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,a=Math.min(o,s),u=new Array(o),c=0;c<a;++c)for(var f=t[c],h=n[c],p=f.length,m=u[c]=new Array(p),g,v=0;v<p;++v)(g=f[v]||h[v])&&(m[v]=g);for(;c<o;++c)u[c]=t[c];return new Un(u,this._parents,this._name,this._id)}function IN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $N(e,t,n){var o,s,a=IN(t)?sh:bn;return function(){var u=a(this,e),c=u.on;c!==o&&(s=(o=c).copy()).on(t,n),u.on=s}}function ON(e,t){var n=this._id;return arguments.length<2?hn(this.node(),n).on.on(e):this.each($N(n,e,t))}function VN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function FN(){return this.on("end.remove",VN(this._id))}function zN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nh(e));for(var o=this._groups,s=o.length,a=new Array(s),u=0;u<s;++u)for(var c=o[u],f=c.length,h=a[u]=new Array(f),p,m,g=0;g<f;++g)(p=c[g])&&(m=e.call(p,p.__data__,g,c))&&("__data__"in p&&(m.__data__=p.__data__),h[g]=m,au(h[g],t,n,g,h,hn(p,n)));return new Un(a,this._parents,t,n)}function BN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mv(e));for(var o=this._groups,s=o.length,a=[],u=[],c=0;c<s;++c)for(var f=o[c],h=f.length,p,m=0;m<h;++m)if(p=f[m]){for(var g=e.call(p,p.__data__,m,f),v,w=hn(p,n),S=0,E=g.length;S<E;++S)(v=g[S])&&au(v,t,n,S,g,w);a.push(g),u.push(p)}return new Un(a,u,t,n)}var UN=$s.prototype.constructor;function HN(){return new UN(this._groups,this._parents)}function WN(e,t){var n,o,s;return function(){var a=Xi(this,e),u=(this.style.removeProperty(e),Xi(this,e));return a===u?null:a===n&&u===o?s:s=t(n=a,o=u)}}function ix(e){return function(){this.style.removeProperty(e)}}function KN(e,t,n){var o,s=n+"",a;return function(){var u=Xi(this,e);return u===s?null:u===o?a:a=t(o=u,n)}}function YN(e,t,n){var o,s,a;return function(){var u=Xi(this,e),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(e),Xi(this,e))),u===f?null:u===o&&f===s?a:(s=f,a=t(o=u,c))}}function XN(e,t){var n,o,s,a="style."+t,u="end."+a,c;return function(){var f=bn(this,e),h=f.on,p=f.value[a]==null?c||(c=ix(t)):void 0;(h!==n||s!==p)&&(o=(n=h).copy()).on(u,s=p),f.on=o}}function qN(e,t,n){var o=(e+="")=="transform"?qb:rx;return t==null?this.styleTween(e,WN(e,o)).on("end.style."+e,ix(e)):typeof t=="function"?this.styleTween(e,YN(e,o,ah(this,"style."+e,t))).each(XN(this._id,e)):this.styleTween(e,KN(e,o,t),n).on("end.style."+e,null)}function GN(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function QN(e,t,n){var o,s;function a(){var u=t.apply(this,arguments);return u!==s&&(o=(s=u)&&GN(e,u,n)),o}return a._value=t,a}function ZN(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,QN(e,t,n??""))}function JN(e){return function(){this.textContent=e}}function e2(e){return function(){var t=e(this);this.textContent=t??""}}function t2(e){return this.tween("text",typeof e=="function"?e2(ah(this,"text",e)):JN(e==null?"":e+""))}function n2(e){return function(t){this.textContent=e.call(this,t)}}function r2(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&n2(s)),t}return o._value=e,o}function i2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,r2(e))}function o2(){for(var e=this._name,t=this._id,n=ox(),o=this._groups,s=o.length,a=0;a<s;++a)for(var u=o[a],c=u.length,f,h=0;h<c;++h)if(f=u[h]){var p=hn(f,t);au(f,e,n,h,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Un(o,this._parents,e,n)}function s2(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(a,u){var c={value:u},f={value:function(){--s===0&&a()}};n.each(function(){var h=bn(this,o),p=h.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(f)),h.on=t}),s===0&&a()})}var a2=0;function Un(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ox(){return++a2}var $n=$s.prototype;Un.prototype={constructor:Un,select:zN,selectAll:BN,selectChild:$n.selectChild,selectChildren:$n.selectChildren,filter:jN,merge:LN,selection:HN,transition:o2,call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:ON,attr:vN,attrTween:CN,style:qN,styleTween:ZN,text:t2,textTween:i2,remove:FN,tween:fN,delay:NN,duration:_N,ease:AN,easeVarying:MN,end:s2,[Symbol.iterator]:$n[Symbol.iterator]};function l2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var u2={time:null,delay:0,duration:250,ease:l2};function c2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function f2(e){var t,n;e instanceof Un?(t=e._id,e=e._name):(t=ox(),(n=u2).time=oh(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,a=0;a<s;++a)for(var u=o[a],c=u.length,f,h=0;h<c;++h)(f=u[h])&&au(f,e,t,h,u,n||c2(f,t));return new Un(o,this._parents,e,t)}$s.prototype.interrupt=lN;$s.prototype.transition=f2;const yl=e=>()=>e;function d2(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function On(e,t,n){this.k=e,this.x=t,this.y=n}On.prototype={constructor:On,scale:function(e){return e===1?this:new On(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new On(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lu=new On(1,0,0);sx.prototype=On.prototype;function sx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lu;return e.__zoom}function If(e){e.stopImmediatePropagation()}function ns(e){e.preventDefault(),e.stopImmediatePropagation()}function h2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function p2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ny(){return this.__zoom||lu}function m2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g2(){return navigator.maxTouchPoints||"ontouchstart"in this}function y2(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],u=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function ax(){var e=h2,t=p2,n=y2,o=m2,s=g2,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=eN,h=iu("start","zoom","end"),p,m,g,v=500,w=150,S=0,E=10;function C(R){R.property("__zoom",ny).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",Y).filter(s).on("touchstart.zoom",ee).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(R,V,L,U){var D=R.selection?R.selection():R;D.property("__zoom",ny),R!==D?M(R,V,L,U):D.interrupt().each(function(){$(this,arguments).event(U).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},C.scaleBy=function(R,V,L,U){C.scaleTo(R,function(){var D=this.__zoom.k,O=typeof V=="function"?V.apply(this,arguments):V;return D*O},L,U)},C.scaleTo=function(R,V,L,U){C.transform(R,function(){var D=t.apply(this,arguments),O=this.__zoom,B=L==null?_(D):typeof L=="function"?L.apply(this,arguments):L,A=O.invert(B),W=typeof V=="function"?V.apply(this,arguments):V;return n(b(T(O,W),B,A),D,u)},L,U)},C.translateBy=function(R,V,L,U){C.transform(R,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),u)},null,U)},C.translateTo=function(R,V,L,U,D){C.transform(R,function(){var O=t.apply(this,arguments),B=this.__zoom,A=U==null?_(O):typeof U=="function"?U.apply(this,arguments):U;return n(lu.translate(A[0],A[1]).scale(B.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof L=="function"?-L.apply(this,arguments):-L),O,u)},U,D)};function T(R,V){return V=Math.max(a[0],Math.min(a[1],V)),V===R.k?R:new On(V,R.x,R.y)}function b(R,V,L){var U=V[0]-L[0]*R.k,D=V[1]-L[1]*R.k;return U===R.x&&D===R.y?R:new On(R.k,U,D)}function _(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function M(R,V,L,U){R.on("start.zoom",function(){$(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(U).end()}).tween("zoom",function(){var D=this,O=arguments,B=$(D,O).event(U),A=t.apply(D,O),W=L==null?_(A):typeof L=="function"?L.apply(D,O):L,ae=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),ne=D.__zoom,le=typeof V=="function"?V.apply(D,O):V,ce=f(ne.invert(W).concat(ae/ne.k),le.invert(W).concat(ae/le.k));return function(oe){if(oe===1)oe=le;else{var te=ce(oe),se=ae/te[2];oe=new On(se,W[0]-te[0]*se,W[1]-te[1]*se)}B.zoom(null,oe)}})}function $(R,V,L){return!L&&R.__zooming||new I(R,V)}function I(R,V){this.that=R,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,V),this.taps=0}I.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,V){return this.mouse&&R!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var V=Bt(this.that).datum();h.call(R,this.that,new d2(R,{sourceEvent:this.sourceEvent,target:C,type:R,transform:this.that.__zoom,dispatch:h}),V)}};function z(R,...V){if(!e.apply(this,arguments))return;var L=$(this,V).event(R),U=this.__zoom,D=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,o.apply(this,arguments)))),O=un(R);if(L.wheel)(L.mouse[0][0]!==O[0]||L.mouse[0][1]!==O[1])&&(L.mouse[1]=U.invert(L.mouse[0]=O)),clearTimeout(L.wheel);else{if(U.k===D)return;L.mouse=[O,U.invert(O)],_l(this),L.start()}ns(R),L.wheel=setTimeout(B,w),L.zoom("mouse",n(b(T(U,D),L.mouse[0],L.mouse[1]),L.extent,u));function B(){L.wheel=null,L.end()}}function K(R,...V){if(g||!e.apply(this,arguments))return;var L=R.currentTarget,U=$(this,V,!0).event(R),D=Bt(R.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ae,!0),O=un(R,L),B=R.clientX,A=R.clientY;Hv(R.view),If(R),U.mouse=[O,this.__zoom.invert(O)],_l(this),U.start();function W(ne){if(ns(ne),!U.moved){var le=ne.clientX-B,ce=ne.clientY-A;U.moved=le*le+ce*ce>S}U.event(ne).zoom("mouse",n(b(U.that.__zoom,U.mouse[0]=un(ne,L),U.mouse[1]),U.extent,u))}function ae(ne){D.on("mousemove.zoom mouseup.zoom",null),Wv(ne.view,U.moved),ns(ne),U.event(ne).end()}}function Y(R,...V){if(e.apply(this,arguments)){var L=this.__zoom,U=un(R.changedTouches?R.changedTouches[0]:R,this),D=L.invert(U),O=L.k*(R.shiftKey?.5:2),B=n(b(T(L,O),U,D),t.apply(this,V),u);ns(R),c>0?Bt(this).transition().duration(c).call(M,B,U,R):Bt(this).call(C.transform,B,U,R)}}function ee(R,...V){if(e.apply(this,arguments)){var L=R.touches,U=L.length,D=$(this,V,R.changedTouches.length===U).event(R),O,B,A,W;for(If(R),B=0;B<U;++B)A=L[B],W=un(A,this),W=[W,this.__zoom.invert(W),A.identifier],D.touch0?!D.touch1&&D.touch0[2]!==W[2]&&(D.touch1=W,D.taps=0):(D.touch0=W,O=!0,D.taps=1+!!p);p&&(p=clearTimeout(p)),O&&(D.taps<2&&(m=W[0],p=setTimeout(function(){p=null},v)),_l(this),D.start())}}function q(R,...V){if(this.__zooming){var L=$(this,V).event(R),U=R.changedTouches,D=U.length,O,B,A,W;for(ns(R),O=0;O<D;++O)B=U[O],A=un(B,this),L.touch0&&L.touch0[2]===B.identifier?L.touch0[0]=A:L.touch1&&L.touch1[2]===B.identifier&&(L.touch1[0]=A);if(B=L.that.__zoom,L.touch1){var ae=L.touch0[0],ne=L.touch0[1],le=L.touch1[0],ce=L.touch1[1],oe=(oe=le[0]-ae[0])*oe+(oe=le[1]-ae[1])*oe,te=(te=ce[0]-ne[0])*te+(te=ce[1]-ne[1])*te;B=T(B,Math.sqrt(oe/te)),A=[(ae[0]+le[0])/2,(ae[1]+le[1])/2],W=[(ne[0]+ce[0])/2,(ne[1]+ce[1])/2]}else if(L.touch0)A=L.touch0[0],W=L.touch0[1];else return;L.zoom("touch",n(b(B,A,W),L.extent,u))}}function J(R,...V){if(this.__zooming){var L=$(this,V).event(R),U=R.changedTouches,D=U.length,O,B;for(If(R),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),O=0;O<D;++O)B=U[O],L.touch0&&L.touch0[2]===B.identifier?delete L.touch0:L.touch1&&L.touch1[2]===B.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(B=un(B,this),Math.hypot(m[0]-B[0],m[1]-B[1])<E)){var A=Bt(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return C.wheelDelta=function(R){return arguments.length?(o=typeof R=="function"?R:yl(+R),C):o},C.filter=function(R){return arguments.length?(e=typeof R=="function"?R:yl(!!R),C):e},C.touchable=function(R){return arguments.length?(s=typeof R=="function"?R:yl(!!R),C):s},C.extent=function(R){return arguments.length?(t=typeof R=="function"?R:yl([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),C):t},C.scaleExtent=function(R){return arguments.length?(a[0]=+R[0],a[1]=+R[1],C):[a[0],a[1]]},C.translateExtent=function(R){return arguments.length?(u[0][0]=+R[0][0],u[1][0]=+R[1][0],u[0][1]=+R[0][1],u[1][1]=+R[1][1],C):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},C.constrain=function(R){return arguments.length?(n=R,C):n},C.duration=function(R){return arguments.length?(c=+R,C):c},C.interpolate=function(R){return arguments.length?(f=R,C):f},C.on=function(){var R=h.on.apply(h,arguments);return R===h?C:R},C.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,C):Math.sqrt(S)},C.tapDistance=function(R){return arguments.length?(E=+R,C):E},C}const Wn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Es=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lx=["Enter"," ","Escape"];var Gi;(function(e){e.Strict="strict",e.Loose="loose"})(Gi||(Gi={}));var ei;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ei||(ei={}));var Cs;(function(e){e.Partial="partial",e.Full="full"})(Cs||(Cs={}));const ux={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Sr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Sr||(Sr={}));var Wl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Wl||(Wl={}));var ye;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ye||(ye={}));const ry={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function cx(e){return e===null?null:e?"valid":"invalid"}const fx=e=>"id"in e&&"source"in e&&"target"in e,v2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),lh=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Vs=(e,t=[0,0])=>{const{width:n,height:o}=Kn(e),s=e.origin??t,a=n*s[0],u=o*s[1];return{x:e.position.x-a,y:e.position.y-u}},x2=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,s)=>{const a=typeof s=="string";let u=!t.nodeLookup&&!a?s:void 0;t.nodeLookup&&(u=a?t.nodeLookup.get(s):lh(s)?s:t.nodeLookup.get(s.id));const c=u?Kl(u,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return uu(o,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cu(n)},ro=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(o=>{if(t.filter===void 0||t.filter(o)){const s=Kl(o);n=uu(n,s)}}),cu(n)},dx=(e,t,[n,o,s]=[0,0,1],a=!1,u=!1)=>{const c={...Fs(t,[n,o,s]),width:t.width/s,height:t.height/s},f=[];for(const h of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=h;if(u&&!m||g)continue;const v=p.width??h.width??h.initialWidth??null,w=p.height??h.height??h.initialHeight??null,S=ks(c,Zi(h)),E=(v??0)*(w??0),C=a&&S>0;(!h.internals.handleBounds||C||S>=E||h.dragging)&&f.push(h)}return f},w2=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function xd(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!o||o.has(s.id))&&n.set(s.id,s)}),n}async function wd({nodes:e,width:t,height:n,panZoom:o,minZoom:s,maxZoom:a},u){if(e.size===0)return Promise.resolve(!1);const c=ro(e),f=uh(c,t,n,(u==null?void 0:u.minZoom)??s,(u==null?void 0:u.maxZoom)??a,(u==null?void 0:u.padding)??.1);return await o.setViewport(f,{duration:u==null?void 0:u.duration}),Promise.resolve(!0)}function hx({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:s,onError:a}){const u=n.get(e),c=u.parentId?n.get(u.parentId):void 0,{x:f,y:h}=c?c.internals.positionAbsolute:{x:0,y:0},p=u.origin??o;let m=s;if(u.extent==="parent"&&!u.expandParent)if(!c)a==null||a("005",Wn.error005());else{const v=c.measured.width,w=c.measured.height;v&&w&&(m=[[f,h],[f+v,h+w]])}else c&&Ji(u.extent)&&(m=[[u.extent[0][0]+f,u.extent[0][1]+h],[u.extent[1][0]+f,u.extent[1][1]+h]]);const g=Ji(m)?ii(t,m,u.measured):t;return{position:{x:g.x-f+u.measured.width*p[0],y:g.y-h+u.measured.height*p[1]},positionAbsolute:g}}async function S2({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:s}){const a=new Set(e.map(g=>g.id)),u=[];for(const g of n){if(g.deletable===!1)continue;const v=a.has(g.id),w=!v&&g.parentId&&u.find(S=>S.id===g.parentId);(v||w)&&u.push(g)}const c=new Set(t.map(g=>g.id)),f=o.filter(g=>g.deletable!==!1),p=w2(u,f);for(const g of f)c.has(g.id)&&!p.find(w=>w.id===g.id)&&p.push(g);if(!s)return{edges:p,nodes:u};const m=await s({nodes:u,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:u}:{edges:[],nodes:[]}:m}const Qi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ii=(e={x:0,y:0},t,n)=>({x:Qi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Qi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function px(e,t,n){const{width:o,height:s}=Kn(n),{x:a,y:u}=n.internals.positionAbsolute;return ii(e,[[a,u],[a+o,u+s]],t)}const iy=(e,t,n)=>e<t?Qi(Math.abs(e-t),1,t)/t:e>n?-Qi(Math.abs(e-n),1,t)/t:0,mx=(e,t,n=15,o=40)=>{const s=iy(e.x,o,t.width-o)*n,a=iy(e.y,o,t.height-o)*n;return[s,a]},uu=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Sd=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),cu=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Zi=(e,t=[0,0])=>{var s,a;const{x:n,y:o}=lh(e)?e.internals.positionAbsolute:Vs(e,t);return{x:n,y:o,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0}},Kl=(e,t=[0,0])=>{var s,a;const{x:n,y:o}=lh(e)?e.internals.positionAbsolute:Vs(e,t);return{x:n,y:o,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:o+(((a=e.measured)==null?void 0:a.height)??e.height??e.initialHeight??0)}},gx=(e,t)=>cu(uu(Sd(e),Sd(t))),ks=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},oy=e=>fn(e.width)&&fn(e.height)&&fn(e.x)&&fn(e.y),fn=e=>!isNaN(e)&&isFinite(e),E2=(e,t)=>{},fu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Fs=({x:e,y:t},[n,o,s],a=!1,u=[1,1])=>{const c={x:(e-n)/s,y:(t-o)/s};return a?fu(c,u):c},yx=({x:e,y:t},[n,o,s])=>({x:e*s+n,y:t*s+o}),uh=(e,t,n,o,s,a)=>{const u=t/(e.width*(1+a)),c=n/(e.height*(1+a)),f=Math.min(u,c),h=Qi(f,o,s),p=e.x+e.width/2,m=e.y+e.height/2,g=t/2-p*h,v=n/2-m*h;return{x:g,y:v,zoom:h}},Yl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ji(e){return e!==void 0&&e!=="parent"}function Kn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function vx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function xx(e,t={width:0,height:0},n,o,s){const a={...e},u=o.get(n);if(u){const c=u.origin||s;a.x+=u.internals.positionAbsolute.x-(t.width??0)*c[0],a.y+=u.internals.positionAbsolute.y-(t.height??0)*c[1]}return a}function sy(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function fs(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:s}){const{x:a,y:u}=Vn(e),c=Fs({x:a-((s==null?void 0:s.left)??0),y:u-((s==null?void 0:s.top)??0)},o),{x:f,y:h}=n?fu(c,t):c;return{xSnapped:f,ySnapped:h,...c}}const du=e=>({width:e.offsetWidth,height:e.offsetHeight}),wx=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},C2=["INPUT","SELECT","TEXTAREA"];function Ed(e){var o,s;const t=((s=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:C2.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Sx=e=>"clientX"in e,Vn=(e,t)=>{var a,u;const n=Sx(e),o=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,s=n?e.clientY:(u=e.touches)==null?void 0:u[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},ay=(e,t,n,o,s)=>{const a=t.querySelectorAll(`.${e}`);return!a||!a.length?null:Array.from(a).map(u=>{const c=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:e,nodeId:s,position:u.getAttribute("data-handlepos"),x:(c.left-n.left)/o,y:(c.top-n.top)/o,...du(u)}})};function Ex({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:c}){const f=e*.125+s*.375+u*.375+n*.125,h=t*.125+a*.375+c*.375+o*.125,p=Math.abs(f-e),m=Math.abs(h-t);return[f,h,p,m]}function vl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ly({pos:e,x1:t,y1:n,x2:o,y2:s,c:a}){switch(e){case ye.Left:return[t-vl(t-o,a),n];case ye.Right:return[t+vl(o-t,a),n];case ye.Top:return[t,n-vl(n-s,a)];case ye.Bottom:return[t,n+vl(s-n,a)]}}function Cx({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:o,targetY:s,targetPosition:a=ye.Top,curvature:u=.25}){const[c,f]=ly({pos:n,x1:e,y1:t,x2:o,y2:s,c:u}),[h,p]=ly({pos:a,x1:o,y1:s,x2:e,y2:t,c:u}),[m,g,v,w]=Ex({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${e},${t} C${c},${f} ${h},${p} ${o},${s}`,m,g,v,w]}function kx({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,a=n<e?n+s:n-s,u=Math.abs(o-t)/2,c=o<t?o+u:o-u;return[a,c,s,u]}function k2({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:s=!1}){if(!s)return o;const a=n||t.selected||e.selected,u=Math.max(e.internals.z||0,t.internals.z||0,1e3);return o+(a?u:0)}function b2({sourceNode:e,targetNode:t,width:n,height:o,transform:s}){const a=uu(Kl(e),Kl(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const u={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:o/s[2]};return ks(u,cu(a))>0}const N2=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,P2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),bx=(e,t)=>{if(!e.source||!e.target)return t;let n;return fx(e)?n={...e}:n={...e,id:N2(e)},P2(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Nx({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[s,a,u,c]=kx({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,s,a,u,c]}const uy={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},T2=({source:e,sourcePosition:t=ye.Bottom,target:n})=>t===ye.Left||t===ye.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},cy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _2({source:e,sourcePosition:t=ye.Bottom,target:n,targetPosition:o=ye.Top,center:s,offset:a}){const u=uy[t],c=uy[o],f={x:e.x+u.x*a,y:e.y+u.y*a},h={x:n.x+c.x*a,y:n.y+c.y*a},p=T2({source:f,sourcePosition:t,target:h}),m=p.x!==0?"x":"y",g=p[m];let v=[],w,S;const E={x:0,y:0},C={x:0,y:0},[T,b,_,M]=kx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[m]*c[m]===-1){w=s.x??T,S=s.y??b;const I=[{x:w,y:f.y},{x:w,y:h.y}],z=[{x:f.x,y:S},{x:h.x,y:S}];u[m]===g?v=m==="x"?I:z:v=m==="x"?z:I}else{const I=[{x:f.x,y:h.y}],z=[{x:h.x,y:f.y}];if(m==="x"?v=u.x===g?z:I:v=u.y===g?I:z,t===o){const J=Math.abs(e[m]-n[m]);if(J<=a){const R=Math.min(a-1,a-J);u[m]===g?E[m]=(f[m]>e[m]?-1:1)*R:C[m]=(h[m]>n[m]?-1:1)*R}}if(t!==o){const J=m==="x"?"y":"x",R=u[m]===c[J],V=f[J]>h[J],L=f[J]<h[J];(u[m]===1&&(!R&&V||R&&L)||u[m]!==1&&(!R&&L||R&&V))&&(v=m==="x"?I:z)}const K={x:f.x+E.x,y:f.y+E.y},Y={x:h.x+C.x,y:h.y+C.y},ee=Math.max(Math.abs(K.x-v[0].x),Math.abs(Y.x-v[0].x)),q=Math.max(Math.abs(K.y-v[0].y),Math.abs(Y.y-v[0].y));ee>=q?(w=(K.x+Y.x)/2,S=v[0].y):(w=v[0].x,S=(K.y+Y.y)/2)}return[[e,{x:f.x+E.x,y:f.y+E.y},...v,{x:h.x+C.x,y:h.y+C.y},n],w,S,_,M]}function R2(e,t,n,o){const s=Math.min(cy(e,t)/2,cy(t,n)/2,o),{x:a,y:u}=t;if(e.x===a&&a===n.x||e.y===u&&u===n.y)return`L${a} ${u}`;if(e.y===u){const h=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${a+s*h},${u}Q ${a},${u} ${a},${u+s*p}`}const c=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${a},${u+s*f}Q ${a},${u} ${a+s*c},${u}`}function Cd({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:o,targetY:s,targetPosition:a=ye.Top,borderRadius:u=5,centerX:c,centerY:f,offset:h=20}){const[p,m,g,v,w]=_2({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:s},targetPosition:a,center:{x:c,y:f},offset:h});return[p.reduce((E,C,T)=>{let b="";return T>0&&T<p.length-1?b=R2(p[T-1],C,p[T+1],u):b=`${T===0?"M":"L"}${C.x} ${C.y}`,E+=b,E},""),m,g,v,w]}function fy(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function A2(e){var m;const{sourceNode:t,targetNode:n}=e;if(!fy(t)||!fy(n))return null;const o=t.internals.handleBounds||dy(t.handles),s=n.internals.handleBounds||dy(n.handles),a=hy((o==null?void 0:o.source)??[],e.sourceHandle),u=hy(e.connectionMode===Gi.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!a||!u)return(m=e.onError)==null||m.call(e,"008",Wn.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const c=(a==null?void 0:a.position)||ye.Bottom,f=(u==null?void 0:u.position)||ye.Top,h=bs(t,a,c),p=bs(n,u,f);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:c,targetPosition:f}}function dy(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function bs(e,t,n=ye.Left,o=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,a=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:u,height:c}=t??Kn(e);if(o)return{x:s+u/2,y:a+c/2};switch((t==null?void 0:t.position)??n){case ye.Top:return{x:s+u/2,y:a};case ye.Right:return{x:s+u,y:a+c/2};case ye.Bottom:return{x:s+u/2,y:a+c};case ye.Left:return{x:s,y:a+c/2}}}function hy(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function kd(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function D2(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:s}){const a=new Set;return e.reduce((u,c)=>([c.markerStart||o,c.markerEnd||s].forEach(f=>{if(f&&typeof f=="object"){const h=kd(f,t);a.has(h)||(u.push({id:h,color:f.color||n,...f}),a.add(h))}}),u),[]).sort((u,c)=>u.id.localeCompare(c.id))}function M2(e,t,n,o,s){let a=.5;s==="start"?a=0:s==="end"&&(a=1);let u=[(e.x+e.width*a)*t.zoom+t.x,e.y*t.zoom+t.y-o],c=[-100*a,-100];switch(n){case ye.Right:u=[(e.x+e.width)*t.zoom+t.x+o,(e.y+e.height*a)*t.zoom+t.y],c=[0,-100*a];break;case ye.Bottom:u[1]=(e.y+e.height)*t.zoom+t.y+o,c[1]=0;break;case ye.Left:u=[e.x*t.zoom+t.x-o,(e.y+e.height*a)*t.zoom+t.y],c=[-100,-100*a];break}return`translate(${u[0]}px, ${u[1]}px) translate(${c[0]}%, ${c[1]}%)`}const ch={nodeOrigin:[0,0],nodeExtent:Es,elevateNodesOnSelect:!0,defaults:{}},j2={...ch,checkEquality:!0};function fh(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function L2(e,t,n){const o=fh(ch,n);for(const s of e.values())if(s.parentId)dh(s,e,t,o);else{const a=Vs(s,o.nodeOrigin),u=Ji(s.extent)?s.extent:o.nodeExtent,c=ii(a,u,Kn(s));s.internals.positionAbsolute=c}}function bd(e,t,n,o){var c,f;const s=fh(j2,o),a=new Map(t),u=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const h of e){let p=a.get(h.id);if(s.checkEquality&&h===(p==null?void 0:p.internals.userNode))t.set(h.id,p);else{const m=Vs(h,s.nodeOrigin),g=Ji(h.extent)?h.extent:s.nodeExtent,v=ii(m,g,Kn(h));p={...s.defaults,...h,measured:{width:(c=h.measured)==null?void 0:c.width,height:(f=h.measured)==null?void 0:f.height},internals:{positionAbsolute:v,handleBounds:h.measured?p==null?void 0:p.internals.handleBounds:void 0,z:Px(h,u),userNode:h}},t.set(h.id,p)}h.parentId&&dh(p,t,n,o)}}function I2(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function dh(e,t,n,o){const{elevateNodesOnSelect:s,nodeOrigin:a,nodeExtent:u}=fh(ch,o),c=e.parentId,f=t.get(c);if(!f){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}I2(e,n);const h=s?1e3:0,{x:p,y:m,z:g}=$2(e,f,a,u,h),{positionAbsolute:v}=e.internals,w=p!==v.x||m!==v.y;(w||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:p,y:m}:v,z:g}})}function Px(e,t){return(fn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function $2(e,t,n,o,s){const{x:a,y:u}=t.internals.positionAbsolute,c=Kn(e),f=Vs(e,n),h=Ji(e.extent)?ii(f,e.extent,c):f;let p=ii({x:a+h.x,y:u+h.y},o,c);e.extent==="parent"&&(p=px(p,c,t));const m=Px(e,s),g=t.internals.z??0;return{x:p.x,y:p.y,z:g>m?g:m}}function hh(e,t,n,o=[0,0]){var u;const s=[],a=new Map;for(const c of e){const f=t.get(c.parentId);if(!f)continue;const h=((u=a.get(c.parentId))==null?void 0:u.expandedRect)??Zi(f),p=gx(h,c.rect);a.set(c.parentId,{expandedRect:p,parent:f})}return a.size>0&&a.forEach(({expandedRect:c,parent:f},h)=>{var b;const p=f.internals.positionAbsolute,m=Kn(f),g=f.origin??o,v=c.x<p.x?Math.round(Math.abs(p.x-c.x)):0,w=c.y<p.y?Math.round(Math.abs(p.y-c.y)):0,S=Math.max(m.width,Math.round(c.width)),E=Math.max(m.height,Math.round(c.height)),C=(S-m.width)*g[0],T=(E-m.height)*g[1];(v>0||w>0||C||T)&&(s.push({id:h,type:"position",position:{x:f.position.x-v+C,y:f.position.y-w+T}}),(b=n.get(h))==null||b.forEach(_=>{e.some(M=>M.id===_.id)||s.push({id:_.id,type:"position",position:{x:_.position.x+v,y:_.position.y+w}})})),(m.width<c.width||m.height<c.height||v||w)&&s.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:S+(v?g[0]*v-C:0),height:E+(w?g[1]*w-T:0)}})}),s}function O2(e,t,n,o,s,a){const u=o==null?void 0:o.querySelector(".xyflow__viewport");let c=!1;if(!u)return{changes:[],updatedInternals:c};const f=[],h=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(h.transform),m=[];for(const g of e.values()){const v=t.get(g.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),c=!0;continue}const w=du(g.nodeElement),S=v.measured.width!==w.width||v.measured.height!==w.height;if(!!(w.width&&w.height&&(S||!v.internals.handleBounds||g.force))){const C=g.nodeElement.getBoundingClientRect(),T=Ji(v.extent)?v.extent:a;let{positionAbsolute:b}=v.internals;v.parentId&&v.extent==="parent"?b=px(b,w,t.get(v.parentId)):T&&(b=ii(b,T,w));const _={...v,measured:w,internals:{...v.internals,positionAbsolute:b,handleBounds:{source:ay("source",g.nodeElement,C,p,v.id),target:ay("target",g.nodeElement,C,p,v.id)}}};t.set(v.id,_),v.parentId&&dh(_,t,n,{nodeOrigin:s}),c=!0,S&&(f.push({id:v.id,type:"dimensions",dimensions:w}),v.expandParent&&v.parentId&&m.push({id:v.id,parentId:v.parentId,rect:Zi(_,s)}))}}if(m.length>0){const g=hh(m,t,n,s);f.push(...g)}return{changes:f,updatedInternals:c}}async function V2({delta:e,panZoom:t,transform:n,translateExtent:o,width:s,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const u=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,a]],o),c=!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2]);return Promise.resolve(c)}function py(e,t,n,o,s,a){let u=s;const c=o.get(u)||new Map;o.set(u,c.set(n,t)),u=`${s}-${e}`;const f=o.get(u)||new Map;if(o.set(u,f.set(n,t)),a){u=`${s}-${e}-${a}`;const h=o.get(u)||new Map;o.set(u,h.set(n,t))}}function Tx(e,t,n){e.clear(),t.clear();for(const o of n){const{source:s,target:a,sourceHandle:u=null,targetHandle:c=null}=o,f={edgeId:o.id,source:s,target:a,sourceHandle:u,targetHandle:c},h=`${s}-${u}--${a}-${c}`,p=`${a}-${c}--${s}-${u}`;py("source",f,p,e,s,u),py("target",f,h,e,a,c),t.set(o.id,o)}}function _x(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:_x(n,t):!1}function my(e,t,n){var s;let o=e;do{if((s=o==null?void 0:o.matches)!=null&&s.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function F2(e,t,n,o){const s=new Map;for(const[a,u]of e)if((u.selected||u.id===o)&&(!u.parentId||!_x(u,e))&&(u.draggable||t&&typeof u.draggable>"u")){const c=e.get(a);c&&s.set(a,{id:a,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return s}function $f({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var u,c,f;const s=[];for(const[h,p]of t){const m=(u=n.get(h))==null?void 0:u.internals.userNode;m&&s.push({...m,position:p.position,dragging:o})}if(!e)return[s[0],s];const a=(c=n.get(e))==null?void 0:c.internals.userNode;return[a?{...a,position:((f=t.get(e))==null?void 0:f.position)||a.position,dragging:o}:s[0],s]}function z2({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:s}){let a={x:null,y:null},u=0,c=new Map,f=!1,h={x:0,y:0},p=null,m=!1,g=null,v=!1;function w({noDragClassName:E,handleSelector:C,domNode:T,isSelectable:b,nodeId:_,nodeClickDistance:M=0}){g=Bt(T);function $({x:Y,y:ee},q){const{nodeLookup:J,nodeExtent:R,snapGrid:V,snapToGrid:L,nodeOrigin:U,onNodeDrag:D,onSelectionDrag:O,onError:B,updateNodePositions:A}=t();a={x:Y,y:ee};let W=!1,ae={x:0,y:0,x2:0,y2:0};if(c.size>1&&R){const ne=ro(c);ae=Sd(ne)}for(const[ne,le]of c){if(!J.has(ne))continue;let ce={x:Y-le.distance.x,y:ee-le.distance.y};L&&(ce=fu(ce,V));let oe=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];if(c.size>1&&R&&!le.extent){const{positionAbsolute:Se}=le.internals,ke=Se.x-ae.x+R[0][0],he=Se.x+le.measured.width-ae.x2+R[1][0],Re=Se.y-ae.y+R[0][1],Ie=Se.y+le.measured.height-ae.y2+R[1][1];oe=[[ke,Re],[he,Ie]]}const{position:te,positionAbsolute:se}=hx({nodeId:ne,nextPosition:ce,nodeLookup:J,nodeExtent:oe,nodeOrigin:U,onError:B});W=W||le.position.x!==te.x||le.position.y!==te.y,le.position=te,le.internals.positionAbsolute=se}if(W&&(A(c,!0),q&&(o||D||!_&&O))){const[ne,le]=$f({nodeId:_,dragItems:c,nodeLookup:J});o==null||o(q,c,ne,le),D==null||D(q,ne,le),_||O==null||O(q,le)}}async function I(){if(!p)return;const{transform:Y,panBy:ee,autoPanSpeed:q,autoPanOnNodeDrag:J}=t();if(!J){f=!1,cancelAnimationFrame(u);return}const[R,V]=mx(h,p,q);(R!==0||V!==0)&&(a.x=(a.x??0)-R/Y[2],a.y=(a.y??0)-V/Y[2],await ee({x:R,y:V})&&$(a,null)),u=requestAnimationFrame(I)}function z(Y){var W;const{nodeLookup:ee,multiSelectionActive:q,nodesDraggable:J,transform:R,snapGrid:V,snapToGrid:L,selectNodesOnDrag:U,onNodeDragStart:D,onSelectionDragStart:O,unselectNodesAndEdges:B}=t();m=!0,(!U||!b)&&!q&&_&&((W=ee.get(_))!=null&&W.selected||B()),b&&U&&_&&(e==null||e(_));const A=fs(Y.sourceEvent,{transform:R,snapGrid:V,snapToGrid:L,containerBounds:p});if(a=A,c=F2(ee,J,A,_),c.size>0&&(n||D||!_&&O)){const[ae,ne]=$f({nodeId:_,dragItems:c,nodeLookup:ee});n==null||n(Y.sourceEvent,c,ae,ne),D==null||D(Y.sourceEvent,ae,ne),_||O==null||O(Y.sourceEvent,ne)}}const K=Kv().clickDistance(M).on("start",Y=>{const{domNode:ee,nodeDragThreshold:q,transform:J,snapGrid:R,snapToGrid:V}=t();p=(ee==null?void 0:ee.getBoundingClientRect())||null,v=!1,q===0&&z(Y),a=fs(Y.sourceEvent,{transform:J,snapGrid:R,snapToGrid:V,containerBounds:p}),h=Vn(Y.sourceEvent,p)}).on("drag",Y=>{const{autoPanOnNodeDrag:ee,transform:q,snapGrid:J,snapToGrid:R,nodeDragThreshold:V,nodeLookup:L}=t(),U=fs(Y.sourceEvent,{transform:q,snapGrid:J,snapToGrid:R,containerBounds:p});if((Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||_&&!L.has(_))&&(v=!0),!v){if(!f&&ee&&m&&(f=!0,I()),!m){const D=U.xSnapped-(a.x??0),O=U.ySnapped-(a.y??0);Math.sqrt(D*D+O*O)>V&&z(Y)}(a.x!==U.xSnapped||a.y!==U.ySnapped)&&c&&m&&(h=Vn(Y.sourceEvent,p),$(U,Y.sourceEvent))}}).on("end",Y=>{if(!(!m||v)&&(f=!1,m=!1,cancelAnimationFrame(u),c.size>0)){const{nodeLookup:ee,updateNodePositions:q,onNodeDragStop:J,onSelectionDragStop:R}=t();if(q(c,!1),s||J||!_&&R){const[V,L]=$f({nodeId:_,dragItems:c,nodeLookup:ee,dragging:!1});s==null||s(Y.sourceEvent,c,V,L),J==null||J(Y.sourceEvent,V,L),_||R==null||R(Y.sourceEvent,L)}}}).filter(Y=>{const ee=Y.target;return!Y.button&&(!E||!my(ee,`.${E}`,T))&&(!C||my(ee,C,T))});g.call(K)}function S(){g==null||g.on(".drag",null)}return{update:w,destroy:S}}function B2(e,t,n){const o=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const a of t.values())ks(s,Zi(a))>0&&o.push(a);return o}const U2=250;function H2(e,t,n,o){var c,f;let s=[],a=1/0;const u=B2(e,n,t+U2);for(const h of u){const p=[...((c=h.internals.handleBounds)==null?void 0:c.source)??[],...((f=h.internals.handleBounds)==null?void 0:f.target)??[]];for(const m of p){if(o.nodeId===m.nodeId&&o.type===m.type&&o.id===m.id)continue;const{x:g,y:v}=bs(h,m,m.position,!0),w=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(v-e.y,2));w>t||(w<a?(s=[{...m,x:g,y:v}],a=w):w===a&&s.push({...m,x:g,y:v}))}}if(!s.length)return null;if(s.length>1){const h=o.type==="source"?"target":"source";return s.find(p=>p.type===h)??s[0]}return s[0]}function Rx(e,t,n,o,s,a=!1){var h,p,m;const u=o.get(e);if(!u)return null;const c=s==="strict"?(h=u.internals.handleBounds)==null?void 0:h[t]:[...((p=u.internals.handleBounds)==null?void 0:p.source)??[],...((m=u.internals.handleBounds)==null?void 0:m.target)??[]],f=(n?c==null?void 0:c.find(g=>g.id===n):c==null?void 0:c[0])??null;return f&&a?{...f,...bs(u,f,f.position,!0)}:f}function Ax(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function W2(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Dx=()=>!0;function K2(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:s,edgeUpdaterType:a,isTarget:u,domNode:c,nodeLookup:f,lib:h,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:v,onConnectStart:w,onConnect:S,onConnectEnd:E,isValidConnection:C=Dx,onReconnectEnd:T,updateConnection:b,getTransform:_,getFromHandle:M,autoPanSpeed:$}){const I=wx(e.target);let z=0,K;const{x:Y,y:ee}=Vn(e),q=I==null?void 0:I.elementFromPoint(Y,ee),J=Ax(a,q),R=c==null?void 0:c.getBoundingClientRect();if(!R||!J)return;const V=Rx(s,J,o,f,t);if(!V)return;let L=Vn(e,R),U=!1,D=null,O=!1,B=null;function A(){if(!p||!R)return;const[se,Se]=mx(L,R,$);g({x:se,y:Se}),z=requestAnimationFrame(A)}const W={...V,nodeId:s,type:J,position:V.position},ae=f.get(s),le={inProgress:!0,isValid:null,from:bs(ae,W,ye.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:ae,to:L,toHandle:null,toPosition:ry[W.position],toNode:null};b(le);let ce=le;w==null||w(e,{nodeId:s,handleId:o,handleType:J});function oe(se){if(!M()||!W){te(se);return}const Se=_();L=Vn(se,R),K=H2(Fs(L,Se,!1,[1,1]),n,f,W),U||(A(),U=!0);const ke=Mx(se,{handle:K,connectionMode:t,fromNodeId:s,fromHandleId:o,fromType:u?"target":"source",isValidConnection:C,doc:I,lib:h,flowId:m,nodeLookup:f});B=ke.handleDomNode,D=ke.connection,O=W2(!!K,ke.isValid);const he={...ce,isValid:O,to:K&&O?yx({x:K.x,y:K.y},Se):L,toHandle:ke.toHandle,toPosition:O&&ke.toHandle?ke.toHandle.position:ry[W.position],toNode:ke.toHandle?f.get(ke.toHandle.nodeId):null};O&&K&&ce.toHandle&&he.toHandle&&ce.toHandle.type===he.toHandle.type&&ce.toHandle.nodeId===he.toHandle.nodeId&&ce.toHandle.id===he.toHandle.id&&ce.to.x===he.to.x&&ce.to.y===he.to.y||(b(he),ce=he)}function te(se){(K||B)&&D&&O&&(S==null||S(D));const{inProgress:Se,...ke}=ce,he={...ke,toPosition:ce.toHandle?ce.toPosition:null};E==null||E(se,he),a&&(T==null||T(se,he)),v(),cancelAnimationFrame(z),U=!1,O=!1,D=null,B=null,I.removeEventListener("mousemove",oe),I.removeEventListener("mouseup",te),I.removeEventListener("touchmove",oe),I.removeEventListener("touchend",te)}I.addEventListener("mousemove",oe),I.addEventListener("mouseup",te),I.addEventListener("touchmove",oe),I.addEventListener("touchend",te)}function Mx(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:s,fromType:a,doc:u,lib:c,flowId:f,isValidConnection:h=Dx,nodeLookup:p}){const m=a==="target",g=t?u.querySelector(`.${c}-flow__handle[data-id="${f}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y:w}=Vn(e),S=u.elementFromPoint(v,w),E=S!=null&&S.classList.contains(`${c}-flow__handle`)?S:g,C={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const T=Ax(void 0,E),b=E.getAttribute("data-nodeid"),_=E.getAttribute("data-handleid"),M=E.classList.contains("connectable"),$=E.classList.contains("connectableend");if(!b||!T)return C;const I={source:m?b:o,sourceHandle:m?_:s,target:m?o:b,targetHandle:m?s:_};C.connection=I;const K=M&&$&&(n===Gi.Strict?m&&T==="source"||!m&&T==="target":b!==o||_!==s);C.isValid=K&&h(I),C.toHandle=Rx(b,T,_,p,n,!1)}return C}const Nd={onPointerDown:K2,isValid:Mx};function Y2({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const s=Bt(e);function a({translateExtent:c,width:f,height:h,zoomStep:p=10,pannable:m=!0,zoomable:g=!0,inversePan:v=!1}){const w=b=>{const _=n();if(b.sourceEvent.type!=="wheel"||!t)return;const M=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*p,$=_[2]*Math.pow(2,M);t.scaleTo($)};let S=[0,0];const E=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(S=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},C=b=>{const _=n();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const M=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],$=[M[0]-S[0],M[1]-S[1]];S=M;const I=o()*Math.max(_[2],Math.log(_[2]))*(v?-1:1),z={x:_[0]-$[0]*I,y:_[1]-$[1]*I},K=[[0,0],[f,h]];t.setViewportConstrained({x:z.x,y:z.y,zoom:_[2]},K,c)},T=ax().on("start",E).on("zoom",m?C:null).on("zoom.wheel",g?w:null);s.call(T,{})}function u(){s.on("zoom",null)}return{update:a,destroy:u,pointer:un}}const X2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,hu=e=>({x:e.x,y:e.y,zoom:e.k}),Of=({x:e,y:t,zoom:n})=>lu.translate(e,t).scale(n),Vi=(e,t)=>e.target.closest(`.${t}`),jx=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Vf=(e,t=0,n=()=>{})=>{const o=typeof t=="number"&&t>0;return o||n(),o?e.transition().duration(t).on("end",n):e},Lx=e=>{const t=e.ctrlKey&&Yl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function q2({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:s,panOnScrollSpeed:a,zoomOnPinch:u,onPanZoomStart:c,onPanZoom:f,onPanZoomEnd:h}){return p=>{if(Vi(p,t))return!1;p.preventDefault(),p.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(p.ctrlKey&&u){const E=un(p),C=Lx(p),T=m*Math.pow(2,C);o.scaleTo(n,T,E,p);return}const g=p.deltaMode===1?20:1;let v=s===ei.Vertical?0:p.deltaX*g,w=s===ei.Horizontal?0:p.deltaY*g;!Yl()&&p.shiftKey&&s!==ei.Vertical&&(v=p.deltaY*g,w=0),o.translateBy(n,-(v/m)*a,-(w/m)*a,{internal:!0});const S=hu(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,c==null||c(p,S)),e.isPanScrolling&&(f==null||f(p,S),e.panScrollTimeout=setTimeout(()=>{h==null||h(p,S),e.isPanScrolling=!1},150))}}function G2({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,s){if(!t&&o.type==="wheel"&&!o.ctrlKey||Vi(o,e))return null;o.preventDefault(),n.call(this,o,s)}}function Q2({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var a,u,c;if((a=o.sourceEvent)!=null&&a.internal)return;const s=hu(o.transform);e.mouseButton=((u=o.sourceEvent)==null?void 0:u.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((c=o.sourceEvent)==null?void 0:c.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,s))}}function Z2({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:s}){return a=>{var u,c;e.usedRightMouseButton=!!(n&&jx(t,e.mouseButton??0)),(u=a.sourceEvent)!=null&&u.sync||o([a.transform.x,a.transform.y,a.transform.k]),s&&!((c=a.sourceEvent)!=null&&c.internal)&&(s==null||s(a.sourceEvent,hu(a.transform)))}}function J2({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:s,onPaneContextMenu:a}){return u=>{var c;if(!((c=u.sourceEvent)!=null&&c.internal)&&(e.isZoomingOrPanning=!1,a&&jx(t,e.mouseButton??0)&&!e.usedRightMouseButton&&u.sourceEvent&&a(u.sourceEvent),e.usedRightMouseButton=!1,o(!1),s&&X2(e.prevViewport,u.transform))){const f=hu(u.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(u.sourceEvent,f)},n?150:0)}}}function eP({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:s,zoomOnDoubleClick:a,userSelectionActive:u,noWheelClassName:c,noPanClassName:f,lib:h}){return p=>{var w;const m=e||t,g=n&&p.ctrlKey;if(p.button===1&&p.type==="mousedown"&&(Vi(p,`${h}-flow__node`)||Vi(p,`${h}-flow__edge`)))return!0;if(!o&&!m&&!s&&!a&&!n||u||Vi(p,c)&&p.type==="wheel"||Vi(p,f)&&(p.type!=="wheel"||s&&p.type==="wheel"&&!e)||!n&&p.ctrlKey&&p.type==="wheel")return!1;if(!n&&p.type==="touchstart"&&((w=p.touches)==null?void 0:w.length)>1)return p.preventDefault(),!1;if(!m&&!s&&!g&&p.type==="wheel"||!o&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(o)&&!o.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(o)&&o.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||p.type==="wheel")&&v}}function tP({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:o,translateExtent:s,viewport:a,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:f,onDraggingChange:h}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=e.getBoundingClientRect(),g=ax().clickDistance(!fn(o)||o<0?0:o).scaleExtent([t,n]).translateExtent(s),v=Bt(e).call(g);b({x:a.x,y:a.y,zoom:Qi(a.zoom,t,n)},[[0,0],[m.width,m.height]],s);const w=v.on("wheel.zoom"),S=v.on("dblclick.zoom");g.wheelDelta(Lx);function E(q,J){return v?new Promise(R=>{g==null||g.transform(Vf(v,J==null?void 0:J.duration,()=>R(!0)),q)}):Promise.resolve(!1)}function C({noWheelClassName:q,noPanClassName:J,onPaneContextMenu:R,userSelectionActive:V,panOnScroll:L,panOnDrag:U,panOnScrollMode:D,panOnScrollSpeed:O,preventScrolling:B,zoomOnPinch:A,zoomOnScroll:W,zoomOnDoubleClick:ae,zoomActivationKeyPressed:ne,lib:le,onTransformChange:ce}){V&&!p.isZoomingOrPanning&&T();const te=L&&!ne&&!V?q2({zoomPanValues:p,noWheelClassName:q,d3Selection:v,d3Zoom:g,panOnScrollMode:D,panOnScrollSpeed:O,zoomOnPinch:A,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:f}):G2({noWheelClassName:q,preventScrolling:B,d3ZoomHandler:w});if(v.on("wheel.zoom",te,{passive:!1}),!V){const Se=Q2({zoomPanValues:p,onDraggingChange:h,onPanZoomStart:c});g.on("start",Se);const ke=Z2({zoomPanValues:p,panOnDrag:U,onPaneContextMenu:!!R,onPanZoom:u,onTransformChange:ce});g.on("zoom",ke);const he=J2({zoomPanValues:p,panOnDrag:U,panOnScroll:L,onPaneContextMenu:R,onPanZoomEnd:f,onDraggingChange:h});g.on("end",he)}const se=eP({zoomActivationKeyPressed:ne,panOnDrag:U,zoomOnScroll:W,panOnScroll:L,zoomOnDoubleClick:ae,zoomOnPinch:A,userSelectionActive:V,noPanClassName:J,noWheelClassName:q,lib:le});g.filter(se),ae?v.on("dblclick.zoom",S):v.on("dblclick.zoom",null)}function T(){g.on("zoom",null)}async function b(q,J,R){const V=Of(q),L=g==null?void 0:g.constrain()(V,J,R);return L&&await E(L),new Promise(U=>U(L))}async function _(q,J){const R=Of(q);return await E(R,J),new Promise(V=>V(R))}function M(q){if(v){const J=Of(q),R=v.property("__zoom");(R.k!==q.zoom||R.x!==q.x||R.y!==q.y)&&(g==null||g.transform(v,J,null,{sync:!0}))}}function $(){const q=v?sx(v.node()):{x:0,y:0,k:1};return{x:q.x,y:q.y,zoom:q.k}}function I(q,J){return v?new Promise(R=>{g==null||g.scaleTo(Vf(v,J==null?void 0:J.duration,()=>R(!0)),q)}):Promise.resolve(!1)}function z(q,J){return v?new Promise(R=>{g==null||g.scaleBy(Vf(v,J==null?void 0:J.duration,()=>R(!0)),q)}):Promise.resolve(!1)}function K(q){g==null||g.scaleExtent(q)}function Y(q){g==null||g.translateExtent(q)}function ee(q){const J=!fn(q)||q<0?0:q;g==null||g.clickDistance(J)}return{update:C,destroy:T,setViewport:_,setViewportConstrained:b,getViewport:$,scaleTo:I,scaleBy:z,setScaleExtent:K,setTranslateExtent:Y,syncViewport:M,setClickDistance:ee}}var ds;(function(e){e.Line="line",e.Handle="handle"})(ds||(ds={}));function nP({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:s,affectsY:a}){const u=e-t,c=n-o,f=[u>0?1:u<0?-1:0,c>0?1:c<0?-1:0];return u&&s&&(f[0]=f[0]*-1),c&&a&&(f[1]=f[1]*-1),f}function rP(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:s}}function yr(e,t){return Math.max(0,t-e)}function vr(e,t){return Math.max(0,e-t)}function xl(e,t,n){return Math.max(0,t-e,e-n)}function gy(e,t){return e?!t:t}function iP(e,t,n,o,s,a,u,c){let{affectsX:f,affectsY:h}=t;const{isHorizontal:p,isVertical:m}=t,g=p&&m,{xSnapped:v,ySnapped:w}=n,{minWidth:S,maxWidth:E,minHeight:C,maxHeight:T}=o,{x:b,y:_,width:M,height:$,aspectRatio:I}=e;let z=Math.floor(p?v-e.pointerX:0),K=Math.floor(m?w-e.pointerY:0);const Y=M+(f?-z:z),ee=$+(h?-K:K),q=-a[0]*M,J=-a[1]*$;let R=xl(Y,S,E),V=xl(ee,C,T);if(u){let D=0,O=0;f&&z<0?D=yr(b+z+q,u[0][0]):!f&&z>0&&(D=vr(b+Y+q,u[1][0])),h&&K<0?O=yr(_+K+J,u[0][1]):!h&&K>0&&(O=vr(_+ee+J,u[1][1])),R=Math.max(R,D),V=Math.max(V,O)}if(c){let D=0,O=0;f&&z>0?D=vr(b+z,c[0][0]):!f&&z<0&&(D=yr(b+Y,c[1][0])),h&&K>0?O=vr(_+K,c[0][1]):!h&&K<0&&(O=yr(_+ee,c[1][1])),R=Math.max(R,D),V=Math.max(V,O)}if(s){if(p){const D=xl(Y/I,C,T)*I;if(R=Math.max(R,D),u){let O=0;!f&&!h||f&&!h&&g?O=vr(_+J+Y/I,u[1][1])*I:O=yr(_+J+(f?z:-z)/I,u[0][1])*I,R=Math.max(R,O)}if(c){let O=0;!f&&!h||f&&!h&&g?O=yr(_+Y/I,c[1][1])*I:O=vr(_+(f?z:-z)/I,c[0][1])*I,R=Math.max(R,O)}}if(m){const D=xl(ee*I,S,E)/I;if(V=Math.max(V,D),u){let O=0;!f&&!h||h&&!f&&g?O=vr(b+ee*I+q,u[1][0])/I:O=yr(b+(h?K:-K)*I+q,u[0][0])/I,V=Math.max(V,O)}if(c){let O=0;!f&&!h||h&&!f&&g?O=yr(b+ee*I,c[1][0])/I:O=vr(b+(h?K:-K)*I,c[0][0])/I,V=Math.max(V,O)}}}K=K+(K<0?V:-V),z=z+(z<0?R:-R),s&&(g?Y>ee*I?K=(gy(f,h)?-z:z)/I:z=(gy(f,h)?-K:K)*I:p?(K=z/I,h=f):(z=K*I,f=h));const L=f?b+z:b,U=h?_+K:_;return{width:M+(f?-z:z),height:$+(h?-K:K),x:a[0]*z*(f?-1:1)+L,y:a[1]*K*(h?-1:1)+U}}const Ix={width:0,height:0,x:0,y:0},oP={...Ix,pointerX:0,pointerY:0,aspectRatio:1};function sP(e){return[[0,0],[e.measured.width,e.measured.height]]}function aP(e,t,n){const o=t.position.x+e.position.x,s=t.position.y+e.position.y,a=e.measured.width??0,u=e.measured.height??0,c=n[0]*a,f=n[1]*u;return[[o-c,s-f],[o+a-c,s+u-f]]}function lP({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:s}){const a=Bt(e);function u({controlPosition:f,boundaries:h,keepAspectRatio:p,onResizeStart:m,onResize:g,onResizeEnd:v,shouldResize:w}){let S={...Ix},E={...oP};const C=rP(f);let T,b=null,_=[],M,$,I;const z=Kv().on("start",K=>{const{nodeLookup:Y,transform:ee,snapGrid:q,snapToGrid:J,nodeOrigin:R,paneDomNode:V}=n();if(T=Y.get(t),!T)return;b=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:U}=fs(K.sourceEvent,{transform:ee,snapGrid:q,snapToGrid:J,containerBounds:b});S={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},E={...S,pointerX:L,pointerY:U,aspectRatio:S.width/S.height},M=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(M=Y.get(T.parentId),$=M&&T.extent==="parent"?sP(M):void 0),_=[],I=void 0;for(const[D,O]of Y)if(O.parentId===t&&(_.push({id:D,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const B=aP(O,T,O.origin??R);I?I=[[Math.min(B[0][0],I[0][0]),Math.min(B[0][1],I[0][1])],[Math.max(B[1][0],I[1][0]),Math.max(B[1][1],I[1][1])]]:I=B}m==null||m(K,{...S})}).on("drag",K=>{const{transform:Y,snapGrid:ee,snapToGrid:q,nodeOrigin:J}=n(),R=fs(K.sourceEvent,{transform:Y,snapGrid:ee,snapToGrid:q,containerBounds:b}),V=[];if(!T)return;const{x:L,y:U,width:D,height:O}=S,B={},A=T.origin??J,{width:W,height:ae,x:ne,y:le}=iP(E,C,R,h,p,A,$,I),ce=W!==D,oe=ae!==O,te=ne!==L&&ce,se=le!==U&&oe;if(!te&&!se&&!ce&&!oe)return;if((te||se||A[0]===1||A[1]===1)&&(B.x=te?ne:S.x,B.y=se?le:S.y,S.x=B.x,S.y=B.y,_.length>0)){const Re=ne-L,Ie=le-U;for(const Ye of _)Ye.position={x:Ye.position.x-Re+A[0]*(W-D),y:Ye.position.y-Ie+A[1]*(ae-O)},V.push(Ye)}if((ce||oe)&&(B.width=ce?W:S.width,B.height=oe?ae:S.height,S.width=B.width,S.height=B.height),M&&T.expandParent){const Re=A[0]*(B.width??0);B.x&&B.x<Re&&(S.x=Re,E.x=E.x-(B.x-Re));const Ie=A[1]*(B.height??0);B.y&&B.y<Ie&&(S.y=Ie,E.y=E.y-(B.y-Ie))}const Se=nP({width:S.width,prevWidth:D,height:S.height,prevHeight:O,affectsX:C.affectsX,affectsY:C.affectsY}),ke={...S,direction:Se};(w==null?void 0:w(K,ke))!==!1&&(g==null||g(K,ke),o(B,V))}).on("end",K=>{v==null||v(K,{...S}),s==null||s()});a.call(z)}function c(){a.on(".drag",null)}return{update:u,destroy:c}}var Ff={exports:{}},zf={},Bf={exports:{}},Uf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function uP(){if(yy)return Uf;yy=1;var e=Is();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,a=e.useLayoutEffect,u=e.useDebugValue;function c(m,g){var v=g(),w=o({inst:{value:v,getSnapshot:g}}),S=w[0].inst,E=w[1];return a(function(){S.value=v,S.getSnapshot=g,f(S)&&E({inst:S})},[m,v,g]),s(function(){return f(S)&&E({inst:S}),m(function(){f(S)&&E({inst:S})})},[m]),u(v),v}function f(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function h(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Uf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Uf}var vy;function cP(){return vy||(vy=1,Bf.exports=uP()),Bf.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function fP(){if(xy)return zf;xy=1;var e=Is(),t=cP();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var o=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,u=e.useEffect,c=e.useMemo,f=e.useDebugValue;return zf.useSyncExternalStoreWithSelector=function(h,p,m,g,v){var w=a(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function C($){if(!T){if(T=!0,b=$,$=g($),v!==void 0&&S.hasValue){var I=S.value;if(v(I,$))return _=I}return _=$}if(I=_,o(b,$))return I;var z=g($);return v!==void 0&&v(I,z)?(b=$,I):(b=$,_=z)}var T=!1,b,_,M=m===void 0?null:m;return[function(){return C(p())},M===null?void 0:function(){return C(M())}]},[p,m,g,v]);var E=s(h,w[0],w[1]);return u(function(){S.hasValue=!0,S.value=E},[E]),f(E),E},zf}var wy;function dP(){return wy||(wy=1,Ff.exports=fP()),Ff.exports}var hP=dP();const pP=eh(hP),Sy=e=>{let t;const n=new Set,o=(p,m)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const v=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(w=>w(t,v))}},s=()=>t,f={setState:o,getState:s,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{n.clear()}},h=t=e(o,s,f);return f},mP=e=>e?Sy(e):Sy,{useDebugValue:gP}=th,{useSyncExternalStoreWithSelector:yP}=pP,vP=e=>e;function $x(e,t=vP,n){const o=yP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return gP(o),o}const Ey=(e,t)=>{const n=mP(e),o=(s,a=t)=>$x(n,s,a);return Object.assign(o,n),o},xP=(e,t)=>e?Ey(e,t):Ey;function Je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var wP=_v();const pu=N.createContext(null),SP=pu.Provider,Ox=Wn.error001();function De(e,t){const n=N.useContext(pu);if(n===null)throw new Error(Ox);return $x(n,e,t)}function We(){const e=N.useContext(pu);if(e===null)throw new Error(Ox);return N.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Cy={display:"none"},EP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Vx="react-flow__node-desc",Fx="react-flow__edge-desc",CP="react-flow__aria-live",kP=e=>e.ariaLiveMessage;function bP({rfId:e}){const t=De(kP);return k.jsx("div",{id:`${CP}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:EP,children:t})}function NP({rfId:e,disableKeyboardA11y:t}){return k.jsxs(k.Fragment,{children:[k.jsxs("div",{id:`${Vx}-${e}`,style:Cy,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),k.jsx("div",{id:`${Fx}-${e}`,style:Cy,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&k.jsx(bP,{rfId:e})]})}const PP=e=>e.userSelectionActive?"none":"all",mu=N.forwardRef(({position:e="top-left",children:t,className:n,style:o,...s},a)=>{const u=De(PP),c=`${e}`.split("-");return k.jsx("div",{className:it(["react-flow__panel",n,...c]),style:{...o,pointerEvents:u},ref:a,...s,children:t})});mu.displayName="Panel";function TP({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:k.jsx(mu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _P=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},wl=e=>e.id;function RP(e,t){return Je(e.selectedNodes.map(wl),t.selectedNodes.map(wl))&&Je(e.selectedEdges.map(wl),t.selectedEdges.map(wl))}function AP({onSelectionChange:e}){const t=We(),{selectedNodes:n,selectedEdges:o}=De(_P,RP);return N.useEffect(()=>{const s={nodes:n,edges:o};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(a=>a(s))},[n,o,e]),null}const DP=e=>!!e.onSelectionChangeHandlers;function MP({onSelectionChange:e}){const t=De(DP);return e||t?k.jsx(AP,{onSelectionChange:e}):null}const zx=[0,0],jP={x:0,y:0,zoom:1},LP=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],ky=[...LP,"rfId"],IP=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),by={translateExtent:Es,nodeOrigin:zx,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function $P(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:s,setTranslateExtent:a,setNodeExtent:u,reset:c,setDefaultNodesAndEdges:f,setPaneClickDistance:h}=De(IP,Je),p=We();N.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{m.current=by,c()}),[]);const m=N.useRef(by);return N.useEffect(()=>{for(const g of ky){const v=e[g],w=m.current[g];v!==w&&(typeof e[g]>"u"||(g==="nodes"?t(v):g==="edges"?n(v):g==="minZoom"?o(v):g==="maxZoom"?s(v):g==="translateExtent"?a(v):g==="nodeExtent"?u(v):g==="paneClickDistance"?h(v):g==="fitView"?p.setState({fitViewOnInit:v}):g==="fitViewOptions"?p.setState({fitViewOnInitOptions:v}):p.setState({[g]:v})))}m.current=e},ky.map(g=>e[g])),null}function Ny(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function OP(e){var o;const[t,n]=N.useState(e==="system"?null:e);return N.useEffect(()=>{if(e!=="system"){n(e);return}const s=Ny(),a=()=>n(s!=null&&s.matches?"dark":"light");return a(),s==null||s.addEventListener("change",a),()=>{s==null||s.removeEventListener("change",a)}},[e]),t!==null?t:(o=Ny())!=null&&o.matches?"dark":"light"}const Py=typeof document<"u"?document:null;function Ns(e=null,t={target:Py,actInsideInputWithModifier:!0}){const[n,o]=N.useState(!1),s=N.useRef(!1),a=N.useRef(new Set([])),[u,c]=N.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((m,g)=>m.concat(...g),[]);return[h,p]}return[[],[]]},[e]);return N.useEffect(()=>{const f=(t==null?void 0:t.target)||Py;if(e!==null){const h=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Ed(g))return!1;const w=_y(g.code,c);a.current.add(g[w]),Ty(u,a.current,!1)&&(g.preventDefault(),o(!0))},p=g=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Ed(g))return!1;const w=_y(g.code,c);Ty(u,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(g[w]),g.key==="Meta"&&a.current.clear(),s.current=!1},m=()=>{a.current.clear(),o(!1)};return f==null||f.addEventListener("keydown",h),f==null||f.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{f==null||f.removeEventListener("keydown",h),f==null||f.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,o]),n}function Ty(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(s=>t.has(s)))}function _y(e,t){return t.includes(e)?"code":"key"}const VP=()=>{const e=We();return N.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,s,a],panZoom:u}=e.getState();return u?(await u.setViewport({x:t.x??o,y:t.y??s,zoom:t.zoom??a},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>{const{nodeLookup:n,minZoom:o,maxZoom:s,panZoom:a,domNode:u}=e.getState();if(!a||!u)return Promise.resolve(!1);const c=xd(n,t),{width:f,height:h}=du(u);return wd({nodes:c,width:f,height:h,minZoom:o,maxZoom:s,panZoom:a},t)},setCenter:async(t,n,o)=>{const{width:s,height:a,maxZoom:u,panZoom:c}=e.getState(),f=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,h=s/2-t*f,p=a/2-n*f;return c?(await c.setViewport({x:h,y:p,zoom:f},{duration:o==null?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:o,height:s,minZoom:a,maxZoom:u,panZoom:c}=e.getState(),f=uh(t,o,s,a,u,(n==null?void 0:n.padding)??.1);return c?(await c.setViewport(f,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:s,snapToGrid:a,domNode:u}=e.getState();if(!u)return t;const{x:c,y:f}=u.getBoundingClientRect(),h={x:t.x-c,y:t.y-f},p=n.snapGrid??s,m=n.snapToGrid??a;return Fs(h,o,m,p)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:s,y:a}=o.getBoundingClientRect(),u=yx(t,n);return{x:u.x+s,y:u.y+a}}}),[])};function Bx(e,t){const n=[],o=new Map,s=[];for(const a of e)if(a.type==="add"){s.push(a);continue}else if(a.type==="remove"||a.type==="replace")o.set(a.id,[a]);else{const u=o.get(a.id);u?u.push(a):o.set(a.id,[a])}for(const a of t){const u=o.get(a.id);if(!u){n.push(a);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){n.push({...u[0].item});continue}const c={...a};for(const f of u)FP(f,c);n.push(c)}return s.length&&s.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function FP(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Ux(e,t){return Bx(e,t)}function Hx(e,t){return Bx(e,t)}function Xr(e,t){return{id:e,type:"select",selected:t}}function Fi(e,t=new Set,n=!1){const o=[];for(const[s,a]of e){const u=t.has(s);!(a.selected===void 0&&!u)&&a.selected!==u&&(n&&(a.selected=u),o.push(Xr(a.id,u)))}return o}function Ry({items:e=[],lookup:t}){var s;const n=[],o=new Map(e.map(a=>[a.id,a]));for(const[a,u]of e.entries()){const c=t.get(u.id),f=((s=c==null?void 0:c.internals)==null?void 0:s.userNode)??c;f!==void 0&&f!==u&&n.push({id:u.id,item:u,type:"replace"}),f===void 0&&n.push({item:u,type:"add",index:a})}for(const[a]of t)o.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function Ay(e){return{id:e.id,type:"remove"}}const Dy=e=>v2(e),zP=e=>fx(e);function Wx(e){return N.forwardRef(e)}const BP=typeof window<"u"?N.useLayoutEffect:N.useEffect;function My(e){const[t,n]=N.useState(BigInt(0)),[o]=N.useState(()=>UP(()=>n(s=>s+BigInt(1))));return BP(()=>{const s=o.get();s.length&&(e(s),o.reset())},[t]),o}function UP(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Kx=N.createContext(null);function HP({children:e}){const t=We(),n=N.useCallback(c=>{const{nodes:f=[],setNodes:h,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g}=t.getState();let v=f;for(const w of c)v=typeof w=="function"?w(v):w;p?h(v):m&&m(Ry({items:v,lookup:g}))},[]),o=My(n),s=N.useCallback(c=>{const{edges:f=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=t.getState();let v=f;for(const w of c)v=typeof w=="function"?w(v):w;p?h(v):m&&m(Ry({items:v,lookup:g}))},[]),a=My(s),u=N.useMemo(()=>({nodeQueue:o,edgeQueue:a}),[]);return k.jsx(Kx.Provider,{value:u,children:e})}function WP(){const e=N.useContext(Kx);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const KP=e=>!!e.panZoom;function gu(){const e=VP(),t=We(),n=WP(),o=De(KP),s=N.useMemo(()=>{const a=m=>t.getState().nodeLookup.get(m),u=m=>{n.nodeQueue.push(m)},c=m=>{n.edgeQueue.push(m)},f=m=>{var C,T;const{nodeLookup:g,nodeOrigin:v}=t.getState(),w=Dy(m)?m:g.get(m.id),S=w.parentId?xx(w.position,w.measured,w.parentId,g,v):w.position,E={...w,position:S,width:((C=w.measured)==null?void 0:C.width)??w.width,height:((T=w.measured)==null?void 0:T.height)??w.height};return Zi(E)},h=(m,g,v={replace:!1})=>{u(w=>w.map(S=>{if(S.id===m){const E=typeof g=="function"?g(S):g;return v.replace&&Dy(E)?E:{...S,...E}}return S}))},p=(m,g,v={replace:!1})=>{c(w=>w.map(S=>{if(S.id===m){const E=typeof g=="function"?g(S):g;return v.replace&&zP(E)?E:{...S,...E}}return S}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=a(m))==null?void 0:g.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:u,setEdges:c,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(v=>[...v,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(v=>[...v,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:v}=t.getState(),[w,S,E]=v;return{nodes:m.map(C=>({...C})),edges:g.map(C=>({...C})),viewport:{x:w,y:S,zoom:E}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:v,edges:w,onNodesDelete:S,onEdgesDelete:E,triggerNodeChanges:C,triggerEdgeChanges:T,onDelete:b,onBeforeDelete:_}=t.getState(),{nodes:M,edges:$}=await S2({nodesToRemove:m,edgesToRemove:g,nodes:v,edges:w,onBeforeDelete:_}),I=$.length>0,z=M.length>0;if(I){const K=$.map(Ay);E==null||E($),T(K)}if(z){const K=M.map(Ay);S==null||S(M),C(K)}return(z||I)&&(b==null||b({nodes:M,edges:$})),{deletedNodes:M,deletedEdges:$}},getIntersectingNodes:(m,g=!0,v)=>{const w=oy(m),S=w?m:f(m),E=v!==void 0;return S?(v||t.getState().nodes).filter(C=>{const T=t.getState().nodeLookup.get(C.id);if(T&&!w&&(C.id===m.id||!T.internals.positionAbsolute))return!1;const b=Zi(E?C:T),_=ks(b,S);return g&&_>0||_>=S.width*S.height}):[]},isNodeIntersecting:(m,g,v=!0)=>{const S=oy(m)?m:f(m);if(!S)return!1;const E=ks(S,g);return v&&E>0||E>=S.width*S.height},updateNode:h,updateNodeData:(m,g,v={replace:!1})=>{h(m,w=>{const S=typeof g=="function"?g(w):g;return v.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},v)},updateEdge:p,updateEdgeData:(m,g,v={replace:!1})=>{p(m,w=>{const S=typeof g=="function"?g(w):g;return v.replace?{...w,data:S}:{...w,data:{...w.data,...S}}},v)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:v}=t.getState();return x2(m,{nodeLookup:g,nodeOrigin:v})},getHandleConnections:({type:m,id:g,nodeId:v})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${v}-${m}${g?`-${g}`:""}`))==null?void 0:w.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:v})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${v}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:w.values())??[])}}},[]);return N.useMemo(()=>({...s,...e,viewportInitialized:o}),[o])}const jy=e=>e.selected,YP={actInsideInputWithModifier:!1},XP=typeof window<"u"?window:void 0;function qP({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=We(),{deleteElements:o}=gu(),s=Ns(e,YP),a=Ns(t,{target:XP});N.useEffect(()=>{if(s){const{edges:u,nodes:c}=n.getState();o({nodes:c.filter(jy),edges:u.filter(jy)}),n.setState({nodesSelectionActive:!1})}},[s]),N.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function GP(e){const t=We();N.useEffect(()=>{const n=()=>{var s,a;if(!e.current)return!1;const o=du(e.current);(o.height===0||o.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Wn.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const yu={position:"absolute",width:"100%",height:"100%",top:0,left:0},QP=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function ZP({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:a=ei.Free,zoomOnDoubleClick:u=!0,panOnDrag:c=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:v=!0,children:w,noWheelClassName:S,noPanClassName:E,onViewportChange:C,isControlledViewport:T,paneClickDistance:b}){const _=We(),M=N.useRef(null),{userSelectionActive:$,lib:I}=De(QP,Je),z=Ns(g),K=N.useRef();GP(M);const Y=N.useCallback(ee=>{C==null||C({x:ee[0],y:ee[1],zoom:ee[2]}),T||_.setState({transform:ee})},[C,T]);return N.useEffect(()=>{if(M.current){K.current=tP({domNode:M.current,minZoom:p,maxZoom:m,translateExtent:h,viewport:f,paneClickDistance:b,onDraggingChange:R=>_.setState({paneDragging:R}),onPanZoomStart:(R,V)=>{const{onViewportChangeStart:L,onMoveStart:U}=_.getState();U==null||U(R,V),L==null||L(V)},onPanZoom:(R,V)=>{const{onViewportChange:L,onMove:U}=_.getState();U==null||U(R,V),L==null||L(V)},onPanZoomEnd:(R,V)=>{const{onViewportChangeEnd:L,onMoveEnd:U}=_.getState();U==null||U(R,V),L==null||L(V)}});const{x:ee,y:q,zoom:J}=K.current.getViewport();return _.setState({panZoom:K.current,transform:[ee,q,J],domNode:M.current.closest(".react-flow")}),()=>{var R;(R=K.current)==null||R.destroy()}}},[]),N.useEffect(()=>{var ee;(ee=K.current)==null||ee.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:s,panOnScrollMode:a,zoomOnDoubleClick:u,panOnDrag:c,zoomActivationKeyPressed:z,preventScrolling:v,noPanClassName:E,userSelectionActive:$,noWheelClassName:S,lib:I,onTransformChange:Y})},[e,t,n,o,s,a,u,c,z,v,E,$,S,I,Y]),k.jsx("div",{className:"react-flow__renderer",ref:M,style:yu,children:w})}const JP=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eT(){const{userSelectionActive:e,userSelectionRect:t}=De(JP,Je);return e&&t?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Hf=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tT=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function nT({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Cs.Full,panOnDrag:o,selectionOnDrag:s,onSelectionStart:a,onSelectionEnd:u,onPaneClick:c,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:g,children:v}){const w=We(),{userSelectionActive:S,elementsSelectable:E,dragging:C}=De(tT,Je),T=E&&(e||S),b=N.useRef(null),_=N.useRef(),M=N.useRef(new Set),$=N.useRef(new Set),I=N.useRef(!1),z=N.useRef(!1),K=L=>{if(I.current){I.current=!1;return}c==null||c(L),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},Y=L=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){L.preventDefault();return}f==null||f(L)},ee=h?L=>h(L):void 0,q=L=>{var A,W;const{resetSelectedElements:U,domNode:D}=w.getState();if(_.current=D==null?void 0:D.getBoundingClientRect(),!E||!e||L.button!==0||L.target!==b.current||!_.current)return;(W=(A=L.target)==null?void 0:A.setPointerCapture)==null||W.call(A,L.pointerId),z.current=!0,I.current=!1;const{x:O,y:B}=Vn(L.nativeEvent,_.current);U(),w.setState({userSelectionRect:{width:0,height:0,startX:O,startY:B,x:O,y:B}}),a==null||a(L)},J=L=>{const{userSelectionRect:U,transform:D,nodeLookup:O,edgeLookup:B,connectionLookup:A,triggerNodeChanges:W,triggerEdgeChanges:ae,defaultEdgeOptions:ne}=w.getState();if(!_.current||!U)return;I.current=!0;const{x:le,y:ce}=Vn(L.nativeEvent,_.current),{startX:oe,startY:te}=U,se={startX:oe,startY:te,x:le<oe?le:oe,y:ce<te?ce:te,width:Math.abs(le-oe),height:Math.abs(ce-te)},Se=M.current,ke=$.current;M.current=new Set(dx(O,se,D,n===Cs.Partial,!0).map(Re=>Re.id)),$.current=new Set;const he=(ne==null?void 0:ne.selectable)??!0;for(const Re of M.current){const Ie=A.get(Re);if(Ie)for(const{edgeId:Ye}of Ie.values()){const dt=B.get(Ye);dt&&(dt.selectable??he)&&$.current.add(Ye)}}if(!sy(Se,M.current)){const Re=Fi(O,M.current,!0);W(Re)}if(!sy(ke,$.current)){const Re=Fi(B,$.current);ae(Re)}w.setState({userSelectionRect:se,userSelectionActive:!0,nodesSelectionActive:!1})},R=L=>{var D,O;if(L.button!==0||!z.current)return;(O=(D=L.target)==null?void 0:D.releasePointerCapture)==null||O.call(D,L.pointerId);const{userSelectionRect:U}=w.getState();!S&&U&&L.target===b.current&&(K==null||K(L)),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:M.current.size>0}),u==null||u(L),(t||s)&&(I.current=!1),z.current=!1},V=o===!0||Array.isArray(o)&&o.includes(0);return k.jsxs("div",{className:it(["react-flow__pane",{draggable:V,dragging:C,selection:e}]),onClick:T?void 0:Hf(K,b),onContextMenu:Hf(Y,b),onWheel:Hf(ee,b),onPointerEnter:T?void 0:p,onPointerDown:T?q:m,onPointerMove:T?J:m,onPointerUp:T?R:void 0,onPointerLeave:g,ref:b,style:yu,children:[v,k.jsx(eT,{})]})}function Pd({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:u,nodeLookup:c,onError:f}=t.getState(),h=c.get(e);if(!h){f==null||f("012",Wn.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&u)&&(a({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var p;return(p=o==null?void 0:o.current)==null?void 0:p.blur()})):s([e])}function Yx({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:a,nodeClickDistance:u}){const c=We(),[f,h]=N.useState(!1),p=N.useRef();return N.useEffect(()=>{p.current=z2({getStoreItems:()=>c.getState(),onNodeMouseDown:m=>{Pd({id:m,store:c,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),N.useEffect(()=>{var m,g;if(t)(m=p.current)==null||m.destroy();else if(e.current)return(g=p.current)==null||g.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:a,nodeId:s,nodeClickDistance:u}),()=>{var v;(v=p.current)==null||v.destroy()}},[n,o,t,a,e,s]),f}const rT=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Xx(){const e=We();return N.useCallback(n=>{const{nodeExtent:o,snapToGrid:s,snapGrid:a,nodesDraggable:u,onError:c,updateNodePositions:f,nodeLookup:h,nodeOrigin:p}=e.getState(),m=new Map,g=rT(u),v=s?a[0]:5,w=s?a[1]:5,S=n.direction.x*v*n.factor,E=n.direction.y*w*n.factor;for(const[,C]of h){if(!g(C))continue;let T={x:C.internals.positionAbsolute.x+S,y:C.internals.positionAbsolute.y+E};s&&(T=fu(T,a));const{position:b,positionAbsolute:_}=hx({nodeId:C.id,nextPosition:T,nodeLookup:h,nodeExtent:o,nodeOrigin:p,onError:c});C.position=b,C.internals.positionAbsolute=_,m.set(C.id,C)}f(m)},[])}const ph=N.createContext(null),iT=ph.Provider;ph.Consumer;const mh=()=>N.useContext(ph),oT=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),sT=(e,t,n)=>o=>{const{connectionClickStartHandle:s,connectionMode:a,connection:u}=o,{fromHandle:c,toHandle:f,isValid:h}=u,p=(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===t&&(f==null?void 0:f.type)===n;return{connectingFrom:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n,connectingTo:p,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:a===Gi.Strict?(c==null?void 0:c.type)!==n:e!==(c==null?void 0:c.nodeId)||t!==(c==null?void 0:c.id),connectionInProcess:!!c,valid:p&&h}};function aT({type:e="source",position:t=ye.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:u,onConnect:c,children:f,className:h,onMouseDown:p,onTouchStart:m,...g},v){var R,V;const w=u||null,S=e==="target",E=We(),C=mh(),{connectOnClick:T,noPanClassName:b,rfId:_}=De(oT,Je),{connectingFrom:M,connectingTo:$,clickConnecting:I,isPossibleEndHandle:z,connectionInProcess:K,valid:Y}=De(sT(C,w,e),Je);C||(V=(R=E.getState()).onError)==null||V.call(R,"010",Wn.error010());const ee=L=>{const{defaultEdgeOptions:U,onConnect:D,hasDefaultEdges:O}=E.getState(),B={...U,...L};if(O){const{edges:A,setEdges:W}=E.getState();W(bx(B,A))}D==null||D(B),c==null||c(B)},q=L=>{if(!C)return;const U=Sx(L.nativeEvent);if(s&&(U&&L.button===0||!U)){const D=E.getState();Nd.onPointerDown(L.nativeEvent,{autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:S,handleId:w,nodeId:C,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:ee,isValidConnection:n||D.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed})}U?p==null||p(L):m==null||m(L)},J=L=>{const{onClickConnectStart:U,onClickConnectEnd:D,connectionClickStartHandle:O,connectionMode:B,isValidConnection:A,lib:W,rfId:ae,nodeLookup:ne,connection:le}=E.getState();if(!C||!O&&!s)return;if(!O){U==null||U(L.nativeEvent,{nodeId:C,handleId:w,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:C,type:e,id:w}});return}const ce=wx(L.target),oe=n||A,{connection:te,isValid:se}=Nd.isValid(L.nativeEvent,{handle:{nodeId:C,id:w,type:e},connectionMode:B,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:oe,flowId:ae,doc:ce,lib:W,nodeLookup:ne});se&&te&&ee(te);const Se=structuredClone(le);delete Se.inProgress,Se.toPosition=Se.toHandle?Se.toHandle.position:null,D==null||D(L,Se),E.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":w,"data-nodeid":C,"data-handlepos":t,"data-id":`${_}-${C}-${w}-${e}`,className:it(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,h,{source:!S,target:S,connectable:o,connectablestart:s,connectableend:a,clickconnecting:I,connectingfrom:M,connectingto:$,valid:Y,connectionindicator:o&&(!K||z)&&(K?a:s)}]),onMouseDown:q,onTouchStart:q,onClick:T?J:void 0,ref:v,...g,children:f})}const Cr=N.memo(Wx(aT));function lT({data:e,isConnectable:t,sourcePosition:n=ye.Bottom}){return k.jsxs(k.Fragment,{children:[e==null?void 0:e.label,k.jsx(Cr,{type:"source",position:n,isConnectable:t})]})}function uT({data:e,isConnectable:t,targetPosition:n=ye.Top,sourcePosition:o=ye.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(Cr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,k.jsx(Cr,{type:"source",position:o,isConnectable:t})]})}function cT(){return null}function fT({data:e,isConnectable:t,targetPosition:n=ye.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(Cr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Xl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Ly={input:lT,default:uT,output:fT,group:cT};function dT(e){var t,n,o,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const hT=e=>{const{width:t,height:n,x:o,y:s}=ro(e.nodeLookup,{filter:a=>!!a.selected});return{width:fn(t)?t:null,height:fn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${s}px)`}};function pT({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=We(),{width:s,height:a,transformString:u,userSelectionActive:c}=De(hT,Je),f=Xx(),h=N.useRef(null);if(N.useEffect(()=>{var g;n||(g=h.current)==null||g.focus({preventScroll:!0})},[n]),Yx({nodeRef:h}),c||!s||!a)return null;const p=e?g=>{const v=o.getState().nodes.filter(w=>w.selected);e(g,v)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(Xl,g.key)&&(g.preventDefault(),f({direction:Xl[g.key],factor:g.shiftKey?4:1}))};return k.jsx("div",{className:it(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u},children:k.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:a}})})}const Iy=typeof window<"u"?window:void 0,mT=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function qx({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,paneClickDistance:c,deleteKeyCode:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:S,zoomActivationKeyCode:E,elementsSelectable:C,zoomOnScroll:T,zoomOnPinch:b,panOnScroll:_,panOnScrollSpeed:M,panOnScrollMode:$,zoomOnDoubleClick:I,panOnDrag:z,defaultViewport:K,translateExtent:Y,minZoom:ee,maxZoom:q,preventScrolling:J,onSelectionContextMenu:R,noWheelClassName:V,noPanClassName:L,disableKeyboardA11y:U,onViewportChange:D,isControlledViewport:O}){const{nodesSelectionActive:B,userSelectionActive:A}=De(mT),W=Ns(h,{target:Iy}),ae=Ns(S,{target:Iy}),ne=ae||z,le=ae||_,ce=p&&ne!==!0,oe=W||A||ce;return qP({deleteKeyCode:f,multiSelectionKeyCode:w}),k.jsx(ZP,{onPaneContextMenu:a,elementsSelectable:C,zoomOnScroll:T,zoomOnPinch:b,panOnScroll:le,panOnScrollSpeed:M,panOnScrollMode:$,zoomOnDoubleClick:I,panOnDrag:!W&&ne,defaultViewport:K,translateExtent:Y,minZoom:ee,maxZoom:q,zoomActivationKeyCode:E,preventScrolling:J,noWheelClassName:V,noPanClassName:L,onViewportChange:D,isControlledViewport:O,paneClickDistance:c,children:k.jsxs(nT,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:ne,isSelecting:!!oe,selectionMode:m,selectionKeyPressed:W,selectionOnDrag:ce,children:[e,B&&k.jsx(pT,{onSelectionContextMenu:R,noPanClassName:L,disableKeyboardA11y:U})]})})}qx.displayName="FlowRenderer";const gT=N.memo(qx),yT=e=>t=>e?dx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function vT(e){return De(N.useCallback(yT(e),[e]),Je)}const xT=e=>e.updateNodeInternals;function wT(){const e=De(xT),[t]=N.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(s=>{const a=s.target.getAttribute("data-id");o.set(a,{id:a,nodeElement:s.target,force:!0})}),e(o)}));return N.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function ST({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const s=We(),a=N.useRef(null),u=N.useRef(null),c=N.useRef(e.sourcePosition),f=N.useRef(e.targetPosition),h=N.useRef(t),p=n&&!!e.internals.handleBounds;return N.useEffect(()=>{a.current&&!e.hidden&&(!p||u.current!==a.current)&&(u.current&&(o==null||o.unobserve(u.current)),o==null||o.observe(a.current),u.current=a.current)},[p,e.hidden]),N.useEffect(()=>()=>{u.current&&(o==null||o.unobserve(u.current),u.current=null)},[]),N.useEffect(()=>{if(a.current){const m=h.current!==t,g=c.current!==e.sourcePosition,v=f.current!==e.targetPosition;(m||g||v)&&(h.current=t,c.current=e.sourcePosition,f.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:a.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),a}function ET({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:s,onContextMenu:a,onDoubleClick:u,nodesDraggable:c,elementsSelectable:f,nodesConnectable:h,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:v,disableKeyboardA11y:w,rfId:S,nodeTypes:E,nodeClickDistance:C,onError:T}){const{node:b,internals:_,isParent:M}=De(oe=>{const te=oe.nodeLookup.get(e),se=oe.parentLookup.has(e);return{node:te,internals:te.internals,isParent:se}},Je);let $=b.type||"default",I=(E==null?void 0:E[$])||Ly[$];I===void 0&&(T==null||T("003",Wn.error003($)),$="default",I=Ly.default);const z=!!(b.draggable||c&&typeof b.draggable>"u"),K=!!(b.selectable||f&&typeof b.selectable>"u"),Y=!!(b.connectable||h&&typeof b.connectable>"u"),ee=!!(b.focusable||p&&typeof b.focusable>"u"),q=We(),J=vx(b),R=ST({node:b,nodeType:$,hasDimensions:J,resizeObserver:m}),V=Yx({nodeRef:R,disabled:b.hidden||!z,noDragClassName:g,handleSelector:b.dragHandle,nodeId:e,isSelectable:K,nodeClickDistance:C}),L=Xx();if(b.hidden)return null;const U=Kn(b),D=dT(b),O=K||z||t||n||o||s,B=n?oe=>n(oe,{..._.userNode}):void 0,A=o?oe=>o(oe,{..._.userNode}):void 0,W=s?oe=>s(oe,{..._.userNode}):void 0,ae=a?oe=>a(oe,{..._.userNode}):void 0,ne=u?oe=>u(oe,{..._.userNode}):void 0,le=oe=>{const{selectNodesOnDrag:te,nodeDragThreshold:se}=q.getState();K&&(!te||!z||se>0)&&Pd({id:e,store:q,nodeRef:R}),t&&t(oe,{..._.userNode})},ce=oe=>{if(!(Ed(oe.nativeEvent)||w))if(lx.includes(oe.key)&&K){const te=oe.key==="Escape";Pd({id:e,store:q,unselect:te,nodeRef:R})}else z&&b.selected&&Object.prototype.hasOwnProperty.call(Xl,oe.key)&&(oe.preventDefault(),q.setState({ariaLiveMessage:`Moved selected node ${oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),L({direction:Xl[oe.key],factor:oe.shiftKey?4:1}))};return k.jsx("div",{className:it(["react-flow__node",`react-flow__node-${$}`,{[v]:z},b.className,{selected:b.selected,selectable:K,parent:M,draggable:z,dragging:V}]),ref:R,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:O?"all":"none",visibility:J?"visible":"hidden",...b.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:B,onMouseMove:A,onMouseLeave:W,onContextMenu:ae,onClick:le,onDoubleClick:ne,onKeyDown:ee?ce:void 0,tabIndex:ee?0:void 0,role:ee?"button":void 0,"aria-describedby":w?void 0:`${Vx}-${S}`,"aria-label":b.ariaLabel,children:k.jsx(iT,{value:e,children:k.jsx(I,{id:e,data:b.data,type:$,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:b.selected??!1,selectable:K,draggable:z,deletable:b.deletable??!0,isConnectable:Y,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:V,dragHandle:b.dragHandle,zIndex:_.z,parentId:b.parentId,...U})})})}const CT=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Gx(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,onError:a}=De(CT,Je),u=vT(e.onlyRenderVisibleElements),c=wT();return k.jsx("div",{className:"react-flow__nodes",style:yu,children:u.map(f=>k.jsx(ET,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:a},f))})}Gx.displayName="NodeRenderer";const kT=N.memo(Gx);function bT(e){return De(N.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const o=[];if(n.width&&n.height)for(const s of n.edges){const a=n.nodeLookup.get(s.source),u=n.nodeLookup.get(s.target);a&&u&&b2({sourceNode:a,targetNode:u,width:n.width,height:n.height,transform:n.transform})&&o.push(s.id)}return o},[e]),Je)}const NT=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),PT=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$y={[Wl.Arrow]:NT,[Wl.ArrowClosed]:PT};function TT(e){const t=We();return N.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call($y,e)?$y[e]:((a=(s=t.getState()).onError)==null||a.call(s,"009",Wn.error009(e)),null)},[e])}const _T=({id:e,type:t,color:n,width:o=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const f=TT(t);return f?k.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0",children:k.jsx(f,{color:n,strokeWidth:u})}):null},Qx=({defaultColor:e,rfId:t})=>{const n=De(a=>a.edges),o=De(a=>a.defaultEdgeOptions),s=N.useMemo(()=>D2(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return s.length?k.jsx("svg",{className:"react-flow__marker",children:k.jsx("defs",{children:s.map(a=>k.jsx(_T,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};Qx.displayName="MarkerDefinitions";var RT=N.memo(Qx);function Zx({x:e,y:t,label:n,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:f,className:h,...p}){const[m,g]=N.useState({x:1,y:0,width:0,height:0}),v=it(["react-flow__edge-textwrapper",h]),w=N.useRef(null);return N.useEffect(()=>{if(w.current){const S=w.current.getBBox();g({x:S.x,y:S.y,width:S.width,height:S.height})}},[n]),typeof n>"u"||!n?null:k.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...p,children:[s&&k.jsx("rect",{width:m.width+2*u[0],x:-u[0],y:-u[1],height:m.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),k.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:w,style:o,children:n}),f]})}Zx.displayName="EdgeText";const AT=N.memo(Zx);function vu({path:e,labelX:t,labelY:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,interactionWidth:h=20,...p}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...p,d:e,fill:"none",className:it(["react-flow__edge-path",p.className])}),h&&k.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),o&&fn(t)&&fn(n)?k.jsx(AT,{x:t,y:n,label:o,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f}):null]})}function Oy({pos:e,x1:t,y1:n,x2:o,y2:s}){return e===ye.Left||e===ye.Right?[.5*(t+o),n]:[t,.5*(n+s)]}function Jx({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:o,targetY:s,targetPosition:a=ye.Top}){const[u,c]=Oy({pos:n,x1:e,y1:t,x2:o,y2:s}),[f,h]=Oy({pos:a,x1:o,y1:s,x2:e,y2:t}),[p,m,g,v]=Ex({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:h});return[`M${e},${t} C${u},${c} ${f},${h} ${o},${s}`,p,m,g,v]}function ew(e){return N.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,sourcePosition:u=ye.Bottom,targetPosition:c=ye.Top,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:E,interactionWidth:C})=>{const[T,b,_]=Jx({sourceX:n,sourceY:o,sourcePosition:u,targetX:s,targetY:a,targetPosition:c}),M=e.isInternal?void 0:t;return k.jsx(vu,{id:M,path:T,labelX:b,labelY:_,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:E,interactionWidth:C})})}const DT=ew({isInternal:!1}),tw=ew({isInternal:!0});DT.displayName="SimpleBezierEdge";tw.displayName="SimpleBezierEdgeInternal";function nw(e){return N.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:v=ye.Bottom,targetPosition:w=ye.Top,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:T})=>{const[b,_,M]=Cd({sourceX:n,sourceY:o,sourcePosition:v,targetX:s,targetY:a,targetPosition:w,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset}),$=e.isInternal?void 0:t;return k.jsx(vu,{id:$,path:b,labelX:_,labelY:M,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:S,markerStart:E,interactionWidth:T})})}const rw=nw({isInternal:!1}),iw=nw({isInternal:!0});rw.displayName="SmoothStepEdge";iw.displayName="SmoothStepEdgeInternal";function ow(e){return N.memo(({id:t,...n})=>{var s;const o=e.isInternal?void 0:t;return k.jsx(rw,{...n,id:o,pathOptions:N.useMemo(()=>{var a;return{borderRadius:0,offset:(a=n.pathOptions)==null?void 0:a.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const MT=ow({isInternal:!1}),sw=ow({isInternal:!0});MT.displayName="StepEdge";sw.displayName="StepEdgeInternal";function aw(e){return N.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:w,interactionWidth:S})=>{const[E,C,T]=Nx({sourceX:n,sourceY:o,targetX:s,targetY:a}),b=e.isInternal?void 0:t;return k.jsx(vu,{id:b,path:E,labelX:C,labelY:T,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:w,interactionWidth:S})})}const jT=aw({isInternal:!1}),lw=aw({isInternal:!0});jT.displayName="StraightEdge";lw.displayName="StraightEdgeInternal";function uw(e){return N.memo(({id:t,sourceX:n,sourceY:o,targetX:s,targetY:a,sourcePosition:u=ye.Bottom,targetPosition:c=ye.Top,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:E,pathOptions:C,interactionWidth:T})=>{const[b,_,M]=Cx({sourceX:n,sourceY:o,sourcePosition:u,targetX:s,targetY:a,targetPosition:c,curvature:C==null?void 0:C.curvature}),$=e.isInternal?void 0:t;return k.jsx(vu,{id:$,path:b,labelX:_,labelY:M,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:E,interactionWidth:T})})}const LT=uw({isInternal:!1}),cw=uw({isInternal:!0});LT.displayName="BezierEdge";cw.displayName="BezierEdgeInternal";const Vy={default:cw,straight:lw,step:sw,smoothstep:iw,simplebezier:tw},Fy={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},IT=(e,t,n)=>n===ye.Left?e-t:n===ye.Right?e+t:e,$T=(e,t,n)=>n===ye.Top?e-t:n===ye.Bottom?e+t:e,zy="react-flow__edgeupdater";function By({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:a,onMouseOut:u,type:c}){return k.jsx("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:u,className:it([zy,`${zy}-${c}`]),cx:IT(t,o,e),cy:$T(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function OT({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:s,targetX:a,targetY:u,sourcePosition:c,targetPosition:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:v}){const w=We(),S=(_,M)=>{if(_.button!==0)return;const{autoPanOnConnect:$,domNode:I,isValidConnection:z,connectionMode:K,connectionRadius:Y,lib:ee,onConnectStart:q,onConnectEnd:J,cancelConnection:R,nodeLookup:V,rfId:L,panBy:U,updateConnection:D}=w.getState(),O=M.type==="target";g(!0),p==null||p(_,n,M.type);const B=(W,ae)=>{g(!1),m==null||m(W,n,M.type,ae)},A=W=>h==null?void 0:h(n,W);Nd.onPointerDown(_.nativeEvent,{autoPanOnConnect:$,connectionMode:K,connectionRadius:Y,domNode:I,handleId:M.id,nodeId:M.nodeId,nodeLookup:V,isTarget:O,edgeUpdaterType:M.type,lib:ee,flowId:L,cancelConnection:R,panBy:U,isValidConnection:z,onConnect:A,onConnectStart:q,onConnectEnd:J,onReconnectEnd:B,updateConnection:D,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},E=_=>S(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=_=>S(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),T=()=>v(!0),b=()=>v(!1);return k.jsxs(k.Fragment,{children:[(e===!0||e==="source")&&k.jsx(By,{position:c,centerX:o,centerY:s,radius:t,onMouseDown:E,onMouseEnter:T,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&k.jsx(By,{position:f,centerX:a,centerY:u,radius:t,onMouseDown:C,onMouseEnter:T,onMouseOut:b,type:"target"})]})}function VT({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:s,onDoubleClick:a,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:h,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:w,edgeTypes:S,noPanClassName:E,onError:C,disableKeyboardA11y:T}){let b=De(he=>he.edgeLookup.get(e));const _=De(he=>he.defaultEdgeOptions);b=_?{..._,...b}:b;let M=b.type||"default",$=(S==null?void 0:S[M])||Vy[M];$===void 0&&(C==null||C("011",Wn.error011(M)),M="default",$=Vy.default);const I=!!(b.focusable||t&&typeof b.focusable>"u"),z=typeof m<"u"&&(b.reconnectable||n&&typeof b.reconnectable>"u"),K=!!(b.selectable||o&&typeof b.selectable>"u"),Y=N.useRef(null),[ee,q]=N.useState(!1),[J,R]=N.useState(!1),V=We(),{zIndex:L,sourceX:U,sourceY:D,targetX:O,targetY:B,sourcePosition:A,targetPosition:W}=De(N.useCallback(he=>{const Re=he.nodeLookup.get(b.source),Ie=he.nodeLookup.get(b.target);if(!Re||!Ie)return{zIndex:b.zIndex,...Fy};const Ye=A2({id:e,sourceNode:Re,targetNode:Ie,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:he.connectionMode,onError:C});return{zIndex:k2({selected:b.selected,zIndex:b.zIndex,sourceNode:Re,targetNode:Ie,elevateOnSelect:he.elevateEdgesOnSelect}),...Ye||Fy}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),Je),ae=N.useMemo(()=>b.markerStart?`url('#${kd(b.markerStart,w)}')`:void 0,[b.markerStart,w]),ne=N.useMemo(()=>b.markerEnd?`url('#${kd(b.markerEnd,w)}')`:void 0,[b.markerEnd,w]);if(b.hidden||U===null||D===null||O===null||B===null)return null;const le=he=>{var dt;const{addSelectedEdges:Re,unselectNodesAndEdges:Ie,multiSelectionActive:Ye}=V.getState();K&&(V.setState({nodesSelectionActive:!1}),b.selected&&Ye?(Ie({nodes:[],edges:[b]}),(dt=Y.current)==null||dt.blur()):Re([e])),s&&s(he,b)},ce=a?he=>{a(he,{...b})}:void 0,oe=u?he=>{u(he,{...b})}:void 0,te=c?he=>{c(he,{...b})}:void 0,se=f?he=>{f(he,{...b})}:void 0,Se=h?he=>{h(he,{...b})}:void 0,ke=he=>{var Re;if(!T&&lx.includes(he.key)&&K){const{unselectNodesAndEdges:Ie,addSelectedEdges:Ye}=V.getState();he.key==="Escape"?((Re=Y.current)==null||Re.blur(),Ie({edges:[b]})):Ye([e])}};return k.jsx("svg",{style:{zIndex:L},children:k.jsxs("g",{className:it(["react-flow__edge",`react-flow__edge-${M}`,b.className,E,{selected:b.selected,animated:b.animated,inactive:!K&&!s,updating:ee,selectable:K}]),onClick:le,onDoubleClick:ce,onContextMenu:oe,onMouseEnter:te,onMouseMove:se,onMouseLeave:Se,onKeyDown:I?ke:void 0,tabIndex:I?0:void 0,role:I?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":I?`${Fx}-${w}`:void 0,ref:Y,children:[!J&&k.jsx($,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:K,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:U,sourceY:D,targetX:O,targetY:B,sourcePosition:A,targetPosition:W,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:ae,markerEnd:ne,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),z&&k.jsx(OT,{edge:b,isReconnectable:z,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:U,sourceY:D,targetX:O,targetY:B,sourcePosition:A,targetPosition:W,setUpdateHover:q,setReconnecting:R})]})})}const FT=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function fw({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:s,onReconnect:a,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:v,onReconnectEnd:w,disableKeyboardA11y:S}){const{edgesFocusable:E,edgesReconnectable:C,elementsSelectable:T,onError:b}=De(FT,Je),_=bT(t);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(RT,{defaultColor:e,rfId:n}),_.map(M=>k.jsx(VT,{id:M,edgesFocusable:E,edgesReconnectable:C,elementsSelectable:T,noPanClassName:s,onReconnect:a,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:h,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:v,onReconnectEnd:w,rfId:n,onError:b,edgeTypes:o,disableKeyboardA11y:S},M))]})}fw.displayName="EdgeRenderer";const zT=N.memo(fw),BT=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function UT({children:e}){const t=De(BT);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function HT(e){const t=gu(),n=N.useRef(!1);N.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const WT=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function KT(e){const t=De(WT),n=We();return N.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function YT(e){return e.connection.inProgress?{...e.connection,to:Fs(e.connection.to,e.transform)}:{...e.connection}}function XT(e){return YT}function qT(e){const t=XT();return De(t,Je)}const GT=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function QT({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:s,width:a,height:u,isValid:c,inProgress:f}=De(GT,Je);return!(a&&s&&f)?null:k.jsx("svg",{style:e,width:a,height:u,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:it(["react-flow__connection",cx(c)]),children:k.jsx(dw,{style:t,type:n,CustomComponent:o,isValid:c})})})}const dw=({style:e,type:t=Sr.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:s,from:a,fromNode:u,fromHandle:c,fromPosition:f,to:h,toNode:p,toHandle:m,toPosition:g}=qT();if(!s)return;if(n)return k.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:u,fromHandle:c,fromX:a.x,fromY:a.y,toX:h.x,toY:h.y,fromPosition:f,toPosition:g,connectionStatus:cx(o),toNode:p,toHandle:m});let v="";const w={sourceX:a.x,sourceY:a.y,sourcePosition:f,targetX:h.x,targetY:h.y,targetPosition:g};switch(t){case Sr.Bezier:[v]=Cx(w);break;case Sr.SimpleBezier:[v]=Jx(w);break;case Sr.Step:[v]=Cd({...w,borderRadius:0});break;case Sr.SmoothStep:[v]=Cd(w);break;default:[v]=Nx(w)}return k.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};dw.displayName="ConnectionLine";const ZT={};function Uy(e=ZT){N.useRef(e),We(),N.useEffect(()=>{},[e])}function JT(){We(),N.useRef(!1),N.useEffect(()=>{},[])}function hw({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:v,connectionLineType:w,connectionLineStyle:S,connectionLineComponent:E,connectionLineContainerStyle:C,selectionKeyCode:T,selectionOnDrag:b,selectionMode:_,multiSelectionKeyCode:M,panActivationKeyCode:$,zoomActivationKeyCode:I,deleteKeyCode:z,onlyRenderVisibleElements:K,elementsSelectable:Y,defaultViewport:ee,translateExtent:q,minZoom:J,maxZoom:R,preventScrolling:V,defaultMarkerColor:L,zoomOnScroll:U,zoomOnPinch:D,panOnScroll:O,panOnScrollSpeed:B,panOnScrollMode:A,zoomOnDoubleClick:W,panOnDrag:ae,onPaneClick:ne,onPaneMouseEnter:le,onPaneMouseMove:ce,onPaneMouseLeave:oe,onPaneScroll:te,onPaneContextMenu:se,paneClickDistance:Se,nodeClickDistance:ke,onEdgeContextMenu:he,onEdgeMouseEnter:Re,onEdgeMouseMove:Ie,onEdgeMouseLeave:Ye,reconnectRadius:dt,onReconnect:we,onReconnectStart:de,onReconnectEnd:Pe,noDragClassName:Ne,noWheelClassName:Me,noPanClassName:Oe,disableKeyboardA11y:je,nodeExtent:ht,rfId:Pt,viewport:Tt,onViewportChange:Xn}){return Uy(e),Uy(t),JT(),HT(n),KT(Tt),k.jsx(gT,{onPaneClick:ne,onPaneMouseEnter:le,onPaneMouseMove:ce,onPaneMouseLeave:oe,onPaneContextMenu:se,onPaneScroll:te,paneClickDistance:Se,deleteKeyCode:z,selectionKeyCode:T,selectionOnDrag:b,selectionMode:_,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:M,panActivationKeyCode:$,zoomActivationKeyCode:I,elementsSelectable:Y,zoomOnScroll:U,zoomOnPinch:D,zoomOnDoubleClick:W,panOnScroll:O,panOnScrollSpeed:B,panOnScrollMode:A,panOnDrag:ae,defaultViewport:ee,translateExtent:q,minZoom:J,maxZoom:R,onSelectionContextMenu:m,preventScrolling:V,noDragClassName:Ne,noWheelClassName:Me,noPanClassName:Oe,disableKeyboardA11y:je,onViewportChange:Xn,isControlledViewport:!!Tt,children:k.jsxs(UT,{children:[k.jsx(zT,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:u,onReconnect:we,onReconnectStart:de,onReconnectEnd:Pe,onlyRenderVisibleElements:K,onEdgeContextMenu:he,onEdgeMouseEnter:Re,onEdgeMouseMove:Ie,onEdgeMouseLeave:Ye,reconnectRadius:dt,defaultMarkerColor:L,noPanClassName:Oe,disableKeyboardA11y:je,rfId:Pt}),k.jsx(QT,{style:S,type:w,component:E,containerStyle:C}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(kT,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:ke,onlyRenderVisibleElements:K,noPanClassName:Oe,noDragClassName:Ne,disableKeyboardA11y:je,nodeExtent:ht,rfId:Pt}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}hw.displayName="GraphView";const e_=N.memo(hw),Hy=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:u,nodeOrigin:c,nodeExtent:f}={})=>{const h=new Map,p=new Map,m=new Map,g=new Map,v=o??t??[],w=n??e??[],S=c??[0,0],E=f??Es;Tx(m,g,v),bd(w,h,p,{nodeOrigin:S,nodeExtent:E,elevateNodesOnSelect:!1});let C=[0,0,1];if(u&&s&&a){const T=ro(h,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:b,y:_,zoom:M}=uh(T,s,a,.5,2,.1);C=[b,_,M]}return{rfId:"1",width:0,height:0,transform:C,nodes:w,nodeLookup:h,parentLookup:p,edges:v,edgeLookup:g,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Es,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Gi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...ux},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:E2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},t_=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:u,nodeOrigin:c,nodeExtent:f})=>xP((h,p)=>({...Hy({nodes:e,edges:t,width:s,height:a,fitView:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:o}),setNodes:m=>{const{nodeLookup:g,parentLookup:v,nodeOrigin:w,elevateNodesOnSelect:S}=p();bd(m,g,v,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:S,checkEquality:!0}),h({nodes:m})},setEdges:m=>{const{connectionLookup:g,edgeLookup:v}=p();Tx(g,v,m),h({edges:m})},setDefaultNodesAndEdges:(m,g)=>{if(m){const{setNodes:v}=p();v(m),h({hasDefaultNodes:!0})}if(g){const{setEdges:v}=p();v(g),h({hasDefaultEdges:!0})}},updateNodeInternals:(m,g={triggerFitView:!0})=>{const{triggerNodeChanges:v,nodeLookup:w,parentLookup:S,fitViewOnInit:E,fitViewDone:C,fitViewOnInitOptions:T,domNode:b,nodeOrigin:_,nodeExtent:M,debug:$,fitViewSync:I}=p(),{changes:z,updatedInternals:K}=O2(m,w,S,b,_,M);if(K){if(L2(w,S,{nodeOrigin:_,nodeExtent:M}),g.triggerFitView){let Y=C;!C&&E&&(Y=I({...T,nodes:T==null?void 0:T.nodes})),h({fitViewDone:Y})}else h({});(z==null?void 0:z.length)>0&&($&&console.log("React Flow: trigger node changes",z),v==null||v(z))}},updateNodePositions:(m,g=!1)=>{const v=[],w=[];for(const[S,E]of m){const C=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(E!=null&&E.position)),T={id:S,type:"position",position:C?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:g};C&&v.push({id:S,parentId:E.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width,height:E.measured.height}}),w.push(T)}if(v.length>0){const{nodeLookup:S,parentLookup:E,nodeOrigin:C}=p(),T=hh(v,S,E,C);w.push(...T)}p().triggerNodeChanges(w)},triggerNodeChanges:m=>{const{onNodesChange:g,setNodes:v,nodes:w,hasDefaultNodes:S,debug:E}=p();if(m!=null&&m.length){if(S){const C=Ux(m,w);v(C)}E&&console.log("React Flow: trigger node changes",m),g==null||g(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:g,setEdges:v,edges:w,hasDefaultEdges:S,debug:E}=p();if(m!=null&&m.length){if(S){const C=Hx(m,w);v(C)}E&&console.log("React Flow: trigger edge changes",m),g==null||g(m)}},addSelectedNodes:m=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:w,triggerNodeChanges:S,triggerEdgeChanges:E}=p();if(g){const C=m.map(T=>Xr(T,!0));S(C);return}S(Fi(w,new Set([...m]),!0)),E(Fi(v))},addSelectedEdges:m=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:w,triggerNodeChanges:S,triggerEdgeChanges:E}=p();if(g){const C=m.map(T=>Xr(T,!0));E(C);return}E(Fi(v,new Set([...m]))),S(Fi(w,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:g}={})=>{const{edges:v,nodes:w,nodeLookup:S,triggerNodeChanges:E,triggerEdgeChanges:C}=p(),T=m||w,b=g||v,_=T.map($=>{const I=S.get($.id);return I&&(I.selected=!1),Xr($.id,!1)}),M=b.map($=>Xr($.id,!1));E(_),C(M)},setMinZoom:m=>{const{panZoom:g,maxZoom:v}=p();g==null||g.setScaleExtent([m,v]),h({minZoom:m})},setMaxZoom:m=>{const{panZoom:g,minZoom:v}=p();g==null||g.setScaleExtent([v,m]),h({maxZoom:m})},setTranslateExtent:m=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(m),h({translateExtent:m})},setPaneClickDistance:m=>{var g;(g=p().panZoom)==null||g.setClickDistance(m)},resetSelectedElements:()=>{const{edges:m,nodes:g,triggerNodeChanges:v,triggerEdgeChanges:w}=p(),S=g.reduce((C,T)=>T.selected?[...C,Xr(T.id,!1)]:C,[]),E=m.reduce((C,T)=>T.selected?[...C,Xr(T.id,!1)]:C,[]);v(S),w(E)},setNodeExtent:m=>{const{nodes:g,nodeLookup:v,parentLookup:w,nodeOrigin:S,elevateNodesOnSelect:E,nodeExtent:C}=p();m[0][0]===C[0][0]&&m[0][1]===C[0][1]&&m[1][0]===C[1][0]&&m[1][1]===C[1][1]||(bd(g,v,w,{nodeOrigin:S,nodeExtent:m,elevateNodesOnSelect:E,checkEquality:!1}),h({nodeExtent:m}))},panBy:m=>{const{transform:g,width:v,height:w,panZoom:S,translateExtent:E}=p();return V2({delta:m,panZoom:S,transform:g,translateExtent:E,width:v,height:w})},fitView:m=>{const{panZoom:g,width:v,height:w,minZoom:S,maxZoom:E,nodeLookup:C}=p();if(!g)return Promise.resolve(!1);const T=xd(C,m);return wd({nodes:T,width:v,height:w,panZoom:g,minZoom:S,maxZoom:E},m)},fitViewSync:m=>{const{panZoom:g,width:v,height:w,minZoom:S,maxZoom:E,nodeLookup:C}=p();if(!g)return!1;const T=xd(C,m);return wd({nodes:T,width:v,height:w,panZoom:g,minZoom:S,maxZoom:E},m),T.size>0},cancelConnection:()=>{h({connection:{...ux}})},updateConnection:m=>{h({connection:m})},reset:()=>h({...Hy()})}),Object.is);function pw({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:s,initialHeight:a,fitView:u,nodeOrigin:c,nodeExtent:f,children:h}){const[p]=N.useState(()=>t_({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:s,height:a,fitView:u,nodeOrigin:c,nodeExtent:f}));return k.jsx(SP,{value:p,children:k.jsx(HP,{children:h})})}function n_({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:s,width:a,height:u,fitView:c,nodeOrigin:f,nodeExtent:h}){return N.useContext(pu)?k.jsx(k.Fragment,{children:e}):k.jsx(pw,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:s,initialWidth:a,initialHeight:u,fitView:c,nodeOrigin:f,nodeExtent:h,children:e})}const r_={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function i_({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:a,edgeTypes:u,onNodeClick:c,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:v,onConnectStart:w,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,onNodeMouseEnter:T,onNodeMouseMove:b,onNodeMouseLeave:_,onNodeContextMenu:M,onNodeDoubleClick:$,onNodeDragStart:I,onNodeDrag:z,onNodeDragStop:K,onNodesDelete:Y,onEdgesDelete:ee,onDelete:q,onSelectionChange:J,onSelectionDragStart:R,onSelectionDrag:V,onSelectionDragStop:L,onSelectionContextMenu:U,onSelectionStart:D,onSelectionEnd:O,onBeforeDelete:B,connectionMode:A,connectionLineType:W=Sr.Bezier,connectionLineStyle:ae,connectionLineComponent:ne,connectionLineContainerStyle:le,deleteKeyCode:ce="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:te=!1,selectionMode:se=Cs.Full,panActivationKeyCode:Se="Space",multiSelectionKeyCode:ke=Yl()?"Meta":"Control",zoomActivationKeyCode:he=Yl()?"Meta":"Control",snapToGrid:Re,snapGrid:Ie,onlyRenderVisibleElements:Ye=!1,selectNodesOnDrag:dt,nodesDraggable:we,nodesConnectable:de,nodesFocusable:Pe,nodeOrigin:Ne=zx,edgesFocusable:Me,edgesReconnectable:Oe,elementsSelectable:je=!0,defaultViewport:ht=jP,minZoom:Pt=.5,maxZoom:Tt=2,translateExtent:Xn=Es,preventScrolling:li=!0,nodeExtent:ui,defaultMarkerColor:_r="#b1b1b7",zoomOnScroll:Rr=!0,zoomOnPinch:ju=!0,panOnScroll:Gs=!1,panOnScrollSpeed:Qs=.5,panOnScrollMode:Lu=ei.Free,zoomOnDoubleClick:co=!0,panOnDrag:fo=!0,onPaneClick:ho,onPaneMouseEnter:po,onPaneMouseMove:mo,onPaneMouseLeave:qn,onPaneScroll:Gn,onPaneContextMenu:Zs,paneClickDistance:go=0,nodeClickDistance:Js=0,children:ea,onReconnect:ta,onReconnectStart:yo,onReconnectEnd:na,onEdgeContextMenu:Ar,onEdgeDoubleClick:vo,onEdgeMouseEnter:Dr,onEdgeMouseMove:Iu,onEdgeMouseLeave:Mr,reconnectRadius:ci=10,onNodesChange:fi,onEdgesChange:xo,noDragClassName:$u="nodrag",noWheelClassName:Ou="nowheel",noPanClassName:ra="nopan",fitView:gn,fitViewOptions:ia,connectOnClick:oa,attributionPosition:Vu,proOptions:sa,defaultEdgeOptions:aa,elevateNodesOnSelect:la,elevateEdgesOnSelect:ua,disableKeyboardA11y:ca=!1,autoPanOnConnect:Fu,autoPanOnNodeDrag:Xe,autoPanSpeed:zu,connectionRadius:wo,isValidConnection:fa,onError:di,style:Bu,id:So,nodeDragThreshold:hi,viewport:Kt,onViewportChange:Uu,width:$t,height:Hu,colorMode:Wu="light",debug:Ku,onScroll:Tn,...pi},jr){const Qn=So||"1",Yu=OP(Wu),Xu=N.useCallback(mi=>{mi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Tn==null||Tn(mi)},[Tn]);return k.jsx("div",{"data-testid":"rf__wrapper",...pi,onScroll:Xu,style:{...Bu,...r_},ref:jr,className:it(["react-flow",s,Yu]),id:So,children:k.jsxs(n_,{nodes:e,edges:t,width:$t,height:Hu,fitView:gn,nodeOrigin:Ne,nodeExtent:ui,children:[k.jsx(e_,{onInit:h,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:T,onNodeMouseMove:b,onNodeMouseLeave:_,onNodeContextMenu:M,onNodeDoubleClick:$,nodeTypes:a,edgeTypes:u,connectionLineType:W,connectionLineStyle:ae,connectionLineComponent:ne,connectionLineContainerStyle:le,selectionKeyCode:oe,selectionOnDrag:te,selectionMode:se,deleteKeyCode:ce,multiSelectionKeyCode:ke,panActivationKeyCode:Se,zoomActivationKeyCode:he,onlyRenderVisibleElements:Ye,defaultViewport:ht,translateExtent:Xn,minZoom:Pt,maxZoom:Tt,preventScrolling:li,zoomOnScroll:Rr,zoomOnPinch:ju,zoomOnDoubleClick:co,panOnScroll:Gs,panOnScrollSpeed:Qs,panOnScrollMode:Lu,panOnDrag:fo,onPaneClick:ho,onPaneMouseEnter:po,onPaneMouseMove:mo,onPaneMouseLeave:qn,onPaneScroll:Gn,onPaneContextMenu:Zs,paneClickDistance:go,nodeClickDistance:Js,onSelectionContextMenu:U,onSelectionStart:D,onSelectionEnd:O,onReconnect:ta,onReconnectStart:yo,onReconnectEnd:na,onEdgeContextMenu:Ar,onEdgeDoubleClick:vo,onEdgeMouseEnter:Dr,onEdgeMouseMove:Iu,onEdgeMouseLeave:Mr,reconnectRadius:ci,defaultMarkerColor:_r,noDragClassName:$u,noWheelClassName:Ou,noPanClassName:ra,rfId:Qn,disableKeyboardA11y:ca,nodeExtent:ui,viewport:Kt,onViewportChange:Uu}),k.jsx($P,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:v,onConnectStart:w,onConnectEnd:S,onClickConnectStart:E,onClickConnectEnd:C,nodesDraggable:we,nodesConnectable:de,nodesFocusable:Pe,edgesFocusable:Me,edgesReconnectable:Oe,elementsSelectable:je,elevateNodesOnSelect:la,elevateEdgesOnSelect:ua,minZoom:Pt,maxZoom:Tt,nodeExtent:ui,onNodesChange:fi,onEdgesChange:xo,snapToGrid:Re,snapGrid:Ie,connectionMode:A,translateExtent:Xn,connectOnClick:oa,defaultEdgeOptions:aa,fitView:gn,fitViewOptions:ia,onNodesDelete:Y,onEdgesDelete:ee,onDelete:q,onNodeDragStart:I,onNodeDrag:z,onNodeDragStop:K,onSelectionDrag:V,onSelectionDragStart:R,onSelectionDragStop:L,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:ra,nodeOrigin:Ne,rfId:Qn,autoPanOnConnect:Fu,autoPanOnNodeDrag:Xe,autoPanSpeed:zu,onError:di,connectionRadius:wo,isValidConnection:fa,selectNodesOnDrag:dt,nodeDragThreshold:hi,onBeforeDelete:B,paneClickDistance:go,debug:Ku}),k.jsx(MP,{onSelectionChange:J}),ea,k.jsx(TP,{proOptions:sa,position:Vu}),k.jsx(NP,{rfId:Qn,disableKeyboardA11y:ca})]})})}var o_=Wx(i_);function s_({onStart:e,onChange:t,onEnd:n}){const o=We();N.useEffect(()=>{o.setState({onViewportChangeStart:e})},[e]),N.useEffect(()=>{o.setState({onViewportChange:t})},[t]),N.useEffect(()=>{o.setState({onViewportChangeEnd:n})},[n])}function a_({dimensions:e,lineWidth:t,variant:n,className:o}){return k.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:it(["react-flow__background-pattern",n,o])})}function l_({radius:e,className:t}){return k.jsx("circle",{cx:e,cy:e,r:e,className:it(["react-flow__background-pattern","dots",t])})}var Er;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Er||(Er={}));const u_={[Er.Dots]:1,[Er.Lines]:1,[Er.Cross]:6},c_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function mw({id:e,variant:t=Er.Dots,gap:n=20,size:o,lineWidth:s=1,offset:a=0,color:u,bgColor:c,style:f,className:h,patternClassName:p}){const m=N.useRef(null),{transform:g,patternId:v}=De(c_,Je),w=o||u_[t],S=t===Er.Dots,E=t===Er.Cross,C=Array.isArray(n)?n:[n,n],T=[C[0]*g[2]||1,C[1]*g[2]||1],b=w*g[2],_=Array.isArray(a)?a:[a,a],M=E?[b,b]:T,$=[_[0]*g[2]||1+M[0]/2,_[1]*g[2]||1+M[1]/2],I=`${v}${e||""}`;return k.jsxs("svg",{className:it(["react-flow__background",h]),style:{...f,...yu,"--xy-background-color-props":c,"--xy-background-pattern-color-props":u},ref:m,"data-testid":"rf__background",children:[k.jsx("pattern",{id:I,x:g[0]%T[0],y:g[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${$[0]},-${$[1]})`,children:S?k.jsx(l_,{radius:b/2,className:p}):k.jsx(a_,{dimensions:M,lineWidth:s,variant:t,className:p})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${I})`})]})}mw.displayName="Background";const f_=N.memo(mw);function d_(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function h_(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function p_(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function m_(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function g_(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Sl({children:e,className:t,...n}){return k.jsx("button",{type:"button",className:it(["react-flow__controls-button",t]),...n,children:e})}const y_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function gw({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:u,onFitView:c,onInteractiveChange:f,className:h,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":v="React Flow controls"}){const w=We(),{isInteractive:S,minZoomReached:E,maxZoomReached:C}=De(y_,Je),{zoomIn:T,zoomOut:b,fitView:_}=gu(),M=()=>{T(),a==null||a()},$=()=>{b(),u==null||u()},I=()=>{_(s),c==null||c()},z=()=>{w.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),f==null||f(!S)},K=g==="horizontal"?"horizontal":"vertical";return k.jsxs(mu,{className:it(["react-flow__controls",K,h]),position:m,style:e,"data-testid":"rf__controls","aria-label":v,children:[t&&k.jsxs(k.Fragment,{children:[k.jsx(Sl,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C,children:k.jsx(d_,{})}),k.jsx(Sl,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:k.jsx(h_,{})})]}),n&&k.jsx(Sl,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view",children:k.jsx(p_,{})}),o&&k.jsx(Sl,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity",children:S?k.jsx(g_,{}):k.jsx(m_,{})}),p]})}gw.displayName="Controls";const v_=N.memo(gw);function x_({id:e,x:t,y:n,width:o,height:s,style:a,color:u,strokeColor:c,strokeWidth:f,className:h,borderRadius:p,shapeRendering:m,selected:g,onClick:v}){const{background:w,backgroundColor:S}=a||{},E=u||w||S;return k.jsx("rect",{className:it(["react-flow__minimap-node",{selected:g},h]),x:t,y:n,rx:p,ry:p,width:o,height:s,style:{fill:E,stroke:c,strokeWidth:f},shapeRendering:m,onClick:v?C=>v(C,e):void 0})}const w_=N.memo(x_),S_=e=>e.nodes.map(t=>t.id),Wf=e=>e instanceof Function?e:()=>e;function E_({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a=w_,onClick:u}){const c=De(S_,Je),f=Wf(t),h=Wf(e),p=Wf(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:c.map(g=>k.jsx(k_,{id:g,nodeColorFunc:f,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:a,onClick:u,shapeRendering:m},g))})}function C_({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:a,shapeRendering:u,NodeComponent:c,onClick:f}){const{node:h,x:p,y:m,width:g,height:v}=De(w=>{const S=w.nodeLookup.get(e),{x:E,y:C}=S.internals.positionAbsolute,{width:T,height:b}=Kn(S);return{node:S,x:E,y:C,width:T,height:b}},Je);return!h||h.hidden||!vx(h)?null:k.jsx(c,{x:p,y:m,width:g,height:v,style:h.style,selected:!!h.selected,className:o(h),color:t(h),borderRadius:s,strokeColor:n(h),strokeWidth:a,shapeRendering:u,onClick:f,id:h.id})}const k_=N.memo(C_);var b_=N.memo(E_);const N_=200,P_=150,T_=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?gx(ro(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},__="react-flow__minimap-desc";function yw({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:u,nodeComponent:c,bgColor:f,maskColor:h,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:v,onNodeClick:w,pannable:S=!1,zoomable:E=!1,ariaLabel:C="React Flow mini map",inversePan:T,zoomStep:b=10,offsetScale:_=5}){const M=We(),$=N.useRef(null),{boundingRect:I,viewBB:z,rfId:K,panZoom:Y,translateExtent:ee,flowWidth:q,flowHeight:J}=De(T_,Je),R=(e==null?void 0:e.width)??N_,V=(e==null?void 0:e.height)??P_,L=I.width/R,U=I.height/V,D=Math.max(L,U),O=D*R,B=D*V,A=_*D,W=I.x-(O-I.width)/2-A,ae=I.y-(B-I.height)/2-A,ne=O+A*2,le=B+A*2,ce=`${__}-${K}`,oe=N.useRef(0),te=N.useRef();oe.current=D,N.useEffect(()=>{if($.current&&Y)return te.current=Y2({domNode:$.current,panZoom:Y,getTransform:()=>M.getState().transform,getViewScale:()=>oe.current}),()=>{var ke;(ke=te.current)==null||ke.destroy()}},[Y]),N.useEffect(()=>{var ke;(ke=te.current)==null||ke.update({translateExtent:ee,width:q,height:J,inversePan:T,pannable:S,zoomStep:b,zoomable:E})},[S,E,T,b,ee,q,J]);const se=v?ke=>{var Ie;const[he,Re]=((Ie=te.current)==null?void 0:Ie.pointer(ke))||[0,0];v(ke,{x:he,y:Re})}:void 0,Se=w?N.useCallback((ke,he)=>{const Re=M.getState().nodeLookup.get(he);w(ke,Re)},[]):void 0;return k.jsx(mu,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*D:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="string"?u:void 0},className:it(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:R,height:V,viewBox:`${W} ${ae} ${ne} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:$,onClick:se,children:[C&&k.jsx("title",{id:ce,children:C}),k.jsx(b_,{onClick:Se,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:u,nodeComponent:c}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-A},${ae-A}h${ne+A*2}v${le+A*2}h${-ne-A*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yw.displayName="MiniMap";N.memo(yw);function R_({nodeId:e,position:t,variant:n=ds.Handle,className:o,style:s={},children:a,color:u,minWidth:c=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:g,onResizeStart:v,onResize:w,onResizeEnd:S}){const E=mh(),C=typeof e=="string"?e:E,T=We(),b=N.useRef(null),_=n===ds.Line?"right":"bottom-right",M=t??_,$=N.useRef(null);N.useEffect(()=>{if(!(!b.current||!C))return $.current||($.current=lP({domNode:b.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:Y,transform:ee,snapGrid:q,snapToGrid:J,nodeOrigin:R,domNode:V}=T.getState();return{nodeLookup:Y,transform:ee,snapGrid:q,snapToGrid:J,nodeOrigin:R,paneDomNode:V}},onChange:(Y,ee)=>{const{triggerNodeChanges:q,nodeLookup:J,parentLookup:R,nodeOrigin:V}=T.getState(),L=[],U={x:Y.x,y:Y.y},D=J.get(C);if(D&&D.expandParent&&D.parentId){const O=D.origin??V,B=Y.width??D.measured.width,A=Y.height??D.measured.height,W={id:D.id,parentId:D.parentId,rect:{width:B,height:A,...xx({x:Y.x??D.position.x,y:Y.y??D.position.y},{width:B,height:A},D.parentId,J,O)}},ae=hh([W],J,R,V);L.push(...ae),U.x=Y.x?Math.max(O[0]*B,Y.x):void 0,U.y=Y.y?Math.max(O[1]*A,Y.y):void 0}if(U.x!==void 0&&U.y!==void 0){const O={id:C,type:"position",position:{...U}};L.push(O)}if(Y.width!==void 0&&Y.height!==void 0){const O={id:C,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:Y.width,height:Y.height}};L.push(O)}for(const O of ee){const B={...O,type:"position"};L.push(B)}q(L)},onEnd:()=>{const Y={id:C,type:"dimensions",resizing:!1};T.getState().triggerNodeChanges([Y])}})),$.current.update({controlPosition:M,boundaries:{minWidth:c,minHeight:f,maxWidth:h,maxHeight:p},keepAspectRatio:m,onResizeStart:v,onResize:w,onResizeEnd:S,shouldResize:g}),()=>{var Y;(Y=$.current)==null||Y.destroy()}},[M,c,f,h,p,m,v,w,S,g]);const I=M.split("-"),z=n===ds.Line?"borderColor":"backgroundColor",K=u?{...s,[z]:u}:s;return k.jsx("div",{className:it(["react-flow__resize-control","nodrag",...I,n,o]),ref:b,style:K,children:a})}N.memo(R_);const A_=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__renderer")};function D_({children:e}){const t=De(A_);return t?wP.createPortal(e,t):null}const M_=(e,t)=>(e==null?void 0:e.internals.positionAbsolute.x)!==(t==null?void 0:t.internals.positionAbsolute.x)||(e==null?void 0:e.internals.positionAbsolute.y)!==(t==null?void 0:t.internals.positionAbsolute.y)||(e==null?void 0:e.measured.width)!==(t==null?void 0:t.measured.width)||(e==null?void 0:e.measured.height)!==(t==null?void 0:t.measured.height)||(e==null?void 0:e.selected)!==(t==null?void 0:t.selected)||(e==null?void 0:e.internals.z)!==(t==null?void 0:t.internals.z),j_=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,o]of e)if(M_(o,t.get(n)))return!1;return!0},L_=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2],selectedNodesCount:e.nodes.filter(t=>t.selected).length});function vw({nodeId:e,children:t,className:n,style:o,isVisible:s,position:a=ye.Top,offset:u=10,align:c="center",...f}){var M;const h=mh(),p=N.useCallback($=>(Array.isArray(e)?e:[e||h||""]).reduce((K,Y)=>{const ee=$.nodeLookup.get(Y);return ee&&K.set(ee.id,ee),K},new Map),[e,h]),m=De(p,j_),{x:g,y:v,zoom:w,selectedNodesCount:S}=De(L_,Je);if(!(typeof s=="boolean"?s:m.size===1&&((M=m.values().next().value)==null?void 0:M.selected)&&S===1)||!m.size)return null;const C=ro(m),T=Array.from(m.values()),b=Math.max(...T.map($=>$.internals.z+1)),_={position:"absolute",transform:M2(C,{x:g,y:v,zoom:w},a,u,c),zIndex:b,...o};return k.jsx(D_,{children:k.jsx("div",{style:_,className:it(["react-flow__node-toolbar",n]),...f,"data-id":T.reduce(($,I)=>`${$}${I.id} `,"").trim(),children:t})})}var rs={},Wy;function I_(){if(Wy)return rs;Wy=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.parse=u,rs.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function u(g,v){const w=new a,S=g.length;if(S<2)return w;const E=(v==null?void 0:v.decode)||p;let C=0;do{const T=g.indexOf("=",C);if(T===-1)break;const b=g.indexOf(";",C),_=b===-1?S:b;if(T>_){C=g.lastIndexOf(";",T-1)+1;continue}const M=c(g,C,T),$=f(g,T,M),I=g.slice(M,$);if(w[I]===void 0){let z=c(g,T+1,_),K=f(g,_,z);const Y=E(g.slice(z,K));w[I]=Y}C=_+1}while(C<S);return w}function c(g,v,w){do{const S=g.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<w);return w}function f(g,v,w){for(;v>w;){const S=g.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return w}function h(g,v,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const E=S(v);if(!t.test(E))throw new TypeError(`argument val is invalid: ${v}`);let C=g+"="+E;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!o.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!m(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return s.call(g)==="[object Date]"}return rs}I_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ky="popstate";function $_(e={}){function t(o,s){let{pathname:a,search:u,hash:c}=o.location;return Td("",{pathname:a,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:Ps(s)}return V_(t,n,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O_(){return Math.random().toString(36).substring(2,10)}function Yy(e,t){return{usr:e.state,key:e.key,idx:t}}function Td(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?io(t):t,state:n,key:t&&t.key||o||O_()}}function Ps({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function io(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function V_(e,t,n,o={}){let{window:s=document.defaultView,v5Compat:a=!1}=o,u=s.history,c="POP",f=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function m(){c="POP";let E=p(),C=E==null?null:E-h;h=E,f&&f({action:c,location:S.location,delta:C})}function g(E,C){c="PUSH";let T=Td(S.location,E,C);h=p()+1;let b=Yy(T,h),_=S.createHref(T);try{u.pushState(b,"",_)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(_)}a&&f&&f({action:c,location:S.location,delta:1})}function v(E,C){c="REPLACE";let T=Td(S.location,E,C);h=p();let b=Yy(T,h),_=S.createHref(T);u.replaceState(b,"",_),a&&f&&f({action:c,location:S.location,delta:0})}function w(E){let C=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof E=="string"?E:Ps(E);return T=T.replace(/ $/,"%20"),Ze(C,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,C)}let S={get action(){return c},get location(){return e(s,u)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Ky,m),f=E,()=>{s.removeEventListener(Ky,m),f=null}},createHref(E){return t(s,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(E){return u.go(E)}};return S}function xw(e,t,n="/"){return F_(e,t,n,!1)}function F_(e,t,n,o){let s=typeof t=="string"?io(t):t,a=kr(s.pathname||"/",n);if(a==null)return null;let u=ww(e);z_(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let h=Z_(a);c=G_(u[f],h,o)}return c}function ww(e,t=[],n=[],o=""){let s=(a,u,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ze(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let h=Fn([o,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ww(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:X_(h,a.index),routesMeta:p})};return e.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,u);else for(let f of Sw(a.path))s(a,u,f)}),t}function Sw(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(o.length===0)return s?[a,""]:[a];let u=Sw(o.join("/")),c=[];return c.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...u),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function z_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:q_(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var B_=/^:[\w-]+$/,U_=3,H_=2,W_=1,K_=10,Y_=-2,Xy=e=>e==="*";function X_(e,t){let n=e.split("/"),o=n.length;return n.some(Xy)&&(o+=Y_),t&&(o+=H_),n.filter(s=>!Xy(s)).reduce((s,a)=>s+(B_.test(a)?U_:a===""?W_:K_),o)}function q_(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function G_(e,t,n=!1){let{routesMeta:o}=e,s={},a="/",u=[];for(let c=0;c<o.length;++c){let f=o[c],h=c===o.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=ql({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),g=f.route;if(!m&&h&&n&&!o[o.length-1].route.index&&(m=ql({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),u.push({params:s,pathname:Fn([a,m.pathname]),pathnameBase:nR(Fn([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Fn([a,m.pathnameBase]))}return u}function ql(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=Q_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let w=c[g]||"";u=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:e}}function Q_(e,t=!1,n=!0){dn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(o.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function Z_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function kr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function J_(e,t="/"){let{pathname:n,search:o="",hash:s=""}=typeof e=="string"?io(e):e;return{pathname:n?n.startsWith("/")?n:eR(n,t):t,search:rR(o),hash:iR(s)}}function eR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kf(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ew(e){let t=tR(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function Cw(e,t,n,o=!1){let s;typeof e=="string"?s=io(e):(s={...e},Ze(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,c;if(u==null)c=n;else{let m=t.length-1;if(!o&&u.startsWith("..")){let g=u.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}c=m>=0?t[m]:"/"}let f=J_(s,c),h=u&&u!=="/"&&u.endsWith("/"),p=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Fn=e=>e.join("/").replace(/\/\/+/g,"/"),nR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kw=["POST","PUT","PATCH","DELETE"];new Set(kw);var sR=["GET",...kw];new Set(sR);var oo=N.createContext(null);oo.displayName="DataRouter";var xu=N.createContext(null);xu.displayName="DataRouterState";var bw=N.createContext({isTransitioning:!1});bw.displayName="ViewTransition";var aR=N.createContext(new Map);aR.displayName="Fetchers";var lR=N.createContext(null);lR.displayName="Await";var Nn=N.createContext(null);Nn.displayName="Navigation";var zs=N.createContext(null);zs.displayName="Location";var Yn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var gh=N.createContext(null);gh.displayName="RouteError";function uR(e,{relative:t}={}){Ze(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=N.useContext(Nn),{hash:s,pathname:a,search:u}=Us(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Fn([n,a])),o.createHref({pathname:c,search:u,hash:s})}function Bs(){return N.useContext(zs)!=null}function Pr(){return Ze(Bs(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(zs).location}var Nw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pw(e){N.useContext(Nn).static||N.useLayoutEffect(e)}function Tw(){let{isDataRoute:e}=N.useContext(Yn);return e?ER():cR()}function cR(){Ze(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(oo),{basename:t,navigator:n}=N.useContext(Nn),{matches:o}=N.useContext(Yn),{pathname:s}=Pr(),a=JSON.stringify(Ew(o)),u=N.useRef(!1);return Pw(()=>{u.current=!0}),N.useCallback((f,h={})=>{if(dn(u.current,Nw),!u.current)return;if(typeof f=="number"){n.go(f);return}let p=Cw(f,JSON.parse(a),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Fn([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,s,e])}N.createContext(null);function Us(e,{relative:t}={}){let{matches:n}=N.useContext(Yn),{pathname:o}=Pr(),s=JSON.stringify(Ew(n));return N.useMemo(()=>Cw(e,JSON.parse(s),o,t==="path"),[e,s,o,t])}function fR(e,t){return _w(e,t)}function _w(e,t,n,o){var C;Ze(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(Nn),{matches:a}=N.useContext(Yn),u=a[a.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",p=u&&u.route;{let T=p&&p.path||"";Rw(f,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=Pr(),g;if(t){let T=typeof t=="string"?io(t):t;Ze(h==="/"||((C=T.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),g=T}else g=m;let v=g.pathname||"/",w=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=xw(e,{pathname:w});dn(p||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),dn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=gR(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Fn([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Fn([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,o);return t&&E?N.createElement(zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function dR(){let e=SR(),t=oR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:s},n):null,u)}var hR=N.createElement(dR,null),pR=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Yn.Provider,{value:this.props.routeContext},N.createElement(gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mR({routeContext:e,match:t,children:n}){let o=N.useContext(oo);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Yn.Provider,{value:e},n)}function gR(e,t=[],n=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Ze(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:p,errors:m}=n,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,h,p)=>{let m,g=!1,v=null,w=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||hR,u&&(c<0&&p===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):c===p&&(g=!0,w=h.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),E=()=>{let C;return m?C=v:g?C=w:h.route.Component?C=N.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,N.createElement(mR,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(pR,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function yh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(e){let t=N.useContext(oo);return Ze(t,yh(e)),t}function vR(e){let t=N.useContext(xu);return Ze(t,yh(e)),t}function xR(e){let t=N.useContext(Yn);return Ze(t,yh(e)),t}function vh(e){let t=xR(e),n=t.matches[t.matches.length-1];return Ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wR(){return vh("useRouteId")}function SR(){var o;let e=N.useContext(gh),t=vR("useRouteError"),n=vh("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[n]}function ER(){let{router:e}=yR("useNavigate"),t=vh("useNavigate"),n=N.useRef(!1);return Pw(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{dn(n.current,Nw),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var qy={};function Rw(e,t,n){!t&&!qy[e]&&(qy[e]=!0,dn(!1,n))}N.memo(CR);function CR({routes:e,future:t,state:n}){return _w(e,void 0,n,t)}function Rl(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:s,static:a=!1}){Ze(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof n=="string"&&(n=io(n));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:g="default"}=n,v=N.useMemo(()=>{let w=kr(f,u);return w==null?null:{location:{pathname:w,search:h,hash:p,state:m,key:g},navigationType:o}},[u,f,h,p,m,g,o]);return dn(v!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Nn.Provider,{value:c},N.createElement(zs.Provider,{children:t,value:v}))}function bR({children:e,location:t}){return fR(_d(e),t)}function _d(e,t=[]){let n=[];return N.Children.forEach(e,(o,s)=>{if(!N.isValidElement(o))return;let a=[...t,s];if(o.type===N.Fragment){n.push.apply(n,_d(o.props.children,a));return}Ze(o.type===Rl,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!o.props.index||!o.props.children,"An index route cannot have child routes.");let u={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=_d(o.props.children,a)),n.push(u)}),n}var Al="get",Dl="application/x-www-form-urlencoded";function wu(e){return e!=null&&typeof e.tagName=="string"}function NR(e){return wu(e)&&e.tagName.toLowerCase()==="button"}function PR(e){return wu(e)&&e.tagName.toLowerCase()==="form"}function TR(e){return wu(e)&&e.tagName.toLowerCase()==="input"}function _R(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RR(e,t){return e.button===0&&(!t||t==="_self")&&!_R(e)}function Rd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(s=>[n,s]):[[n,o]])},[]))}function AR(e,t){let n=Rd(e);return t&&t.forEach((o,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var El=null;function DR(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var MR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(e){return e!=null&&!MR.has(e)?(dn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dl}"`),null):e}function jR(e,t){let n,o,s,a,u;if(PR(e)){let c=e.getAttribute("action");o=c?kr(c,t):null,n=e.getAttribute("method")||Al,s=Yf(e.getAttribute("enctype"))||Dl,a=new FormData(e)}else if(NR(e)||TR(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(o=f?kr(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Al,s=Yf(e.getAttribute("formenctype"))||Yf(c.getAttribute("enctype"))||Dl,a=new FormData(c,e),!DR()){let{name:h,type:p,value:m}=e;if(p==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,m)}}else{if(wu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Al,o=null,s=Dl,u=e}return a&&s==="text/plain"&&(u=a,a=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:a,body:u}}function xh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function LR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $R(e,t,n){let o=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let u=await LR(a,n);return u.links?u.links():[]}return[]}));return zR(o.flat(1).filter(IR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Gy(e,t,n,o,s,a){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?t.filter((f,h)=>u(f,h)||c(f,h)):a==="data"?t.filter((f,h)=>{var m;let p=o.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(u(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function OR(e,t){return VR(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function VR(e){return[...new Set(e)]}function FR(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function zR(e,t){let n=new Set;return new Set(t),e.reduce((o,s)=>{let a=JSON.stringify(FR(s));return n.has(a)||(n.add(a),o.push({key:a,link:s})),o},[])}function BR(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function UR(){let e=N.useContext(oo);return xh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HR(){let e=N.useContext(xu);return xh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wh=N.createContext(void 0);wh.displayName="FrameworkContext";function Aw(){let e=N.useContext(wh);return xh(e,"You must render this element inside a <HydratedRouter> element"),e}function WR(e,t){let n=N.useContext(wh),[o,s]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,g=N.useRef(null);N.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let S=C=>{C.forEach(T=>{u(T.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),N.useEffect(()=>{if(o){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[o]);let v=()=>{s(!0)},w=()=>{s(!1),u(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:is(c,v),onBlur:is(f,w),onMouseEnter:is(h,v),onMouseLeave:is(p,w),onTouchStart:is(m,v)}]:[!1,g,{}]}function is(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KR({page:e,...t}){let{router:n}=UR(),o=N.useMemo(()=>xw(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?N.createElement(XR,{page:e,matches:o,...t}):null}function YR(e){let{manifest:t,routeModules:n}=Aw(),[o,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return $R(e,t,n).then(u=>{a||s(u)}),()=>{a=!0}},[e,t,n]),o}function XR({page:e,matches:t,...n}){let o=Pr(),{manifest:s,routeModules:a}=Aw(),{loaderData:u,matches:c}=HR(),f=N.useMemo(()=>Gy(e,t,c,s,o,"data"),[e,t,c,s,o]),h=N.useMemo(()=>Gy(e,t,c,s,o,"assets"),[e,t,c,s,o]),p=N.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let v=new Set,w=!1;if(t.forEach(E=>{var T;let C=s.routes[E.route.id];!C||!C.hasLoader||(!f.some(b=>b.route.id===E.route.id)&&E.route.id in u&&((T=a[E.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?w=!0:v.add(E.route.id))}),v.size===0)return[];let S=BR(e);return w&&v.size>0&&S.searchParams.set("_routes",t.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[u,o,s,f,t,e,a]),m=N.useMemo(()=>OR(h,s),[h,s]),g=YR(h);return N.createElement(N.Fragment,null,p.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),m.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:w})=>N.createElement("link",{key:v,...w})))}function qR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.1.3")}catch{}function GR({basename:e,children:t,window:n}){let o=N.useRef();o.current==null&&(o.current=$_({window:n,v5Compat:!0}));let s=o.current,[a,u]=N.useState({action:s.action,location:s.location}),c=N.useCallback(f=>{N.startTransition(()=>u(f))},[u]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.createElement(kR,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jw=N.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:s,reloadDocument:a,replace:u,state:c,target:f,to:h,preventScrollReset:p,viewTransition:m,...g},v){let{basename:w}=N.useContext(Nn),S=typeof h=="string"&&Mw.test(h),E,C=!1;if(typeof h=="string"&&S&&(E=h,Dw))try{let K=new URL(window.location.href),Y=h.startsWith("//")?new URL(K.protocol+h):new URL(h),ee=kr(Y.pathname,w);Y.origin===K.origin&&ee!=null?h=ee+Y.search+Y.hash:C=!0}catch{dn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=uR(h,{relative:s}),[b,_,M]=WR(o,g),$=eA(h,{replace:u,state:c,target:f,preventScrollReset:p,relative:s,viewTransition:m});function I(K){t&&t(K),K.defaultPrevented||$(K)}let z=N.createElement("a",{...g,...M,href:E||T,onClick:C||a?t:I,ref:qR(v,_),target:f,"data-discover":!S&&n==="render"?"true":void 0});return b&&!S?N.createElement(N.Fragment,null,z,N.createElement(KR,{page:T})):z});jw.displayName="Link";var QR=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:s=!1,style:a,to:u,viewTransition:c,children:f,...h},p){let m=Us(u,{relative:h.relative}),g=Pr(),v=N.useContext(xu),{navigator:w,basename:S}=N.useContext(Nn),E=v!=null&&oA(m)&&c===!0,C=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=g.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),b=b?b.toLowerCase():null,C=C.toLowerCase()),b&&S&&(b=kr(b,S)||b);const _=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=T===C||!s&&T.startsWith(C)&&T.charAt(_)==="/",$=b!=null&&(b===C||!s&&b.startsWith(C)&&b.charAt(C.length)==="/"),I={isActive:M,isPending:$,isTransitioning:E},z=M?t:void 0,K;typeof o=="function"?K=o(I):K=[o,M?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a(I):a;return N.createElement(jw,{...h,"aria-current":z,className:K,ref:p,style:Y,to:u,viewTransition:c},typeof f=="function"?f(I):f)});QR.displayName="NavLink";var ZR=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:s,state:a,method:u=Al,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:m,...g},v)=>{let w=rA(),S=iA(c,{relative:h}),E=u.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&Mw.test(c),T=b=>{if(f&&f(b),b.defaultPrevented)return;b.preventDefault();let _=b.nativeEvent.submitter,M=(_==null?void 0:_.getAttribute("formmethod"))||u;w(_||b.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:m})};return N.createElement("form",{ref:v,method:E,action:S,onSubmit:o?f:T,...g,"data-discover":!C&&e==="render"?"true":void 0})});ZR.displayName="Form";function JR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(e){let t=N.useContext(oo);return Ze(t,JR(e)),t}function eA(e,{target:t,replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:u}={}){let c=Tw(),f=Pr(),h=Us(e,{relative:a});return N.useCallback(p=>{if(RR(p,t)){p.preventDefault();let m=n!==void 0?n:Ps(f)===Ps(h);c(e,{replace:m,state:o,preventScrollReset:s,relative:a,viewTransition:u})}},[f,c,h,n,o,t,e,s,a,u])}function Sh(e){dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(Rd(e)),n=N.useRef(!1),o=Pr(),s=N.useMemo(()=>AR(o.search,n.current?null:t.current),[o.search]),a=Tw(),u=N.useCallback((c,f)=>{const h=Rd(typeof c=="function"?c(s):c);n.current=!0,a("?"+h,f)},[a,s]);return[s,u]}var tA=0,nA=()=>`__${String(++tA)}__`;function rA(){let{router:e}=Lw("useSubmit"),{basename:t}=N.useContext(Nn),n=wR();return N.useCallback(async(o,s={})=>{let{action:a,method:u,encType:c,formData:f,body:h}=jR(o,t);if(s.navigate===!1){let p=s.fetcherKey||nA();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function iA(e,{relative:t}={}){let{basename:n}=N.useContext(Nn),o=N.useContext(Yn);Ze(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...Us(e||".",{relative:t})},u=Pr();if(e==null){a.search=u.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Fn([n,a.pathname])),Ps(a)}function oA(e,t={}){let n=N.useContext(bw);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Lw("useViewTransitionState"),s=Us(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=kr(n.currentLocation.pathname,o)||n.currentLocation.pathname,u=kr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return ql(s.pathname,u)!=null||ql(s.pathname,a)!=null}new TextEncoder;function Iw(e,t){return function(){return e.apply(t,arguments)}}const{toString:sA}=Object.prototype,{getPrototypeOf:Eh}=Object,Su=(e=>t=>{const n=sA.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pn=e=>(e=e.toLowerCase(),t=>Su(t)===e),Eu=e=>t=>typeof t===e,{isArray:so}=Array,Ts=Eu("undefined");function aA(e){return e!==null&&!Ts(e)&&e.constructor!==null&&!Ts(e.constructor)&&Ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $w=pn("ArrayBuffer");function lA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$w(e.buffer),t}const uA=Eu("string"),Ut=Eu("function"),Ow=Eu("number"),Cu=e=>e!==null&&typeof e=="object",cA=e=>e===!0||e===!1,Ml=e=>{if(Su(e)!=="object")return!1;const t=Eh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fA=pn("Date"),dA=pn("File"),hA=pn("Blob"),pA=pn("FileList"),mA=e=>Cu(e)&&Ut(e.pipe),gA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ut(e.append)&&((t=Su(e))==="formdata"||t==="object"&&Ut(e.toString)&&e.toString()==="[object FormData]"))},yA=pn("URLSearchParams"),[vA,xA,wA,SA]=["ReadableStream","Request","Response","Headers"].map(pn),EA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,s;if(typeof e!="object"&&(e=[e]),so(e))for(o=0,s=e.length;o<s;o++)t.call(null,e[o],o,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),u=a.length;let c;for(o=0;o<u;o++)c=a[o],t.call(null,e[c],c,e)}}function Vw(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,s;for(;o-- >0;)if(s=n[o],t===s.toLowerCase())return s;return null}const Qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fw=e=>!Ts(e)&&e!==Qr;function Ad(){const{caseless:e}=Fw(this)&&this||{},t={},n=(o,s)=>{const a=e&&Vw(t,s)||s;Ml(t[a])&&Ml(o)?t[a]=Ad(t[a],o):Ml(o)?t[a]=Ad({},o):so(o)?t[a]=o.slice():t[a]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Hs(arguments[o],n);return t}const CA=(e,t,n,{allOwnKeys:o}={})=>(Hs(t,(s,a)=>{n&&Ut(s)?e[a]=Iw(s,n):e[a]=s},{allOwnKeys:o}),e),kA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),bA=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},NA=(e,t,n,o)=>{let s,a,u;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)u=s[a],(!o||o(u,e,t))&&!c[u]&&(t[u]=e[u],c[u]=!0);e=n!==!1&&Eh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},PA=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},TA=e=>{if(!e)return null;if(so(e))return e;let t=e.length;if(!Ow(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_A=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Eh(Uint8Array)),RA=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=o.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},AA=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},DA=pn("HTMLFormElement"),MA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,s){return o.toUpperCase()+s}),Qy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jA=pn("RegExp"),zw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};Hs(n,(s,a)=>{let u;(u=t(s,a,e))!==!1&&(o[a]=u||s)}),Object.defineProperties(e,o)},LA=e=>{zw(e,(t,n)=>{if(Ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(Ut(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IA=(e,t)=>{const n={},o=s=>{s.forEach(a=>{n[a]=!0})};return so(e)?o(e):o(String(e).split(t)),n},$A=()=>{},OA=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Xf="abcdefghijklmnopqrstuvwxyz",Zy="0123456789",Bw={DIGIT:Zy,ALPHA:Xf,ALPHA_DIGIT:Xf+Xf.toUpperCase()+Zy},VA=(e=16,t=Bw.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n};function FA(e){return!!(e&&Ut(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const zA=e=>{const t=new Array(10),n=(o,s)=>{if(Cu(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[s]=o;const a=so(o)?[]:{};return Hs(o,(u,c)=>{const f=n(u,s+1);!Ts(f)&&(a[c]=f)}),t[s]=void 0,a}}return o};return n(e,0)},BA=pn("AsyncFunction"),UA=e=>e&&(Cu(e)||Ut(e))&&Ut(e.then)&&Ut(e.catch),Uw=((e,t)=>e?setImmediate:t?((n,o)=>(Qr.addEventListener("message",({source:s,data:a})=>{s===Qr&&a===n&&o.length&&o.shift()()},!1),s=>{o.push(s),Qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ut(Qr.postMessage)),HA=typeof queueMicrotask<"u"?queueMicrotask.bind(Qr):typeof process<"u"&&process.nextTick||Uw,Z={isArray:so,isArrayBuffer:$w,isBuffer:aA,isFormData:gA,isArrayBufferView:lA,isString:uA,isNumber:Ow,isBoolean:cA,isObject:Cu,isPlainObject:Ml,isReadableStream:vA,isRequest:xA,isResponse:wA,isHeaders:SA,isUndefined:Ts,isDate:fA,isFile:dA,isBlob:hA,isRegExp:jA,isFunction:Ut,isStream:mA,isURLSearchParams:yA,isTypedArray:_A,isFileList:pA,forEach:Hs,merge:Ad,extend:CA,trim:EA,stripBOM:kA,inherits:bA,toFlatObject:NA,kindOf:Su,kindOfTest:pn,endsWith:PA,toArray:TA,forEachEntry:RA,matchAll:AA,isHTMLForm:DA,hasOwnProperty:Qy,hasOwnProp:Qy,reduceDescriptors:zw,freezeMethods:LA,toObjectSet:IA,toCamelCase:MA,noop:$A,toFiniteNumber:OA,findKey:Vw,global:Qr,isContextDefined:Fw,ALPHABET:Bw,generateString:VA,isSpecCompliantForm:FA,toJSONObject:zA,isAsyncFn:BA,isThenable:UA,setImmediate:Uw,asap:HA};function _e(e,t,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}Z.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Hw=_e.prototype,Ww={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ww[e]={value:e}});Object.defineProperties(_e,Ww);Object.defineProperty(Hw,"isAxiosError",{value:!0});_e.from=(e,t,n,o,s,a)=>{const u=Object.create(Hw);return Z.toFlatObject(e,u,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),_e.call(u,e.message,t,n,o,s),u.cause=e,u.name=e.name,a&&Object.assign(u,a),u};const WA=null;function Dd(e){return Z.isPlainObject(e)||Z.isArray(e)}function Kw(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function Jy(e,t,n){return e?e.concat(t).map(function(s,a){return s=Kw(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function KA(e){return Z.isArray(e)&&!e.some(Dd)}const YA=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function ku(e,t,n){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,E){return!Z.isUndefined(E[S])});const o=n.metaTokens,s=n.visitor||p,a=n.dots,u=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(Z.isDate(w))return w.toISOString();if(!f&&Z.isBlob(w))throw new _e("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(w)||Z.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,E){let C=w;if(w&&!E&&typeof w=="object"){if(Z.endsWith(S,"{}"))S=o?S:S.slice(0,-2),w=JSON.stringify(w);else if(Z.isArray(w)&&KA(w)||(Z.isFileList(w)||Z.endsWith(S,"[]"))&&(C=Z.toArray(w)))return S=Kw(S),C.forEach(function(b,_){!(Z.isUndefined(b)||b===null)&&t.append(u===!0?Jy([S],_,a):u===null?S:S+"[]",h(b))}),!1}return Dd(w)?!0:(t.append(Jy(E,S,a),h(w)),!1)}const m=[],g=Object.assign(YA,{defaultVisitor:p,convertValue:h,isVisitable:Dd});function v(w,S){if(!Z.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(w),Z.forEach(w,function(C,T){(!(Z.isUndefined(C)||C===null)&&s.call(t,C,Z.isString(T)?T.trim():T,S,g))===!0&&v(C,S?S.concat(T):[T])}),m.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return v(e),t}function e0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Ch(e,t){this._pairs=[],e&&ku(e,this,t)}const Yw=Ch.prototype;Yw.append=function(t,n){this._pairs.push([t,n])};Yw.toString=function(t){const n=t?function(o){return t.call(this,o,e0)}:e0;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function XA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xw(e,t,n){if(!t)return e;const o=n&&n.encode||XA;Z.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=Z.isURLSearchParams(t)?t.toString():new Ch(t,n).toString(o),a){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class t0{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(o){o!==null&&t(o)})}}const qw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qA=typeof URLSearchParams<"u"?URLSearchParams:Ch,GA=typeof FormData<"u"?FormData:null,QA=typeof Blob<"u"?Blob:null,ZA={isBrowser:!0,classes:{URLSearchParams:qA,FormData:GA,Blob:QA},protocols:["http","https","file","blob","url","data"]},kh=typeof window<"u"&&typeof document<"u",Md=typeof navigator=="object"&&navigator||void 0,JA=kh&&(!Md||["ReactNative","NativeScript","NS"].indexOf(Md.product)<0),eD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tD=kh&&window.location.href||"http://localhost",nD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kh,hasStandardBrowserEnv:JA,hasStandardBrowserWebWorkerEnv:eD,navigator:Md,origin:tD},Symbol.toStringTag,{value:"Module"})),Et={...nD,...ZA};function rD(e,t){return ku(e,new Et.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,a){return Et.isNode&&Z.isBuffer(n)?(this.append(o,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function iD(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oD(e){const t={},n=Object.keys(e);let o;const s=n.length;let a;for(o=0;o<s;o++)a=n[o],t[a]=e[a];return t}function Gw(e){function t(n,o,s,a){let u=n[a++];if(u==="__proto__")return!0;const c=Number.isFinite(+u),f=a>=n.length;return u=!u&&Z.isArray(s)?s.length:u,f?(Z.hasOwnProp(s,u)?s[u]=[s[u],o]:s[u]=o,!c):((!s[u]||!Z.isObject(s[u]))&&(s[u]=[]),t(n,o,s[u],a)&&Z.isArray(s[u])&&(s[u]=oD(s[u])),!c)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const n={};return Z.forEachEntry(e,(o,s)=>{t(iD(o),s,n,0)}),n}return null}function sD(e,t,n){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(e)}const Ws={transitional:qw,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",s=o.indexOf("application/json")>-1,a=Z.isObject(t);if(a&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return s?JSON.stringify(Gw(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return rD(t,this.formSerializer).toString();if((c=Z.isFileList(t))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ku(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),sD(t)):t}],transformResponse:[function(t){const n=this.transitional||Ws.transitional,o=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(o&&!this.responseType||s)){const u=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(u)throw c.name==="SyntaxError"?_e.from(c,_e.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{Ws.headers[e]={}});const aD=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lD=e=>{const t={};let n,o,s;return e&&e.split(`
`).forEach(function(u){s=u.indexOf(":"),n=u.substring(0,s).trim().toLowerCase(),o=u.substring(s+1).trim(),!(!n||t[n]&&aD[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},n0=Symbol("internals");function os(e){return e&&String(e).trim().toLowerCase()}function jl(e){return e===!1||e==null?e:Z.isArray(e)?e.map(jl):String(e)}function uD(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const cD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qf(e,t,n,o,s){if(Z.isFunction(o))return o.call(this,t,n);if(s&&(t=n),!!Z.isString(t)){if(Z.isString(o))return t.indexOf(o)!==-1;if(Z.isRegExp(o))return o.test(t)}}function fD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function dD(e,t){const n=Z.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(s,a,u){return this[o].call(this,t,s,a,u)},configurable:!0})})}class It{constructor(t){t&&this.set(t)}set(t,n,o){const s=this;function a(c,f,h){const p=os(f);if(!p)throw new Error("header name must be a non-empty string");const m=Z.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||f]=jl(c))}const u=(c,f)=>Z.forEach(c,(h,p)=>a(h,p,f));if(Z.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(Z.isString(t)&&(t=t.trim())&&!cD(t))u(lD(t),n);else if(Z.isHeaders(t))for(const[c,f]of t.entries())a(f,c,o);else t!=null&&a(n,t,o);return this}get(t,n){if(t=os(t),t){const o=Z.findKey(this,t);if(o){const s=this[o];if(!n)return s;if(n===!0)return uD(s);if(Z.isFunction(n))return n.call(this,s,o);if(Z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=os(t),t){const o=Z.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||qf(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let s=!1;function a(u){if(u=os(u),u){const c=Z.findKey(o,u);c&&(!n||qf(o,o[c],c,n))&&(delete o[c],s=!0)}}return Z.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let o=n.length,s=!1;for(;o--;){const a=n[o];(!t||qf(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,o={};return Z.forEach(this,(s,a)=>{const u=Z.findKey(o,a);if(u){n[u]=jl(s),delete n[a];return}const c=t?fD(a):String(a).trim();c!==a&&delete n[a],n[c]=jl(s),o[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Z.forEach(this,(o,s)=>{o!=null&&o!==!1&&(n[s]=t&&Z.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(s=>o.set(s)),o}static accessor(t){const o=(this[n0]=this[n0]={accessors:{}}).accessors,s=this.prototype;function a(u){const c=os(u);o[c]||(dD(s,u),o[c]=!0)}return Z.isArray(t)?t.forEach(a):a(t),this}}It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(It.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});Z.freezeMethods(It);function Gf(e,t){const n=this||Ws,o=t||n,s=It.from(o.headers);let a=o.data;return Z.forEach(e,function(c){a=c.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Qw(e){return!!(e&&e.__CANCEL__)}function ao(e,t,n){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,n),this.name="CanceledError"}Z.inherits(ao,_e,{__CANCEL__:!0});function Zw(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pD(e,t){e=e||10;const n=new Array(e),o=new Array(e);let s=0,a=0,u;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),p=o[a];u||(u=h),n[s]=f,o[s]=h;let m=a,g=0;for(;m!==s;)g+=n[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),h-u<t)return;const v=p&&h-p;return v?Math.round(g*1e3/v):void 0}}function mD(e,t){let n=0,o=1e3/t,s,a;const u=(h,p=Date.now())=>{n=p,s=null,a&&(clearTimeout(a),a=null),e.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=o?u(h,p):(s=h,a||(a=setTimeout(()=>{a=null,u(s)},o-m)))},()=>s&&u(s)]}const Gl=(e,t,n=3)=>{let o=0;const s=pD(50,250);return mD(a=>{const u=a.loaded,c=a.lengthComputable?a.total:void 0,f=u-o,h=s(f),p=u<=c;o=u;const m={loaded:u,total:c,progress:c?u/c:void 0,bytes:f,rate:h||void 0,estimated:h&&c&&p?(c-u)/h:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},r0=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},i0=e=>(...t)=>Z.asap(()=>e(...t)),gD=Et.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Et.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,yD=Et.hasStandardBrowserEnv?{write(e,t,n,o,s,a){const u=[e+"="+encodeURIComponent(t)];Z.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),Z.isString(o)&&u.push("path="+o),Z.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jw(e,t){return e&&!vD(t)?xD(e,t):t}const o0=e=>e instanceof It?{...e}:e;function oi(e,t){t=t||{};const n={};function o(h,p,m,g){return Z.isPlainObject(h)&&Z.isPlainObject(p)?Z.merge.call({caseless:g},h,p):Z.isPlainObject(p)?Z.merge({},p):Z.isArray(p)?p.slice():p}function s(h,p,m,g){if(Z.isUndefined(p)){if(!Z.isUndefined(h))return o(void 0,h,m,g)}else return o(h,p,m,g)}function a(h,p){if(!Z.isUndefined(p))return o(void 0,p)}function u(h,p){if(Z.isUndefined(p)){if(!Z.isUndefined(h))return o(void 0,h)}else return o(void 0,p)}function c(h,p,m){if(m in t)return o(h,p);if(m in e)return o(void 0,h)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c,headers:(h,p,m)=>s(o0(h),o0(p),m,!0)};return Z.forEach(Object.keys(Object.assign({},e,t)),function(p){const m=f[p]||s,g=m(e[p],t[p],p);Z.isUndefined(g)&&m!==c||(n[p]=g)}),n}const e1=e=>{const t=oi({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:a,headers:u,auth:c}=t;t.headers=u=It.from(u),t.url=Xw(Jw(t.baseURL,t.url),e.params,e.paramsSerializer),c&&u.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(Z.isFormData(n)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[h,...p]=f?f.split(";").map(m=>m.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Et.hasStandardBrowserEnv&&(o&&Z.isFunction(o)&&(o=o(t)),o||o!==!1&&gD(t.url))){const h=s&&a&&yD.read(a);h&&u.set(s,h)}return t},wD=typeof XMLHttpRequest<"u",SD=wD&&function(e){return new Promise(function(n,o){const s=e1(e);let a=s.data;const u=It.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:h}=s,p,m,g,v,w;function S(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function C(){if(!E)return;const b=It.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:b,config:e,request:E};Zw(function(I){n(I),S()},function(I){o(I),S()},M),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(o(new _e("Request aborted",_e.ECONNABORTED,e,E)),E=null)},E.onerror=function(){o(new _e("Network Error",_e.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||qw;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),o(new _e(_,M.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,E)),E=null},a===void 0&&u.setContentType(null),"setRequestHeader"in E&&Z.forEach(u.toJSON(),function(_,M){E.setRequestHeader(M,_)}),Z.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),c&&c!=="json"&&(E.responseType=s.responseType),h&&([g,w]=Gl(h,!0),E.addEventListener("progress",g)),f&&E.upload&&([m,v]=Gl(f),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=b=>{E&&(o(!b||b.type?new ao(null,e,E):b),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const T=hD(s.url);if(T&&Et.protocols.indexOf(T)===-1){o(new _e("Unsupported protocol "+T+":",_e.ERR_BAD_REQUEST,e));return}E.send(a||null)})},ED=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,s;const a=function(h){if(!s){s=!0,c();const p=h instanceof Error?h:this.reason;o.abort(p instanceof _e?p:new ao(p instanceof Error?p.message:p))}};let u=t&&setTimeout(()=>{u=null,a(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const c=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:f}=o;return f.unsubscribe=()=>Z.asap(c),f}},CD=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,s;for(;o<n;)s=o+t,yield e.slice(o,s),o=s},kD=async function*(e,t){for await(const n of bD(e))yield*CD(n,t)},bD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},s0=(e,t,n,o)=>{const s=kD(e,t);let a=0,u,c=f=>{u||(u=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:h,value:p}=await s.next();if(h){c(),f.close();return}let m=p.byteLength;if(n){let g=a+=m;n(g)}f.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},bu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",t1=bu&&typeof ReadableStream=="function",ND=bu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),n1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},PD=t1&&n1(()=>{let e=!1;const t=new Request(Et.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),a0=64*1024,jd=t1&&n1(()=>Z.isReadableStream(new Response("").body)),Ql={stream:jd&&(e=>e.body)};bu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ql[t]&&(Ql[t]=Z.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new _e(`Response type '${t}' is not supported`,_e.ERR_NOT_SUPPORT,o)})})})(new Response);const TD=async e=>{if(e==null)return 0;if(Z.isBlob(e))return e.size;if(Z.isSpecCompliantForm(e))return(await new Request(Et.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(e)||Z.isArrayBuffer(e))return e.byteLength;if(Z.isURLSearchParams(e)&&(e=e+""),Z.isString(e))return(await ND(e)).byteLength},_D=async(e,t)=>{const n=Z.toFiniteNumber(e.getContentLength());return n??TD(t)},RD=bu&&(async e=>{let{url:t,method:n,data:o,signal:s,cancelToken:a,timeout:u,onDownloadProgress:c,onUploadProgress:f,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:g}=e1(e);h=h?(h+"").toLowerCase():"text";let v=ED([s,a&&a.toAbortSignal()],u),w;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let E;try{if(f&&PD&&n!=="get"&&n!=="head"&&(E=await _D(p,o))!==0){let M=new Request(t,{method:"POST",body:o,duplex:"half"}),$;if(Z.isFormData(o)&&($=M.headers.get("content-type"))&&p.setContentType($),M.body){const[I,z]=r0(E,Gl(i0(f)));o=s0(M.body,a0,I,z)}}Z.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;w=new Request(t,{...g,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:o,duplex:"half",credentials:C?m:void 0});let T=await fetch(w);const b=jd&&(h==="stream"||h==="response");if(jd&&(c||b&&S)){const M={};["status","statusText","headers"].forEach(K=>{M[K]=T[K]});const $=Z.toFiniteNumber(T.headers.get("content-length")),[I,z]=c&&r0($,Gl(i0(c),!0))||[];T=new Response(s0(T.body,a0,I,()=>{z&&z(),S&&S()}),M)}h=h||"text";let _=await Ql[Z.findKey(Ql,h)||"text"](T,e);return!b&&S&&S(),await new Promise((M,$)=>{Zw(M,$,{data:_,headers:It.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:w})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,e,w),{cause:C.cause||C}):_e.from(C,C&&C.code,e,w)}}),Ld={http:WA,xhr:SD,fetch:RD};Z.forEach(Ld,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const l0=e=>`- ${e}`,AD=e=>Z.isFunction(e)||e===null||e===!1,r1={getAdapter:e=>{e=Z.isArray(e)?e:[e];const{length:t}=e;let n,o;const s={};for(let a=0;a<t;a++){n=e[a];let u;if(o=n,!AD(n)&&(o=Ld[(u=String(n)).toLowerCase()],o===void 0))throw new _e(`Unknown adapter '${u}'`);if(o)break;s[u||"#"+a]=o}if(!o){const a=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?a.length>1?`since :
`+a.map(l0).join(`
`):" "+l0(a[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:Ld};function Qf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ao(null,e)}function u0(e){return Qf(e),e.headers=It.from(e.headers),e.data=Gf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),r1.getAdapter(e.adapter||Ws.adapter)(e).then(function(o){return Qf(e),o.data=Gf.call(e,e.transformResponse,o),o.headers=It.from(o.headers),o},function(o){return Qw(o)||(Qf(e),o&&o.response&&(o.response.data=Gf.call(e,e.transformResponse,o.response),o.response.headers=It.from(o.response.headers))),Promise.reject(o)})}const i1="1.7.9",Nu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nu[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const c0={};Nu.transitional=function(t,n,o){function s(a,u){return"[Axios v"+i1+"] Transitional option '"+a+"'"+u+(o?". "+o:"")}return(a,u,c)=>{if(t===!1)throw new _e(s(u," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!c0[u]&&(c0[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,u,c):!0}};Nu.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function DD(e,t,n){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let s=o.length;for(;s-- >0;){const a=o[s],u=t[a];if(u){const c=e[a],f=c===void 0||u(c,a,e);if(f!==!0)throw new _e("option "+a+" must be "+f,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+a,_e.ERR_BAD_OPTION)}}const Ll={assertOptions:DD,validators:Nu},Sn=Ll.validators;class ti{constructor(t){this.defaults=t,this.interceptors={request:new t0,response:new t0}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?a&&!String(o.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+a):o.stack=a}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=oi(this.defaults,n);const{transitional:o,paramsSerializer:s,headers:a}=n;o!==void 0&&Ll.assertOptions(o,{silentJSONParsing:Sn.transitional(Sn.boolean),forcedJSONParsing:Sn.transitional(Sn.boolean),clarifyTimeoutError:Sn.transitional(Sn.boolean)},!1),s!=null&&(Z.isFunction(s)?n.paramsSerializer={serialize:s}:Ll.assertOptions(s,{encode:Sn.function,serialize:Sn.function},!0)),Ll.assertOptions(n,{baseUrl:Sn.spelling("baseURL"),withXsrfToken:Sn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=a&&Z.merge(a.common,a[n.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=It.concat(u,a);const c=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let p,m=0,g;if(!f){const w=[u0.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,h),g=w.length,p=Promise.resolve(n);m<g;)p=p.then(w[m++],w[m++]);return p}g=c.length;let v=n;for(m=0;m<g;){const w=c[m++],S=c[m++];try{v=w(v)}catch(E){S.call(this,E);break}}try{p=u0.call(this,v)}catch(w){return Promise.reject(w)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=oi(this.defaults,t);const n=Jw(t.baseURL,t.url);return Xw(n,t.params,t.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(t){ti.prototype[t]=function(n,o){return this.request(oi(o||{},{method:t,url:n,data:(o||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function n(o){return function(a,u,c){return this.request(oi(c||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}ti.prototype[t]=n(),ti.prototype[t+"Form"]=n(!0)});class bh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(s=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](s);o._listeners=null}),this.promise.then=s=>{let a;const u=new Promise(c=>{o.subscribe(c),a=c}).then(s);return u.cancel=function(){o.unsubscribe(a)},u},t(function(a,u,c){o.reason||(o.reason=new ao(a,u,c),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bh(function(s){t=s}),cancel:t}}}function MD(e){return function(n){return e.apply(null,n)}}function jD(e){return Z.isObject(e)&&e.isAxiosError===!0}const Id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Id).forEach(([e,t])=>{Id[t]=e});function o1(e){const t=new ti(e),n=Iw(ti.prototype.request,t);return Z.extend(n,ti.prototype,t,{allOwnKeys:!0}),Z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return o1(oi(e,s))},n}const He=o1(Ws);He.Axios=ti;He.CanceledError=ao;He.CancelToken=bh;He.isCancel=Qw;He.VERSION=i1;He.toFormData=ku;He.AxiosError=_e;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=MD;He.isAxiosError=jD;He.mergeConfig=oi;He.AxiosHeaders=It;He.formToJSON=e=>Gw(Z.isHTMLForm(e)?new FormData(e):e);He.getAdapter=r1.getAdapter;He.HttpStatusCode=Id;He.default=He;const s1=N.createContext(void 0),LD=({backend:e,children:t})=>{const[n,o]=N.useState(null),[s,a]=N.useState("logging in"),[u,c]=N.useState(!1),[f]=Sh(),h=f.get("user"),p=f.get("canvas"),m=["shm","elaine","ethan","sophia","bob"],g=async(w,S)=>{try{const E=await fetch(`${e}/api/add-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:w,password:S})}),C=await E.json();E.ok?console.log(`User added: ${w}`):console.error(`Error adding user: ${C.error}`)}catch(E){console.error("Error adding user:",E)}},v=async(w,S)=>{if(S=S||"",w===""){a("logged out");return}if(!h){const E=new URL(window.location.href);E.searchParams.set("user",w),p&&E.searchParams.set("canvas",p),window.location.href=E.toString();return}try{const E=await fetch(`${e}/api/list-users`),C=await E.json();if(E.ok)if(C.users.some(b=>b.userId===h))o(h),console.log(`User logged in: ${h}...`),localStorage.setItem("last_userID",h),localStorage.setItem("last_password",S),a("logged in");else{console.error(`User does not exist: ${h}`);const b=new URL(window.location.href);b.searchParams.delete("user"),window.location.href=b.toString()}else console.error(`Error fetching users: ${C.error}`),a("logged out")}catch(E){console.error("Error logging in user:",E),a("logged out")}};return N.useEffect(()=>{h||(console.log("no user param, operating in logged-out mode."),a("logged out")),h&&!u&&(console.log("Attempting login from url: "+h),v(h)),c(!0),console.log(`Connecting to ${e.includes("local")?"local":e} backend`)},[e,n,h,p]),k.jsx(s1.Provider,{value:{backend:e,userID:n,loginStatus:s,handleUserLogin:v,addUser:g,admins:m},children:t})},Pn=()=>{const e=N.useContext(s1);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},a1=N.createContext(void 0),ID=({children:e})=>{const{userID:t,backend:n,loginStatus:o}=Pn(),[s,a]=N.useState([]),[u,c]=N.useState("image"),f=async w=>{if(w.type=="image"?c("image"):c("text"),!s.some(S=>S.content===w.content)&&(console.log("Adding node to palette:",w),a(S=>[...S,w]),o==="logged in"))try{const S=await fetch(`${n}/api/add-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:w})}),E=await S.json();if(!S.ok)throw new Error(E.error||"Failed to add clipping");console.log("Clipping added to database:",E)}catch(S){console.error("Error adding clipping to database:",S)}},h=w=>{if(a(S=>S.filter(E=>E.id!==w)),o==="logged in")try{fetch(`${n}/api/remove-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:{id:w}})})}catch(S){console.error("Error removing clipping from database:",S)}else o==="logged out"&&g()},p=async w=>{try{const S=await fetch(`${n}/api/get-clippings/${w}`),E=await S.json();if(!S.ok)throw new Error(E.error||"Failed to load clippings");if(!E.clippings){console.log("No clippings found in database");return}a(E.clippings),console.log("Clippings loaded from database:",E.clippings)}catch(S){console.error("Error loading clippings from database:",S)}},m=()=>{try{const w=localStorage.getItem("palette");w?(console.log("Found palette in browser storage:",JSON.parse(w)),a(JSON.parse(w))):console.warn("No palette found in browser storage.")}catch(w){console.error("Error loading palette from browser:",w)}},g=()=>{try{localStorage.setItem("palette",JSON.stringify(s)),console.log("Palette saved to browser storage:",s)}catch(w){console.error("Error saving palette to browser:",w)}},v=()=>s.length;return N.useEffect(()=>{o==="logged in"&&t?p(t):o==="logged out"&&m()},[t,o]),N.useEffect(()=>{o==="logged out"&&g()},[s]),k.jsx(a1.Provider,{value:{clippedNodes:s,setClippedNodes:a,addClippedNode:f,removeNode:h,loadPalette:p,activeTab:u,setActiveTab:c,getNextPaletteIndex:v},children:e})},Nh=()=>{const e=N.useContext(a1);if(!e)throw new Error("usePaletteContext must be used within a PaletteProvider");return e},l1=N.createContext(void 0),$D=({children:e})=>{const[t,n]=N.useState("default"),[o,s]=N.useState({}),[a,u]=N.useState({x:0,y:0});return k.jsx(l1.Provider,{value:{draggableType:t,setDraggableType:n,draggableData:o,setDraggableData:s,dragStartPosition:a,setDragStartPosition:u},children:e})},si=()=>{const e=N.useContext(l1);if(e===void 0)throw new Error("useDnD must be used within a DnDProvider");return e},u1=N.createContext({});function OD(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ph=N.createContext(null),c1=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function VD(e=!0){const t=N.useContext(Ph);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:s}=t,a=N.useId();N.useEffect(()=>{e&&s(a)},[e]);const u=N.useCallback(()=>e&&o&&o(a),[a,o,e]);return!n&&o?[!1,u]:[!0]}const Th=typeof window<"u",FD=Th?N.useLayoutEffect:N.useEffect,Ht=e=>e;let $d=Ht;function _h(e){let t;return()=>(t===void 0&&(t=e()),t)}const eo=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o},zn=e=>e*1e3,Bn=e=>e/1e3,zD={skipAnimations:!1,useManualTiming:!1},Cl=["read","resolveKeyframes","update","preRender","render","postRender"];function BD(e,t){let n=new Set,o=new Set,s=!1,a=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){u.has(p)&&(h.schedule(p),e()),p(c)}const h={schedule:(p,m=!1,g=!1)=>{const w=g&&s?n:o;return m&&u.add(p),w.has(p)||w.add(p),p},cancel:p=>{o.delete(p),u.delete(p)},process:p=>{if(c=p,s){a=!0;return}s=!0,[n,o]=[o,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,h.process(p))}};return h}const UD=40;function f1(e,t){let n=!1,o=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Cl.reduce((C,T)=>(C[T]=BD(a),C),{}),{read:c,resolveKeyframes:f,update:h,preRender:p,render:m,postRender:g}=u,v=()=>{const C=performance.now();n=!1,s.delta=o?1e3/60:Math.max(Math.min(C-s.timestamp,UD),1),s.timestamp=C,s.isProcessing=!0,c.process(s),f.process(s),h.process(s),p.process(s),m.process(s),g.process(s),s.isProcessing=!1,n&&t&&(o=!1,e(v))},w=()=>{n=!0,o=!0,s.isProcessing||e(v)};return{schedule:Cl.reduce((C,T)=>{const b=u[T];return C[T]=(_,M=!1,$=!1)=>(n||w(),b.schedule(_,M,$)),C},{}),cancel:C=>{for(let T=0;T<Cl.length;T++)u[Cl[T]].cancel(C)},state:s,steps:u}}const{schedule:ze,cancel:br,state:gt,steps:Zf}=f1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0),d1=N.createContext({strict:!1}),f0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in f0)to[e]={isEnabled:t=>f0[e].some(n=>!!t[n])};function HD(e){for(const t in e)to[t]={...to[t],...e[t]}}const WD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WD.has(e)}let h1=e=>!Zl(e);function KD(e){e&&(h1=t=>t.startsWith("on")?!Zl(t):e(t))}try{KD(require("@emotion/is-prop-valid").default)}catch{}function YD(e,t,n){const o={};for(const s in e)s==="values"&&typeof e.values=="object"||(h1(s)||n===!0&&Zl(s)||!t&&!Zl(s)||e.draggable&&s.startsWith("onDrag"))&&(o[s]=e[s]);return o}function XD(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...o)=>e(...o);return new Proxy(n,{get:(o,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Pu=N.createContext({});function Tu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _s(e){return typeof e=="string"||Array.isArray(e)}const Rh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ah=["initial",...Rh];function _u(e){return Tu(e.animate)||Ah.some(t=>_s(e[t]))}function p1(e){return!!(_u(e)||e.variants)}function qD(e,t){if(_u(e)){const{initial:n,animate:o}=e;return{initial:n===!1||_s(n)?n:void 0,animate:_s(o)?o:void 0}}return e.inherit!==!1?t:{}}function GD(e){const{initial:t,animate:n}=qD(e,N.useContext(Pu));return N.useMemo(()=>({initial:t,animate:n}),[d0(t),d0(n)])}function d0(e){return Array.isArray(e)?e.join(" "):e}const QD=Symbol.for("motionComponentSymbol");function zi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZD(e,t,n){return N.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):zi(n)&&(n.current=o))},[t])}const Dh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JD="framerAppearId",m1="data-"+Dh(JD),{schedule:Mh,cancel:J3}=f1(queueMicrotask,!1),g1=N.createContext({});function eM(e,t,n,o,s){var a,u;const{visualElement:c}=N.useContext(Pu),f=N.useContext(d1),h=N.useContext(Ph),p=N.useContext(c1).reducedMotion,m=N.useRef(null);o=o||f.renderer,!m.current&&o&&(m.current=o(e,{visualState:t,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=m.current,v=N.useContext(g1);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&tM(m.current,n,s,v);const w=N.useRef(!1);N.useInsertionEffect(()=>{g&&w.current&&g.update(n,h)});const S=n[m1],E=N.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,S)));return FD(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Mh.render(g.render),E.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,S)}),E.current=!1))}),g}function tM(e,t,n,o){const{layoutId:s,layout:a,drag:u,dragConstraints:c,layoutScroll:f,layoutRoot:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:y1(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||c&&zi(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:h})}function y1(e){if(e)return e.options.allowProjection!==!1?e.projection:y1(e.parent)}function nM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:s}){var a,u;e&&HD(e);function c(h,p){let m;const g={...N.useContext(c1),...h,layoutId:rM(h)},{isStatic:v}=g,w=GD(h),S=o(h,v);if(!v&&Th){iM();const E=oM(g);m=E.MeasureLayout,w.visualElement=eM(s,S,g,t,E.ProjectionNode)}return k.jsxs(Pu.Provider,{value:w,children:[m&&w.visualElement?k.jsx(m,{visualElement:w.visualElement,...g}):null,n(s,h,ZD(S,w.visualElement,p),S,v,w.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=N.forwardRef(c);return f[QD]=s,f}function rM({layoutId:e}){const t=N.useContext(u1).id;return t&&e!==void 0?t+"-"+e:e}function iM(e,t){N.useContext(d1).strict}function oM(e){const{drag:t,layout:n}=to;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const v1=e=>t=>typeof t=="string"&&t.startsWith(e),jh=v1("--"),sM=v1("var(--"),Lh=e=>sM(e)?aM.test(e.split("/*")[0].trim()):!1,aM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rs={};function lM(e){for(const t in e)Rs[t]=e[t],jh(t)&&(Rs[t].isCSSVariable=!0)}const lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ai=new Set(lo);function x1(e,{layout:t,layoutId:n}){return ai.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rs[e]||e==="opacity")}const Ct=e=>!!(e&&e.getVelocity),w1=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Hn=(e,t,n)=>n>t?t:n<e?e:n,uo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},As={...uo,transform:e=>Hn(0,1,e)},kl={...uo,default:1},Ks=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xr=Ks("deg"),Cn=Ks("%"),be=Ks("px"),uM=Ks("vh"),cM=Ks("vw"),h0={...Cn,parse:e=>Cn.parse(e)/100,transform:e=>Cn.transform(e*100)},fM={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},dM={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:kl,scaleX:kl,scaleY:kl,scaleZ:kl,skew:xr,skewX:xr,skewY:xr,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:As,originX:h0,originY:h0,originZ:be},p0={...uo,transform:Math.round},Ih={...fM,...dM,zIndex:p0,size:be,fillOpacity:As,strokeOpacity:As,numOctaves:p0},hM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pM=lo.length;function mM(e,t,n){let o="",s=!0;for(let a=0;a<pM;a++){const u=lo[a],c=e[u];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(u.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const h=w1(c,Ih[u]);if(!f){s=!1;const p=hM[u]||u;o+=`${p}(${h}) `}n&&(t[u]=h)}}return o=o.trim(),n?o=n(t,s?"":o):s&&(o="none"),o}function $h(e,t,n){const{style:o,vars:s,transformOrigin:a}=e;let u=!1,c=!1;for(const f in t){const h=t[f];if(ai.has(f)){u=!0;continue}else if(jh(f)){s[f]=h;continue}else{const p=w1(h,Ih[f]);f.startsWith("origin")?(c=!0,a[f]=p):o[f]=p}}if(t.transform||(u||n?o.transform=mM(t,e.transform,n):o.transform&&(o.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;o.transformOrigin=`${f} ${h} ${p}`}}const Oh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S1(e,t,n){for(const o in t)!Ct(t[o])&&!x1(o,n)&&(e[o]=t[o])}function gM({transformTemplate:e},t){return N.useMemo(()=>{const n=Oh();return $h(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yM(e,t){const n=e.style||{},o={};return S1(o,n,e),Object.assign(o,gM(e,t)),o}function vM(e,t){const n={},o=yM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const xM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vh(e){return typeof e!="string"||e.includes("-")?!1:!!(xM.indexOf(e)>-1||/[A-Z]/u.test(e))}const wM={offset:"stroke-dashoffset",array:"stroke-dasharray"},SM={offset:"strokeDashoffset",array:"strokeDasharray"};function EM(e,t,n=1,o=0,s=!0){e.pathLength=1;const a=s?wM:SM;e[a.offset]=be.transform(-o);const u=be.transform(t),c=be.transform(n);e[a.array]=`${u} ${c}`}function m0(e,t,n){return typeof e=="string"?e:be.transform(t+n*e)}function CM(e,t,n){const o=m0(t,e.x,e.width),s=m0(n,e.y,e.height);return`${o} ${s}`}function Fh(e,{attrX:t,attrY:n,attrScale:o,originX:s,originY:a,pathLength:u,pathSpacing:c=1,pathOffset:f=0,...h},p,m){if($h(e,h,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v,dimensions:w}=e;g.transform&&(w&&(v.transform=g.transform),delete g.transform),w&&(s!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=CM(w,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),o!==void 0&&(g.scale=o),u!==void 0&&EM(g,u,c,f,!1)}const E1=()=>({...Oh(),attrs:{}}),zh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kM(e,t,n,o){const s=N.useMemo(()=>{const a=E1();return Fh(a,t,zh(o),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};S1(a,e.style,e),s.style={...a,...s.style}}return s}function bM(e=!1){return(n,o,s,{latestValues:a},u)=>{const f=(Vh(n)?kM:vM)(o,a,u,n),h=YD(o,typeof n=="string",e),p=n!==N.Fragment?{...h,...f,ref:s}:{},{children:m}=o,g=N.useMemo(()=>Ct(m)?m.get():m,[m]);return N.createElement(n,{...p,children:g})}}function g0(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function Bh(e,t,n,o){if(typeof t=="function"){const[s,a]=g0(o);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=g0(o);t=t(n!==void 0?n:e.custom,s,a)}return t}const Od=e=>Array.isArray(e),NM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),PM=e=>Od(e)?e[e.length-1]||0:e;function Il(e){const t=Ct(e)?e.get():e;return NM(t)?t.toValue():t}function TM({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},o,s,a){const u={latestValues:_M(o,s,a,e),renderState:t()};return n&&(u.onMount=c=>n({props:o,current:c,...u}),u.onUpdate=c=>n(c)),u}const C1=e=>(t,n)=>{const o=N.useContext(Pu),s=N.useContext(Ph),a=()=>TM(e,t,o,s);return n?a():OD(a)};function _M(e,t,n,o){const s={},a=o(e,{});for(const g in a)s[g]=Il(a[g]);let{initial:u,animate:c}=e;const f=_u(e),h=p1(e);t&&h&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const m=p?c:u;if(m&&typeof m!="boolean"&&!Tu(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const w=Bh(e,g[v]);if(w){const{transitionEnd:S,transition:E,...C}=w;for(const T in C){let b=C[T];if(Array.isArray(b)){const _=p?b.length-1:0;b=b[_]}b!==null&&(s[T]=b)}for(const T in S)s[T]=S[T]}}}return s}function Uh(e,t,n){var o;const{style:s}=e,a={};for(const u in s)(Ct(s[u])||t.style&&Ct(t.style[u])||x1(u,e)||((o=n==null?void 0:n.getValue(u))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const RM={useVisualState:C1({scrapeMotionValuesFromProps:Uh,createRenderState:Oh})};function k1(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function b1(e,{style:t,vars:n},o,s){Object.assign(e.style,t,s&&s.getProjectionStyles(o));for(const a in n)e.style.setProperty(a,n[a])}const N1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P1(e,t,n,o){b1(e,t,void 0,o);for(const s in t.attrs)e.setAttribute(N1.has(s)?s:Dh(s),t.attrs[s])}function T1(e,t,n){const o=Uh(e,t,n);for(const s in e)if(Ct(e[s])||Ct(t[s])){const a=lo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;o[a]=e[s]}return o}const y0=["x","y","width","height","cx","cy","r"],AM={useVisualState:C1({scrapeMotionValuesFromProps:T1,createRenderState:E1,onUpdate:({props:e,prevProps:t,current:n,renderState:o,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(ai.has(c)){a=!0;break}}if(!a)return;let u=!t;if(t)for(let c=0;c<y0.length;c++){const f=y0[c];e[f]!==t[f]&&(u=!0)}u&&ze.read(()=>{k1(n,o),ze.render(()=>{Fh(o,s,zh(n.tagName),e.transformTemplate),P1(n,o)})})}})};function DM(e,t){return function(o,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Vh(o)?AM:RM,preloadedFeatures:e,useRender:bM(s),createVisualElement:t,Component:o};return nM(u)}}function Ds(e,t,n){const o=e.getProps();return Bh(o,t,n!==void 0?n:o.custom,e)}const MM=_h(()=>window.ScrollTimeline!==void 0);class jM{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=n}attachTimeline(t,n){const o=this.animations.map(s=>{if(MM()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{o.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LM extends jM{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Hh(e,t){return e?e[t]||e.default||e:void 0}const Vd=2e4;function _1(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<Vd;)t+=n,o=e.next(t);return t>=Vd?1/0:t}function Wh(e){return typeof e=="function"}function v0(e,t){e.timeline=t,e.onfinish=null}const Kh=e=>Array.isArray(e)&&typeof e[0]=="number",IM={linearEasing:void 0};function $M(e,t){const n=_h(e);return()=>{var o;return(o=IM[t])!==null&&o!==void 0?o:n()}}const Jl=$M(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),R1=(e,t,n=10)=>{let o="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)o+=e(eo(0,s-1,a))+", ";return`linear(${o.substring(0,o.length-2)})`};function A1(e){return!!(typeof e=="function"&&Jl()||!e||typeof e=="string"&&(e in Fd||Jl())||Kh(e)||Array.isArray(e)&&e.every(A1))}const us=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,Fd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:us([0,.65,.55,1]),circOut:us([.55,0,1,.45]),backIn:us([.31,.01,.66,-.59]),backOut:us([.33,1.53,.69,.99])};function D1(e,t){if(e)return typeof e=="function"&&Jl()?R1(e,t):Kh(e)?us(e):Array.isArray(e)?e.map(n=>D1(n,t)||Fd.easeOut):Fd[e]}const ln={x:!1,y:!1};function M1(){return ln.x||ln.y}function OM(e,t,n){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(o=void 0)!==null&&o!==void 0?o:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function j1(e,t){const n=OM(e),o=new AbortController,s={passive:!0,...t,signal:o.signal};return[n,s,()=>o.abort()]}function x0(e){return!(e.pointerType==="touch"||M1())}function VM(e,t,n={}){const[o,s,a]=j1(e,n),u=c=>{if(!x0(c))return;const{target:f}=c,h=t(f,c);if(typeof h!="function"||!f)return;const p=m=>{x0(m)&&(h(m),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return o.forEach(c=>{c.addEventListener("pointerenter",u,s)}),a}const L1=(e,t)=>t?e===t?!0:L1(e,t.parentElement):!1,Yh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,FM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zM(e){return FM.has(e.tagName)||e.tabIndex!==-1}const cs=new WeakSet;function w0(e){return t=>{t.key==="Enter"&&e(t)}}function Jf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BM=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=w0(()=>{if(cs.has(n))return;Jf(n,"down");const s=w0(()=>{Jf(n,"up")}),a=()=>Jf(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function S0(e){return Yh(e)&&!M1()}function UM(e,t,n={}){const[o,s,a]=j1(e,n),u=c=>{const f=c.currentTarget;if(!S0(c)||cs.has(f))return;cs.add(f);const h=t(f,c),p=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),!(!S0(v)||!cs.has(f))&&(cs.delete(f),typeof h=="function"&&h(v,{success:w}))},m=v=>{p(v,n.useGlobalTarget||L1(f,v.target))},g=v=>{p(v,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",g,s)};return o.forEach(c=>{!zM(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,s),c.addEventListener("focus",h=>BM(h,s),s)}),a}function HM(e){return e==="x"||e==="y"?ln[e]?null:(ln[e]=!0,()=>{ln[e]=!1}):ln.x||ln.y?null:(ln.x=ln.y=!0,()=>{ln.x=ln.y=!1})}const I1=new Set(["width","height","top","left","right","bottom",...lo]);let $l;function WM(){$l=void 0}const kn={now:()=>($l===void 0&&kn.set(gt.isProcessing||zD.useManualTiming?gt.timestamp:performance.now()),$l),set:e=>{$l=e,queueMicrotask(WM)}};function Xh(e,t){e.indexOf(t)===-1&&e.push(t)}function qh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Gh{constructor(){this.subscriptions=[]}add(t){return Xh(this.subscriptions,t),()=>qh(this.subscriptions,t)}notify(t,n,o){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,o);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $1(e,t){return t?e*(1e3/t):0}const E0=30,KM=e=>!isNaN(parseFloat(e));class YM{constructor(t,n={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,s=!0)=>{const a=kn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=KM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gh);const o=this.events[t].add(n);return t==="change"?()=>{o(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>E0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,E0);return $1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ms(e,t){return new YM(e,t)}function XM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ms(n))}function qM(e,t){const n=Ds(e,t);let{transitionEnd:o={},transition:s={},...a}=n||{};a={...a,...o};for(const u in a){const c=PM(a[u]);XM(e,u,c)}}function GM(e){return!!(Ct(e)&&e.add)}function zd(e,t){const n=e.getValue("willChange");if(GM(n))return n.add(t)}function O1(e){return e.props[m1]}const V1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,QM=1e-7,ZM=12;function JM(e,t,n,o,s){let a,u,c=0;do u=t+(n-t)/2,a=V1(u,o,s)-e,a>0?n=u:t=u;while(Math.abs(a)>QM&&++c<ZM);return u}function Ys(e,t,n,o){if(e===t&&n===o)return Ht;const s=a=>JM(a,0,1,e,n);return a=>a===0||a===1?a:V1(s(a),t,o)}const F1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z1=e=>t=>1-e(1-t),B1=Ys(.33,1.53,.69,.99),Qh=z1(B1),U1=F1(Qh),H1=e=>(e*=2)<1?.5*Qh(e):.5*(2-Math.pow(2,-10*(e-1))),Zh=e=>1-Math.sin(Math.acos(e)),W1=z1(Zh),K1=F1(Zh),Y1=e=>/^0[^.\s]+$/u.test(e);function ej(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Y1(e):!0}const hs=e=>Math.round(e*1e5)/1e5,Jh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tj(e){return e==null}const nj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ep=(e,t)=>n=>!!(typeof n=="string"&&nj.test(n)&&n.startsWith(e)||t&&!tj(n)&&Object.prototype.hasOwnProperty.call(n,t)),X1=(e,t,n)=>o=>{if(typeof o!="string")return o;const[s,a,u,c]=o.match(Jh);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},rj=e=>Hn(0,255,e),ed={...uo,transform:e=>Math.round(rj(e))},Zr={test:ep("rgb","red"),parse:X1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+ed.transform(e)+", "+ed.transform(t)+", "+ed.transform(n)+", "+hs(As.transform(o))+")"};function ij(e){let t="",n="",o="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,o+=o,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:s?parseInt(s,16)/255:1}}const Bd={test:ep("#"),parse:ij,transform:Zr.transform},Bi={test:ep("hsl","hue"),parse:X1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+Cn.transform(hs(t))+", "+Cn.transform(hs(n))+", "+hs(As.transform(o))+")"},St={test:e=>Zr.test(e)||Bd.test(e)||Bi.test(e),parse:e=>Zr.test(e)?Zr.parse(e):Bi.test(e)?Bi.parse(e):Bd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zr.transform(e):Bi.transform(e)},oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Jh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oj))===null||n===void 0?void 0:n.length)||0)>0}const q1="number",G1="color",aj="var",lj="var(",C0="${}",uj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function js(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(uj,f=>(St.test(f)?(o.color.push(a),s.push(G1),n.push(St.parse(f))):f.startsWith(lj)?(o.var.push(a),s.push(aj),n.push(f)):(o.number.push(a),s.push(q1),n.push(parseFloat(f))),++a,C0)).split(C0);return{values:n,split:c,indexes:o,types:s}}function Q1(e){return js(e).values}function Z1(e){const{split:t,types:n}=js(e),o=t.length;return s=>{let a="";for(let u=0;u<o;u++)if(a+=t[u],s[u]!==void 0){const c=n[u];c===q1?a+=hs(s[u]):c===G1?a+=St.transform(s[u]):a+=s[u]}return a}}const cj=e=>typeof e=="number"?0:e;function fj(e){const t=Q1(e);return Z1(e)(t.map(cj))}const Nr={test:sj,parse:Q1,createTransformer:Z1,getAnimatableNone:fj},dj=new Set(["brightness","contrast","saturate","opacity"]);function hj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(Jh)||[];if(!o)return e;const s=n.replace(o,"");let a=dj.has(t)?1:0;return o!==n&&(a*=100),t+"("+a+s+")"}const pj=/\b([a-z-]*)\(.*?\)/gu,Ud={...Nr,getAnimatableNone:e=>{const t=e.match(pj);return t?t.map(hj).join(" "):e}},mj={...Ih,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Ud,WebkitFilter:Ud},tp=e=>mj[e];function J1(e,t){let n=tp(e);return n!==Ud&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gj=new Set(["auto","none","0"]);function yj(e,t,n){let o=0,s;for(;o<e.length&&!s;){const a=e[o];typeof a=="string"&&!gj.has(a)&&js(a).values.length&&(s=e[o]),o++}if(s&&n)for(const a of t)e[a]=J1(n,s)}const k0=e=>e===uo||e===be,b0=(e,t)=>parseFloat(e.split(", ")[t]),N0=(e,t)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const s=o.match(/^matrix3d\((.+)\)$/u);if(s)return b0(s[1],t);{const a=o.match(/^matrix\((.+)\)$/u);return a?b0(a[1],e):0}},vj=new Set(["x","y","z"]),xj=lo.filter(e=>!vj.has(e));function wj(e){const t=[];return xj.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const no={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:N0(4,13),y:N0(5,14)};no.translateX=no.x;no.translateY=no.y;const ni=new Set;let Hd=!1,Wd=!1;function eS(){if(Wd){const e=Array.from(ni).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const s=wj(o);s.length&&(n.set(o,s),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const s=n.get(o);s&&s.forEach(([a,u])=>{var c;(c=o.getValue(a))===null||c===void 0||c.set(u)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Wd=!1,Hd=!1,ni.forEach(e=>e.complete()),ni.clear()}function tS(){ni.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wd=!0)})}function Sj(){tS(),eS()}class np{constructor(t,n,o,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ni.add(this),Hd||(Hd=!0,ze.read(tS),ze.resolveKeyframes(eS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const u=s==null?void 0:s.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(o&&n){const f=o.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),s&&u===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ni.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ni.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ej=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cj(e){const t=Ej.exec(e);if(!t)return[,];const[,n,o,s]=t;return[`--${n??o}`,s]}function rS(e,t,n=1){const[o,s]=Cj(e);if(!o)return;const a=window.getComputedStyle(t).getPropertyValue(o);if(a){const u=a.trim();return nS(u)?parseFloat(u):u}return Lh(s)?rS(s,t,n+1):s}const iS=e=>t=>t.test(e),kj={test:e=>e==="auto",parse:e=>e},oS=[uo,be,Cn,xr,cM,uM,kj],P0=e=>oS.find(iS(e));class sS extends np{constructor(t,n,o,s,a){super(t,n,o,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),Lh(h))){const p=rS(h,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!I1.has(o)||t.length!==2)return;const[s,a]=t,u=P0(s),c=P0(a);if(u!==c)if(k0(u)&&k0(c))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let s=0;s<t.length;s++)ej(t[s])&&o.push(s);o.length&&yj(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=no[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(o,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:o,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(o);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=no[o](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,h])=>{n.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const T0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nr.test(e)||e==="0")&&!e.startsWith("url("));function bj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Nj(e,t,n,o){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],u=T0(s,t),c=T0(a,t);return!u||!c?!1:bj(e)||(n==="spring"||Wh(n))&&o}const Pj=e=>e!==null;function Ru(e,{repeat:t,repeatType:n="loop"},o){const s=e.filter(Pj),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||o===void 0?s[a]:o}const Tj=40;class aS{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kn.now(),this.options={autoplay:t,delay:n,type:o,repeat:s,repeatDelay:a,repeatType:u,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Sj(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=kn.now(),this.hasAttemptedResolve=!0;const{name:o,type:s,velocity:a,delay:u,onComplete:c,onUpdate:f,isGenerator:h}=this.options;if(!h&&!Nj(t,o,s,a))if(u)this.options.duration=0;else{f&&f(Ru(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Qe=(e,t,n)=>e+(t-e)*n;function td(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _j({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let s=0,a=0,u=0;if(!t)s=a=u=n;else{const c=n<.5?n*(1+t):n+t-n*t,f=2*n-c;s=td(f,c,e+1/3),a=td(f,c,e),u=td(f,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:o}}function eu(e,t){return n=>n>0?t:e}const nd=(e,t,n)=>{const o=e*e,s=n*(t*t-o)+o;return s<0?0:Math.sqrt(s)},Rj=[Bd,Zr,Bi],Aj=e=>Rj.find(t=>t.test(e));function _0(e){const t=Aj(e);if(!t)return!1;let n=t.parse(e);return t===Bi&&(n=_j(n)),n}const R0=(e,t)=>{const n=_0(e),o=_0(t);if(!n||!o)return eu(e,t);const s={...n};return a=>(s.red=nd(n.red,o.red,a),s.green=nd(n.green,o.green,a),s.blue=nd(n.blue,o.blue,a),s.alpha=Qe(n.alpha,o.alpha,a),Zr.transform(s))},Dj=(e,t)=>n=>t(e(n)),Xs=(...e)=>e.reduce(Dj),Kd=new Set(["none","hidden"]);function Mj(e,t){return Kd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jj(e,t){return n=>Qe(e,t,n)}function rp(e){return typeof e=="number"?jj:typeof e=="string"?Lh(e)?eu:St.test(e)?R0:$j:Array.isArray(e)?lS:typeof e=="object"?St.test(e)?R0:Lj:eu}function lS(e,t){const n=[...e],o=n.length,s=e.map((a,u)=>rp(a)(a,t[u]));return a=>{for(let u=0;u<o;u++)n[u]=s[u](a);return n}}function Lj(e,t){const n={...e,...t},o={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(o[s]=rp(e[s])(e[s],t[s]));return s=>{for(const a in o)n[a]=o[a](s);return n}}function Ij(e,t){var n;const o=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],c=e.indexes[u][s[u]],f=(n=e.values[c])!==null&&n!==void 0?n:0;o[a]=f,s[u]++}return o}const $j=(e,t)=>{const n=Nr.createTransformer(t),o=js(e),s=js(t);return o.indexes.var.length===s.indexes.var.length&&o.indexes.color.length===s.indexes.color.length&&o.indexes.number.length>=s.indexes.number.length?Kd.has(e)&&!s.values.length||Kd.has(t)&&!o.values.length?Mj(e,t):Xs(lS(Ij(o,s),s.values),n):eu(e,t)};function uS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qe(e,t,n):rp(e)(e,t)}const Oj=5;function cS(e,t,n){const o=Math.max(t-Oj,0);return $1(n-e(o),t-o)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},A0=.001;function Vj({duration:e=tt.duration,bounce:t=tt.bounce,velocity:n=tt.velocity,mass:o=tt.mass}){let s,a,u=1-t;u=Hn(tt.minDamping,tt.maxDamping,u),e=Hn(tt.minDuration,tt.maxDuration,Bn(e)),u<1?(s=h=>{const p=h*u,m=p*e,g=p-n,v=Yd(h,u),w=Math.exp(-m);return A0-g/v*w},a=h=>{const m=h*u*e,g=m*n+n,v=Math.pow(u,2)*Math.pow(h,2)*e,w=Math.exp(-m),S=Yd(Math.pow(h,2),u);return(-s(h)+A0>0?-1:1)*((g-v)*w)/S}):(s=h=>{const p=Math.exp(-h*e),m=(h-n)*e+1;return-.001+p*m},a=h=>{const p=Math.exp(-h*e),m=(n-h)*(e*e);return p*m});const c=5/e,f=zj(s,a,c);if(e=zn(e),isNaN(f))return{stiffness:tt.stiffness,damping:tt.damping,duration:e};{const h=Math.pow(f,2)*o;return{stiffness:h,damping:u*2*Math.sqrt(o*h),duration:e}}}const Fj=12;function zj(e,t,n){let o=n;for(let s=1;s<Fj;s++)o=o-e(o)/t(o);return o}function Yd(e,t){return e*Math.sqrt(1-t*t)}const Bj=["duration","bounce"],Uj=["stiffness","damping","mass"];function D0(e,t){return t.some(n=>e[n]!==void 0)}function Hj(e){let t={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...e};if(!D0(e,Uj)&&D0(e,Bj))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),s=o*o,a=2*Hn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:tt.mass,stiffness:s,damping:a}}else{const n=Vj(e);t={...t,...n,mass:tt.mass},t.isResolvedFromDuration=!0}return t}function fS(e=tt.visualDuration,t=tt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:s}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:h,mass:p,duration:m,velocity:g,isResolvedFromDuration:v}=Hj({...n,velocity:-Bn(n.velocity||0)}),w=g||0,S=h/(2*Math.sqrt(f*p)),E=u-a,C=Bn(Math.sqrt(f/p)),T=Math.abs(E)<5;o||(o=T?tt.restSpeed.granular:tt.restSpeed.default),s||(s=T?tt.restDelta.granular:tt.restDelta.default);let b;if(S<1){const M=Yd(C,S);b=$=>{const I=Math.exp(-S*C*$);return u-I*((w+S*C*E)/M*Math.sin(M*$)+E*Math.cos(M*$))}}else if(S===1)b=M=>u-Math.exp(-C*M)*(E+(w+C*E)*M);else{const M=C*Math.sqrt(S*S-1);b=$=>{const I=Math.exp(-S*C*$),z=Math.min(M*$,300);return u-I*((w+S*C*E)*Math.sinh(z)+M*E*Math.cosh(z))/M}}const _={calculatedDuration:v&&m||null,next:M=>{const $=b(M);if(v)c.done=M>=m;else{let I=0;S<1&&(I=M===0?zn(w):cS(b,M,$));const z=Math.abs(I)<=o,K=Math.abs(u-$)<=s;c.done=z&&K}return c.value=c.done?u:$,c},toString:()=>{const M=Math.min(_1(_),Vd),$=R1(I=>_.next(M*I).value,M,30);return M+"ms "+$}};return _}function M0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:c,max:f,restDelta:h=.5,restSpeed:p}){const m=e[0],g={done:!1,value:m},v=z=>c!==void 0&&z<c||f!==void 0&&z>f,w=z=>c===void 0?f:f===void 0||Math.abs(c-z)<Math.abs(f-z)?c:f;let S=n*t;const E=m+S,C=u===void 0?E:u(E);C!==E&&(S=C-m);const T=z=>-S*Math.exp(-z/o),b=z=>C+T(z),_=z=>{const K=T(z),Y=b(z);g.done=Math.abs(K)<=h,g.value=g.done?C:Y};let M,$;const I=z=>{v(g.value)&&(M=z,$=fS({keyframes:[g.value,w(g.value)],velocity:cS(b,z,g.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return I(0),{calculatedDuration:null,next:z=>{let K=!1;return!$&&M===void 0&&(K=!0,_(z),I(z)),M!==void 0&&z>=M?$.next(z-M):(!K&&_(z),g)}}}const Wj=Ys(.42,0,1,1),Kj=Ys(0,0,.58,1),dS=Ys(.42,0,.58,1),Yj=e=>Array.isArray(e)&&typeof e[0]!="number",j0={linear:Ht,easeIn:Wj,easeInOut:dS,easeOut:Kj,circIn:Zh,circInOut:K1,circOut:W1,backIn:Qh,backInOut:U1,backOut:B1,anticipate:H1},L0=e=>{if(Kh(e)){$d(e.length===4);const[t,n,o,s]=e;return Ys(t,n,o,s)}else if(typeof e=="string")return $d(j0[e]!==void 0),j0[e];return e};function Xj(e,t,n){const o=[],s=n||uS,a=e.length-1;for(let u=0;u<a;u++){let c=s(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Ht:t;c=Xs(f,c)}o.push(c)}return o}function qj(e,t,{clamp:n=!0,ease:o,mixer:s}={}){const a=e.length;if($d(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Xj(t,o,s),f=c.length,h=p=>{if(u&&p<e[0])return t[0];let m=0;if(f>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const g=eo(e[m],e[m+1],p);return c[m](g)};return n?p=>h(Hn(e[0],e[a-1],p)):h}function Gj(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const s=eo(0,t,o);e.push(Qe(n,1,s))}}function Qj(e){const t=[0];return Gj(t,e.length-1),t}function Zj(e,t){return e.map(n=>n*t)}function Jj(e,t){return e.map(()=>t||dS).splice(0,e.length-1)}function tu({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const s=Yj(o)?o.map(L0):L0(o),a={done:!1,value:t[0]},u=Zj(n&&n.length===t.length?n:Qj(t),e),c=qj(u,t,{ease:Array.isArray(s)?s:Jj(t,s)});return{calculatedDuration:e,next:f=>(a.value=c(f),a.done=f>=e,a)}}const eL=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ze.update(t,!0),stop:()=>br(t),now:()=>gt.isProcessing?gt.timestamp:kn.now()}},tL={decay:M0,inertia:M0,tween:tu,keyframes:tu,spring:fS},nL=e=>e/100;class ip extends aS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:o,element:s,keyframes:a}=this.options,u=(s==null?void 0:s.KeyframeResolver)||np,c=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new u(a,c,n,o,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,c=Wh(n)?n:tL[n]||tu;let f,h;c!==tu&&typeof t[0]!="number"&&(f=Xs(nL,uS(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(h=c({...this.options,keyframes:[...t].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=_1(p));const{calculatedDuration:m}=p,g=m+s,v=g*(o+1)-s;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:m,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:o}=this;if(!o){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:h,totalDuration:p,resolvedDuration:m}=o;if(this.startTime===null)return a.next(0);const{delay:g,repeat:v,repeatType:w,repeatDelay:S,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-g*(this.speed>=0?1:-1),T=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let b=this.currentTime,_=a;if(v){const z=Math.min(this.currentTime,p)/m;let K=Math.floor(z),Y=z%1;!Y&&z>=1&&(Y=1),Y===1&&K--,K=Math.min(K,v+1),!!(K%2)&&(w==="reverse"?(Y=1-Y,S&&(Y-=S/m)):w==="mirror"&&(_=u)),b=Hn(0,1,Y)*m}const M=T?{done:!1,value:f[0]}:_.next(b);c&&(M.value=c(M.value));let{done:$}=M;!T&&h!==null&&($=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return I&&s!==void 0&&(M.value=Ru(f,this.options,s)),E&&E(M.value),I&&this.finish(),M}get duration(){const{resolved:t}=this;return t?Bn(t.calculatedDuration):0}get time(){return Bn(this.currentTime)}set time(t){t=zn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=eL,onPlay:n,startTime:o}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const rL=new Set(["opacity","clipPath","filter","transform"]);function iL(e,t,n,{delay:o=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:c="easeInOut",times:f}={}){const h={[t]:n};f&&(h.offset=f);const p=D1(c,s);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:o,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const oL=_h(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nu=10,sL=2e4;function aL(e){return Wh(e.type)||e.type==="spring"||!A1(e.ease)}function lL(e,t){const n=new ip({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const s=[];let a=0;for(;!o.done&&a<sL;)o=n.sample(a),s.push(o.value),a+=nu;return{times:void 0,keyframes:s,duration:a-nu,ease:"linear"}}const hS={anticipate:H1,backInOut:U1,circInOut:K1};function uL(e){return e in hS}class I0 extends aS{constructor(t){super(t);const{name:n,motionValue:o,element:s,keyframes:a}=this.options;this.resolver=new sS(a,(u,c)=>this.onKeyframesResolved(u,c),n,o,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:o=300,times:s,ease:a,type:u,motionValue:c,name:f,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Jl()&&uL(a)&&(a=hS[a]),aL(this.options)){const{onComplete:m,onUpdate:g,motionValue:v,element:w,...S}=this.options,E=lL(t,S);t=E.keyframes,t.length===1&&(t[1]=t[0]),o=E.duration,s=E.times,a=E.ease,u="keyframes"}const p=iL(c.owner.current,f,t,{...this.options,duration:o,times:s,ease:a});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(v0(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:m}=this.options;c.set(Ru(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:o,times:s,type:u,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Bn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Bn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.currentTime=zn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ht;const{animation:o}=n;v0(o,t)}return Ht}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:o,duration:s,type:a,ease:u,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:m,element:g,...v}=this.options,w=new ip({...v,keyframes:o,duration:s,type:a,ease:u,times:c,isGenerator:!0}),S=zn(this.time);h.setWithVelocity(w.sample(S-nu).value,w.sample(S).value,nu)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:o,repeatDelay:s,repeatType:a,damping:u,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=n.owner.getProps();return oL()&&o&&rL.has(o)&&!f&&!h&&!s&&a!=="mirror"&&u!==0&&c!=="inertia"}}const cL={type:"spring",stiffness:500,damping:25,restSpeed:10},fL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dL={type:"keyframes",duration:.8},hL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pL=(e,{keyframes:t})=>t.length>2?dL:ai.has(e)?e.startsWith("scale")?fL(t[1]):cL:hL;function mL({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:c,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const op=(e,t,n,o={},s,a)=>u=>{const c=Hh(o,e)||{},f=c.delay||o.delay||0;let{elapsed:h=0}=o;h=h-zn(f);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};mL(c)||(p={...p,...pL(e,p)}),p.duration&&(p.duration=zn(p.duration)),p.repeatDelay&&(p.repeatDelay=zn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),m&&!a&&t.get()!==void 0){const g=Ru(p.keyframes,c);if(g!==void 0)return ze.update(()=>{p.onUpdate(g),p.onComplete()}),new LM([])}return!a&&I0.supports(p)?new I0(p):new ip(p)};function gL({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function pS(e,t,{delay:n=0,transitionOverride:o,type:s}={}){var a;let{transition:u=e.getDefaultTransition(),transitionEnd:c,...f}=t;o&&(u=o);const h=[],p=s&&e.animationState&&e.animationState.getState()[s];for(const m in f){const g=e.getValue(m,(a=e.latestValues[m])!==null&&a!==void 0?a:null),v=f[m];if(v===void 0||p&&gL(p,m))continue;const w={delay:n,...Hh(u||{},m)};let S=!1;if(window.MotionHandoffAnimation){const C=O1(e);if(C){const T=window.MotionHandoffAnimation(C,m,ze);T!==null&&(w.startTime=T,S=!0)}}zd(e,m),g.start(op(m,g,v,e.shouldReduceMotion&&I1.has(m)?{type:!1}:w,e,S));const E=g.animation;E&&h.push(E)}return c&&Promise.all(h).then(()=>{ze.update(()=>{c&&qM(e,c)})}),h}function Xd(e,t,n={}){var o;const s=Ds(e,t,n.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const u=s?()=>Promise.all(pS(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=a;return yL(e,t,p+h,m,g,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[h,p]=f==="beforeChildren"?[u,c]:[c,u];return h().then(()=>p())}else return Promise.all([u(),c(n.delay)])}function yL(e,t,n=0,o=0,s=1,a){const u=[],c=(e.variantChildren.size-1)*o,f=s===1?(h=0)=>h*o:(h=0)=>c-h*o;return Array.from(e.variantChildren).sort(vL).forEach((h,p)=>{h.notify("AnimationStart",t),u.push(Xd(h,t,{...a,delay:n+f(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(u)}function vL(e,t){return e.sortNodePosition(t)}function xL(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const s=t.map(a=>Xd(e,a,n));o=Promise.all(s)}else if(typeof t=="string")o=Xd(e,t,n);else{const s=typeof t=="function"?Ds(e,t,n.custom):t;o=Promise.all(pS(e,s,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function mS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const wL=Ah.length;function gS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<wL;n++){const o=Ah[n],s=e.props[o];(_s(s)||s===!1)&&(t[o]=s)}return t}const SL=[...Rh].reverse(),EL=Rh.length;function CL(e){return t=>Promise.all(t.map(({animation:n,options:o})=>xL(e,n,o)))}function kL(e){let t=CL(e),n=$0(),o=!0;const s=f=>(h,p)=>{var m;const g=Ds(e,p,f==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(g){const{transition:v,transitionEnd:w,...S}=g;h={...h,...S,...w}}return h};function a(f){t=f(e)}function u(f){const{props:h}=e,p=gS(e.parent)||{},m=[],g=new Set;let v={},w=1/0;for(let E=0;E<EL;E++){const C=SL[E],T=n[C],b=h[C]!==void 0?h[C]:p[C],_=_s(b),M=C===f?T.isActive:null;M===!1&&(w=E);let $=b===p[C]&&b!==h[C]&&_;if($&&o&&e.manuallyAnimateOnMount&&($=!1),T.protectedKeys={...v},!T.isActive&&M===null||!b&&!T.prevProp||Tu(b)||typeof b=="boolean")continue;const I=bL(T.prevProp,b);let z=I||C===f&&T.isActive&&!$&&_||E>w&&_,K=!1;const Y=Array.isArray(b)?b:[b];let ee=Y.reduce(s(C),{});M===!1&&(ee={});const{prevResolvedValues:q={}}=T,J={...q,...ee},R=U=>{z=!0,g.has(U)&&(K=!0,g.delete(U)),T.needsAnimating[U]=!0;const D=e.getValue(U);D&&(D.liveStyle=!1)};for(const U in J){const D=ee[U],O=q[U];if(v.hasOwnProperty(U))continue;let B=!1;Od(D)&&Od(O)?B=!mS(D,O):B=D!==O,B?D!=null?R(U):g.add(U):D!==void 0&&g.has(U)?R(U):T.protectedKeys[U]=!0}T.prevProp=b,T.prevResolvedValues=ee,T.isActive&&(v={...v,...ee}),o&&e.blockInitialAnimation&&(z=!1),z&&(!($&&I)||K)&&m.push(...Y.map(U=>({animation:U,options:{type:C}})))}if(g.size){const E={};if(typeof h.initial!="boolean"){const C=Ds(e,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(E.transition=C.transition)}g.forEach(C=>{const T=e.getBaseTarget(C),b=e.getValue(C);b&&(b.liveStyle=!0),E[C]=T??null}),m.push({animation:E})}let S=!!m.length;return o&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(S=!1),o=!1,S?t(m):Promise.resolve()}function c(f,h){var p;if(n[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(f,h)}),n[f].isActive=h;const m=u(f);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:u,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$0(),o=!0}}}function bL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mS(t,e):!1}function Yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $0(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class Tr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NL extends Tr{constructor(t){super(t),t.animationState||(t.animationState=kL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let PL=0;class TL extends Tr{constructor(){super(...arguments),this.id=PL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _L={animation:{Feature:NL},exit:{Feature:TL}};function Ls(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function qs(e){return{point:{x:e.pageX,y:e.pageY}}}const RL=e=>t=>Yh(t)&&e(t,qs(t));function ps(e,t,n,o){return Ls(e,t,RL(n),o)}const O0=(e,t)=>Math.abs(e-t);function AL(e,t){const n=O0(e.x,t.x),o=O0(e.y,t.y);return Math.sqrt(n**2+o**2)}class yS{constructor(t,n,{transformPagePoint:o,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=id(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=AL(m.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:w}=m,{timestamp:S}=gt;this.history.push({...w,timestamp:S});const{onStart:E,onMove:C}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=rd(g,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=id(m.type==="pointercancel"?this.lastMoveEventInfo:rd(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,E),w&&w(m,E)},!Yh(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=o,this.contextWindow=s||window;const u=qs(t),c=rd(u,this.transformPagePoint),{point:f}=c,{timestamp:h}=gt;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,id(c,this.history)),this.removeListeners=Xs(ps(this.contextWindow,"pointermove",this.handlePointerMove),ps(this.contextWindow,"pointerup",this.handlePointerUp),ps(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function rd(e,t){return t?{point:t(e.point)}:e}function V0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function id({point:e},t){return{point:e,delta:V0(e,vS(t)),offset:V0(e,DL(t)),velocity:ML(t,.1)}}function DL(e){return e[0]}function vS(e){return e[e.length-1]}function ML(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const s=vS(e);for(;n>=0&&(o=e[n],!(s.timestamp-o.timestamp>zn(t)));)n--;if(!o)return{x:0,y:0};const a=Bn(s.timestamp-o.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-o.x)/a,y:(s.y-o.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const xS=1e-4,jL=1-xS,LL=1+xS,wS=.01,IL=0-wS,$L=0+wS;function Nt(e){return e.max-e.min}function OL(e,t,n){return Math.abs(e-t)<=n}function F0(e,t,n,o=.5){e.origin=o,e.originPoint=Qe(t.min,t.max,e.origin),e.scale=Nt(n)/Nt(t),e.translate=Qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jL&&e.scale<=LL||isNaN(e.scale))&&(e.scale=1),(e.translate>=IL&&e.translate<=$L||isNaN(e.translate))&&(e.translate=0)}function ms(e,t,n,o){F0(e.x,t.x,n.x,o?o.originX:void 0),F0(e.y,t.y,n.y,o?o.originY:void 0)}function z0(e,t,n){e.min=n.min+t.min,e.max=e.min+Nt(t)}function VL(e,t,n){z0(e.x,t.x,n.x),z0(e.y,t.y,n.y)}function B0(e,t,n){e.min=t.min-n.min,e.max=e.min+Nt(t)}function gs(e,t,n){B0(e.x,t.x,n.x),B0(e.y,t.y,n.y)}function FL(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?Qe(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?Qe(n,e,o.max):Math.min(e,n)),e}function U0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zL(e,{top:t,left:n,bottom:o,right:s}){return{x:U0(e.x,n,s),y:U0(e.y,t,o)}}function H0(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function BL(e,t){return{x:H0(e.x,t.x),y:H0(e.y,t.y)}}function UL(e,t){let n=.5;const o=Nt(e),s=Nt(t);return s>o?n=eo(t.min,t.max-o,e.min):o>s&&(n=eo(e.min,e.max-s,t.min)),Hn(0,1,n)}function HL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qd=.35;function WL(e=qd){return e===!1?e=0:e===!0&&(e=qd),{x:W0(e,"left","right"),y:W0(e,"top","bottom")}}function W0(e,t,n){return{min:K0(e,t),max:K0(e,n)}}function K0(e,t){return typeof e=="number"?e:e[t]||0}const Y0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ui=()=>({x:Y0(),y:Y0()}),X0=()=>({min:0,max:0}),rt=()=>({x:X0(),y:X0()});function en(e){return[e("x"),e("y")]}function SS({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function KL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function YL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function od(e){return e===void 0||e===1}function Gd({scale:e,scaleX:t,scaleY:n}){return!od(e)||!od(t)||!od(n)}function qr(e){return Gd(e)||ES(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ES(e){return q0(e.x)||q0(e.y)}function q0(e){return e&&e!=="0%"}function ru(e,t,n){const o=e-n,s=t*o;return n+s}function G0(e,t,n,o,s){return s!==void 0&&(e=ru(e,s,o)),ru(e,n,o)+t}function Qd(e,t=0,n=1,o,s){e.min=G0(e.min,t,n,o,s),e.max=G0(e.max,t,n,o,s)}function CS(e,{x:t,y:n}){Qd(e.x,t.translate,t.scale,t.originPoint),Qd(e.y,n.translate,n.scale,n.originPoint)}const Q0=.999999999999,Z0=1.0000000000001;function XL(e,t,n,o=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,u;for(let c=0;c<s;c++){a=n[c],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,CS(e,u)),o&&qr(a.latestValues)&&Wi(e,a.latestValues))}t.x<Z0&&t.x>Q0&&(t.x=1),t.y<Z0&&t.y>Q0&&(t.y=1)}function Hi(e,t){e.min=e.min+t,e.max=e.max+t}function J0(e,t,n,o,s=.5){const a=Qe(e.min,e.max,s);Qd(e,t,n,a,o)}function Wi(e,t){J0(e.x,t.x,t.scaleX,t.scale,t.originX),J0(e.y,t.y,t.scaleY,t.scale,t.originY)}function kS(e,t){return SS(YL(e.getBoundingClientRect(),t))}function qL(e,t,n){const o=kS(e,n),{scroll:s}=t;return s&&(Hi(o.x,s.offset.x),Hi(o.y,s.offset.y)),o}const bS=({current:e})=>e?e.ownerDocument.defaultView:null,GL=new WeakMap;class QL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qs(p).point)},a=(p,m)=>{const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HM(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(E=>{let C=this.getAxisMotionValue(E).get()||0;if(Cn.test(C)){const{projection:T}=this.visualElement;if(T&&T.layout){const b=T.layout.layoutBox[E];b&&(C=Nt(b)*(parseFloat(C)/100))}}this.originPoint[E]=C}),w&&ze.postRender(()=>w(p,m)),zd(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(p,m)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=m;if(v&&this.currentDirection===null){this.currentDirection=ZL(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),S&&S(p,m)},c=(p,m)=>this.stop(p,m),f=()=>en(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yS(t,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:bS(this.visualElement)})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ze.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:s}=this.getProps();if(!o||!bl(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let u=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(u=FL(u,this.constraints[t],this.elastic[t])),a.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:o}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&zi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=zL(s.layoutBox,n):this.constraints=!1,this.elastic=WL(o),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=HL(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zi(t))return!1;const o=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=qL(o,s.root,this.visualElement.getTransformPagePoint());let u=BL(s.layout.layoutBox,a);if(n){const c=n(KL(u));this.hasMutatedConstraints=!!c,c&&(u=SS(c))}return u}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},h=en(p=>{if(!bl(p,n,this.currentDirection))return;let m=f[p]||{};u&&(m={min:0,max:0});const g=s?200:1e6,v=s?40:1e7,w={type:"inertia",velocity:o?t[p]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(p,w)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return zd(this.visualElement,t),o.start(op(t,o,0,n,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),s=o[n];return s||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){en(n=>{const{drag:o}=this.getProps();if(!bl(n,o,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:c}=s.layout.layoutBox[n];a.set(t[n]-Qe(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!zi(n)||!o||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};en(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const f=c.get();s[u]=UL({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),en(u=>{if(!bl(u,t,null))return;const c=this.getAxisMotionValue(u),{min:f,max:h}=this.constraints[u];c.set(Qe(f,h,s[u]))})}addListeners(){if(!this.visualElement.current)return;GL.set(this.visualElement,this);const t=this.visualElement.current,n=ps(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();zi(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",o);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ze.read(o);const u=Ls(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(en(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=f[p].translate,m.set(m.get()+f[p].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=qd,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:c}}}function bl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JL extends Tr{constructor(t){super(t),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new QL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const ev=e=>(t,n)=>{e&&ze.postRender(()=>e(t,n))};class eI extends Tr{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(t){this.session=new yS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:s}=this.node.getProps();return{onSessionStart:ev(t),onStart:ev(n),onMove:o,onEnd:(a,u)=>{delete this.session,s&&ze.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=ps(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ol={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ss={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=tv(e,t.target.x),o=tv(e,t.target.y);return`${n}% ${o}%`}},tI={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,s=Nr.parse(e);if(s.length>5)return o;const a=Nr.createTransformer(e),u=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,f=n.y.scale*t.y;s[0+u]/=c,s[1+u]/=f;const h=Qe(c,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=h),typeof s[3+u]=="number"&&(s[3+u]/=h),a(s)}};class nI extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:s}=this.props,{projection:a}=t;lM(rI),a&&(n.group&&n.group.add(a),o&&o.register&&s&&o.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ol.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:s,isPresent:a}=this.props,u=o.projection;return u&&(u.isPresent=a,s||t.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?u.promote():u.relegate()||ze.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),o&&o.deregister&&o.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NS(e){const[t,n]=VD(),o=N.useContext(u1);return k.jsx(nI,{...e,layoutGroup:o,switchLayoutGroup:N.useContext(g1),isPresent:t,safeToRemove:n})}const rI={borderRadius:{...ss,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ss,borderTopRightRadius:ss,borderBottomLeftRadius:ss,borderBottomRightRadius:ss,boxShadow:tI};function iI(e,t,n){const o=Ct(e)?e:Ms(e);return o.start(op("",o,t,n)),o.animation}function oI(e){return e instanceof SVGElement&&e.tagName!=="svg"}const sI=(e,t)=>e.depth-t.depth;class aI{constructor(){this.children=[],this.isDirty=!1}add(t){Xh(this.children,t),this.isDirty=!0}remove(t){qh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sI),this.isDirty=!1,this.children.forEach(t)}}function lI(e,t){const n=kn.now(),o=({timestamp:s})=>{const a=s-n;a>=t&&(br(o),e(a-t))};return ze.read(o,!0),()=>br(o)}const PS=["TopLeft","TopRight","BottomLeft","BottomRight"],uI=PS.length,nv=e=>typeof e=="string"?parseFloat(e):e,rv=e=>typeof e=="number"||be.test(e);function cI(e,t,n,o,s,a){s?(e.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,fI(o)),e.opacityExit=Qe(t.opacity!==void 0?t.opacity:1,0,dI(o))):a&&(e.opacity=Qe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let u=0;u<uI;u++){const c=`border${PS[u]}Radius`;let f=iv(t,c),h=iv(n,c);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||rv(f)===rv(h)?(e[c]=Math.max(Qe(nv(f),nv(h),o),0),(Cn.test(h)||Cn.test(f))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=Qe(t.rotate||0,n.rotate||0,o))}function iv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fI=TS(0,.5,W1),dI=TS(.5,.95,Ht);function TS(e,t,n){return o=>o<e?0:o>t?1:n(eo(e,t,o))}function ov(e,t){e.min=t.min,e.max=t.max}function Jt(e,t){ov(e.x,t.x),ov(e.y,t.y)}function sv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function av(e,t,n,o,s){return e-=t,e=ru(e,1/n,o),s!==void 0&&(e=ru(e,1/s,o)),e}function hI(e,t=0,n=1,o=.5,s,a=e,u=e){if(Cn.test(t)&&(t=parseFloat(t),t=Qe(u.min,u.max,t/100)-u.min),typeof t!="number")return;let c=Qe(a.min,a.max,o);e===a&&(c-=t),e.min=av(e.min,t,n,c,s),e.max=av(e.max,t,n,c,s)}function lv(e,t,[n,o,s],a,u){hI(e,t[n],t[o],t[s],t.scale,a,u)}const pI=["x","scaleX","originX"],mI=["y","scaleY","originY"];function uv(e,t,n,o){lv(e.x,t,pI,n?n.x:void 0,o?o.x:void 0),lv(e.y,t,mI,n?n.y:void 0,o?o.y:void 0)}function cv(e){return e.translate===0&&e.scale===1}function _S(e){return cv(e.x)&&cv(e.y)}function fv(e,t){return e.min===t.min&&e.max===t.max}function gI(e,t){return fv(e.x,t.x)&&fv(e.y,t.y)}function dv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function RS(e,t){return dv(e.x,t.x)&&dv(e.y,t.y)}function hv(e){return Nt(e.x)/Nt(e.y)}function pv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yI{constructor(){this.members=[]}add(t){Xh(this.members,t),t.scheduleRender()}remove(t){if(qh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let o;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){o=a;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vI(e,t,n){let o="";const s=e.x.translate/t.x,a=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((s||a||u)&&(o=`translate3d(${s}px, ${a}px, ${u}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:g,skewX:v,skewY:w}=n;h&&(o=`perspective(${h}px) ${o}`),p&&(o+=`rotate(${p}deg) `),m&&(o+=`rotateX(${m}deg) `),g&&(o+=`rotateY(${g}deg) `),v&&(o+=`skewX(${v}deg) `),w&&(o+=`skewY(${w}deg) `)}const c=e.x.scale*t.x,f=e.y.scale*t.y;return(c!==1||f!==1)&&(o+=`scale(${c}, ${f})`),o||"none"}const sd=["","X","Y","Z"],xI={visibility:"hidden"},mv=1e3;let wI=0;function ad(e,t,n,o){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),o&&(o[e]=0))}function AS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=O1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(s||a))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&AS(o)}function DS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:s}){return class{constructor(u={},c=t==null?void 0:t()){this.id=wI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CI),this.nodes.forEach(TI),this.nodes.forEach(_I),this.nodes.forEach(kI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new aI)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Gh),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const f=this.eventHandlers.get(u);f&&f.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oI(u),this.instance=u;const{layoutId:f,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||f)&&(this.isLayoutDirty=!0),e){let m;const g=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=lI(g,250),Ol.hasAnimatedSinceResize&&(Ol.hasAnimatedSinceResize=!1,this.nodes.forEach(yv))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||jI,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=p.getProps(),T=!this.targetLayout||!RS(this.targetLayout,w),b=!g&&v;if(this.options.layoutRoot||this.resumeFrom||b||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const _={...Hh(S,"layout"),onPlay:E,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else g||yv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gv);return}this.isUpdating||this.nodes.forEach(NI),this.isUpdating=!1,this.nodes.forEach(PI),this.nodes.forEach(SI),this.nodes.forEach(EI),this.clearAllSnapshots();const c=kn.now();gt.delta=Hn(0,1e3/60,c-gt.timestamp),gt.timestamp=c,gt.isProcessing=!0,Zf.update.process(gt),Zf.preRender.process(gt),Zf.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bI),this.sharedNodes.forEach(AI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!_S(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;u&&(c||qr(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return u&&(f=this.removeTransform(f)),LI(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:c}=this.options;if(!c)return rt();const f=c.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(II))){const{scroll:p}=this.root;p&&(Hi(f.x,p.offset.x),Hi(f.y,p.offset.y))}return f}removeElementScroll(u){var c;const f=rt();if(Jt(f,u),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Jt(f,u),Hi(f.x,m.offset.x),Hi(f.y,m.offset.y))}return f}applyTransform(u,c=!1){const f=rt();Jt(f,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Wi(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),qr(p.latestValues)&&Wi(f,p.latestValues)}return qr(this.latestValues)&&Wi(f,this.latestValues),f}removeTransform(u){const c=rt();Jt(c,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!qr(h.latestValues))continue;Gd(h.latestValues)&&h.updateSnapshot();const p=rt(),m=h.measurePageBox();Jt(p,m),uv(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return qr(this.latestValues)&&uv(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),gs(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jt(this.target,this.layout.layoutBox),CS(this.target,this.targetDelta)):Jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),gs(this.relativeTargetOrigin,this.target,v.target),Jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gd(this.parent.latestValues)||ES(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Jt(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;XL(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=rt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sv(this.prevProjectionDelta.x,this.projectionDelta.x),sv(this.prevProjectionDelta.y,this.projectionDelta.y)),ms(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!pv(this.projectionDelta.x,this.prevProjectionDelta.x)||!pv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ui(),this.projectionDelta=Ui(),this.projectionDeltaWithTransform=Ui()}setAnimationOrigin(u,c=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},m=Ui();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=rt(),v=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,E=this.getStack(),C=!E||E.members.length<=1,T=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(MI));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const M=_/1e3;vv(m.x,u.x,M),vv(m.y,u.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DI(this.relativeTarget,this.relativeTargetOrigin,g,M),b&&gI(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rt()),Jt(b,this.relativeTarget)),S&&(this.animationValues=p,cI(p,h,this.latestValues,M,T,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Ol.hasAnimatedSinceResize=!0,this.currentAnimation=iI(0,mv,{...u,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:f,layout:h,latestValues:p}=u;if(!(!c||!f||!h)){if(this!==u&&this.layout&&h&&MS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||rt();const m=Nt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+m;const g=Nt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+g}Jt(c,f),Wi(c,p),ms(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new yI),this.sharedNodes.get(u).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const h={};f.z&&ad("z",u,h,this.animationValues);for(let p=0;p<sd.length;p++)ad(`rotate${sd[p]}`,u,h,this.animationValues),ad(`skew${sd[p]}`,u,h,this.animationValues);u.render();for(const p in h)u.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);u.scheduleRender()}getProjectionStyles(u){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xI;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Il(u==null?void 0:u.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Il(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!qr(this.latestValues)&&(S.transform=p?p({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=vI(this.projectionDeltaWithTransform,this.treeScale,g),p&&(h.transform=p(g,h.transform));const{x:v,y:w}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,m.animationValues?h.opacity=m===this?(f=(c=g.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Rs){if(g[S]===void 0)continue;const{correct:E,applyTo:C,isCSSVariable:T}=Rs[S],b=h.transform==="none"?g[S]:E(g[S],m);if(C){const _=C.length;for(let M=0;M<_;M++)h[C[M]]=b}else T?this.options.visualElement.renderState.vars[S]=b:h[S]=b}return this.options.layoutId&&(h.pointerEvents=m===this?Il(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(gv),this.root.sharedNodes.clear()}}}function SI(e){e.updateLayout()}function EI(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:s}=e.layout,{animationType:a}=e.options,u=n.source!==e.layout.source;a==="size"?en(m=>{const g=u?n.measuredBox[m]:n.layoutBox[m],v=Nt(g);g.min=o[m].min,g.max=g.min+v}):MS(a,n.layoutBox,o)&&en(m=>{const g=u?n.measuredBox[m]:n.layoutBox[m],v=Nt(o[m]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const c=Ui();ms(c,o,n.layoutBox);const f=Ui();u?ms(f,e.applyTransform(s,!0),n.measuredBox):ms(f,o,n.layoutBox);const h=!_S(c);let p=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const w=rt();gs(w,n.layoutBox,g.layoutBox);const S=rt();gs(S,o,v.layoutBox),RS(w,S)||(p=!0),m.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function CI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bI(e){e.clearSnapshot()}function gv(e){e.clearMeasurements()}function NI(e){e.isLayoutDirty=!1}function PI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TI(e){e.resolveTargetDelta()}function _I(e){e.calcProjection()}function RI(e){e.resetSkewAndRotation()}function AI(e){e.removeLeadSnapshot()}function vv(e,t,n){e.translate=Qe(t.translate,0,n),e.scale=Qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xv(e,t,n,o){e.min=Qe(t.min,n.min,o),e.max=Qe(t.max,n.max,o)}function DI(e,t,n,o){xv(e.x,t.x,n.x,o),xv(e.y,t.y,n.y,o)}function MI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jI={duration:.45,ease:[.4,0,.1,1]},wv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Sv=wv("applewebkit/")&&!wv("chrome/")?Math.round:Ht;function Ev(e){e.min=Sv(e.min),e.max=Sv(e.max)}function LI(e){Ev(e.x),Ev(e.y)}function MS(e,t,n){return e==="position"||e==="preserve-aspect"&&!OL(hv(t),hv(n),.2)}function II(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const $I=DS({attachResizeListener:(e,t)=>Ls(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ld={current:void 0},jS=DS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ld.current){const e=new $I({});e.mount(window),e.setOptions({layoutScroll:!0}),ld.current=e}return ld.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OI={pan:{Feature:eI},drag:{Feature:JL,ProjectionNode:jS,MeasureLayout:NS}};function Cv(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=o[s];a&&ze.postRender(()=>a(t,qs(t)))}class VI extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=VM(t,(n,o)=>(Cv(this.node,o,"Start"),s=>Cv(this.node,s,"End"))))}unmount(){}}class FI extends Tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xs(Ls(this.node.current,"focus",()=>this.onFocus()),Ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kv(e,t,n){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=o[s];a&&ze.postRender(()=>a(t,qs(t)))}class zI extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=UM(t,(n,o)=>(kv(this.node,o,"Start"),(s,{success:a})=>kv(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zd=new WeakMap,ud=new WeakMap,BI=e=>{const t=Zd.get(e.target);t&&t(e)},UI=e=>{e.forEach(BI)};function HI({root:e,...t}){const n=e||document;ud.has(n)||ud.set(n,{});const o=ud.get(n),s=JSON.stringify(t);return o[s]||(o[s]=new IntersectionObserver(UI,{root:e,...t})),o[s]}function WI(e,t,n){const o=HI(t);return Zd.set(e,n),o.observe(e),()=>{Zd.delete(e),o.unobserve(e)}}const KI={some:0,all:1};class YI extends Tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:s="some",once:a}=t,u={root:n?n.current:void 0,rootMargin:o,threshold:typeof s=="number"?s:KI[s]},c=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=h?p:m;g&&g(f)};return WI(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(XI(t,n))&&this.startObserver()}unmount(){}}function XI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qI={inView:{Feature:YI},tap:{Feature:zI},focus:{Feature:FI},hover:{Feature:VI}},GI={layout:{ProjectionNode:jS,MeasureLayout:NS}},Jd={current:null},LS={current:!1};function QI(){if(LS.current=!0,!!Th)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jd.current=e.matches;e.addListener(t),t()}else Jd.current=!1}const ZI=[...oS,St,Nr],JI=e=>ZI.find(iS(e)),e3=new WeakMap;function t3(e,t,n){for(const o in t){const s=t[o],a=n[o];if(Ct(s))e.addValue(o,s);else if(Ct(a))e.addValue(o,Ms(s,{owner:e}));else if(a!==s)if(e.hasValue(o)){const u=e.getValue(o);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(o);e.addValue(o,Ms(u!==void 0?u:s,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const bv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n3{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=np,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=kn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ze.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:p}=u;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=_u(n),this.isVariantNode=p1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const w=g[v];f[v]!==void 0&&Ct(w)&&w.set(f[v],!1)}}mount(t){this.current=t,e3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),LS.current||QI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=ai.has(t);o&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ze.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in to){const n=to[t];if(!n)continue;const{isEnabled:o,Feature:s}=n;if(!this.features[t]&&s&&o(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<bv.length;o++){const s=bv[o];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=t[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=t3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=Ms(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){var o;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(o=this.getBaseTargetFromProps(this.props,t))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(nS(s)||Y1(s))?s=parseFloat(s):!JI(s)&&Nr.test(n)&&(s=J1(t,n)),this.setBaseTarget(t,Ct(s)?s.get():s)),Ct(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:o}=this.props;let s;if(typeof o=="string"||typeof o=="object"){const u=Bh(this.props,o,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[t])}if(o&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ct(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class IS extends n3{constructor(){super(...arguments),this.KeyframeResolver=sS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function r3(e){return window.getComputedStyle(e)}class i3 extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=b1}readValueFromInstance(t,n){if(ai.has(n)){const o=tp(n);return o&&o.default||0}else{const o=r3(t),s=(jh(n)?o.getPropertyValue(n):o[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kS(t,n)}build(t,n,o){$h(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return Uh(t,n,o)}}class o3 extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&k1(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ai.has(n)){const o=tp(n);return o&&o.default||0}return n=N1.has(n)?n:Dh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return T1(t,n,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&ze.postRender(this.updateDimensions)}build(t,n,o){Fh(t,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,o,s){P1(t,n,o,s)}mount(t){this.isSVGTag=zh(t.tagName),super.mount(t)}}const s3=(e,t)=>Vh(e)?new o3(t):new i3(t,{allowProjection:e!==N.Fragment}),a3=DM({..._L,...qI,...OI,...GI},s3),ft=XD(a3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$S=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:u,...c},f)=>N.createElement("svg",{ref:f,...u3,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:$S("lucide",s),...c},[...u.map(([h,p])=>N.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(e,t)=>{const n=N.forwardRef(({className:o,...s},a)=>N.createElement(c3,{ref:a,iconNode:t,className:$S(`lucide-${l3(e)}`,o),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d3=mn("ArrowLeft",f3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p3=mn("ArrowRight",h3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]],g3=mn("BookCopy",m3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Au=mn("Bookmark",y3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],x3=mn("Download",v3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],S3=mn("Expand",w3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],C3=mn("Menu",E3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],OS=mn("Paperclip",k3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],N3=mn("Pen",b3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],T3=mn("Pencil",P3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],VS=mn("Search",_3),FS=({currentIndex:e,totalItems:t,handlePrev:n,handleNext:o})=>k.jsxs("div",{className:"text-xs/6 flex justify-between mt-2 items-center mx-auto",style:{width:"50%"},children:[k.jsx("div",{onClick:n,className:"p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(d3,{size:"15"})}),k.jsxs("span",{className:"text-gray-600",children:[e+1,"/",t]}),k.jsx("div",{onClick:o,className:"p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(p3,{size:"15"})})]}),R3=({parentNodeId:e,similarArtworks:t,width:n,height:o,showFolder:s,toggleFolder:a,isAIGenerated:u})=>{const[c,f]=N.useState(0),{setDraggableType:h,setDraggableData:p}=si(),m=(S,E,C,T)=>{S.dataTransfer.effectAllowed="move",h(E),p({content:C,prompt:T,parentNodeId:e,provenance:"history"})},g=()=>{f(S=>S>0?S-1:t.length-1)},v=()=>{f(S=>S<t.length-1?S+1:0)},w=t[c];return N.useEffect(()=>{f(0)},[t]),k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                                        w-12 h-20 p-1
                                        ${u?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                                        flex items-center justify-left rounded-l-md
                                        cursor-pointer transition-colors duration-200 
                                        ${s?u?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:a,children:[k.jsx(VS,{size:20,className:"text-gray-600"})," "]}),k.jsx(ft.div,{initial:{transform:"rotateX(-45deg) scaleX(0.5)"},animate:{transform:s?"rotateX(0deg) scaleX(1)":"rotateX(-60deg) scaleX(0.5)"},transition:{duration:s?.5:.1,type:"spring",bounce:.3},className:"absolute z-0 ",children:k.jsx(ft.div,{initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:s?.5:.1,type:"spring",bounce:.3},className:`nowheel absolute left-0 top-0 transform -translate-x-[${n+6}px] ${u?"bg-blue-100":"bg-[#f2e7ce]"} border shadow-md z-3`,style:{height:`${o}px`,width:`${n}px`},children:w.title===""?k.jsx("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",height:"100%"},children:k.jsx("div",{className:"loader"})}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"sticky top-0 z-10 ${isAIGenerated ? 'bg-blue-100' : 'bg-[#f2e7ce]'}",children:k.jsx(FS,{handlePrev:g,handleNext:v,currentIndex:c,totalItems:t.length})}),w?k.jsxs("div",{className:"p-3 pr-5 ml-0 h-[85%] overflow-y-scroll flex flex-col items-center",children:[k.jsxs("h2",{draggable:!0,onDragStart:S=>m(S,"text",w.title),className:`artwork-title nodrag rounded-md p-1 ${u?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"} text-md font-medium text-gray-900 italic font-bold text-center`,children:[w.title," (",w.date,")"]}),k.jsx("img",{draggable:!0,onDragStart:S=>m(S,"image",w.image,`"${w.title}"(${w.date}) by ${w.artist}`),className:`artwork-image nodrag rounded-md m-2 border-2 ${u?"border-blue-200":"border-[#dbcdb4]"}`,src:w.image,alt:`${w.title} by ${w.artist}`,style:{maxHeight:"90%",width:"auto",objectFit:"cover"}}),k.jsx("p",{draggable:!0,onDragStart:S=>m(S,"text",w.artist),className:`nodrag ${u?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"} text-xs mt-2 text-center`,children:w.artist}),k.jsx("p",{draggable:!0,onDragStart:S=>m(S,"text",w.description),className:`nodrag ${u?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"} text-xs mt-2 text-center`,children:w.description})]}):k.jsx("div",{className:"p-3 ml-0 h-full overflow-y-auto",children:k.jsx("h2",{className:"text-xs font-medium text-gray-900 italic font-bold",children:"No content"})})]})})})]})},A3=({content:e,showDescription:t=!1,containerHeight:n=100,containerWidth:o=100,parentNodeId:s,toggleDescription:a,isAIGenerated:u=!1})=>{const{setDraggableType:c,setDraggableData:f}=si(),h=(p,m,g="text",v)=>{p.dataTransfer.effectAllowed="move",c(g),f({content:m,prompt:v,provenance:u?"ai":"history",parentNodeId:s})};return e?k.jsxs("div",{className:"relative",style:{height:`${n}px`,overflow:"visible"},children:[k.jsx("div",{className:"overflow-hidden",style:{height:`calc(${n-24}px)`,width:`${o}px`},children:k.jsx(ft.div,{initial:{},animate:{scaleY:t?1:.5,rotateX:t?0:90},transition:{duration:t?.5:.1,opacity:t?1:0,type:"spring",bounce:.2},className:`nowheel p-3 overflow-scroll border rounded-b-md shadow-md p-0 h-full ${u?"bg-blue-50":"bg-[#f4efe3] border-[#998056]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[u?"Prompt:":"",k.jsx("div",{className:`nodrag ${u?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"} rounded-md p-1 flex flex-col gap-3 overflow-y-auto text-xs flex-grow`,children:k.jsx("p",{draggable:!0,onDragStart:p=>h(p,e),children:e})})]})})}),k.jsxs("div",{className:`
                    w-12 h-10 p-1 mt-5
                    ${u?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-center rounded-br-md rounded-bl-md
                    cursor-pointer transition-colors duration-200 
                    absolute bottom-0 right-2
                    ${t?u?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:a,children:[k.jsx(Au,{size:20,className:"text-gray-600"})," "]})]}):null};function Nv({id:e,data:t,selected:n,dragging:o}){const{addClippedNode:s,getNextPaletteIndex:a}=Nh(),[u,c]=N.useState(""),[f,h]=N.useState(150),[p,m]=N.useState(150),[g,v]=N.useState(!1),[w,S]=N.useState(!1),[E,C]=N.useState(!1),[T,b]=N.useState(!1),_=()=>{b(!T)};N.useEffect(()=>{t.content&&c(t.content)},[t.content]);const M=()=>{v(!g)},$=()=>{S(!w)},[I,z]=N.useState(!0),K=[{title:"",date:404,artist:"",keywords:[],description:"This painting is a depiction of the port of Le Havre at sunrise, with small rowboats in the foreground and ships and cranes in the background. The orange sun is shown as a distinct circle, reflecting on the water below. This piece gave the Impressionist movement its name when critics seized upon the title of this painting to give the entire movement a derisive moniker.",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"}],[Y,ee]=N.useState(t.similarArtworks||K),{backend:q,userID:J,admins:R}=Pn(),V=async B=>{try{console.log("sending this image to the backend for lookup:",B);const A=await He.post(`${q}/api/get-similar-images`,{image:B},{headers:{"Content-Type":"application/json"}}),ae=(await JSON.parse(A.data)).map(ne=>({title:ne.title||"Unknown",date:ne.date||"Unknown",artist:ne.artist||"Unknown",keywords:[{id:`genre-${Date.now()}`,type:"genre",value:ne.genre||"Unknown"},{id:`style-${Date.now()}`,type:"style",value:ne.style||"Unknown"}],description:ne.description||"Unknown",image:ne.image||"Unknown"}));return console.log("fetched similar artworks from backend:",ae),ae}catch(A){return console.error("Error fetching similar artworks:",A),K}},[L,U]=N.useState(!0);N.useEffect(()=>{c(t.content||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"),n?(z(!0),t.similarArtworks&&t.similarArtworks.length>0&&!o&&S(!0),t.prompt&&!o&&v(!0)):(v(!1),S(!1),z(!1),b(!1))},[n,u,t.content,t.similarArtworks]),N.useEffect(()=>{t.similarArtworks&&t.similarArtworks.length>0&&ee(t.similarArtworks)},[JSON.stringify(t.similarArtworks)]),N.useEffect(()=>{C(t.provenance==="ai")},[t.provenance]),N.useEffect(()=>{const B=async()=>{const A=await V(u);t.similarArtworks=A,ee(A),U(!1)};L&&(!t.similarArtworks||t.similarArtworks.length<=0)&&u!==""&&B()},[L,t.similarArtworks,u]);const D="relative nowheel p-0.5",O=E?`${D} bg-blue-400 rounded-xl   ${n?"ring-2 ring-blue-300":""}`:`${D} bg-stone-500  ${n?"ring-2 ring-[#dbcdb4] border-[#b39e79]":""}`;return k.jsxs(ft.div,{initial:{opacity:0,x:0,y:10,scale:1.1,rotateY:-45,filter:"drop-shadow(10px 10px 10px rgba(0, 0, 0, 0.55))"},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,scaleX:1,filter:"drop-shadow(1px 2px 1px rgba(0, 0, 0, 0.15))"},transition:{duration:.3,type:"spring",bounce:.1},className:"drag-handle__invisible bg-transparent",children:[k.jsx(ft.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:w?`-${f*2-10}px`:"-6px",transform:"scaleY(1)",opacity:I?1:0},transition:{duration:.2},className:"absolute",children:k.jsx(R3,{parentNodeId:e,similarArtworks:Y,width:f*2,height:p*2,showFolder:w,toggleFolder:$,isAIGenerated:E})}),k.jsxs(vw,{isVisible:n,position:ye.Top,children:[k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>s({id:a(),type:"image",content:u,prompt:t.prompt||"",provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarArtworks:Y}),"aria-label":"Save to Palette",style:{},children:k.jsx(OS,{size:16})}),k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:_,"aria-label":"Enlarge Image",children:k.jsx(S3,{size:16})})]}),J&&R.includes(J)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Au,{size:16})})]}),k.jsx("div",{className:`bg-transparent rounded-full ${E?"rounded-xl":""}`,style:{width:`${f}px`,height:`${p}px`,position:"relative"},children:k.jsx("img",{className:`${O}`,src:u,alt:t.prompt||"generated image",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top"}})}),k.jsx(Cr,{type:"source",position:ye.Bottom,id:"a",isConnectable:!1,onConnect:B=>console.log("handle onConnect",B)}),k.jsx(Cr,{type:"target",position:ye.Top,id:"b",isConnectable:!1,onConnect:B=>console.log("handle onConnect",B)}),k.jsx(ft.div,{initial:{top:0},animate:{top:g?p:40,opacity:I?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(A3,{containerHeight:p,containerWidth:f,showDescription:g,toggleDescription:M,parentNodeId:e,content:t.prompt,isAIGenerated:E})}),T&&k.jsx(ft.div,{className:"fixed top-0 left-0 w-screen-[45vw] h-screen-[45vw] bg-black/70 flex justify-center items-center z-50",onClick:()=>b(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:k.jsx("img",{src:u,className:"max-w-[45vw] max-h-[45vh] rounded-lg shadow-xl"})})]})}const zS=e=>e.split(" ").map(t=>({value:t})),Oi=e=>e.map(t=>t.value).join(" "),Pv=e=>{const n=()=>Math.random()*30-10,o=e.x+e.width/2,s=e.y+e.height/2,a=o>=e.x+e.width/2?e.x+e.width+10+n():e.x-10+n(),u=s>=e.y+e.height/2?e.y+e.height-n():e.y-10-n();return{x:a,y:u}},BS=N.createContext(void 0),D3=({children:e})=>{const{userID:t,backend:n,loginStatus:o}=Pn(),[s,a]=N.useState("new-canvas"),[u,c]=N.useState("Untitled"),[f,h]=N.useState("Never"),p=N.useCallback((E,C,T)=>{const b=C||s;try{const{nodes:_,edges:M,viewport:$}=E;localStorage.setItem(`${b}`,JSON.stringify({nodes:_,edges:M,viewport:$})),T&&localStorage.setItem(`${b}-name`,T)}catch(_){console.error("Error saving canvas to browser:",_)}},[s]),m=N.useCallback(async E=>{try{const C=await He.get(`${n}/api/get-canvas/${E}`);if(C.status===200&&C.data.success){console.log("response.data FROM BACKEND after pulling canvas:",C.data);const{canvasName:T,nodes:b,edges:_,viewport:M}=C.data.canvas,$=C.data.timestamp,I=typeof _=="string"?JSON.parse(_):_,z=typeof b=="string"?JSON.parse(b):b,K={nodes:z||[],edges:I||[],viewport:M||{x:0,y:0,zoom:1}};return console.log(`Loaded canvas "${T}" (ID: ${E}) with ${z.length} nodes and ${I.length} edges and timestamp: ${$}`),{canvasData:K,canvasName:T,timestamp:$}}}catch(C){console.error("Error loading canvas:",C)}return null},[n]),g=E=>{try{const C=localStorage.getItem(`${E}`);if(C)return console.log("canvas context found canvasID:",E,JSON.parse(C)),JSON.parse(C);console.warn("No canvas found for:",E)}catch(C){console.error("Error loading canvas from browser:",C)}return null},v=N.useCallback(async(E,C,T)=>{if(C=C||s,T=T||u||"Untitled",o!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",o);return}if(!E){console.error("No canvas data provided. Cannot save.");return}try{const b=new Date().toISOString();await He.post(`${n}/api/save-canvas`,{userID:t,canvasID:C,canvasName:T,canvasJSONObject:E,timestamp:b}),h(b)}catch(b){console.error("Error saving canvas:",b)}},[n,t,s,u,o]),w=N.useCallback(async E=>{if(o!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",o);return}const T=await(await fetch(`${n}/api/next-canvas-id/${E}`)).json();if(!T.success){console.error("Error fetching next canvas ID.");return}console.log("received next canvas ID:",T.nextCanvasId," calling save canvas on the new canvas"),await v({nodes:[],edges:[],viewport:{x:0,y:0,zoom:1}},`${T.nextCanvasId}`,"Untitled"),console.log("redirecting to new canvas: "+T.nextCanvasId),window.location.href=`/?user=${E}&canvas=${T.nextCanvasId}`},[o]),S=N.useCallback(async E=>{if(!t||t==="default"){console.error("You aren't logged in.");return}try{const C=await He.delete(`${n}/api/delete-canvas/${t}/${E}`);C.status===200&&C.data.success?console.log(`Canvas ${E} deleted successfully for user ${t}.`):console.error("Error deleting canvas:",C.data.error)}catch(C){console.error("Error deleting canvas:",C)}},[t,n]);return k.jsx(BS.Provider,{value:{canvasID:s,setCanvasId:a,canvasName:u,setCanvasName:c,saveCanvas:v,deleteCanvas:S,createNewCanvas:w,pullCanvas:m,quickSaveToBrowser:p,pullCanvasFromBrowser:g,lastSaved:f,setLastSaved:h},children:e})},Du=()=>{const e=N.useContext(BS);if(!e)throw new Error("useCanvasContext must be used within a CanvasProvider");return e},US=N.createContext(void 0),M3=({children:e})=>{const{loginStatus:t}=Pn(),{canvasName:n,canvasID:o,quickSaveToBrowser:s}=Du(),[a]=Sh(),u=a.get("user"),c=a.get("canvas"),[f,h]=N.useState([]),[p,m]=N.useState([]),[g,v]=N.useState({x:0,y:0,zoom:1}),w=N.useCallback(b=>{v(b)},[]),S=N.useCallback(()=>({nodes:f,edges:p,viewport:g}),[f,g]),E=N.useCallback(b=>{if(b.length===0)return;const _=b.map(I=>I.content).join(" "),M=b.reduce((I,z)=>(I.x+=z.position.x,I.y+=z.position.y,I),{x:0,y:0});M.x/=b.length,M.y/=b.length;const $={id:`text-${Date.now()}`,type:"text",position:M,data:{content:_,words:zS(_),provenance:"user",intersections:[]}};h(I=>I.filter(z=>!b.some(K=>K.id===z.id)).concat($))},[]),C=N.useCallback(b=>{h(_=>Ux(b,_)),s(S())},[h,s,S,u,c,t,o,n]),T=N.useCallback(b=>{m(_=>Hx(b,_)),s(S())},[m,s,S,u,c,t,o,n]);return k.jsx(US.Provider,{value:{nodes:f,edges:p,currentViewport:g,setNodes:h,setEdges:m,mergeNodes:E,handleOnEdgesChange:T,handleOnNodesChange:C,canvasToObject:S,saveCurrentViewport:w},children:e})},Mu=()=>{const e=N.useContext(US);if(!e)throw new Error("useNodeContext must be used within a NodeProvider");return e},j3=({word:e})=>k.jsx("span",{style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:"cursor-pointer rounded-sm m-0.5 p-0.5",children:e.value})}),L3=({keyword:e,handleKeywordClick:t})=>{const[n,o]=N.useState(!1),s=()=>{t(),o(!n)};return k.jsx(ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:`cursor-pointer 
                    rounded-sm mx-0.5 p-0
                    transition-all duration-200 
                    bg-amber-100 hover:bg-amber-200`,onClick:s,children:e.value})})},HS=({relatedKeywords:e,isAIGenerated:t})=>{const{setDraggableType:n,setDraggableData:o}=si(),s=(a,u)=>{a.dataTransfer.effectAllowed="move",n("text"),o({content:u,provenance:"history"})};return k.jsxs("div",{className:"nodrag p-2 flex flex-wrap gap-0.5",children:[k.jsx("strong",{className:"text-gray-900 text-sm italic mr-1",children:"see also: "}),e.map((a,u)=>k.jsx("div",{className:`text-xs p-0.5 rounded-sm cursor-grab ${t?"text-blue-50 bg-blue-500 hover:bg-blue-400":"text-stone-50 bg-stone-500 hover:bg-stone-400"}`,draggable:!0,onDragStart:c=>s(c,a),children:a},u))]})},I3=({keyword:e,containerHeight:t=100,showDescription:n=!1,parentNodeId:o,toggleDescription:s,isAIGenerated:a=!1})=>{const{setDraggableType:u,setDraggableData:c}=si(),f=(h,p,m,g)=>{h.dataTransfer.effectAllowed="move",u(p),c({content:m,prompt:g,provenance:"history",parentNodeId:o})};return e?k.jsxs("div",{className:"relative",style:{height:`${t}px`,overflow:"visible"},children:[k.jsx("div",{id:"descriptionpanel-body",className:"overflow-hidden",style:{height:`calc(${t-24}px`,zIndex:-1},children:k.jsx(ft.div,{initial:{},animate:{scaleY:n?1:.5,rotateX:n?0:90},transition:{duration:n?.5:.1,type:"spring",bounce:.2},className:`nodrag nowheel overflow-scroll border rounded-b-md shadow-md p-0 h-full ${a?"bg-blue-50":"bg-[#f4efe3] border-[#d9cdb2]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[e.databaseValue&&k.jsx("div",{draggable:!0,onDragStart:h=>f(h,"text",e.databaseValue),className:`nodrag text-sm font-bold text-gray-800 mb-2 cursor-pointer ${a?" bg-blue-100 hover:bg-blue-300":"hover:bg-[#D1BC97]"}`,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",backgroundColor:a?"#f5f5dc":"#dbcdb4",borderBottom:"1px solidrgba(0, 0, 0, 0.34)"},children:e.databaseValue}),e.description&&k.jsx("div",{draggable:!0,onDragStart:h=>f(h,"text",e.description),className:`p-1 m-2 flex flex-col gap-3 overflow-y-auto text-xs flex-grow ${a?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"}`,children:e.description}),e.relatedKeywordStrings&&e.relatedKeywordStrings.length>0&&k.jsx(HS,{relatedKeywords:e.relatedKeywordStrings,isAIGenerated:a})]})})}),k.jsxs("div",{className:`
        w-12 h-10 p-1 
        ${a?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-yellow-300"}
        flex items-center justify-center rounded-br-md rounded-bl-md
        cursor-pointer transition-colors duration-200 
        absolute bottom-0 right-2
        ${n?a?"bg-blue-200":"bg-[#dbcdb4]":""}`,style:{zIndex:1},onClick:s,children:[k.jsx(Au,{size:20,className:"text-gray-600"})," "]})]}):null},$3=({parentNodeId:e,width:t,height:n,showFolder:o,toggleFolder:s,similarTexts:a,isAIGenerated:u=!1})=>{const[c,f]=N.useState(0),{setDraggableType:h,setDraggableData:p}=si(),m=(S,E,C,T)=>{S.dataTransfer.effectAllowed="move",h(E),p({content:C,prompt:T,provenance:"history",parentNodeId:e})},g=()=>{f(S=>S>0?S-1:a.length-1)},v=()=>{f(S=>S<a.length-1?S+1:0)},w=a[c];return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                    w-12 h-20 p-1
                    ${u?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-left rounded-l-md
                    cursor-pointer transition-colors duration-200 
                    ${o?u?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:s,children:[k.jsx(VS,{size:20,className:"text-gray-600"})," "]}),k.jsx(ft.div,{initial:{transform:"rotateX(-45deg)"},animate:{transform:o?"rotateX(0deg)":"rotateX(-60deg)"},transition:{duration:.3,type:"spring",bounce:.2},className:"absolute",children:k.jsx("div",{className:`absolute left-0 top-0 transform -translate-x-[${t+6}px] ${u?"bg-blue-100":o?"bg-[#f2e7ce]":"bg-[#dbcdb4]"} rounded-md shadow-md`,style:{height:`${n*2}px`,width:`${t}px`},children:a.length>0?k.jsx(k.Fragment,{children:k.jsxs("div",{className:"p-3 ml-0 h-full overflow-y-auto",children:[k.jsx("h2",{className:"text-xs font-medium text-gray-900 italic font-bold",children:"This could be related..."}),k.jsx(FS,{currentIndex:c,totalItems:a.length,handlePrev:g,handleNext:v}),w&&k.jsxs("div",{className:"nodrag nowheel text-gray-600 overflow-y-auto",children:[k.jsx("p",{draggable:!0,onDragStart:S=>m(S,"text",w.value),className:`text-md font-bold ${u?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,children:w.value}),k.jsx("p",{draggable:!0,onDragStart:S=>m(S,"text",w.type),className:`italic text-xs ${u?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,children:w.type}),k.jsx("p",{draggable:!0,onDragStart:S=>m(S,"text",w.description,"human"),className:`text-sm/5 mt-2 p-0.5 rounded-sm ${u?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,children:w.description}),w.relatedKeywordStrings&&w.relatedKeywordStrings.length>0&&k.jsx(HS,{relatedKeywords:w.relatedKeywordStrings,isAIGenerated:u})]})]})}):k.jsxs("div",{className:"p-3 ml-0 h-full overflow-y-auto flex flex-col items-center justify-center",children:[k.jsx("h2",{className:"text-xs font-medium text-gray-900 italic font-bold text-center mb-5",children:"...We haven't found anything relevant to this prompt in our database yet..."}),k.jsx("div",{className:"loader"})]})})})]})};function Tv({id:e,data:t,selected:n}){const o=N.useRef(null),[s,a]=N.useState(t.content||""),[u,c]=N.useState(!1),[f,h]=N.useState(t.words||[]),[p,m]=N.useState(t.similarTexts||[]),[g,v]=N.useState(null),{mergeNodes:w}=Mu(),[S,E]=N.useState(200),[C,T]=N.useState(150),[b,_]=N.useState(!1),[M,$]=N.useState(!1),{backend:I,userID:z,admins:K}=Pn(),{addClippedNode:Y,getNextPaletteIndex:ee}=Nh(),[q,J]=N.useState(!0),[R,V]=N.useState(t.provenance==="ai"),L=async te=>{console.log("fetching texts for:",te);try{const se=await fetch(`${I}/api/get-similar-texts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:te})});if(!se.ok)throw new Error("Failed to fetch similar texts");const Se=await se.json();return Se.length===0?[]:Se.map(he=>({id:he.id,value:he.database_value,description:he.description||he.full_description,relatedKeywordStrings:he.relatedKeywordStrings,type:he.type}))}catch(se){return console.error("Error fetching similar texts:",se),{id:"0",value:"none",description:"it seems some kind of error occurred. check your connection!",type:"none"}}},U=async te=>{if(te.length===0)return[];try{const se=await fetch(`${I}/api/check-for-keywords`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:te.map(he=>he.value).join(" ")})});if(!se.ok)throw new Error("Failed to check for keywords");return(await se.json()).words.map(he=>he.id?{id:he.id,value:he.value,databaseValue:he.database_value,description:he.description,relatedKeywordIds:he.relatedKeywordIds,relatedKeywordStrings:he.relatedKeywordStrings,type:he.type}:{value:he.value})}catch(se){return console.error("Error checking for keywords:",se),console.log("Fallback words array:",f),f}},D=te=>{a(te.target.value)},O=()=>{a(f.map(te=>te.value).join(" ")),c(!0)},B=async te=>{if(te.key==="Enter"){te.preventDefault();const se=zS(s);h(se),t.words=se,t.hasNoKeywords=!1,t.hasNoSimilarTexts=!1,c(!1),_(!1),$(!1),v(null),console.log("words hve changed to:",se);const Se=await U(se);h(Se),t.words=Se;const ke=await L(Oi(Se));m(ke),t.similarTexts=ke}},A=te=>{v(te),_(!b)},W=()=>{_(!b)},ae=()=>{$(!M)},[ne,le]=N.useState(!0);N.useEffect(()=>{if(h(t.words||[]),t.content=Oi(f),g===null){const te=f.find(se=>"id"in se);te&&v(te)}},[JSON.stringify(t.words),g]),N.useEffect(()=>{t.similarTexts&&t.similarTexts.length>0&&m(t.similarTexts||[])},[t.similarTexts]),N.useEffect(()=>{(t.words&&t.words.some(te=>"id"in te)||t.hasNoKeywords)&&(t.similarTexts&&t.similarTexts.length>0||t.hasNoSimilarTexts)?(m(t.similarTexts||[]),h(t.words||[]),J(!1)):q&&((async()=>{if(t.words&&t.words.some(se=>"id"in se)||t.hasNoKeywords)h(t.words);else{const se=await U(f);h(se),t.words=se,t.content=Oi(se)}if(t.similarTexts&&t.similarTexts.length>0&&!t.hasNoSimilarTexts)m(t.similarTexts);else{const se=await L(Oi(f));t.similarTexts=se}J(!1)})(),t.similarTexts&&t.similarTexts.length>0&&m(t.similarTexts||[]))},[]),N.useEffect(()=>{if(o.current){const se=o.current;se.style.height="auto",se.style.height=`${se.scrollHeight}px`;const ke=parseInt(getComputedStyle(se).lineHeight,10)*10;se.scrollHeight>ke?(se.style.height=`${ke}px`,se.style.overflowY="scroll"):se.style.overflowY="hidden"}n?le(!0):(_(!1),$(!1),v(null),c(!1),le(!1)),u&&v(null)},[s,t,f,u,n]);const ce=`relative nowheel p-4 border ${n?"ring-2 ring-blue-400":""}`,oe=R?`${ce} border-blue-200 bg-blue-50 rounded-lg shadow-sm`:`${ce} border-amber-300 bg-amber-50 shadow-sm`;return N.useEffect(()=>{V(t.provenance==="ai")},[t.provenance]),k.jsxs(ft.div,{initial:{opacity:.2,x:0,y:10,scale:1.1,rotateY:Math.random()*30-15,rotateX:-75},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,rotateX:0,scaleX:1},transition:{duration:.15,type:"spring",bounce:.1},className:"",children:[" ",k.jsx("div",{className:"relative",style:{width:`${S}px`},children:u?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{fontSize:"0.75rem",color:"gray",filter:"none"},children:"ENTER TO CONFIRM"}),k.jsx("div",{className:"text-xs p-2 border border-gray-700 rounded bg-white nowheel",style:{width:`${S}px`,height:`${C}px`},children:k.jsx("textarea",{className:"nowheel nodrag resize-none border  overflow-auto text-inherit font-inherit  p-2 w-full h-full",ref:o,value:s,onChange:D,onKeyDown:B,style:{fontSize:"inherit",width:"100%",height:"100%",fontStyle:"italic",color:"#333"}})})]}):k.jsxs(k.Fragment,{children:[k.jsx(ft.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:M?`-${S}px`:"-6px",transform:"scaleY(1)",opacity:ne?1:0},transition:{duration:.2},className:"absolute",children:k.jsx($3,{parentNodeId:e,width:S,height:C,showFolder:M,toggleFolder:ae,similarTexts:p,isAIGenerated:R})}),k.jsx(vw,{isVisible:n,position:ye.Top,children:k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>Y({id:ee(),type:"text",content:Oi(f),provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarTexts:t.similarTexts,prompt:"none"}),"aria-label":"Save to Palette",style:{marginRight:"0px"},children:k.jsx(OS,{size:16})}),t.intersections&&t.intersections.length>1&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>w(t.intersections),"aria-label":"Merge",style:{marginRight:"0px"},children:k.jsx(g3,{size:16})}),z&&K.includes(z)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Au,{size:16})})]})}),k.jsxs("div",{className:`${oe}`,style:{zIndex:10,height:`${C}px`,filter:"drop-shadow(3px 3px 3px rgba(0, 0, 0, 0.25))"},children:[q?k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-xs nowheel",style:{position:"relative",opacity:.7,color:"gray",overflow:"auto",height:"100%",width:"100%"},children:s}),k.jsx("div",{className:"loader",style:{opacity:.7,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:O,style:{display:ne?"block":"none"},className:"absolute top-2 -right-3 p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:k.jsx(N3,{size:16})}),k.jsx("div",{className:"nowheel p-0 overflow-y-auto overflow-x-visible h-full text-xs/4 text-gray-800 relative inline-block",children:f.map((te,se)=>k.jsx(th.Fragment,{children:"id"in te?k.jsx(L3,{keyword:te,handleKeywordClick:()=>A(te)}):k.jsx(j3,{word:te})},se))})]}),k.jsx(Cr,{type:"source",position:ye.Bottom,id:"a",isConnectable:!1,onConnect:te=>console.log("handle onConnect",te)}),k.jsx(Cr,{type:"target",position:ye.Top,id:"b",isConnectable:!1,onConnect:te=>console.log("handle onConnect",te)})]}),k.jsx(ft.div,{initial:{top:0},animate:{top:b?C:-C+40,opacity:ne?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(I3,{keyword:g,containerHeight:C*2,containerWidth:S,showDescription:b,parentNodeId:e,toggleDescription:W,isAIGenerated:R})})]})})]})}function O3(){return k.jsx(ft.div,{initial:{opacity:0,x:0,y:3,scale:.6},animate:{opacity:1,x:0,y:0,scale:1,scaleX:1},transition:{duration:.4,type:"spring",bounce:.1},className:"text-md",children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-gray-800",children:"...loading..."}),k.jsx("div",{className:"loader"})]})})}const V3={words:["your","text","here.","click","the","pencil","icon","in","the","top","right","to","edit.","Use","Option+Click","to","generate","new","nodes."].map(e=>({value:e})),intersections:[],similarTexts:[],provenance:"user",hasNoKeywords:!0,hasNoSimilarTexts:!0},F3={default:O3,image:Nv,text:Tv,imagewithlookup:Nv,textwithkeywords:Tv},z3=(e,t)=>{const[n,o]=N.useState(null),s=N.useCallback(()=>{const c=e.filter(f=>f.selected);o(c)},[e]),a=N.useCallback(()=>{const c=e.filter(f=>f.selected);o(c),t(f=>f.filter(h=>!h.selected))},[e,t]),u=N.useCallback(()=>{if(n){const c=10*(e.length+1),f=n.map(h=>({...h,id:`${e.length+1}`,position:{x:h.position.x+c,y:h.position.y+c}}));t(h=>[...h,...f])}},[n,e,t]);return{handleCopy:s,handleCut:a,handlePaste:u}},B3=({addTextWithKeywordsNode:e,addImageNode:t,addSynthesizer:n})=>{const[o,s]=N.useState({x:20,y:100}),[a,u]=N.useState(!1),[c,f]=N.useState({x:0,y:0}),h=g=>{u(!0),f({x:g.clientX-o.x,y:g.clientY-o.y})},p=g=>{a&&s({x:g.clientX-c.x,y:g.clientY-c.y})},m=()=>{u(!1)};return k.jsxs("div",{style:{position:"absolute",top:`${o.y}px`,left:`${o.x}px`,display:"flex",flexDirection:"column",gap:"10px",background:"rgba(0,0,0,0.8)",padding:"10px",borderRadius:"10px",zIndex:10,cursor:a?"grabbing":"grab",userSelect:"none"},onMouseMove:p,onMouseUp:m,onMouseLeave:m,children:[k.jsx("div",{onMouseDown:h,style:{cursor:"grab",padding:"5px",textAlign:"center",background:"#444",color:"white",borderRadius:"5px",fontSize:"16px",fontWeight:"bold"},children:""}),k.jsx("button",{onClick:()=>e(),children:"T"}),k.jsx("button",{onClick:()=>t(),children:""}),k.jsx("button",{onClick:()=>n(),children:""})]})},U3=()=>{const{userID:e,backend:t,loginStatus:n}=Pn(),{saveCanvas:o,canvasName:s,canvasID:a,setCanvasId:u,pullCanvas:c,quickSaveToBrowser:f,pullCanvasFromBrowser:h,setCanvasName:p,setLastSaved:m,createNewCanvas:g}=Du(),{nodes:v,setNodes:w,edges:S,setEdges:E,saveCurrentViewport:C,canvasToObject:T,handleOnEdgesChange:b,handleOnNodesChange:_}=Mu(),{getIntersectingNodes:M,screenToFlowPosition:$,setViewport:I,getViewport:z,getNodesBounds:K}=gu(),{draggableType:Y,setDraggableType:ee,draggableData:q,setDraggableData:J}=si(),[R,V]=N.useState(!1),[L,U]=N.useState(!1),[D]=Sh(),O=D.get("canvas"),B=async(we,de)=>{if(de){if(we&&de&&!de.includes(we))return window.location.href=`/?userId=${we}&canvasId=${we}-${de}`,!1;{const Ne=await(await fetch(`${t}/api/list-canvases/${we}`)).json();if(!Ne.success||!Ne.canvases.includes(de))return console.error(`${de} not found for the user `+we+"in"+Ne.canvases),!1}}else return!1;return!0},A=N.useCallback((we,de)=>{if(we.altKey){if(de.data.type==="default")return;if(de.data.content&&de.data.content!="loading ")Ie(de.id,de.data.content,Pv(K([de])));else if(Array.isArray(de.data.words)){const Pe=Oi(de.data.words);Ie(de.id,Pe,Pv(K([de])))}console.log("you option clicked this node:",de.data)}},[]);s_({onEnd:()=>C(z())});const{handleCopy:W,handleCut:ae,handlePaste:ne}=z3(v,w);N.useEffect(()=>{const we=de=>{(de.metaKey||de.ctrlKey)&&(de.key==="c"&&W(),de.key==="x"&&ae(),de.key==="v"&&ne())};return document.addEventListener("keydown",we),()=>document.removeEventListener("keydown",we)},[W,ae,ne]);const le=(we="your text here",de="user",Pe,Ne=!1,Me,Oe)=>{const je=we==="your text here"&&de==="user"&&!Pe&&!Ne?V3:{words:we.split(" ").map(Pt=>({value:Pt})),provenance:de,content:we,intersections:[],similarTexts:Oe??[],hasNoKeywords:Ne},ht={id:`text-${Date.now()}`,type:"text",zIndex:1e3,position:Pe??{x:Math.random()*250,y:Math.random()*250},data:je};w(Pt=>{const Tt=[...Pt,ht];return Me&&ce(Me,ht.id,Tt),Tt})},ce=(we,de,Pe)=>{const Ne=Pe.find(Oe=>Oe.id===we),Me=Pe.find(Oe=>Oe.id===de);if(Ne&&Me){const Oe={id:`edge-${we}-${de}`,source:we,target:de,type:"default"};E(je=>bx(Oe,je))}},oe=(we,de,Pe,Ne,Me,Oe)=>{we=we??"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",Pe=Pe??"default placeholder image. try creating something of your own!",Ne=Ne??"user",Oe=Oe&&Oe.length>0?Oe:void 0,console.log("addImageWithLookupNode is adding an image to the canvas: ",we,Pe,Ne,Me),de=de??{x:Math.random()*250,y:Math.random()*250};const je=`image-${Date.now()}`,ht={id:je,type:"image",position:de,zIndex:1e3,data:{content:we,prompt:Pe,provenance:Ne,parentNodeId:Me,similarArtworks:Oe},dragHandle:".drag-handle__invisible"};w(Pt=>{const Tt=[...Pt,ht];return Me&&ce(Me,je,Tt),Tt}),e&&o(T(),a,s)},te=N.useCallback(we=>{we.preventDefault(),we.dataTransfer.dropEffect="move"},[]),se=N.useCallback(we=>{if(we.preventDefault(),console.log(`you just dropped a: ${JSON.stringify(Y)} with this content: ${JSON.stringify(q)}`),!Y)return;const de=$({x:we.clientX-60,y:we.clientY-60});if(Y==="image"){const Pe="content"in q?q.content:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019",Ne="prompt"in q?q.prompt:"",Me="provenance"in q?q.provenance:"user",Oe="parentNodeId"in q?q.parentNodeId:void 0,je="similarArtworks"in q?q.similarArtworks:[];oe(Pe,de,Ne,Me,Oe,je)}else if("content"in q){const Pe="provenance"in q?q.provenance:"user",Ne="parentNodeId"in q?q.parentNodeId:void 0,Me="similarTexts"in q?q.similarTexts:[];le(q.content,Pe,de,!1,Ne,Me)}o(T(),a,s)},[Y,q,$,n]),Se=N.useCallback((we,de)=>{ee(de.type),J(de.data),de.type==="text"&&he(de,v)},[w,M]),ke=N.useCallback((we,de)=>{w(Pe=>he(de,Pe)),e&&o(T(),a,s)},[w,e]),he=(we,de)=>{const Pe=M(we).map(Ne=>Ne.id);return de.map(Ne=>{if(Ne.id===we.id){const Me=[{id:Ne.id,position:Ne.position,content:Ne.data.content},...Pe.map(Oe=>{const je=de.find(ht=>ht.id===Oe);return je&&je.type==="text"?{id:je.id,position:je.position,content:je.data.content}:null}).filter(Boolean)];return{...Ne,data:{...Ne.data,intersections:Me}}}return Ne})},Re=we=>{E(de=>de.filter(Pe=>Pe.source!==we&&Pe.target!==we)),w(de=>de.filter(Pe=>Pe.id!==we)),e&&o(T(),a,s)},Ie=N.useCallback(async(we,de="bunny on the moon",Pe={x:250,y:250})=>{const Ne=/\.(jpeg|jpg|gif|png|webp)$/.test(de),Me=`loading-${Date.now()}`,Oe={id:Me,type:"default",position:Pe,zIndex:1e3,data:{content:"loading "}};w(je=>[...je,Oe]);try{if(Ne){const je=await He.post(`${t}/api/generate-text`,{imageUrl:de});je.status===200?(le(je.data.text,"ai",Oe.position,!1,we),Re(Me)):console.error(`Text generation Error: ${je.status}`)}else{console.log(`Generating with prompt: ${de}`),new FormData().append("prompt",de);const ht=await He.post(`${t}/api/generate-image`,{prompt:de});ht.status===200?(oe(ht.data.imageUrl,Oe.position,de,"ai",we),Re(Me)):console.error(`Image generation Error: ${ht.status}`)}}catch(je){je instanceof Error?console.error("Failed to generate image:",je.message):console.error("Unknown error occurred:",je)}},[]),[Ye,dt]=N.useState(!1);return N.useEffect(()=>{if(R||n==="logging in")return;(async()=>{if(n==="logged out"){console.log("USER IS LOGGED OUT"),u("browser");const de=h("browser");if(de){console.log("Canvas loaded from browser storage!: ",de);const{nodes:Pe=[],edges:Ne=[],viewport:Me={x:0,y:0,zoom:1}}=de;w(Pe),E(Ne),I(Me)}else console.log("No canvas found in browser storage. Creating a new one for the logged out user..."),w([]),E([]),le("your text here","user",{x:0,y:0}),I({x:0,y:0,zoom:1}),f(T(),"browser","browserCanvas");V(!0);return}if(n==="logged in"&&e)if(O)u(O),c(`${O}`).then(de=>{if(de!==null){console.log("URL requested canvas found in the database!"),console.log(de);const{nodes:Pe=[],edges:Ne=[],viewport:Me={x:0,y:0,zoom:1}}=de.canvasData;console.log("flow has received: ",de),w(Pe),E(Ne),I(Me),p(de.canvasName),m(de.timestamp),V(!0);return}else console.log("No canvas found for the given ID.")});else{const Pe=await(await fetch(`${t}/api/list-canvases/${e}`)).json();if(Pe.success&&Pe.canvases.length>0){const Ne=Pe.canvases[Pe.canvases.length-1].canvasId;console.log("Redirecting to the last canvas:",Ne),V(!0),window.location.href=`/?user=${e}&canvas=${Ne}`}else Pe.success&&Pe.canvases.length===0&&(console.log("No canvases found, creating a new one."),g(e));V(!0)}})()},[e,n,R,O,t,B,c,u,w,I,p,m,f,T,le,g,h]),N.useEffect(()=>{const we=setInterval(()=>{e?o(T(),a,s):f(T(),"browser","browserCanvas")},6e4);return()=>clearInterval(we)},[e,a,s,f,o,T]),k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"100%",height:"100%"},children:k.jsxs(o_,{nodes:v,edges:S,nodeTypes:F3,minZoom:.009,onNodesChange:_,onEdgesChange:b,onNodeDrag:Se,onNodeDragStop:ke,onNodeClick:(we,de)=>A(we,de),onDrop:se,onDragOver:te,zoomOnDoubleClick:!1,fitView:!0,selectionOnDrag:!0,children:[k.jsx(f_,{}),k.jsx(v_,{})]})}),k.jsx(B3,{addTextWithKeywordsNode:()=>le(),addImageNode:oe,addSynthesizer:()=>U(!0)}),k.jsxs("div",{className:"fixed bottom-0 left-0 bg-gray-900 text-white p-4 z-50 text-sm rounded-md shadow-md overflow-scroll max-h-64",children:[k.jsx("button",{onClick:()=>dt(we=>!we),className:"bg-blue-500 text-white p-2 rounded mb-2",children:Ye?"Hide Debug Info":"Show Debug Info"}),Ye&&k.jsxs("div",{className:"overflow-scroll max-h-48",onClick:()=>dt(!1),children:[k.jsx("button",{onClick:()=>console.log(T()),className:"bg-green-500 text-white p-2 rounded mb-2 ml-2",children:"Print Canvas to Console"}),k.jsxs("p",{children:[k.jsx("strong",{children:"User ID:"})," ",e]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Canvas Name:"})," ",s]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Canvas ID:"})," ",a]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Login Status: "})," ",n]})]})]})]})},H3=()=>k.jsx("div",{children:k.jsx("div",{className:"flex h-screen mt-20 bg-red",children:k.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[k.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"ArtiFactor"}),k.jsxs("div",{id:"section1",className:"my-8",children:[k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Our Project"}),k.jsx("p",{children:"Pretend we filled this out."})]}),k.jsx("div",{id:"exampleSection",className:"mb-8",children:k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Text with keywords test"})})]})})}),W3=()=>{const{backend:e,addUser:t}=Pn(),[n,o]=N.useState([]),[s,a]=N.useState([]),[u,c]=N.useState([]),[f,h]=N.useState([]),[p,m]=N.useState(""),[g,v]=N.useState(""),[w,S]=N.useState(""),[E,C]=N.useState(""),[T,b]=N.useState(""),[_,M]=N.useState(""),[$,I]=N.useState(""),[z,K]=N.useState(!1),Y=async V=>{const L=V.target.value;if(m(L),v(""),S(""),C(""),b(""),o([]),L==="browserdata"){const U=Object.keys(localStorage).filter(D=>{var O;return(O=localStorage.getItem(D))==null?void 0:O.includes('"nodes":')});c(U.map(D=>({id:D,name:D})))}else{const D=await(await fetch(`${e}/api/list-users`)).json();if(D.success){const O=D.users.find(B=>B.userId===L);c(O?O.canvases:[])}else console.error("Failed to fetch users:",D.error)}},ee=async V=>{const L=V.target.value;v(L),S(""),C(""),b(""),o([]);const D=await(await fetch(`${e}/api/list-versions/${L}`)).json();D.success?(console.log("fetched versions:",D),h(D.versions)):console.error("Failed to fetch versions:",D.error)},q=async V=>{const L=V.target.value;S(L);const D=await(await fetch(`${e}/api/get-version/${L}`)).json();if(D.success){const O=D.version.jsonBlob;C(D.version.timestamp),b(JSON.stringify(O,null,2)),o(O.nodes.map(B=>({node_id:B.id,type:B.type,content:J(B.data.content)?k.jsx("img",{src:B.data.content,alt:"node content",style:{maxWidth:"50px"}}):B.data.content.substring(0,100)})))}else console.error("Failed to fetch version:",D.error)},J=V=>/\.(jpeg|jpg|gif|png|webp)$/.test(V),R=async()=>{p&&g&&window.confirm("Are you sure you want to delete this canvas?")&&((await(await fetch(`${e}/api/delete-canvas/${p}/${g}`,{method:"DELETE"})).json()).success?(alert("Canvas deleted successfully"),v(""),C(""),o([]),b("")):alert("Failed to delete canvas"))};return N.useEffect(()=>{(async()=>{try{const U=await(await fetch(`${e}/api/list-users`)).json();U.success?(console.log("fetched users:",U),a(U.users)):console.error("Failed to fetch users:",U.error)}catch(L){console.error("Error fetching users:",L)}})()},[e]),k.jsx("div",{className:"flex flex-col mt-20 overflow-scroll px-10",style:{height:"calc(100vh - 100px)"},children:k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex flex-wrap bg-stone-200 p-4",children:[k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsxs("h3",{onClick:()=>K(!z),className:"cursor-pointer",children:[z?"":""," Add new user"]}),z&&k.jsxs("div",{children:[k.jsx("input",{type:"text",placeholder:"Enter new user ID",value:_,onChange:V=>M(V.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("input",{type:"password",placeholder:"Enter new user password",value:$,onChange:V=>I(V.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("button",{onClick:()=>t(_,$),className:"w-full bg-stone-500 text-white p-2 rounded",children:"Add User"})]})]}),k.jsxs("div",{className:"mr-4 mb-4 display-block w-full p-3 relative",children:[k.jsx("button",{onClick:()=>console.log(localStorage),className:"w-50% bg-brown-500 text-white p-2 rounded mt-2",children:"Print Local Storage to console"}),k.jsx("br",{}),k.jsx("label",{htmlFor:"user-select",children:"Select User: "}),k.jsxs("select",{id:"user-select",value:p,onChange:Y,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a user"}),s.map(V=>k.jsx("option",{value:V.userId,children:V.userId},V.userId)),k.jsx("option",{value:"browserdata",children:"Browser Data"})]})]}),p&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("label",{htmlFor:"canvas-select",children:"Select Canvas: "}),k.jsxs("select",{id:"canvas-select",value:g,onChange:ee,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a canvas"}),u.map(V=>k.jsx("option",{value:V.canvasId,children:V.canvasName},V.canvasId))]})]}),g&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("label",{htmlFor:"version-select",children:"Select Version: "}),k.jsxs("select",{id:"version-select",value:w,onChange:q,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a version"}),f.map(V=>k.jsx("option",{value:V.versionId,children:V.versionId},V.versionId))]})]})]}),g&&w&&k.jsxs("div",{className:"bg-brown-200 p-4",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("button",{onClick:()=>{console.log("sending user to: "+p+" and canvas to:"+g),window.location.href=`/?user=${p}&canvas=${g}`},className:"bg-blue-500 text-white px-4 py-2 mb-4",children:"Go to Canvas Page"}),k.jsxs("p",{children:["Canvas ID in database: ",g]}),k.jsxs("p",{children:["Timestamp: ",E]}),k.jsxs("p",{children:["Number of Nodes: ",n.length]}),k.jsx("p",{className:"font-bold",children:"Raw canvas data dump from server: "}),k.jsx("div",{className:"overflow-scroll bg-gray-100 p-4 mt-4 text-xs",style:{height:"200px",width:"100%",whiteSpace:"pre-wrap"},children:k.jsx("pre",{children:T})}),k.jsx("button",{onClick:R,className:"bg-red-500 text-white px-4 py-2",children:"Delete Canvas"})]}),k.jsxs("div",{className:"overflow-scroll",style:{height:"calc(100vh - 100px)"},children:[g&&k.jsxs("div",{className:"flex justify-between mb-4",children:[k.jsx("button",{onClick:()=>{const V=f.findIndex(L=>L.versionId===w);if(V>0){const L=f[V-1].versionId;S(L),q({target:{value:L}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:f.findIndex(V=>V.versionId===w)===0,children:"Previous"}),k.jsxs("span",{className:"px-4 py-2 text-center",children:[f.findIndex(V=>V.versionId===w)+1," / ",f.length,k.jsxs("p",{className:"text-center",children:["Version ID: ",w]})]}),k.jsx("button",{onClick:()=>{const V=f.findIndex(L=>L.versionId===w);if(V<f.length-1){const L=f[V+1].versionId;S(L),q({target:{value:L}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:f.findIndex(V=>V.versionId===w)===f.length-1,children:"Next"})]}),k.jsx("p",{className:"font-bold",children:"Node data from server, as a table: "}),k.jsxs("table",{className:"min-w-full",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-4 py-2"}),n.length>0&&Object.keys(n[0]).map(V=>k.jsx("th",{className:"px-4 py-2",children:V},V))]})}),k.jsx("tbody",{children:n.map((V,L)=>k.jsxs("tr",{children:[k.jsx("td",{className:"border px-4 py-2",children:L+1}),Object.values(V).map((U,D)=>k.jsx("td",{className:"border px-4 py-2",children:U},D))]},L))})]})]})]})]})})},K3=({onClose:e})=>{const{canvasID:t,canvasName:n,saveCanvas:o,deleteCanvas:s,createNewCanvas:a}=Du(),{backend:u,handleUserLogin:c,userID:f,admins:h,loginStatus:p}=Pn(),{canvasToObject:m}=Mu(),[g,v]=N.useState(""),[w,S]=N.useState(""),[E,C]=N.useState([]),[T,b]=N.useState(!1),[_,M]=N.useState(!1);N.useEffect(()=>{Y()},[f,n,t]);const $=async()=>{if(M(!0),!t||!f){console.error("No canvas to save.");return}try{console.log("sidebar is calling save canvas"),await o(m(),t,n)}catch(q){console.error("Error saving canvas:",q)}Y(),M(!1)},I=async()=>{if(f)try{a(f)}catch(q){console.error("Sidebar failed to create new canvas:",q)}else{console.error("You have to log in before you can create a new canvas.");return}},z=async q=>{q.preventDefault(),S("");try{await c(g,"")}catch(J){console.error("Error logging in user:",J),S("Something went wrong.")}},K=()=>{window.confirm("Are you sure you want to log out? (You may lose unsaved changes)")&&(window.location.href="/",localStorage.removeItem("last_userID"),localStorage.removeItem("last_password"),c("",""))},Y=async()=>{if(!(!f||f==="default"))try{console.log("Refreshing canvases...");const J=await(await fetch(`${u}/api/list-canvases/${f}`)).json();if(!J.success){S("Error fetching canvases.");return}C(J.canvases)}catch(q){console.error("Error refreshing canvasList:",q),S("Something went wrong.")}},ee=async q=>{if(q===t){alert("You can't delete the canvas you're currently working on!");return}window.confirm("Are you sure you want to delete this canvas?")&&(await s(q),Y())};return k.jsxs("div",{className:"fixed top-0 left-0 w-64 h-full bg-gray-800 text-white p-4 z-40",children:[k.jsx("button",{onClick:e,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Close"}),(!f||f==="default")&&k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Enter UserID"}),k.jsxs("form",{onSubmit:z,className:"mb-4",children:[k.jsx("input",{type:"text",value:g,onChange:q=>v(q.target.value),placeholder:"enter userID:",className:"w-full p-2 border rounded text-black"}),k.jsx("button",{type:"submit",className:"mt-2 w-full bg-blue-500 text-white p-2 rounded",children:"Submit"})]}),k.jsx("p",{className:"text-red-500",children:w})]}),f&&p==="logged in"&&k.jsxs(k.Fragment,{children:[k.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Hi, ",f,"!"]}),k.jsx(ft.button,{onClick:$,className:`mt-2 w-full text-white p-2 rounded ${_?"bg-stone-600":"bg-stone-500"}`,animate:{y:_?[0,-2,0]:0},transition:{duration:.5,ease:"easeInOut",repeat:_?1/0:0},children:_?"Saving...":`Save this canvas (${n})`}),k.jsx("button",{onClick:I,className:"w-full text-center text-left bg-gray-700 hover:bg-gray-600 p-2 rounded",children:"+ Start New Canvas"}),k.jsxs("div",{className:"flex items-center justify-between mt-2",children:[k.jsx("h3",{className:"text-md font-semibold",children:"Your Canvases:"}),k.jsx("button",{onClick:Y,className:"text-white p-2 rounded",children:""}),k.jsx("button",{onClick:()=>b(!T),className:"text-white p-2 rounded",children:""})]}),k.jsx("ul",{className:"mt-2",children:E&&E.length>0?E.map(q=>k.jsxs("li",{className:"mt-1 flex items-center",children:[k.jsxs(ft.button,{onClick:()=>{window.location.href=`/?user=${f}&canvas=${q.canvasId}`},className:`w-full text-left p-2 rounded ${q.canvasId===t?"bg-stone-500":T?"bg-gray-700":"bg-gray-700 hover:bg-gray-600"}`,disabled:T||q.canvasId===t,animate:T&&q.canvasId!=t?{rotate:[0,-1,1,0]}:{},transition:{duration:.3,repeat:T?1/0:0},children:[q.canvasName," ",q.canvasId===t&&"(current canvas)"]}),T&&q.canvasId!=t&&k.jsx("button",{onClick:()=>ee(q.canvasId),className:"ml-2 text-red-500 hover:text-red-700",children:""})]},q.canvasId)):k.jsx("p",{className:"text-gray-400",children:"No canvases yet."})}),k.jsx("button",{onClick:K,className:"mt-4 w-full bg-red-500 text-white p-2 rounded",children:"Log Out"})]}),f&&h.includes(f)&&k.jsxs("div",{className:"mt-4 p-4 bg-black rounded",children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Admin Controls"}),k.jsx("button",{onClick:()=>window.location.href="/admin",className:"w-full bg-blue-500 text-white p-2 rounded mt-2",children:"Go to Admin Page"})]})]})},Y3=({data:e,type:t,removeNode:n})=>{const{setDraggableType:o,setDraggableData:s}=si(),[a,u]=N.useState(!1),{userID:c,admins:f}=Pn(),[h,p]=N.useState(!1),m=v=>{v.dataTransfer.effectAllowed="move",o(t),s(e)},g=async()=>{try{const v=e.content,w=await fetch(v);if(!w.ok)throw new Error("Failed to fetch the image.");const S=await w.blob(),E=URL.createObjectURL(S),C=document.createElement("a");C.href=E,C.download=`${e.prompt}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(E)}catch(v){console.error("Error downloading image:",v)}};return k.jsx("div",{className:"border border-gray-600 rounded-md p-2 cursor-grab hover:bg-gray-50 hover:shadow-sm transition-all text-sm relative",draggable:!0,onDragStart:m,style:{width:"100%"},onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),p(!1)},onClick:()=>p(!h),children:t==="text"?k.jsxs(ft.div,{className:"relative pr-2.5",style:{textOverflow:"ellipsis",overflow:"hidden"},animate:{height:a?"auto":"20px"},transition:{duration:.35},children:[e.content,k.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:v=>{v.stopPropagation(),n(e.id)},children:""})]}):k.jsxs("div",{className:"relative",children:[k.jsxs(ft.div,{className:`max-h-${a?"full":"60"} overflow-hidden relative`,style:{height:a?"auto":"60px"},animate:{height:a?"auto":"60px"},transition:{duration:.35},children:[k.jsx("img",{src:e.content,alt:e.prompt,className:"rounded-md object-cover w-full h-full"}),k.jsxs("div",{className:`absolute bottom-0 left-0 w-full h-full bg-white bg-opacity-50 
               text-gray-800 text-md uppercase text-center p-1 
               ${h?"opacity-100":"opacity-0"} 
               transition-opacity duration-300 font-bold italic 
               leading-tight flex flex-col items-center justify-center`,style:{zIndex:10,visibility:h?"visible":"hidden"},children:[k.jsx("span",{children:e.prompt.length>40?`${e.prompt.substring(0,40)}...`:e.prompt}),k.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),g()},className:"bg-gray-800 text-white px-2 py-1 rounded-md text-sm mt-2",children:k.jsx(x3,{size:16})})]})]}),k.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:v=>{v.stopPropagation(),n(e.id)},children:""}),c&&f.includes(c)&&k.jsx("button",{type:"button",className:"absolute top-1 left-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:v=>{v.stopPropagation(),console.log(e)},children:"data"})]})})},X3=()=>{const{removeNode:e,activeTab:t,setActiveTab:n,clippedNodes:o=[]}=Nh();N.useEffect(()=>{o.length>0&&n(o[o.length-1].type)},[o,n]);const s=u=>{e(u)},a=o.filter(u=>u.type===t);return k.jsxs("div",{className:"p-4 h-[100%] rounded-md flex flex-col",children:[k.jsx("div",{className:"flex space-x-2 mb-4 sticky top-0 bg-white z-10",children:["text","image"].map(u=>k.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===u?"bg-gray-800 text-white":"bg-gray-200 text-gray-600"}`,onClick:()=>n(u),type:"button",children:u.charAt(0).toUpperCase()+u.slice(1)},u))}),k.jsx("div",{className:"space-y-3 overflow-y-scroll flex-grow",children:a.map((u,c)=>k.jsx("div",{className:"relative",children:k.jsx(Y3,{data:u,type:t,removeNode:()=>s(u.id)})},c))})]})},q3=({toggleSidebar:e})=>{const{canvasID:t,canvasName:n,setCanvasName:o,saveCanvas:s,lastSaved:a}=Du(),{loginStatus:u}=Pn(),{canvasToObject:c}=Mu(),[f,h]=N.useState(!1),[p,m]=N.useState(n),[g,v]=N.useState("Never"),w=async()=>{h(!1),p.trim()!==""&&p!==n?o(p):m(n);const S=c();console.log("title bar is saving the canvas."),s(S,t,n)};return N.useEffect(()=>{u=="logged in"&&m(n)},[n]),N.useEffect(()=>{v(a?new Date(a).toLocaleString("en-US",{timeZone:"PST",dateStyle:"short",timeStyle:"medium"}):"Never")},[a]),k.jsxs("div",{className:"w-full flex items-center justify-between bg-gray-900 text-white px-4 py-2 shadow-md",children:[k.jsx("button",{onClick:e,className:"p-2",children:k.jsx(C3,{size:24})}),k.jsx("h1",{className:"text-lg font-semibold text-blue-400",children:"ArtiFactor"}),u==="logged in"&&k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("div",{className:"flex items-center",children:[f?k.jsx("input",{type:"text",value:p,onChange:S=>m(S.target.value),onBlur:w,onKeyDown:S=>S.key==="Enter"&&w(),autoFocus:!0,className:"bg-gray-800 text-white px-2 py-1 border border-gray-700 rounded"}):k.jsx("span",{className:"text-white cursor-pointer",onClick:()=>h(!0),children:n}),k.jsx(T3,{size:16,className:"ml-2 cursor-pointer",onClick:()=>h(!0)})]}),k.jsxs("span",{className:"text-sm text-gray-400",children:["Last saved: ",g]})]})]})},G3="https://snailbunny.site";function Q3(){const[e,t]=N.useState(!1),n=()=>{t(o=>!o)};return k.jsx(LD,{backend:G3,children:k.jsx(D3,{children:k.jsx(M3,{children:k.jsx(ID,{children:k.jsxs("div",{className:"relative h-screen w-screen overflow-hidden",children:[k.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-800 text-white w-64 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-64"}`,style:{zIndex:50,overflow:"hidden"},children:k.jsx(K3,{onClose:n})}),k.jsx("div",{className:"fixed top-0 left-0 w-full h-12 bg-gray-800 text-white transition-transform duration-300",style:{overflow:"hidden"},children:k.jsx(q3,{toggleSidebar:n})}),k.jsx(pw,{children:k.jsx($D,{children:k.jsxs(bR,{children:[k.jsx(Rl,{path:"/about",element:k.jsx("div",{className:"flex bottom-0 bg-red",style:{height:"calc(100vh - 100px)",marginTop:"50px",padding:"10px",overflow:"scroll",background:"red"},children:k.jsx(H3,{})})}),k.jsx(Rl,{path:"/admin",element:k.jsx(W3,{})}),k.jsx(Rl,{path:"/",element:k.jsxs("div",{className:"flex fixed",style:{height:"calc(100vh - 80px)",marginTop:"24px",overflow:"hidden"},children:[k.jsx("div",{className:"border border-gray-500",style:{height:"100%",width:"75vw",margin:0,padding:0,overflow:"hidden"},children:k.jsx(U3,{})}),k.jsx("div",{className:"border border-gray-500 ml-5 rounded-lg",style:{height:"100%",width:"21vw",margin:0,marginRight:10,zIndex:3,overflow:"hidden"},children:k.jsx(X3,{})})]})})]})})})]})})})})})}function Z3(){return k.jsx(GR,{children:k.jsx(Q3,{})})}AC.createRoot(document.getElementById("root")).render(k.jsx(k.Fragment,{children:k.jsxs(th.StrictMode,{children:[" ",k.jsx(zC,{}),k.jsx(Z3,{})]})}));
