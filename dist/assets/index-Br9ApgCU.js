(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ug={exports:{}},sd={},Hg={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function jk(){if(Vv)return at;Vv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function N(V,J,ge){this.props=V,this.context=J,this.refs=T,this.updater=ge||S}N.prototype.isReactComponent={},N.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},N.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function C(){}C.prototype=N.prototype;function M(V,J,ge){this.props=V,this.context=J,this.refs=T,this.updater=ge||S}var A=M.prototype=new C;A.constructor=M,_(A,N.prototype),A.isPureReactComponent=!0;var L=Array.isArray,B=Object.prototype.hasOwnProperty,X={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function z(V,J,ge){var ye,we={},ve=null,_e=null;if(J!=null)for(ye in J.ref!==void 0&&(_e=J.ref),J.key!==void 0&&(ve=""+J.key),J)B.call(J,ye)&&!O.hasOwnProperty(ye)&&(we[ye]=J[ye]);var ke=arguments.length-2;if(ke===1)we.children=ge;else if(1<ke){for(var Re=Array(ke),We=0;We<ke;We++)Re[We]=arguments[We+2];we.children=Re}if(V&&V.defaultProps)for(ye in ke=V.defaultProps,ke)we[ye]===void 0&&(we[ye]=ke[ye]);return{$$typeof:e,type:V,key:ve,ref:_e,props:we,_owner:X.current}}function q(V,J){return{$$typeof:e,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function ee(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function fe(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return J[ge]})}var se=/\/+/g;function ue(V,J){return typeof V=="object"&&V!==null&&V.key!=null?fe(""+V.key):J.toString(36)}function $(V,J,ge,ye,we){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(ve){case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case e:case t:_e=!0}}if(_e)return _e=V,we=we(_e),V=ye===""?"."+ue(_e,0):ye,L(we)?(ge="",V!=null&&(ge=V.replace(se,"$&/")+"/"),$(we,J,ge,"",function(We){return We})):we!=null&&(ee(we)&&(we=q(we,ge+(!we.key||_e&&_e.key===we.key?"":(""+we.key).replace(se,"$&/")+"/")+V)),J.push(we)),1;if(_e=0,ye=ye===""?".":ye+":",L(V))for(var ke=0;ke<V.length;ke++){ve=V[ke];var Re=ye+ue(ve,ke);_e+=$(ve,J,ge,Re,we)}else if(Re=v(V),typeof Re=="function")for(V=Re.call(V),ke=0;!(ve=V.next()).done;)ve=ve.value,Re=ye+ue(ve,ke++),_e+=$(ve,J,ge,Re,we);else if(ve==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return _e}function ne(V,J,ge){if(V==null)return V;var ye=[],we=0;return $(V,ye,"","",function(ve){return J.call(ge,ve,we++)}),ye}function Y(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var H={current:null},F={transition:null},K={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:F,ReactCurrentOwner:X};function G(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:ne,forEach:function(V,J,ge){ne(V,function(){J.apply(this,arguments)},ge)},count:function(V){var J=0;return ne(V,function(){J++}),J},toArray:function(V){return ne(V,function(J){return J})||[]},only:function(V){if(!ee(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},at.Component=N,at.Fragment=n,at.Profiler=a,at.PureComponent=M,at.StrictMode=o,at.Suspense=h,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,at.act=G,at.cloneElement=function(V,J,ge){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ye=_({},V.props),we=V.key,ve=V.ref,_e=V._owner;if(J!=null){if(J.ref!==void 0&&(ve=J.ref,_e=X.current),J.key!==void 0&&(we=""+J.key),V.type&&V.type.defaultProps)var ke=V.type.defaultProps;for(Re in J)B.call(J,Re)&&!O.hasOwnProperty(Re)&&(ye[Re]=J[Re]===void 0&&ke!==void 0?ke[Re]:J[Re])}var Re=arguments.length-2;if(Re===1)ye.children=ge;else if(1<Re){ke=Array(Re);for(var We=0;We<Re;We++)ke[We]=arguments[We+2];ye.children=ke}return{$$typeof:e,type:V.type,key:we,ref:ve,props:ye,_owner:_e}},at.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},at.createElement=z,at.createFactory=function(V){var J=z.bind(null,V);return J.type=V,J},at.createRef=function(){return{current:null}},at.forwardRef=function(V){return{$$typeof:d,render:V}},at.isValidElement=ee,at.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:Y}},at.memo=function(V,J){return{$$typeof:m,type:V,compare:J===void 0?null:J}},at.startTransition=function(V){var J=F.transition;F.transition={};try{V()}finally{F.transition=J}},at.unstable_act=G,at.useCallback=function(V,J){return H.current.useCallback(V,J)},at.useContext=function(V){return H.current.useContext(V)},at.useDebugValue=function(){},at.useDeferredValue=function(V){return H.current.useDeferredValue(V)},at.useEffect=function(V,J){return H.current.useEffect(V,J)},at.useId=function(){return H.current.useId()},at.useImperativeHandle=function(V,J,ge){return H.current.useImperativeHandle(V,J,ge)},at.useInsertionEffect=function(V,J){return H.current.useInsertionEffect(V,J)},at.useLayoutEffect=function(V,J){return H.current.useLayoutEffect(V,J)},at.useMemo=function(V,J){return H.current.useMemo(V,J)},at.useReducer=function(V,J,ge){return H.current.useReducer(V,J,ge)},at.useRef=function(V){return H.current.useRef(V)},at.useState=function(V){return H.current.useState(V)},at.useSyncExternalStore=function(V,J,ge){return H.current.useSyncExternalStore(V,J,ge)},at.useTransition=function(){return H.current.useTransition()},at.version="18.3.1",at}var Bv;function Wd(){return Bv||(Bv=1,Hg.exports=jk()),Hg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Ok(){if(zv)return sd;zv=1;var e=Wd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var y,x={},v=null,S=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(S=h.ref);for(y in h)o.call(h,y)&&!u.hasOwnProperty(y)&&(x[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:t,type:d,key:v,ref:S,props:x,_owner:a.current}}return sd.Fragment=n,sd.jsx=c,sd.jsxs=c,sd}var Uv;function $k(){return Uv||(Uv=1,Ug.exports=Ok()),Ug.exports}var k=$k(),P=Wd();const vy=yy(P);var Ep={},Wg={exports:{}},_r={},Kg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Fk(){return Hv||(Hv=1,function(e){function t(F,K){var G=F.length;F.push(K);e:for(;0<G;){var V=G-1>>>1,J=F[V];if(0<a(J,K))F[V]=K,F[G]=J,G=V;else break e}}function n(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var K=F[0],G=F.pop();if(G!==K){F[0]=G;e:for(var V=0,J=F.length,ge=J>>>1;V<ge;){var ye=2*(V+1)-1,we=F[ye],ve=ye+1,_e=F[ve];if(0>a(we,G))ve<J&&0>a(_e,we)?(F[V]=_e,F[ve]=G,V=ve):(F[V]=we,F[ye]=G,V=ye);else if(ve<J&&0>a(_e,G))F[V]=_e,F[ve]=G,V=ve;else break e}}return K}function a(F,K){var G=F.sortIndex-K.sortIndex;return G!==0?G:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],m=[],y=1,x=null,v=3,S=!1,_=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var K=n(m);K!==null;){if(K.callback===null)o(m);else if(K.startTime<=F)o(m),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(m)}}function L(F){if(T=!1,A(F),!_)if(n(h)!==null)_=!0,Y(B);else{var K=n(m);K!==null&&H(L,K.startTime-F)}}function B(F,K){_=!1,T&&(T=!1,C(z),z=-1),S=!0;var G=v;try{for(A(K),x=n(h);x!==null&&(!(x.expirationTime>K)||F&&!fe());){var V=x.callback;if(typeof V=="function"){x.callback=null,v=x.priorityLevel;var J=V(x.expirationTime<=K);K=e.unstable_now(),typeof J=="function"?x.callback=J:x===n(h)&&o(h),A(K)}else o(h);x=n(h)}if(x!==null)var ge=!0;else{var ye=n(m);ye!==null&&H(L,ye.startTime-K),ge=!1}return ge}finally{x=null,v=G,S=!1}}var X=!1,O=null,z=-1,q=5,ee=-1;function fe(){return!(e.unstable_now()-ee<q)}function se(){if(O!==null){var F=e.unstable_now();ee=F;var K=!0;try{K=O(!0,F)}finally{K?ue():(X=!1,O=null)}}else X=!1}var ue;if(typeof M=="function")ue=function(){M(se)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=se,ue=function(){ne.postMessage(null)}}else ue=function(){N(se,0)};function Y(F){O=F,X||(X=!0,ue())}function H(F,K){z=N(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){_||S||(_=!0,Y(B))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var G=v;v=K;try{return F()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=v;v=F;try{return K()}finally{v=G}},e.unstable_scheduleCallback=function(F,K,G){var V=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?V+G:V):G=V,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,F={id:y++,callback:K,priorityLevel:F,startTime:G,expirationTime:J,sortIndex:-1},G>V?(F.sortIndex=G,t(m,F),n(h)===null&&F===n(m)&&(T?(C(z),z=-1):T=!0,H(L,G-V))):(F.sortIndex=J,t(h,F),_||S||(_=!0,Y(B))),F},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(F){var K=v;return function(){var G=v;v=K;try{return F.apply(this,arguments)}finally{v=G}}}}(Yg)),Yg}var Wv;function Vk(){return Wv||(Wv=1,Kg.exports=Fk()),Kg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Bk(){if(Kv)return _r;Kv=1;var e=Wd(),t=Vk();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)o.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function v(r){return h.call(x,r)?!0:h.call(y,r)?!1:m.test(r)?x[r]=!0:(y[r]=!0,!1)}function S(r,i,f,p){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:f!==null?!f.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,f,p){if(i===null||typeof i>"u"||S(r,i,f,p))return!0;if(p)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(r,i,f,p,w,E,D){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=r,this.type=i,this.sanitizeURL=E,this.removeEmptyString=D}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new T(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];N[i]=new T(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new T(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new T(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new T(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new T(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new T(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new T(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new T(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,M);N[i]=new T(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new T(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new T(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,i,f,p){var w=N.hasOwnProperty(i)?N[i]:null;(w!==null?w.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,f,w,p)&&(f=null),p||w===null?v(i)&&(f===null?r.removeAttribute(i):r.setAttribute(i,""+f)):w.mustUseProperty?r[w.propertyName]=f===null?w.type===3?!1:"":f:(i=w.attributeName,p=w.attributeNamespace,f===null?r.removeAttribute(i):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,p?r.setAttributeNS(p,i,f):r.setAttribute(i,f))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),X=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),fe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,V;function J(r){if(V===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var ge=!1;function ye(r,i){if(!r||ge)return"";ge=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var p=ce}Reflect.construct(r,[],i)}else{try{i.call()}catch(ce){p=ce}r.call(i.prototype)}else{try{throw Error()}catch(ce){p=ce}r()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var w=ce.stack.split(`
`),E=p.stack.split(`
`),D=w.length-1,U=E.length-1;1<=D&&0<=U&&w[D]!==E[U];)U--;for(;1<=D&&0<=U;D--,U--)if(w[D]!==E[U]){if(D!==1||U!==1)do if(D--,U--,0>U||w[D]!==E[U]){var Q=`
`+w[D].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=D&&0<=U);break}}}finally{ge=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?J(r):""}function we(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case X:return"Portal";case q:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case $:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fe:return(r.displayName||"Context")+".Consumer";case ee:return(r._context.displayName||"Context")+".Provider";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ne:return i=r.displayName||null,i!==null?i:ve(r.type)||"Memo";case Y:i=r._payload,r=r._init;try{return ve(r(i))}catch{}}return null}function _e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function We(r){var i=Re(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),p=""+r[i];if(!r.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,E=f.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return w.call(this)},set:function(D){p=""+D,E.call(this,D)}}),Object.defineProperty(r,i,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ye(r){r._valueTracker||(r._valueTracker=We(r))}function Ne(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var f=i.getValue(),p="";return r&&(p=Re(r)?r.checked?"true":"false":r.value),r=p,r!==f?(i.setValue(r),!0):!1}function Pe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ue(r,i){var f=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??r._wrapperState.initialChecked})}function nt(r,i){var f=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;f=ke(i.value!=null?i.value:f),r._wrapperState={initialChecked:p,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Et(r,i){i=i.checked,i!=null&&A(r,"checked",i,!1)}function cn(r,i){Et(r,i);var f=ke(i.value),p=i.type;if(f!=null)p==="number"?(f===0&&r.value===""||r.value!=f)&&(r.value=""+f):r.value!==""+f&&(r.value=""+f);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?or(r,i.type,f):i.hasOwnProperty("defaultValue")&&or(r,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function li(r,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,f||i===r.value||(r.value=i),r.defaultValue=i}f=r.name,f!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,f!==""&&(r.name=f)}function or(r,i,f){(i!=="number"||Pe(r.ownerDocument)!==r)&&(f==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+f&&(r.defaultValue=""+f))}var $e=Array.isArray;function be(r,i,f,p){if(r=r.options,i){i={};for(var w=0;w<f.length;w++)i["$"+f[w]]=!0;for(f=0;f<r.length;f++)w=i.hasOwnProperty("$"+r[f].value),r[f].selected!==w&&(r[f].selected=w),w&&p&&(r[f].defaultSelected=!0)}else{for(f=""+ke(f),i=null,w=0;w<r.length;w++){if(r[w].value===f){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}i!==null||r[w].disabled||(i=r[w])}i!==null&&(i.selected=!0)}}function Ze(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ke(r,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(n(92));if($e(f)){if(1<f.length)throw Error(n(93));f=f[0]}i=f}i==null&&(i=""),f=i}r._wrapperState={initialValue:ke(f)}}function yt(r,i){var f=ke(i.value),p=ke(i.defaultValue);f!=null&&(f=""+f,f!==r.value&&(r.value=f),i.defaultValue==null&&r.defaultValue!==f&&(r.defaultValue=f)),p!=null&&(r.defaultValue=""+p)}function St(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var bt,Yt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,p,w){MSApp.execUnsafeLocalFunction(function(){return r(i,f,p,w)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=bt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function sn(r,i){if(i){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=i;return}}r.textContent=i}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ua=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(r){ua.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),kn[i]=kn[r]})});function cs(r,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||kn.hasOwnProperty(r)&&kn[r]?(""+i).trim():i+"px"}function fs(r,i){r=r.style;for(var f in i)if(i.hasOwnProperty(f)){var p=f.indexOf("--")===0,w=cs(f,i[f],p);f==="float"&&(f="cssFloat"),p?r.setProperty(f,w):r[f]=w}}var ca=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(r,i){if(i){if(ca[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function yo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=null;function da(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ha=null,ui=null,ci=null;function Tl(r){if(r=vn(r)){if(typeof ha!="function")throw Error(n(280));var i=r.stateNode;i&&(i=hu(i),ha(r.stateNode,r.type,i))}}function pa(r){ui?ci?ci.push(r):ci=[r]:ui=r}function Nl(){if(ui){var r=ui,i=ci;if(ci=ui=null,Tl(r),i)for(r=0;r<i.length;r++)Tl(i[r])}}function Pl(r,i){return r(i)}function ma(){}var ga=!1;function Al(r,i,f){if(ga)return r(i,f);ga=!0;try{return Pl(r,i,f)}finally{ga=!1,(ui!==null||ci!==null)&&(ma(),Nl())}}function vo(r,i){var f=r.stateNode;if(f===null)return null;var p=hu(f);if(p===null)return null;f=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(n(231,i,typeof f));return f}var xo=!1;if(d)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){xo=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{xo=!1}function ya(r,i,f,p,w,E,D,U,Q){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(f,ce)}catch(Se){this.onError(Se)}}var So=!1,ds=null,hs=!1,va=null,Ic={onError:function(r){So=!0,ds=r}};function Lc(r,i,f,p,w,E,D,U,Q){So=!1,ds=null,ya.apply(Ic,arguments)}function Rl(r,i,f,p,w,E,D,U,Q){if(Lc.apply(this,arguments),So){if(So){var ce=ds;So=!1,ds=null}else throw Error(n(198));hs||(hs=!0,va=ce)}}function Ur(r){var i=r,f=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(f=i.return),r=i.return;while(r)}return i.tag===3?f:null}function xa(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Dl(r){if(Ur(r)!==r)throw Error(n(188))}function jc(r){var i=r.alternate;if(!i){if(i=Ur(r),i===null)throw Error(n(188));return i!==r?null:r}for(var f=r,p=i;;){var w=f.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){f=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===f)return Dl(w),r;if(E===p)return Dl(w),i;E=E.sibling}throw Error(n(188))}if(f.return!==p.return)f=w,p=E;else{for(var D=!1,U=w.child;U;){if(U===f){D=!0,f=w,p=E;break}if(U===p){D=!0,p=w,f=E;break}U=U.sibling}if(!D){for(U=E.child;U;){if(U===f){D=!0,f=E,p=w;break}if(U===p){D=!0,p=E,f=w;break}U=U.sibling}if(!D)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?r:i}function Ml(r){return r=jc(r),r!==null?Il(r):null}function Il(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Il(r);if(i!==null)return i;r=r.sibling}return null}var Ll=t.unstable_scheduleCallback,jl=t.unstable_cancelCallback,_o=t.unstable_shouldYield,Oc=t.unstable_requestPaint,Ct=t.unstable_now,$c=t.unstable_getCurrentPriorityLevel,wa=t.unstable_ImmediatePriority,Ol=t.unstable_UserBlockingPriority,Eo=t.unstable_NormalPriority,$l=t.unstable_LowPriority,ps=t.unstable_IdlePriority,ms=null,sr=null;function Fc(r){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:Bl,Fl=Math.log,Vl=Math.LN2;function Bl(r){return r>>>=0,r===0?32:31-(Fl(r)/Vl|0)|0}var kr=64,gs=4194304;function ji(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Tr(r,i){var f=r.pendingLanes;if(f===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,D=f&268435455;if(D!==0){var U=D&~w;U!==0?p=ji(U):(E&=D,E!==0&&(p=ji(E)))}else D=f&~w,D!==0?p=ji(D):E!==0&&(p=ji(E));if(p===0)return 0;if(i!==0&&i!==p&&(i&w)===0&&(w=p&-p,E=i&-i,w>=E||w===16&&(E&4194240)!==0))return i;if((p&4)!==0&&(p|=f&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=p;0<i;)f=31-qn(i),w=1<<f,p|=r[f],i&=~w;return p}function zl(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(r,i){for(var f=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var D=31-qn(E),U=1<<D,Q=w[D];Q===-1?((U&f)===0||(U&p)!==0)&&(w[D]=zl(U,i)):Q<=i&&(r.expiredLanes|=U),E&=~U}}function bo(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bc(){var r=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),r}function Sa(r){for(var i=[],f=0;31>f;f++)i.push(r);return i}function _a(r,i,f){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qn(i),r[i]=f}function oh(r,i){var f=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<f;){var w=31-qn(f),E=1<<w;i[w]=0,p[w]=-1,r[w]=-1,f&=~E}}function Ea(r,i){var f=r.entangledLanes|=i;for(r=r.entanglements;f;){var p=31-qn(f),w=1<<p;w&i|r[p]&i&&(r[p]|=i),f&=~w}}var mt=0;function Co(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var zc,Ul,sh,Uc,Hc,Hl=!1,ba=[],Oi=null,$i=null,Fi=null,ys=new Map,Ca=new Map,Vi=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ah(r,i){switch(r){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":ys.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(i.pointerId)}}function ko(r,i,f,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:i,domEventName:f,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},i!==null&&(i=vn(i),i!==null&&Ul(i)),r):(r.eventSystemFlags|=p,i=r.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),r)}function Xm(r,i,f,p,w){switch(i){case"focusin":return Oi=ko(Oi,r,i,f,p,w),!0;case"dragenter":return $i=ko($i,r,i,f,p,w),!0;case"mouseover":return Fi=ko(Fi,r,i,f,p,w),!0;case"pointerover":var E=w.pointerId;return ys.set(E,ko(ys.get(E)||null,r,i,f,p,w)),!0;case"gotpointercapture":return E=w.pointerId,Ca.set(E,ko(Ca.get(E)||null,r,i,f,p,w)),!0}return!1}function lh(r){var i=Yr(r.target);if(i!==null){var f=Ur(i);if(f!==null){if(i=f.tag,i===13){if(i=xa(f),i!==null){r.blockedOn=i,Hc(r.priority,function(){sh(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Wl(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var f=Xl(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(f===null){f=r.nativeEvent;var p=new f.constructor(f.type,f);fa=p,f.target.dispatchEvent(p),fa=null}else return i=vn(f),i!==null&&Ul(i),r.blockedOn=f,!1;i.shift()}return!0}function uh(r,i,f){Wl(r)&&f.delete(i)}function qm(){Hl=!1,Oi!==null&&Wl(Oi)&&(Oi=null),$i!==null&&Wl($i)&&($i=null),Fi!==null&&Wl(Fi)&&(Fi=null),ys.forEach(uh),Ca.forEach(uh)}function vt(r,i){r.blockedOn===i&&(r.blockedOn=null,Hl||(Hl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qm)))}function gt(r){function i(w){return vt(w,r)}if(0<ba.length){vt(ba[0],r);for(var f=1;f<ba.length;f++){var p=ba[f];p.blockedOn===r&&(p.blockedOn=null)}}for(Oi!==null&&vt(Oi,r),$i!==null&&vt($i,r),Fi!==null&&vt(Fi,r),ys.forEach(i),Ca.forEach(i),f=0;f<Vi.length;f++)p=Vi[f],p.blockedOn===r&&(p.blockedOn=null);for(;0<Vi.length&&(f=Vi[0],f.blockedOn===null);)lh(f),f.blockedOn===null&&Vi.shift()}var vs=L.ReactCurrentBatchConfig,Kl=!0;function Gm(r,i,f,p){var w=mt,E=vs.transition;vs.transition=null;try{mt=1,Wc(r,i,f,p)}finally{mt=w,vs.transition=E}}function Qm(r,i,f,p){var w=mt,E=vs.transition;vs.transition=null;try{mt=4,Wc(r,i,f,p)}finally{mt=w,vs.transition=E}}function Wc(r,i,f,p){if(Kl){var w=Xl(r,i,f,p);if(w===null)uf(r,i,p,Yl,f),ah(r,p);else if(Xm(w,r,i,f,p))p.stopPropagation();else if(ah(r,p),i&4&&-1<Ym.indexOf(r)){for(;w!==null;){var E=vn(w);if(E!==null&&zc(E),E=Xl(r,i,f,p),E===null&&uf(r,i,p,Yl,f),E===w)break;w=E}w!==null&&p.stopPropagation()}else uf(r,i,p,null,f)}}var Yl=null;function Xl(r,i,f,p){if(Yl=null,r=da(p),r=Yr(r),r!==null)if(i=Ur(r),i===null)r=null;else if(f=i.tag,f===13){if(r=xa(i),r!==null)return r;r=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Yl=r,null}function ch(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($c()){case wa:return 1;case Ol:return 4;case Eo:case $l:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Rt=null,ka=null,Hr=null;function Kc(){if(Hr)return Hr;var r,i=ka,f=i.length,p,w="value"in Rt?Rt.value:Rt.textContent,E=w.length;for(r=0;r<f&&i[r]===w[r];r++);var D=f-r;for(p=1;p<=D&&i[f-p]===w[E-p];p++);return Hr=w.slice(r,1<p?1-p:void 0)}function xs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Tn(){return!0}function Yc(){return!1}function On(r){function i(f,p,w,E,D){this._reactName=f,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(f=r[U],this[U]=f?f(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Tn:Yc,this.isPropagationStopped=Yc,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),i}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=On(To),ws=G({},To,{view:0,detail:0}),fh=On(ws),Nn,Xc,gn,Gl=G({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gn&&(gn&&r.type==="mousemove"?(Nn=r.screenX-gn.screenX,Xc=r.screenY-gn.screenY):Xc=Nn=0,gn=r),Nn)},movementY:function(r){return"movementY"in r?r.movementY:Xc}}),qc=On(Gl),Bi=G({},Gl,{dataTransfer:0}),Ql=On(Bi),Gc=G({},ws,{relatedTarget:0}),kt=On(Gc),zi=G({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=On(zi),Zm=G({},To,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zc=On(Zm),Jm=G({},To,{data:0}),dh=On(Jm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Zl[r])?!!i[r]:!1}function Jc(){return Ss}var ph=G({},ws,{key:function(r){if(r.key){var i=eg[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=xs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(r){return r.type==="keypress"?xs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?xs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mh=On(ph),ef=G({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=On(ef),gh=G({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),tg=On(gh),tf=G({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),nf=On(tf),ng=G({},Gl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=On(ng),Gn=[9,13,27,32],Ta=d&&"CompositionEvent"in window,fi=null;d&&"documentMode"in document&&(fi=document.documentMode);var vh=d&&"TextEvent"in window&&!fi,rf=d&&(!Ta||fi&&8<fi&&11>=fi),xh=" ",wh=!1;function Sh(r,i){switch(r){case"keyup":return Gn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _s=!1;function Es(r,i){switch(r){case"compositionend":return _h(i);case"keypress":return i.which!==32?null:(wh=!0,xh);case"textInput":return r=i.data,r===xh&&wh?null:r;default:return null}}function rg(r,i){if(_s)return r==="compositionend"||!Ta&&Sh(r,i)?(r=Kc(),Hr=ka=Rt=null,_s=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rf&&i.locale!=="ko"?null:i.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ig[r.type]:i==="textarea"}function of(r,i,f,p){pa(p),i=uu(i,"onChange"),0<i.length&&(f=new ql("onChange","change",null,f,p),r.push({event:f,listeners:i}))}var ar=null,Ui=null;function og(r){Ph(r,0)}function tu(r){var i=et(r);if(Ne(i))return r}function sg(r,i){if(r==="change")return i}var No=!1;if(d){var Qn;if(d){var nu="oninput"in document;if(!nu){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),nu=typeof Eh.oninput=="function"}Qn=nu}else Qn=!1;No=Qn&&(!document.documentMode||9<document.documentMode)}function bh(){ar&&(ar.detachEvent("onpropertychange",Ch),Ui=ar=null)}function Ch(r){if(r.propertyName==="value"&&tu(Ui)){var i=[];of(i,Ui,r,da(r)),Al(og,i)}}function ag(r,i,f){r==="focusin"?(bh(),ar=i,Ui=f,ar.attachEvent("onpropertychange",Ch)):r==="focusout"&&bh()}function lg(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tu(Ui)}function bs(r,i){if(r==="click")return tu(i)}function re(r,i){if(r==="input"||r==="change")return tu(i)}function he(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var le=typeof Object.is=="function"?Object.is:he;function De(r,i){if(le(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var f=Object.keys(r),p=Object.keys(i);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var w=f[p];if(!h.call(i,w)||!le(r[w],i[w]))return!1}return!0}function Je(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dt(r,i){var f=Je(r);r=0;for(var p;f;){if(f.nodeType===3){if(p=r+f.textContent.length,r<=i&&p>=i)return{node:f,offset:i-r};r=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Je(f)}}function Xt(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Xt(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function xt(){for(var r=window,i=Pe();i instanceof r.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)r=i.contentWindow;else break;i=Pe(r.document)}return i}function Na(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function ug(r){var i=xt(),f=r.focusedElem,p=r.selectionRange;if(i!==f&&f&&f.ownerDocument&&Xt(f.ownerDocument.documentElement,f)){if(p!==null&&Na(f)){if(i=p.start,r=p.end,r===void 0&&(r=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(r,f.value.length);else if(r=(i=f.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var w=f.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=dt(f,E);var D=dt(f,p);w&&D&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==D.node||r.focusOffset!==D.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(i),r.extend(D.node,D.offset)):(i.setEnd(D.node,D.offset),r.addRange(i)))}}for(i=[],r=f;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)r=i[f],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lr=d&&"documentMode"in document&&11>=document.documentMode,di=null,sf=null,Wr=null,Cs=!1;function Pa(r,i,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Cs||di==null||di!==Pe(p)||(p=di,"selectionStart"in p&&Na(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wr&&De(Wr,p)||(Wr=p,p=uu(sf,"onSelect"),0<p.length&&(i=new ql("onSelect","select",null,i,f),r.push({event:i,listeners:p}),i.target=di)))}function ht(r,i){var f={};return f[r.toLowerCase()]=i.toLowerCase(),f["Webkit"+r]="webkit"+i,f["Moz"+r]="moz"+i,f}var ks={animationend:ht("Animation","AnimationEnd"),animationiteration:ht("Animation","AnimationIteration"),animationstart:ht("Animation","AnimationStart"),transitionend:ht("Transition","TransitionEnd")},ru={},Aa={};d&&(Aa=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function iu(r){if(ru[r])return ru[r];if(!ks[r])return r;var i=ks[r],f;for(f in i)if(i.hasOwnProperty(f)&&f in Aa)return ru[r]=i[f];return r}var kh=iu("animationend"),Th=iu("animationiteration"),Ra=iu("animationstart"),hi=iu("transitionend"),Da=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(r,i){Da.set(r,i),u(i,[r])}for(var ou=0;ou<af.length;ou++){var su=af[ou],au=su.toLowerCase(),Nh=su[0].toUpperCase()+su.slice(1);Nr(au,"on"+Nh)}Nr(kh,"onAnimationEnd"),Nr(Th,"onAnimationIteration"),Nr(Ra,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(hi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Po=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Ma(r,i,f){var p=r.type||"unknown-event";r.currentTarget=f,Rl(p,i,void 0,r),r.currentTarget=null}function Ph(r,i){i=(i&4)!==0;for(var f=0;f<r.length;f++){var p=r[f],w=p.event;p=p.listeners;e:{var E=void 0;if(i)for(var D=p.length-1;0<=D;D--){var U=p[D],Q=U.instance,ce=U.currentTarget;if(U=U.listener,Q!==E&&w.isPropagationStopped())break e;Ma(w,U,ce),E=Q}else for(D=0;D<p.length;D++){if(U=p[D],Q=U.instance,ce=U.currentTarget,U=U.listener,Q!==E&&w.isPropagationStopped())break e;Ma(w,U,ce),E=Q}}}if(hs)throw r=va,hs=!1,va=null,r}function Nt(r,i){var f=i[du];f===void 0&&(f=i[du]=new Set);var p=r+"__bubble";f.has(p)||(lu(i,r,2,!1),f.add(p))}function lf(r,i,f){var p=0;i&&(p|=4),lu(f,r,p,i)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Hi(r){if(!r[Ao]){r[Ao]=!0,o.forEach(function(f){f!=="selectionchange"&&(Po.has(f)||lf(f,!1,r),lf(f,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ao]||(i[Ao]=!0,lf("selectionchange",!1,i))}}function lu(r,i,f,p){switch(ch(i)){case 1:var w=Gm;break;case 4:w=Qm;break;default:w=Wc}f=w.bind(null,i,f,r),w=void 0,!xo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(i,f,{capture:!0,passive:w}):r.addEventListener(i,f,!0):w!==void 0?r.addEventListener(i,f,{passive:w}):r.addEventListener(i,f,!1)}function uf(r,i,f,p,w){var E=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var U=p.stateNode.containerInfo;if(U===w||U.nodeType===8&&U.parentNode===w)break;if(D===4)for(D=p.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&(Q=D.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;D=D.return}for(;U!==null;){if(D=Yr(U),D===null)return;if(Q=D.tag,Q===5||Q===6){p=E=D;continue e}U=U.parentNode}}p=p.return}Al(function(){var ce=E,Se=da(f),Ce=[];e:{var xe=Da.get(r);if(xe!==void 0){var Me=ql,Le=r;switch(r){case"keypress":if(xs(f)===0)break e;case"keydown":case"keyup":Me=mh;break;case"focusin":Le="focus",Me=kt;break;case"focusout":Le="blur",Me=kt;break;case"beforeblur":case"afterblur":Me=kt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=tg;break;case kh:case Th:case Ra:Me=Qc;break;case hi:Me=nf;break;case"scroll":Me=fh;break;case"wheel":Me=yh;break;case"copy":case"cut":case"paste":Me=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Jl}var je=(i&4)!==0,zt=!je&&r==="scroll",oe=je?xe!==null?xe+"Capture":null:xe;je=[];for(var te=ce,ae;te!==null;){ae=te;var Te=ae.stateNode;if(ae.tag===5&&Te!==null&&(ae=Te,oe!==null&&(Te=vo(te,oe),Te!=null&&je.push(Ts(te,Te,ae)))),zt)break;te=te.return}0<je.length&&(xe=new Me(xe,Le,null,f,Se),Ce.push({event:xe,listeners:je}))}}if((i&7)===0){e:{if(xe=r==="mouseover"||r==="pointerover",Me=r==="mouseout"||r==="pointerout",xe&&f!==fa&&(Le=f.relatedTarget||f.fromElement)&&(Yr(Le)||Le[Zn]))break e;if((Me||xe)&&(xe=Se.window===Se?Se:(xe=Se.ownerDocument)?xe.defaultView||xe.parentWindow:window,Me?(Le=f.relatedTarget||f.toElement,Me=ce,Le=Le?Yr(Le):null,Le!==null&&(zt=Ur(Le),Le!==zt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Me=null,Le=ce),Me!==Le)){if(je=qc,Te="onMouseLeave",oe="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(je=Jl,Te="onPointerLeave",oe="onPointerEnter",te="pointer"),zt=Me==null?xe:et(Me),ae=Le==null?xe:et(Le),xe=new je(Te,te+"leave",Me,f,Se),xe.target=zt,xe.relatedTarget=ae,Te=null,Yr(Se)===ce&&(je=new je(oe,te+"enter",Le,f,Se),je.target=ae,je.relatedTarget=zt,Te=je),zt=Te,Me&&Le)t:{for(je=Me,oe=Le,te=0,ae=je;ae;ae=Ns(ae))te++;for(ae=0,Te=oe;Te;Te=Ns(Te))ae++;for(;0<te-ae;)je=Ns(je),te--;for(;0<ae-te;)oe=Ns(oe),ae--;for(;te--;){if(je===oe||oe!==null&&je===oe.alternate)break t;je=Ns(je),oe=Ns(oe)}je=null}else je=null;Me!==null&&qt(Ce,xe,Me,je,!1),Le!==null&&zt!==null&&qt(Ce,zt,Le,je,!0)}}e:{if(xe=ce?et(ce):window,Me=xe.nodeName&&xe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&xe.type==="file")var Fe=sg;else if(eu(xe))if(No)Fe=re;else{Fe=lg;var ze=ag}else(Me=xe.nodeName)&&Me.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Fe=bs);if(Fe&&(Fe=Fe(r,ce))){of(Ce,Fe,f,Se);break e}ze&&ze(r,xe,ce),r==="focusout"&&(ze=xe._wrapperState)&&ze.controlled&&xe.type==="number"&&or(xe,"number",xe.value)}switch(ze=ce?et(ce):window,r){case"focusin":(eu(ze)||ze.contentEditable==="true")&&(di=ze,sf=ce,Wr=null);break;case"focusout":Wr=sf=di=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,Pa(Ce,f,Se);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":Pa(Ce,f,Se)}var Be;if(Ta)e:{switch(r){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else _s?Sh(r,f)&&(Xe="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(rf&&f.locale!=="ko"&&(_s||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&_s&&(Be=Kc()):(Rt=Se,ka="value"in Rt?Rt.value:Rt.textContent,_s=!0)),ze=uu(ce,Xe),0<ze.length&&(Xe=new dh(Xe,r,null,f,Se),Ce.push({event:Xe,listeners:ze}),Be?Xe.data=Be:(Be=_h(f),Be!==null&&(Xe.data=Be)))),(Be=vh?Es(r,f):rg(r,f))&&(ce=uu(ce,"onBeforeInput"),0<ce.length&&(Se=new dh("onBeforeInput","beforeinput",null,f,Se),Ce.push({event:Se,listeners:ce}),Se.data=Be))}Ph(Ce,i)})}function Ts(r,i,f){return{instance:r,listener:i,currentTarget:f}}function uu(r,i){for(var f=i+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=vo(r,f),E!=null&&p.unshift(Ts(r,E,w)),E=vo(r,i),E!=null&&p.push(Ts(r,E,w))),r=r.return}return p}function Ns(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qt(r,i,f,p,w){for(var E=i._reactName,D=[];f!==null&&f!==p;){var U=f,Q=U.alternate,ce=U.stateNode;if(Q!==null&&Q===p)break;U.tag===5&&ce!==null&&(U=ce,w?(Q=vo(f,E),Q!=null&&D.unshift(Ts(f,Q,U))):w||(Q=vo(f,E),Q!=null&&D.push(Ts(f,Q,U)))),f=f.return}D.length!==0&&r.push({event:i,listeners:D})}var yn=/\r\n?/g,cg=/\u0000|\uFFFD/g;function Ah(r){return(typeof r=="string"?r:""+r).replace(yn,`
`).replace(cg,"")}function Ia(r,i,f){if(i=Ah(i),Ah(r)!==i&&f)throw Error(n(425))}function cu(){}var La=null,Ro=null;function ja(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wi=typeof setTimeout=="function"?setTimeout:void 0,Oa=typeof clearTimeout=="function"?clearTimeout:void 0,Ps=typeof Promise=="function"?Promise:void 0,fu=typeof queueMicrotask=="function"?queueMicrotask:typeof Ps<"u"?function(r){return Ps.resolve(null).then(r).catch(As)}:Wi;function As(r){setTimeout(function(){throw r})}function cf(r,i){var f=i,p=0;do{var w=f.nextSibling;if(r.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(p===0){r.removeChild(w),gt(i);return}p--}else f!=="$"&&f!=="$?"&&f!=="$!"||p++;f=w}while(f);gt(i)}function Ki(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Rh(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return r;i--}else f==="/$"&&i++}r=r.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Rs,Yi="__reactProps$"+Rs,Zn="__reactContainer$"+Rs,du="__reactEvents$"+Rs,I="__reactListeners$"+Rs,Ds="__reactHandles$"+Rs;function Yr(r){var i=r[Kr];if(i)return i;for(var f=r.parentNode;f;){if(i=f[Zn]||f[Kr]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(r=Rh(r);r!==null;){if(f=r[Kr])return f;r=Rh(r)}return i}r=f,f=r.parentNode}return null}function vn(r){return r=r[Kr]||r[Zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function et(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function hu(r){return r[Yi]||null}var ff=[],Ms=-1;function $n(r){return{current:r}}function Pt(r){0>Ms||(r.current=ff[Ms],ff[Ms]=null,Ms--)}function Tt(r,i){Ms++,ff[Ms]=r.current,r.current=i}var Xi={},xn=$n(Xi),Fn=$n(!1),Pn=Xi;function Is(r,i){var f=r.type.contextTypes;if(!f)return Xi;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in f)w[E]=i[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=w),w}function Vn(r){return r=r.childContextTypes,r!=null}function pu(){Pt(Fn),Pt(xn)}function Dh(r,i,f){if(xn.current!==Xi)throw Error(n(168));Tt(xn,i),Tt(Fn,f)}function Mh(r,i,f){var p=r.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var w in p)if(!(w in i))throw Error(n(108,_e(r)||"Unknown",w));return G({},f,p)}function ur(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Xi,Pn=xn.current,Tt(xn,r),Tt(Fn,Fn.current),!0}function Ih(r,i,f){var p=r.stateNode;if(!p)throw Error(n(169));f?(r=Mh(r,i,Pn),p.__reactInternalMemoizedMergedChildContext=r,Pt(Fn),Pt(xn),Tt(xn,r)):Pt(Fn),Tt(Fn,f)}var mi=null,mu=!1,df=!1;function Lh(r){mi===null?mi=[r]:mi.push(r)}function Do(r){mu=!0,Lh(r)}function qi(){if(!df&&mi!==null){df=!0;var r=0,i=mt;try{var f=mi;for(mt=1;r<f.length;r++){var p=f[r];do p=p(!0);while(p!==null)}mi=null,mu=!1}catch(w){throw mi!==null&&(mi=mi.slice(r+1)),Ll(wa,qi),w}finally{mt=i,df=!1}}return null}var Ls=[],wn=0,gu=null,yu=0,cr=[],fr=0,Mo=null,Xr=1,qr="";function Io(r,i){Ls[wn++]=yu,Ls[wn++]=gu,gu=r,yu=i}function jh(r,i,f){cr[fr++]=Xr,cr[fr++]=qr,cr[fr++]=Mo,Mo=r;var p=Xr;r=qr;var w=32-qn(p)-1;p&=~(1<<w),f+=1;var E=32-qn(i)+w;if(30<E){var D=w-w%5;E=(p&(1<<D)-1).toString(32),p>>=D,w-=D,Xr=1<<32-qn(i)+w|f<<w|p,qr=E+r}else Xr=1<<E|f<<w|p,qr=r}function $a(r){r.return!==null&&(Io(r,1),jh(r,1,0))}function Lo(r){for(;r===gu;)gu=Ls[--wn],Ls[wn]=null,yu=Ls[--wn],Ls[wn]=null;for(;r===Mo;)Mo=cr[--fr],cr[fr]=null,qr=cr[--fr],cr[fr]=null,Xr=cr[--fr],cr[fr]=null}var Sn=null,Jn=null,At=!1,Pr=null;function Gr(r,i){var f=vr(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=r,i=r.deletions,i===null?(r.deletions=[f],r.flags|=16):i.push(f)}function vu(r,i){switch(r.tag){case 5:var f=r.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Sn=r,Jn=Ki(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Sn=r,Jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Mo!==null?{id:Xr,overflow:qr}:null,r.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=vr(18,null,null,0),f.stateNode=i,f.return=r,r.child=f,Sn=r,Jn=null,!0):!1;default:return!1}}function gi(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Bn(r){if(At){var i=Jn;if(i){var f=i;if(!vu(r,i)){if(gi(r))throw Error(n(418));i=Ki(f.nextSibling);var p=Sn;i&&vu(r,i)?Gr(p,f):(r.flags=r.flags&-4097|2,At=!1,Sn=r)}}else{if(gi(r))throw Error(n(418));r.flags=r.flags&-4097|2,At=!1,Sn=r}}}function Oh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function Fa(r){if(r!==Sn)return!1;if(!At)return Oh(r),At=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!ja(r.type,r.memoizedProps)),i&&(i=Jn)){if(gi(r))throw hf(),Error(n(418));for(;i;)Gr(r,i),i=Ki(i.nextSibling)}if(Oh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"){if(i===0){Jn=Ki(r.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}r=r.nextSibling}Jn=null}}else Jn=Sn?Ki(r.stateNode.nextSibling):null;return!0}function hf(){for(var r=Jn;r;)r=Ki(r.nextSibling)}function Qr(){Jn=Sn=null,At=!1}function Zr(r){Pr===null?Pr=[r]:Pr.push(r)}var $h=L.ReactCurrentBatchConfig;function Va(r,i,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var p=f.stateNode}if(!p)throw Error(n(147,r));var w=p,E=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(D){var U=w.refs;D===null?delete U[E]:U[E]=D},i._stringRef=E,i)}if(typeof r!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,r))}return r}function jo(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Fh(r){var i=r._init;return i(r._payload)}function pf(r){function i(oe,te){if(r){var ae=oe.deletions;ae===null?(oe.deletions=[te],oe.flags|=16):ae.push(te)}}function f(oe,te){if(!r)return null;for(;te!==null;)i(oe,te),te=te.sibling;return null}function p(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function w(oe,te){return oe=jr(oe,te),oe.index=0,oe.sibling=null,oe}function E(oe,te,ae){return oe.index=ae,r?(ae=oe.alternate,ae!==null?(ae=ae.index,ae<te?(oe.flags|=2,te):ae):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function D(oe){return r&&oe.alternate===null&&(oe.flags|=2),oe}function U(oe,te,ae,Te){return te===null||te.tag!==6?(te=ed(ae,oe.mode,Te),te.return=oe,te):(te=w(te,ae),te.return=oe,te)}function Q(oe,te,ae,Te){var Fe=ae.type;return Fe===O?Se(oe,te,ae.props.children,Te,ae.key):te!==null&&(te.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Y&&Fh(Fe)===te.type)?(Te=w(te,ae.props),Te.ref=Va(oe,te,ae),Te.return=oe,Te):(Te=Ju(ae.type,ae.key,ae.props,null,oe.mode,Te),Te.ref=Va(oe,te,ae),Te.return=oe,Te)}function ce(oe,te,ae,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=td(ae,oe.mode,Te),te.return=oe,te):(te=w(te,ae.children||[]),te.return=oe,te)}function Se(oe,te,ae,Te,Fe){return te===null||te.tag!==7?(te=Yo(ae,oe.mode,Te,Fe),te.return=oe,te):(te=w(te,ae),te.return=oe,te)}function Ce(oe,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=ed(""+te,oe.mode,ae),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case B:return ae=Ju(te.type,te.key,te.props,null,oe.mode,ae),ae.ref=Va(oe,null,te),ae.return=oe,ae;case X:return te=td(te,oe.mode,ae),te.return=oe,te;case Y:var Te=te._init;return Ce(oe,Te(te._payload),ae)}if($e(te)||K(te))return te=Yo(te,oe.mode,ae,null),te.return=oe,te;jo(oe,te)}return null}function xe(oe,te,ae,Te){var Fe=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Fe!==null?null:U(oe,te,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:return ae.key===Fe?Q(oe,te,ae,Te):null;case X:return ae.key===Fe?ce(oe,te,ae,Te):null;case Y:return Fe=ae._init,xe(oe,te,Fe(ae._payload),Te)}if($e(ae)||K(ae))return Fe!==null?null:Se(oe,te,ae,Te,null);jo(oe,ae)}return null}function Me(oe,te,ae,Te,Fe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return oe=oe.get(ae)||null,U(te,oe,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case B:return oe=oe.get(Te.key===null?ae:Te.key)||null,Q(te,oe,Te,Fe);case X:return oe=oe.get(Te.key===null?ae:Te.key)||null,ce(te,oe,Te,Fe);case Y:var ze=Te._init;return Me(oe,te,ae,ze(Te._payload),Fe)}if($e(Te)||K(Te))return oe=oe.get(ae)||null,Se(te,oe,Te,Fe,null);jo(te,Te)}return null}function Le(oe,te,ae,Te){for(var Fe=null,ze=null,Be=te,Xe=te=0,un=null;Be!==null&&Xe<ae.length;Xe++){Be.index>Xe?(un=Be,Be=null):un=Be.sibling;var pt=xe(oe,Be,ae[Xe],Te);if(pt===null){Be===null&&(Be=un);break}r&&Be&&pt.alternate===null&&i(oe,Be),te=E(pt,te,Xe),ze===null?Fe=pt:ze.sibling=pt,ze=pt,Be=un}if(Xe===ae.length)return f(oe,Be),At&&Io(oe,Xe),Fe;if(Be===null){for(;Xe<ae.length;Xe++)Be=Ce(oe,ae[Xe],Te),Be!==null&&(te=E(Be,te,Xe),ze===null?Fe=Be:ze.sibling=Be,ze=Be);return At&&Io(oe,Xe),Fe}for(Be=p(oe,Be);Xe<ae.length;Xe++)un=Me(Be,oe,Xe,ae[Xe],Te),un!==null&&(r&&un.alternate!==null&&Be.delete(un.key===null?Xe:un.key),te=E(un,te,Xe),ze===null?Fe=un:ze.sibling=un,ze=un);return r&&Be.forEach(function(ao){return i(oe,ao)}),At&&Io(oe,Xe),Fe}function je(oe,te,ae,Te){var Fe=K(ae);if(typeof Fe!="function")throw Error(n(150));if(ae=Fe.call(ae),ae==null)throw Error(n(151));for(var ze=Fe=null,Be=te,Xe=te=0,un=null,pt=ae.next();Be!==null&&!pt.done;Xe++,pt=ae.next()){Be.index>Xe?(un=Be,Be=null):un=Be.sibling;var ao=xe(oe,Be,pt.value,Te);if(ao===null){Be===null&&(Be=un);break}r&&Be&&ao.alternate===null&&i(oe,Be),te=E(ao,te,Xe),ze===null?Fe=ao:ze.sibling=ao,ze=ao,Be=un}if(pt.done)return f(oe,Be),At&&Io(oe,Xe),Fe;if(Be===null){for(;!pt.done;Xe++,pt=ae.next())pt=Ce(oe,pt.value,Te),pt!==null&&(te=E(pt,te,Xe),ze===null?Fe=pt:ze.sibling=pt,ze=pt);return At&&Io(oe,Xe),Fe}for(Be=p(oe,Be);!pt.done;Xe++,pt=ae.next())pt=Me(Be,oe,Xe,pt.value,Te),pt!==null&&(r&&pt.alternate!==null&&Be.delete(pt.key===null?Xe:pt.key),te=E(pt,te,Xe),ze===null?Fe=pt:ze.sibling=pt,ze=pt);return r&&Be.forEach(function(Rg){return i(oe,Rg)}),At&&Io(oe,Xe),Fe}function zt(oe,te,ae,Te){if(typeof ae=="object"&&ae!==null&&ae.type===O&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:e:{for(var Fe=ae.key,ze=te;ze!==null;){if(ze.key===Fe){if(Fe=ae.type,Fe===O){if(ze.tag===7){f(oe,ze.sibling),te=w(ze,ae.props.children),te.return=oe,oe=te;break e}}else if(ze.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Y&&Fh(Fe)===ze.type){f(oe,ze.sibling),te=w(ze,ae.props),te.ref=Va(oe,ze,ae),te.return=oe,oe=te;break e}f(oe,ze);break}else i(oe,ze);ze=ze.sibling}ae.type===O?(te=Yo(ae.props.children,oe.mode,Te,ae.key),te.return=oe,oe=te):(Te=Ju(ae.type,ae.key,ae.props,null,oe.mode,Te),Te.ref=Va(oe,te,ae),Te.return=oe,oe=Te)}return D(oe);case X:e:{for(ze=ae.key;te!==null;){if(te.key===ze)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){f(oe,te.sibling),te=w(te,ae.children||[]),te.return=oe,oe=te;break e}else{f(oe,te);break}else i(oe,te);te=te.sibling}te=td(ae,oe.mode,Te),te.return=oe,oe=te}return D(oe);case Y:return ze=ae._init,zt(oe,te,ze(ae._payload),Te)}if($e(ae))return Le(oe,te,ae,Te);if(K(ae))return je(oe,te,ae,Te);jo(oe,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(f(oe,te.sibling),te=w(te,ae),te.return=oe,oe=te):(f(oe,te),te=ed(ae,oe.mode,Te),te.return=oe,oe=te),D(oe)):f(oe,te)}return zt}var Vt=pf(!0),xu=pf(!1),Ba=$n(null),er=null,Gi=null,js=null;function yi(){js=Gi=er=null}function wu(r){var i=Ba.current;Pt(Ba),r._currentValue=i}function fn(r,i,f){for(;r!==null;){var p=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),r===f)break;r=r.return}}function Qi(r,i){er=r,js=Gi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Rn=!0),r.firstContext=null)}function dr(r){var i=r._currentValue;if(js!==r)if(r={context:r,memoizedValue:i,next:null},Gi===null){if(er===null)throw Error(n(308));Gi=r,er.dependencies={lanes:0,firstContext:r}}else Gi=Gi.next=r;return i}var Oo=null;function mf(r){Oo===null?Oo=[r]:Oo.push(r)}function Su(r,i,f,p){var w=i.interleaved;return w===null?(f.next=f,mf(i)):(f.next=w.next,w.next=f),i.interleaved=f,vi(r,p)}function vi(r,i){r.lanes|=i;var f=r.alternate;for(f!==null&&(f.lanes|=i),f=r,r=r.return;r!==null;)r.childLanes|=i,f=r.alternate,f!==null&&(f.childLanes|=i),f=r,r=r.return;return f.tag===3?f.stateNode:null}var hr=!1;function _u(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vh(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function xi(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function pr(r,i,f){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ct&2)!==0){var w=p.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),p.pending=i,vi(r,f)}return w=p.interleaved,w===null?(i.next=i,mf(p)):(i.next=w.next,w.next=i),p.interleaved=i,vi(r,f)}function Eu(r,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var p=i.lanes;p&=r.pendingLanes,f|=p,i.lanes=f,Ea(r,f)}}function Bh(r,i){var f=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var w=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var D={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?w=E=D:E=E.next=D,f=f.next}while(f!==null);E===null?w=E=i:E=E.next=i}else w=E=i;f={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=i:r.next=i,f.lastBaseUpdate=i}function Os(r,i,f,p){var w=r.updateQueue;hr=!1;var E=w.firstBaseUpdate,D=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var Q=U,ce=Q.next;Q.next=null,D===null?E=ce:D.next=ce,D=Q;var Se=r.alternate;Se!==null&&(Se=Se.updateQueue,U=Se.lastBaseUpdate,U!==D&&(U===null?Se.firstBaseUpdate=ce:U.next=ce,Se.lastBaseUpdate=Q))}if(E!==null){var Ce=w.baseState;D=0,Se=ce=Q=null,U=E;do{var xe=U.lane,Me=U.eventTime;if((p&xe)===xe){Se!==null&&(Se=Se.next={eventTime:Me,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Le=r,je=U;switch(xe=i,Me=f,je.tag){case 1:if(Le=je.payload,typeof Le=="function"){Ce=Le.call(Me,Ce,xe);break e}Ce=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=je.payload,xe=typeof Le=="function"?Le.call(Me,Ce,xe):Le,xe==null)break e;Ce=G({},Ce,xe);break e;case 2:hr=!0}}U.callback!==null&&U.lane!==0&&(r.flags|=64,xe=w.effects,xe===null?w.effects=[U]:xe.push(U))}else Me={eventTime:Me,lane:xe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Se===null?(ce=Se=Me,Q=Ce):Se=Se.next=Me,D|=xe;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;xe=U,U=xe.next,xe.next=null,w.lastBaseUpdate=xe,w.shared.pending=null}}while(!0);if(Se===null&&(Q=Ce),w.baseState=Q,w.firstBaseUpdate=ce,w.lastBaseUpdate=Se,i=w.shared.interleaved,i!==null){w=i;do D|=w.lane,w=w.next;while(w!==i)}else E===null&&(w.shared.lanes=0);no|=D,r.lanes=D,r.memoizedState=Ce}}function gf(r,i,f){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var p=r[i],w=p.callback;if(w!==null){if(p.callback=null,p=f,typeof w!="function")throw Error(n(191,w));w.call(p)}}}var za={},Jr=$n(za),Ua=$n(za),$s=$n(za);function wi(r){if(r===za)throw Error(n(174));return r}function yf(r,i){switch(Tt($s,i),Tt(Ua,r),Tt(Jr,za),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ft(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ft(i,r)}Pt(Jr),Tt(Jr,i)}function Zi(){Pt(Jr),Pt(Ua),Pt($s)}function vf(r){wi($s.current);var i=wi(Jr.current),f=Ft(i,r.type);i!==f&&(Tt(Ua,r),Tt(Jr,f))}function bu(r){Ua.current===r&&(Pt(Jr),Pt(Ua))}var Dt=$n(0);function $o(r){for(var i=r;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xf=[];function Cu(){for(var r=0;r<xf.length;r++)xf[r]._workInProgressVersionPrimary=null;xf.length=0}var Ha=L.ReactCurrentDispatcher,wf=L.ReactCurrentBatchConfig,Ji=0,jt=null,Bt=null,Jt=null,Fs=!1,Wa=!1,Fo=0,it=0;function _n(){throw Error(n(321))}function Sf(r,i){if(i===null)return!1;for(var f=0;f<i.length&&f<r.length;f++)if(!le(r[f],i[f]))return!1;return!0}function Vo(r,i,f,p,w,E){if(Ji=E,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ha.current=r===null||r.memoizedState===null?dg:Du,r=f(p,w),Wa){E=0;do{if(Wa=!1,Fo=0,25<=E)throw Error(n(301));E+=1,Jt=Bt=null,i.updateQueue=null,Ha.current=Us,r=f(p,w)}while(Wa)}if(Ha.current=Ru,i=Bt!==null&&Bt.next!==null,Ji=0,Jt=Bt=jt=null,Fs=!1,i)throw Error(n(300));return r}function ku(){var r=Fo!==0;return Fo=0,r}function ei(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?jt.memoizedState=Jt=r:Jt=Jt.next=r,Jt}function mr(){if(Bt===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var i=Jt===null?jt.memoizedState:Jt.next;if(i!==null)Jt=i,Bt=r;else{if(r===null)throw Error(n(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Jt===null?jt.memoizedState=Jt=r:Jt=Jt.next=r}return Jt}function En(r,i){return typeof i=="function"?i(r):i}function _f(r){var i=mr(),f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=Bt,w=p.baseQueue,E=f.pending;if(E!==null){if(w!==null){var D=w.next;w.next=E.next,E.next=D}p.baseQueue=w=E,f.pending=null}if(w!==null){E=w.next,p=p.baseState;var U=D=null,Q=null,ce=E;do{var Se=ce.lane;if((Ji&Se)===Se)Q!==null&&(Q=Q.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:r(p,ce.action);else{var Ce={lane:Se,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Q===null?(U=Q=Ce,D=p):Q=Q.next=Ce,jt.lanes|=Se,no|=Se}ce=ce.next}while(ce!==null&&ce!==E);Q===null?D=p:Q.next=U,le(p,i.memoizedState)||(Rn=!0),i.memoizedState=p,i.baseState=D,i.baseQueue=Q,f.lastRenderedState=p}if(r=f.interleaved,r!==null){w=r;do E=w.lane,jt.lanes|=E,no|=E,w=w.next;while(w!==r)}else w===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function Vs(r){var i=mr(),f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=r;var p=f.dispatch,w=f.pending,E=i.memoizedState;if(w!==null){f.pending=null;var D=w=w.next;do E=r(E,D.action),D=D.next;while(D!==w);le(E,i.memoizedState)||(Rn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),f.lastRenderedState=E}return[E,p]}function Tu(){}function Ef(r,i){var f=jt,p=mr(),w=i(),E=!le(p.memoizedState,w);if(E&&(p.memoizedState=w,Rn=!0),p=p.queue,ti(Si.bind(null,f,p,r),[r]),p.getSnapshot!==i||E||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,Bs(9,zn.bind(null,f,p,w,i),void 0,null),ln===null)throw Error(n(349));(Ji&30)!==0||bf(f,i,w)}return w}function bf(r,i,f){r.flags|=16384,r={getSnapshot:i,value:f},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.stores=[r]):(f=i.stores,f===null?i.stores=[r]:f.push(r))}function zn(r,i,f,p){i.value=f,i.getSnapshot=p,Nu(i)&&Cf(r)}function Si(r,i,f){return f(function(){Nu(i)&&Cf(r)})}function Nu(r){var i=r.getSnapshot;r=r.value;try{var f=i();return!le(r,f)}catch{return!0}}function Cf(r){var i=vi(r,1);i!==null&&Lr(i,r,1,-1)}function Ka(r){var i=ei();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:r},i.queue=r,r=r.dispatch=Yh.bind(null,jt,r),[i.memoizedState,r]}function Bs(r,i,f,p){return r={tag:r,create:i,destroy:f,deps:p,next:null},i=jt.updateQueue,i===null?(i={lastEffect:null,stores:null},jt.updateQueue=i,i.lastEffect=r.next=r):(f=i.lastEffect,f===null?i.lastEffect=r.next=r:(p=f.next,f.next=r,r.next=p,i.lastEffect=r)),r}function Pu(){return mr().memoizedState}function Ya(r,i,f,p){var w=ei();jt.flags|=r,w.memoizedState=Bs(1|i,f,void 0,p===void 0?null:p)}function zs(r,i,f,p){var w=mr();p=p===void 0?null:p;var E=void 0;if(Bt!==null){var D=Bt.memoizedState;if(E=D.destroy,p!==null&&Sf(p,D.deps)){w.memoizedState=Bs(i,f,E,p);return}}jt.flags|=r,w.memoizedState=Bs(1|i,f,E,p)}function Au(r,i){return Ya(8390656,8,r,i)}function ti(r,i){return zs(2048,8,r,i)}function zh(r,i){return zs(4,2,r,i)}function _i(r,i){return zs(4,4,r,i)}function kf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Tf(r,i,f){return f=f!=null?f.concat([r]):null,zs(4,4,kf.bind(null,i,r),f)}function Xa(){}function Uh(r,i){var f=mr();i=i===void 0?null:i;var p=f.memoizedState;return p!==null&&i!==null&&Sf(i,p[1])?p[0]:(f.memoizedState=[r,i],r)}function Hh(r,i){var f=mr();i=i===void 0?null:i;var p=f.memoizedState;return p!==null&&i!==null&&Sf(i,p[1])?p[0]:(r=r(),f.memoizedState=[r,i],r)}function Wh(r,i,f){return(Ji&21)===0?(r.baseState&&(r.baseState=!1,Rn=!0),r.memoizedState=f):(le(f,i)||(f=Bc(),jt.lanes|=f,no|=f,r.baseState=!0),i)}function Kh(r,i){var f=mt;mt=f!==0&&4>f?f:4,r(!0);var p=wf.transition;wf.transition={};try{r(!1),i()}finally{mt=f,wf.transition=p}}function Nf(){return mr().memoizedState}function fg(r,i,f){var p=oo(r);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},Pf(r))An(i,f);else if(f=Su(r,i,f,p),f!==null){var w=In();Lr(f,r,p,w),Ar(f,i,p)}}function Yh(r,i,f){var p=oo(r),w={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(Pf(r))An(i,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var D=i.lastRenderedState,U=E(D,f);if(w.hasEagerState=!0,w.eagerState=U,le(U,D)){var Q=i.interleaved;Q===null?(w.next=w,mf(i)):(w.next=Q.next,Q.next=w),i.interleaved=w;return}}catch{}finally{}f=Su(r,i,w,p),f!==null&&(w=In(),Lr(f,r,p,w),Ar(f,i,p))}}function Pf(r){var i=r.alternate;return r===jt||i!==null&&i===jt}function An(r,i){Wa=Fs=!0;var f=r.pending;f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i}function Ar(r,i,f){if((f&4194240)!==0){var p=i.lanes;p&=r.pendingLanes,f|=p,i.lanes=f,Ea(r,f)}}var Ru={readContext:dr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},dg={readContext:dr,useCallback:function(r,i){return ei().memoizedState=[r,i===void 0?null:i],r},useContext:dr,useEffect:Au,useImperativeHandle:function(r,i,f){return f=f!=null?f.concat([r]):null,Ya(4194308,4,kf.bind(null,i,r),f)},useLayoutEffect:function(r,i){return Ya(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ya(4,2,r,i)},useMemo:function(r,i){var f=ei();return i=i===void 0?null:i,r=r(),f.memoizedState=[r,i],r},useReducer:function(r,i,f){var p=ei();return i=f!==void 0?f(i):i,p.memoizedState=p.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},p.queue=r,r=r.dispatch=fg.bind(null,jt,r),[p.memoizedState,r]},useRef:function(r){var i=ei();return r={current:r},i.memoizedState=r},useState:Ka,useDebugValue:Xa,useDeferredValue:function(r){return ei().memoizedState=r},useTransition:function(){var r=Ka(!1),i=r[0];return r=Kh.bind(null,r[1]),ei().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,f){var p=jt,w=ei();if(At){if(f===void 0)throw Error(n(407));f=f()}else{if(f=i(),ln===null)throw Error(n(349));(Ji&30)!==0||bf(p,i,f)}w.memoizedState=f;var E={value:f,getSnapshot:i};return w.queue=E,Au(Si.bind(null,p,E,r),[r]),p.flags|=2048,Bs(9,zn.bind(null,p,E,f,i),void 0,null),f},useId:function(){var r=ei(),i=ln.identifierPrefix;if(At){var f=qr,p=Xr;f=(p&~(1<<32-qn(p)-1)).toString(32)+f,i=":"+i+"R"+f,f=Fo++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=it++,i=":"+i+"r"+f.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Du={readContext:dr,useCallback:Uh,useContext:dr,useEffect:ti,useImperativeHandle:Tf,useInsertionEffect:zh,useLayoutEffect:_i,useMemo:Hh,useReducer:_f,useRef:Pu,useState:function(){return _f(En)},useDebugValue:Xa,useDeferredValue:function(r){var i=mr();return Wh(i,Bt.memoizedState,r)},useTransition:function(){var r=_f(En)[0],i=mr().memoizedState;return[r,i]},useMutableSource:Tu,useSyncExternalStore:Ef,useId:Nf,unstable_isNewReconciler:!1},Us={readContext:dr,useCallback:Uh,useContext:dr,useEffect:ti,useImperativeHandle:Tf,useInsertionEffect:zh,useLayoutEffect:_i,useMemo:Hh,useReducer:Vs,useRef:Pu,useState:function(){return Vs(En)},useDebugValue:Xa,useDeferredValue:function(r){var i=mr();return Bt===null?i.memoizedState=r:Wh(i,Bt.memoizedState,r)},useTransition:function(){var r=Vs(En)[0],i=mr().memoizedState;return[r,i]},useMutableSource:Tu,useSyncExternalStore:Ef,useId:Nf,unstable_isNewReconciler:!1};function gr(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var f in r)i[f]===void 0&&(i[f]=r[f]);return i}return i}function Mu(r,i,f,p){i=r.memoizedState,f=f(p,i),f=f==null?i:G({},i,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Iu={isMounted:function(r){return(r=r._reactInternals)?Ur(r)===r:!1},enqueueSetState:function(r,i,f){r=r._reactInternals;var p=In(),w=oo(r),E=xi(p,w);E.payload=i,f!=null&&(E.callback=f),i=pr(r,E,w),i!==null&&(Lr(i,r,w,p),Eu(i,r,w))},enqueueReplaceState:function(r,i,f){r=r._reactInternals;var p=In(),w=oo(r),E=xi(p,w);E.tag=1,E.payload=i,f!=null&&(E.callback=f),i=pr(r,E,w),i!==null&&(Lr(i,r,w,p),Eu(i,r,w))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var f=In(),p=oo(r),w=xi(f,p);w.tag=2,i!=null&&(w.callback=i),i=pr(r,w,p),i!==null&&(Lr(i,r,p,f),Eu(i,r,p))}};function Af(r,i,f,p,w,E,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,D):i.prototype&&i.prototype.isPureReactComponent?!De(f,p)||!De(w,E):!0}function Bo(r,i,f){var p=!1,w=Xi,E=i.contextType;return typeof E=="object"&&E!==null?E=dr(E):(w=Vn(i)?Pn:xn.current,p=i.contextTypes,E=(p=p!=null)?Is(r,w):Xi),i=new i(f,E),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Iu,r.stateNode=i,i._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),i}function Hs(r,i,f,p){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,p),i.state!==r&&Iu.enqueueReplaceState(i,i.state,null)}function Rf(r,i,f,p){var w=r.stateNode;w.props=f,w.state=r.memoizedState,w.refs={},_u(r);var E=i.contextType;typeof E=="object"&&E!==null?w.context=dr(E):(E=Vn(i)?Pn:xn.current,w.context=Is(r,E)),w.state=r.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Mu(r,i,E,f),w.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&Iu.enqueueReplaceState(w,w.state,null),Os(r,f,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function zo(r,i){try{var f="",p=i;do f+=we(p),p=p.return;while(p);var w=f}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:i,stack:w,digest:null}}function Lu(r,i,f){return{value:r,source:null,stack:f??null,digest:i??null}}function Ws(r,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var Xh=typeof WeakMap=="function"?WeakMap:Map;function qa(r,i,f){f=xi(-1,f),f.tag=3,f.payload={element:null};var p=i.value;return f.callback=function(){Ku||(Ku=!0,Yf=p),Ws(r,i)},f}function ju(r,i,f){f=xi(-1,f),f.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=i.value;f.payload=function(){return p(w)},f.callback=function(){Ws(r,i)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){Ws(r,i),typeof p!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var D=i.stack;this.componentDidCatch(i.value,{componentStack:D!==null?D:""})}),f}function Ga(r,i,f){var p=r.pingCache;if(p===null){p=r.pingCache=new Xh;var w=new Set;p.set(i,w)}else w=p.get(i),w===void 0&&(w=new Set,p.set(i,w));w.has(f)||(w.add(f),r=wg.bind(null,r,i,f),i.then(r,r))}function qh(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Df(r,i,f,p,w){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=xi(-1,1),i.tag=2,pr(f,i,1))),f.lanes|=1),r):(r.flags|=65536,r.lanes=w,r)}var Ou=L.ReactCurrentOwner,Rn=!1;function dn(r,i,f,p){i.child=r===null?xu(i,null,f,p):Vt(i,r.child,f,p)}function Gh(r,i,f,p,w){f=f.render;var E=i.ref;return Qi(i,w),p=Vo(r,i,f,p,E,w),f=ku(),r!==null&&!Rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Rr(r,i,w)):(At&&f&&$a(i),i.flags|=1,dn(r,i,p,w),i.child)}function Mf(r,i,f,p,w){if(r===null){var E=f.type;return typeof E=="function"&&!Zu(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=E,ni(r,i,E,p,w)):(r=Ju(f.type,null,p,i,i.mode,w),r.ref=i.ref,r.return=i,i.child=r)}if(E=r.child,(r.lanes&w)===0){var D=E.memoizedProps;if(f=f.compare,f=f!==null?f:De,f(D,p)&&r.ref===i.ref)return Rr(r,i,w)}return i.flags|=1,r=jr(E,p),r.ref=i.ref,r.return=i,i.child=r}function ni(r,i,f,p,w){if(r!==null){var E=r.memoizedProps;if(De(E,p)&&r.ref===i.ref)if(Rn=!1,i.pendingProps=p=E,(r.lanes&w)!==0)(r.flags&131072)!==0&&(Rn=!0);else return i.lanes=r.lanes,Rr(r,i,w)}return jf(r,i,f,p,w)}function If(r,i,f){var p=i.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(qs,nr),nr|=f;else{if((f&1073741824)===0)return r=E!==null?E.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Tt(qs,nr),nr|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:f,Tt(qs,nr),nr|=p}else E!==null?(p=E.baseLanes|f,i.memoizedState=null):p=f,Tt(qs,nr),nr|=p;return dn(r,i,w,f),i.child}function Lf(r,i){var f=i.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function jf(r,i,f,p,w){var E=Vn(f)?Pn:xn.current;return E=Is(i,E),Qi(i,w),f=Vo(r,i,f,p,E,w),p=ku(),r!==null&&!Rn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~w,Rr(r,i,w)):(At&&p&&$a(i),i.flags|=1,dn(r,i,f,w),i.child)}function Of(r,i,f,p,w){if(Vn(f)){var E=!0;ur(i)}else E=!1;if(Qi(i,w),i.stateNode===null)Fu(r,i),Bo(i,f,p),Rf(i,f,p,w),p=!0;else if(r===null){var D=i.stateNode,U=i.memoizedProps;D.props=U;var Q=D.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=dr(ce):(ce=Vn(f)?Pn:xn.current,ce=Is(i,ce));var Se=f.getDerivedStateFromProps,Ce=typeof Se=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ce||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==p||Q!==ce)&&Hs(i,D,p,ce),hr=!1;var xe=i.memoizedState;D.state=xe,Os(i,p,D,w),Q=i.memoizedState,U!==p||xe!==Q||Fn.current||hr?(typeof Se=="function"&&(Mu(i,f,Se,p),Q=i.memoizedState),(U=hr||Af(i,f,U,p,xe,Q,ce))?(Ce||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(i.flags|=4194308)):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=Q),D.props=p,D.state=Q,D.context=ce,p=U):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{D=i.stateNode,Vh(r,i),U=i.memoizedProps,ce=i.type===i.elementType?U:gr(i.type,U),D.props=ce,Ce=i.pendingProps,xe=D.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=dr(Q):(Q=Vn(f)?Pn:xn.current,Q=Is(i,Q));var Me=f.getDerivedStateFromProps;(Se=typeof Me=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==Ce||xe!==Q)&&Hs(i,D,p,Q),hr=!1,xe=i.memoizedState,D.state=xe,Os(i,p,D,w);var Le=i.memoizedState;U!==Ce||xe!==Le||Fn.current||hr?(typeof Me=="function"&&(Mu(i,f,Me,p),Le=i.memoizedState),(ce=hr||Af(i,f,ce,p,xe,Le,Q)||!1)?(Se||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(p,Le,Q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(p,Le,Q)),typeof D.componentDidUpdate=="function"&&(i.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=Le),D.props=p,D.state=Le,D.context=Q,p=ce):(typeof D.componentDidUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&xe===r.memoizedState||(i.flags|=1024),p=!1)}return $f(r,i,f,p,E,w)}function $f(r,i,f,p,w,E){Lf(r,i);var D=(i.flags&128)!==0;if(!p&&!D)return w&&Ih(i,f,!1),Rr(r,i,E);p=i.stateNode,Ou.current=i;var U=D&&typeof f.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,r!==null&&D?(i.child=Vt(i,r.child,null,E),i.child=Vt(i,null,U,E)):dn(r,i,U,E),i.memoizedState=p.state,w&&Ih(i,f,!0),i.child}function Qh(r){var i=r.stateNode;i.pendingContext?Dh(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Dh(r,i.context,!1),yf(r,i.containerInfo)}function ri(r,i,f,p,w){return Qr(),Zr(w),i.flags|=256,dn(r,i,f,p),i.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function Za(r){return{baseLanes:r,cachePool:null,transitions:null}}function $u(r,i,f){var p=i.pendingProps,w=Dt.current,E=!1,D=(i.flags&128)!==0,U;if((U=D)||(U=r!==null&&r.memoizedState===null?!1:(w&2)!==0),U?(E=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),Tt(Dt,w&1),r===null)return Bn(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(D=p.children,r=p.fallback,E?(p=i.mode,E=i.child,D={mode:"hidden",children:D},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=ec(D,p,0,null),r=Yo(r,p,f,null),E.return=i,r.return=i,E.sibling=r,i.child=E,i.child.memoizedState=Za(f),i.memoizedState=Qa,r):Ks(i,D));if(w=r.memoizedState,w!==null&&(U=w.dehydrated,U!==null))return He(r,i,D,p,U,w,f);if(E){E=p.fallback,D=i.mode,w=r.child,U=w.sibling;var Q={mode:"hidden",children:p.children};return(D&1)===0&&i.child!==w?(p=i.child,p.childLanes=0,p.pendingProps=Q,i.deletions=null):(p=jr(w,Q),p.subtreeFlags=w.subtreeFlags&14680064),U!==null?E=jr(U,E):(E=Yo(E,D,f,null),E.flags|=2),E.return=i,p.return=i,p.sibling=E,i.child=p,p=E,E=i.child,D=r.child.memoizedState,D=D===null?Za(f):{baseLanes:D.baseLanes|f,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=r.childLanes&~f,i.memoizedState=Qa,p}return E=r.child,r=E.sibling,p=jr(E,{mode:"visible",children:p.children}),(i.mode&1)===0&&(p.lanes=f),p.return=i,p.sibling=null,r!==null&&(f=i.deletions,f===null?(i.deletions=[r],i.flags|=16):f.push(r)),i.child=p,i.memoizedState=null,p}function Ks(r,i){return i=ec({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ei(r,i,f,p){return p!==null&&Zr(p),Vt(i,r.child,null,f),r=Ks(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function He(r,i,f,p,w,E,D){if(f)return i.flags&256?(i.flags&=-257,p=Lu(Error(n(422))),Ei(r,i,D,p)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(E=p.fallback,w=i.mode,p=ec({mode:"visible",children:p.children},w,0,null),E=Yo(E,w,D,null),E.flags|=2,p.return=i,E.return=i,p.sibling=E,i.child=p,(i.mode&1)!==0&&Vt(i,r.child,null,D),i.child.memoizedState=Za(D),i.memoizedState=Qa,E);if((i.mode&1)===0)return Ei(r,i,D,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var U=p.dgst;return p=U,E=Error(n(419)),p=Lu(E,p,void 0),Ei(r,i,D,p)}if(U=(D&r.childLanes)!==0,Rn||U){if(p=ln,p!==null){switch(D&-D){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(p.suspendedLanes|D))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,vi(r,w),Lr(p,r,w,-1))}return Jf(),p=Lu(Error(n(421))),Ei(r,i,D,p)}return w.data==="$?"?(i.flags|=128,i.child=r.child,i=Sg.bind(null,r),w._reactRetry=i,null):(r=E.treeContext,Jn=Ki(w.nextSibling),Sn=i,At=!0,Pr=null,r!==null&&(cr[fr++]=Xr,cr[fr++]=qr,cr[fr++]=Mo,Xr=r.id,qr=r.overflow,Mo=i),i=Ks(i,p.children),i.flags|=4096,i)}function Ja(r,i,f){r.lanes|=i;var p=r.alternate;p!==null&&(p.lanes|=i),fn(r.return,i,f)}function el(r,i,f,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:w}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=f,E.tailMode=w)}function eo(r,i,f){var p=i.pendingProps,w=p.revealOrder,E=p.tail;if(dn(r,i,p.children,f),p=Dt.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ja(r,f,i);else if(r.tag===19)Ja(r,f,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Tt(Dt,p),(i.mode&1)===0)i.memoizedState=null;else switch(w){case"forwards":for(f=i.child,w=null;f!==null;)r=f.alternate,r!==null&&$o(r)===null&&(w=f),f=f.sibling;f=w,f===null?(w=i.child,i.child=null):(w=f.sibling,f.sibling=null),el(i,!1,w,f,E);break;case"backwards":for(f=null,w=i.child,i.child=null;w!==null;){if(r=w.alternate,r!==null&&$o(r)===null){i.child=w;break}r=w.sibling,w.sibling=f,f=w,w=r}el(i,!0,f,null,E);break;case"together":el(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Rr(r,i,f){if(r!==null&&(i.dependencies=r.dependencies),no|=i.lanes,(f&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,f=jr(r,r.pendingProps),i.child=f,f.return=i;r.sibling!==null;)r=r.sibling,f=f.sibling=jr(r,r.pendingProps),f.return=i;f.sibling=null}return i.child}function Zh(r,i,f){switch(i.tag){case 3:Qh(i),Qr();break;case 5:vf(i);break;case 1:Vn(i.type)&&ur(i);break;case 4:yf(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,w=i.memoizedProps.value;Tt(Ba,p._currentValue),p._currentValue=w;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(Tt(Dt,Dt.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?$u(r,i,f):(Tt(Dt,Dt.current&1),r=Rr(r,i,f),r!==null?r.sibling:null);Tt(Dt,Dt.current&1);break;case 19:if(p=(f&i.childLanes)!==0,(r.flags&128)!==0){if(p)return eo(r,i,f);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Tt(Dt,Dt.current),p)break;return null;case 22:case 23:return i.lanes=0,If(r,i,f)}return Rr(r,i,f)}var hn,Ff,Jh,Vf;hn=function(r,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ff=function(){},Jh=function(r,i,f,p){var w=r.memoizedProps;if(w!==p){r=i.stateNode,wi(Jr.current);var E=null;switch(f){case"input":w=Ue(r,w),p=Ue(r,p),E=[];break;case"select":w=G({},w,{value:void 0}),p=G({},p,{value:void 0}),E=[];break;case"textarea":w=Ze(r,w),p=Ze(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=cu)}go(f,p);var D;f=null;for(ce in w)if(!p.hasOwnProperty(ce)&&w.hasOwnProperty(ce)&&w[ce]!=null)if(ce==="style"){var U=w[ce];for(D in U)U.hasOwnProperty(D)&&(f||(f={}),f[D]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?E||(E=[]):(E=E||[]).push(ce,null));for(ce in p){var Q=p[ce];if(U=w!=null?w[ce]:void 0,p.hasOwnProperty(ce)&&Q!==U&&(Q!=null||U!=null))if(ce==="style")if(U){for(D in U)!U.hasOwnProperty(D)||Q&&Q.hasOwnProperty(D)||(f||(f={}),f[D]="");for(D in Q)Q.hasOwnProperty(D)&&U[D]!==Q[D]&&(f||(f={}),f[D]=Q[D])}else f||(E||(E=[]),E.push(ce,f)),f=Q;else ce==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,U=U?U.__html:void 0,Q!=null&&U!==Q&&(E=E||[]).push(ce,Q)):ce==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(ce,""+Q):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(Q!=null&&ce==="onScroll"&&Nt("scroll",r),E||U===Q||(E=[])):(E=E||[]).push(ce,Q))}f&&(E=E||[]).push("style",f);var ce=E;(i.updateQueue=ce)&&(i.flags|=4)}},Vf=function(r,i,f,p){f!==p&&(i.flags|=4)};function tl(r,i){if(!At)switch(r.tailMode){case"hidden":i=r.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function pn(r){var i=r.alternate!==null&&r.alternate.child===r.child,f=0,p=0;if(i)for(var w=r.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=f,i}function hg(r,i,f){var p=i.pendingProps;switch(Lo(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return Vn(i.type)&&pu(),pn(i),null;case 3:return p=i.stateNode,Zi(),Pt(Fn),Pt(xn),Cu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Fa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pr!==null&&(Gf(Pr),Pr=null))),Ff(r,i),pn(i),null;case 5:bu(i);var w=wi($s.current);if(f=i.type,r!==null&&i.stateNode!=null)Jh(r,i,f,p,w),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(n(166));return pn(i),null}if(r=wi(Jr.current),Fa(i)){p=i.stateNode,f=i.type;var E=i.memoizedProps;switch(p[Kr]=i,p[Yi]=E,r=(i.mode&1)!==0,f){case"dialog":Nt("cancel",p),Nt("close",p);break;case"iframe":case"object":case"embed":Nt("load",p);break;case"video":case"audio":for(w=0;w<pi.length;w++)Nt(pi[w],p);break;case"source":Nt("error",p);break;case"img":case"image":case"link":Nt("error",p),Nt("load",p);break;case"details":Nt("toggle",p);break;case"input":nt(p,E),Nt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Nt("invalid",p);break;case"textarea":Ke(p,E),Nt("invalid",p)}go(f,E),w=null;for(var D in E)if(E.hasOwnProperty(D)){var U=E[D];D==="children"?typeof U=="string"?p.textContent!==U&&(E.suppressHydrationWarning!==!0&&Ia(p.textContent,U,r),w=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(E.suppressHydrationWarning!==!0&&Ia(p.textContent,U,r),w=["children",""+U]):a.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&Nt("scroll",p)}switch(f){case"input":Ye(p),li(p,E,!0);break;case"textarea":Ye(p),St(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=cu)}p=w,i.updateQueue=p,p!==null&&(i.flags|=4)}else{D=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(f)),r==="http://www.w3.org/1999/xhtml"?f==="script"?(r=D.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=D.createElement(f,{is:p.is}):(r=D.createElement(f),f==="select"&&(D=r,p.multiple?D.multiple=!0:p.size&&(D.size=p.size))):r=D.createElementNS(r,f),r[Kr]=i,r[Yi]=p,hn(r,i,!1,!1),i.stateNode=r;e:{switch(D=yo(f,p),f){case"dialog":Nt("cancel",r),Nt("close",r),w=p;break;case"iframe":case"object":case"embed":Nt("load",r),w=p;break;case"video":case"audio":for(w=0;w<pi.length;w++)Nt(pi[w],r);w=p;break;case"source":Nt("error",r),w=p;break;case"img":case"image":case"link":Nt("error",r),Nt("load",r),w=p;break;case"details":Nt("toggle",r),w=p;break;case"input":nt(r,p),w=Ue(r,p),Nt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=G({},p,{value:void 0}),Nt("invalid",r);break;case"textarea":Ke(r,p),w=Ze(r,p),Nt("invalid",r);break;default:w=p}go(f,w),U=w;for(E in U)if(U.hasOwnProperty(E)){var Q=U[E];E==="style"?fs(r,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Yt(r,Q)):E==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&sn(r,Q):typeof Q=="number"&&sn(r,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&Nt("scroll",r):Q!=null&&A(r,E,Q,D))}switch(f){case"input":Ye(r),li(r,p,!1);break;case"textarea":Ye(r),St(r);break;case"option":p.value!=null&&r.setAttribute("value",""+ke(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?be(r,!!p.multiple,E,!1):p.defaultValue!=null&&be(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=cu)}switch(f){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return pn(i),null;case 6:if(r&&i.stateNode!=null)Vf(r,i,r.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(n(166));if(f=wi($s.current),wi(Jr.current),Fa(i)){if(p=i.stateNode,f=i.memoizedProps,p[Kr]=i,(E=p.nodeValue!==f)&&(r=Sn,r!==null))switch(r.tag){case 3:Ia(p.nodeValue,f,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ia(p.nodeValue,f,(r.mode&1)!==0)}E&&(i.flags|=4)}else p=(f.nodeType===9?f:f.ownerDocument).createTextNode(p),p[Kr]=i,i.stateNode=p}return pn(i),null;case 13:if(Pt(Dt),p=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(At&&Jn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)hf(),Qr(),i.flags|=98560,E=!1;else if(E=Fa(i),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Kr]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),E=!1}else Pr!==null&&(Gf(Pr),Pr=null),E=!0;if(!E)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Dt.current&1)!==0?en===0&&(en=3):Jf())),i.updateQueue!==null&&(i.flags|=4),pn(i),null);case 4:return Zi(),Ff(r,i),r===null&&Hi(i.stateNode.containerInfo),pn(i),null;case 10:return wu(i.type._context),pn(i),null;case 17:return Vn(i.type)&&pu(),pn(i),null;case 19:if(Pt(Dt),E=i.memoizedState,E===null)return pn(i),null;if(p=(i.flags&128)!==0,D=E.rendering,D===null)if(p)tl(E,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(D=$o(r),D!==null){for(i.flags|=128,tl(E,!1),p=D.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=f,f=i.child;f!==null;)E=f,r=p,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,r=D.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),f=f.sibling;return Tt(Dt,Dt.current&1|2),i.child}r=r.sibling}E.tail!==null&&Ct()>Uo&&(i.flags|=128,p=!0,tl(E,!1),i.lanes=4194304)}else{if(!p)if(r=$o(D),r!==null){if(i.flags|=128,p=!0,f=r.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),tl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!At)return pn(i),null}else 2*Ct()-E.renderingStartTime>Uo&&f!==1073741824&&(i.flags|=128,p=!0,tl(E,!1),i.lanes=4194304);E.isBackwards?(D.sibling=i.child,i.child=D):(f=E.last,f!==null?f.sibling=D:i.child=D,E.last=D)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=Ct(),i.sibling=null,f=Dt.current,Tt(Dt,p?f&1|2:f&1),i):(pn(i),null);case 22:case 23:return Zf(),p=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(i.flags|=8192),p&&(i.mode&1)!==0?(nr&1073741824)!==0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function pg(r,i){switch(Lo(i),i.tag){case 1:return Vn(i.type)&&pu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Zi(),Pt(Fn),Pt(xn),Cu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return bu(i),null;case 13:if(Pt(Dt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Qr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Pt(Dt),null;case 4:return Zi(),null;case 10:return wu(i.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var Vu=!1,Mt=!1,Dn=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ys(r,i){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){Ot(r,i,p)}else f.current=null}function nl(r,i,f){try{f()}catch(p){Ot(r,i,p)}}var ep=!1;function mg(r,i){if(La=Kl,r=xt(),Na(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var D=0,U=-1,Q=-1,ce=0,Se=0,Ce=r,xe=null;t:for(;;){for(var Me;Ce!==f||w!==0&&Ce.nodeType!==3||(U=D+w),Ce!==E||p!==0&&Ce.nodeType!==3||(Q=D+p),Ce.nodeType===3&&(D+=Ce.nodeValue.length),(Me=Ce.firstChild)!==null;)xe=Ce,Ce=Me;for(;;){if(Ce===r)break t;if(xe===f&&++ce===w&&(U=D),xe===E&&++Se===p&&(Q=D),(Me=Ce.nextSibling)!==null)break;Ce=xe,xe=Ce.parentNode}Ce=Me}f=U===-1||Q===-1?null:{start:U,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ro={focusedElem:r,selectionRange:f},Kl=!1,Ie=i;Ie!==null;)if(i=Ie,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ie=r;else for(;Ie!==null;){i=Ie;try{var Le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var je=Le.memoizedProps,zt=Le.memoizedState,oe=i.stateNode,te=oe.getSnapshotBeforeUpdate(i.elementType===i.type?je:gr(i.type,je),zt);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=i.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Te){Ot(i,i.return,Te)}if(r=i.sibling,r!==null){r.return=i.return,Ie=r;break}Ie=i.return}return Le=ep,ep=!1,Le}function bi(r,i,f){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&nl(i,f,E)}w=w.next}while(w!==p)}}function rl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&r)===r){var p=f.create;f.destroy=p()}f=f.next}while(f!==i)}}function Bu(r){var i=r.ref;if(i!==null){var f=r.stateNode;switch(r.tag){case 5:r=f;break;default:r=f}typeof i=="function"?i(r):i.current=r}}function tp(r){var i=r.alternate;i!==null&&(r.alternate=null,tp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Kr],delete i[Yi],delete i[du],delete i[I],delete i[Ds])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function np(r){return r.tag===5||r.tag===3||r.tag===4}function rp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||np(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bf(r,i,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(r,i):f.insertBefore(r,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(r,f)):(i=f,i.appendChild(r)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=cu));else if(p!==4&&(r=r.child,r!==null))for(Bf(r,i,f),r=r.sibling;r!==null;)Bf(r,i,f),r=r.sibling}function zu(r,i,f){var p=r.tag;if(p===5||p===6)r=r.stateNode,i?f.insertBefore(r,i):f.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(zu(r,i,f),r=r.sibling;r!==null;)zu(r,i,f),r=r.sibling}var an=null,Dr=!1;function ii(r,i,f){for(f=f.child;f!==null;)zf(r,i,f),f=f.sibling}function zf(r,i,f){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ms,f)}catch{}switch(f.tag){case 5:Mt||Ys(f,i);case 6:var p=an,w=Dr;an=null,ii(r,i,f),an=p,Dr=w,an!==null&&(Dr?(r=an,f=f.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)):an.removeChild(f.stateNode));break;case 18:an!==null&&(Dr?(r=an,f=f.stateNode,r.nodeType===8?cf(r.parentNode,f):r.nodeType===1&&cf(r,f),gt(r)):cf(an,f.stateNode));break;case 4:p=an,w=Dr,an=f.stateNode.containerInfo,Dr=!0,ii(r,i,f),an=p,Dr=w;break;case 0:case 11:case 14:case 15:if(!Mt&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&nl(f,i,D),w=w.next}while(w!==p)}ii(r,i,f);break;case 1:if(!Mt&&(Ys(f,i),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch(U){Ot(f,i,U)}ii(r,i,f);break;case 21:ii(r,i,f);break;case 22:f.mode&1?(Mt=(p=Mt)||f.memoizedState!==null,ii(r,i,f),Mt=p):ii(r,i,f);break;default:ii(r,i,f)}}function Xs(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new Dn),i.forEach(function(p){var w=_g.bind(null,r,p);f.has(p)||(f.add(p),p.then(w,w))})}}function tr(r,i){var f=i.deletions;if(f!==null)for(var p=0;p<f.length;p++){var w=f[p];try{var E=r,D=i,U=D;e:for(;U!==null;){switch(U.tag){case 5:an=U.stateNode,Dr=!1;break e;case 3:an=U.stateNode.containerInfo,Dr=!0;break e;case 4:an=U.stateNode.containerInfo,Dr=!0;break e}U=U.return}if(an===null)throw Error(n(160));zf(E,D,w),an=null,Dr=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(ce){Ot(w,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Uf(i,r),i=i.sibling}function Uf(r,i){var f=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tr(i,r),Mr(r),p&4){try{bi(3,r,r.return),rl(3,r)}catch(je){Ot(r,r.return,je)}try{bi(5,r,r.return)}catch(je){Ot(r,r.return,je)}}break;case 1:tr(i,r),Mr(r),p&512&&f!==null&&Ys(f,f.return);break;case 5:if(tr(i,r),Mr(r),p&512&&f!==null&&Ys(f,f.return),r.flags&32){var w=r.stateNode;try{sn(w,"")}catch(je){Ot(r,r.return,je)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,D=f!==null?f.memoizedProps:E,U=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{U==="input"&&E.type==="radio"&&E.name!=null&&Et(w,E),yo(U,D);var ce=yo(U,E);for(D=0;D<Q.length;D+=2){var Se=Q[D],Ce=Q[D+1];Se==="style"?fs(w,Ce):Se==="dangerouslySetInnerHTML"?Yt(w,Ce):Se==="children"?sn(w,Ce):A(w,Se,Ce,ce)}switch(U){case"input":cn(w,E);break;case"textarea":yt(w,E);break;case"select":var xe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Me=E.value;Me!=null?be(w,!!E.multiple,Me,!1):xe!==!!E.multiple&&(E.defaultValue!=null?be(w,!!E.multiple,E.defaultValue,!0):be(w,!!E.multiple,E.multiple?[]:"",!1))}w[Yi]=E}catch(je){Ot(r,r.return,je)}}break;case 6:if(tr(i,r),Mr(r),p&4){if(r.stateNode===null)throw Error(n(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(je){Ot(r,r.return,je)}}break;case 3:if(tr(i,r),Mr(r),p&4&&f!==null&&f.memoizedState.isDehydrated)try{gt(i.containerInfo)}catch(je){Ot(r,r.return,je)}break;case 4:tr(i,r),Mr(r);break;case 13:tr(i,r),Mr(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Kf=Ct())),p&4&&Xs(r);break;case 22:if(Se=f!==null&&f.memoizedState!==null,r.mode&1?(Mt=(ce=Mt)||Se,tr(i,r),Mt=ce):tr(i,r),Mr(r),p&8192){if(ce=r.memoizedState!==null,(r.stateNode.isHidden=ce)&&!Se&&(r.mode&1)!==0)for(Ie=r,Se=r.child;Se!==null;){for(Ce=Ie=Se;Ie!==null;){switch(xe=Ie,Me=xe.child,xe.tag){case 0:case 11:case 14:case 15:bi(4,xe,xe.return);break;case 1:Ys(xe,xe.return);var Le=xe.stateNode;if(typeof Le.componentWillUnmount=="function"){p=xe,f=xe.return;try{i=p,Le.props=i.memoizedProps,Le.state=i.memoizedState,Le.componentWillUnmount()}catch(je){Ot(p,f,je)}}break;case 5:Ys(xe,xe.return);break;case 22:if(xe.memoizedState!==null){to(Ce);continue}}Me!==null?(Me.return=xe,Ie=Me):to(Ce)}Se=Se.sibling}e:for(Se=null,Ce=r;;){if(Ce.tag===5){if(Se===null){Se=Ce;try{w=Ce.stateNode,ce?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(U=Ce.stateNode,Q=Ce.memoizedProps.style,D=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,U.style.display=cs("display",D))}catch(je){Ot(r,r.return,je)}}}else if(Ce.tag===6){if(Se===null)try{Ce.stateNode.nodeValue=ce?"":Ce.memoizedProps}catch(je){Ot(r,r.return,je)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===r)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===r)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===r)break e;Se===Ce&&(Se=null),Ce=Ce.return}Se===Ce&&(Se=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:tr(i,r),Mr(r),p&4&&Xs(r);break;case 21:break;default:tr(i,r),Mr(r)}}function Mr(r){var i=r.flags;if(i&2){try{e:{for(var f=r.return;f!==null;){if(np(f)){var p=f;break e}f=f.return}throw Error(n(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(sn(w,""),p.flags&=-33);var E=rp(r);zu(r,E,w);break;case 3:case 4:var D=p.stateNode.containerInfo,U=rp(r);Bf(r,U,D);break;default:throw Error(n(161))}}catch(Q){Ot(r,r.return,Q)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Uu(r,i,f){Ie=r,Hf(r)}function Hf(r,i,f){for(var p=(r.mode&1)!==0;Ie!==null;){var w=Ie,E=w.child;if(w.tag===22&&p){var D=w.memoizedState!==null||Vu;if(!D){var U=w.alternate,Q=U!==null&&U.memoizedState!==null||Mt;U=Vu;var ce=Mt;if(Vu=D,(Mt=Q)&&!ce)for(Ie=w;Ie!==null;)D=Ie,Q=D.child,D.tag===22&&D.memoizedState!==null?ip(w):Q!==null?(Q.return=D,Ie=Q):ip(w);for(;E!==null;)Ie=E,Hf(E),E=E.sibling;Ie=w,Vu=U,Mt=ce}Ir(r)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,Ie=E):Ir(r)}}function Ir(r){for(;Ie!==null;){var i=Ie;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||rl(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!Mt)if(f===null)p.componentDidMount();else{var w=i.elementType===i.type?f.memoizedProps:gr(i.type,f.memoizedProps);p.componentDidUpdate(w,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&gf(i,E,p);break;case 3:var D=i.updateQueue;if(D!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}gf(i,D,f)}break;case 5:var U=i.stateNode;if(f===null&&i.flags&4){f=U;var Q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var Se=ce.memoizedState;if(Se!==null){var Ce=Se.dehydrated;Ce!==null&&gt(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||i.flags&512&&Bu(i)}catch(xe){Ot(i,i.return,xe)}}if(i===r){Ie=null;break}if(f=i.sibling,f!==null){f.return=i.return,Ie=f;break}Ie=i.return}}function to(r){for(;Ie!==null;){var i=Ie;if(i===r){Ie=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Ie=f;break}Ie=i.return}}function ip(r){for(;Ie!==null;){var i=Ie;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{rl(4,i)}catch(Q){Ot(i,f,Q)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var w=i.return;try{p.componentDidMount()}catch(Q){Ot(i,w,Q)}}var E=i.return;try{Bu(i)}catch(Q){Ot(i,E,Q)}break;case 5:var D=i.return;try{Bu(i)}catch(Q){Ot(i,D,Q)}}}catch(Q){Ot(i,i.return,Q)}if(i===r){Ie=null;break}var U=i.sibling;if(U!==null){U.return=i.return,Ie=U;break}Ie=i.return}}var op=Math.ceil,Hu=L.ReactCurrentDispatcher,Wf=L.ReactCurrentOwner,yr=L.ReactCurrentBatchConfig,ct=0,ln=null,Gt=null,mn=0,nr=0,qs=$n(0),en=0,il=null,no=0,ol=0,Wu=0,sl=null,Un=null,Kf=0,Uo=1/0,Ci=null,Ku=!1,Yf=null,ro=null,Yu=!1,io=null,Mn=0,al=0,Xf=null,Xu=-1,ll=0;function In(){return(ct&6)!==0?Ct():Xu!==-1?Xu:Xu=Ct()}function oo(r){return(r.mode&1)===0?1:(ct&2)!==0&&mn!==0?mn&-mn:$h.transition!==null?(ll===0&&(ll=Bc()),ll):(r=mt,r!==0||(r=window.event,r=r===void 0?16:ch(r.type)),r)}function Lr(r,i,f,p){if(50<al)throw al=0,Xf=null,Error(n(185));_a(r,f,p),((ct&2)===0||r!==ln)&&(r===ln&&((ct&2)===0&&(ol|=f),en===4&&so(r,mn)),Hn(r,p),f===1&&ct===0&&(i.mode&1)===0&&(Uo=Ct()+500,mu&&qi()))}function Hn(r,i){var f=r.callbackNode;Vc(r,i);var p=Tr(r,r===ln?mn:0);if(p===0)f!==null&&jl(f),r.callbackNode=null,r.callbackPriority=0;else if(i=p&-p,r.callbackPriority!==i){if(f!=null&&jl(f),i===1)r.tag===0?Do(sp.bind(null,r)):Lh(sp.bind(null,r)),fu(function(){(ct&6)===0&&qi()}),f=null;else{switch(Co(p)){case 1:f=wa;break;case 4:f=Ol;break;case 16:f=Eo;break;case 536870912:f=ps;break;default:f=Eo}f=hp(f,qu.bind(null,r))}r.callbackPriority=i,r.callbackNode=f}}function qu(r,i){if(Xu=-1,ll=0,(ct&6)!==0)throw Error(n(327));var f=r.callbackNode;if(Gs()&&r.callbackNode!==f)return null;var p=Tr(r,r===ln?mn:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||i)i=Gu(r,p);else{i=p;var w=ct;ct|=2;var E=lp();(ln!==r||mn!==i)&&(Ci=null,Uo=Ct()+500,Wo(r,i));do try{vg();break}catch(U){ap(r,U)}while(!0);yi(),Hu.current=E,ct=w,Gt!==null?i=0:(ln=null,mn=0,i=en)}if(i!==0){if(i===2&&(w=bo(r),w!==0&&(p=w,i=qf(r,w))),i===1)throw f=il,Wo(r,0),so(r,p),Hn(r,Ct()),f;if(i===6)so(r,p);else{if(w=r.current.alternate,(p&30)===0&&!gg(w)&&(i=Gu(r,p),i===2&&(E=bo(r),E!==0&&(p=E,i=qf(r,E))),i===1))throw f=il,Wo(r,0),so(r,p),Hn(r,Ct()),f;switch(r.finishedWork=w,r.finishedLanes=p,i){case 0:case 1:throw Error(n(345));case 2:Ko(r,Un,Ci);break;case 3:if(so(r,p),(p&130023424)===p&&(i=Kf+500-Ct(),10<i)){if(Tr(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){In(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=Wi(Ko.bind(null,r,Un,Ci),i);break}Ko(r,Un,Ci);break;case 4:if(so(r,p),(p&4194240)===p)break;for(i=r.eventTimes,w=-1;0<p;){var D=31-qn(p);E=1<<D,D=i[D],D>w&&(w=D),p&=~E}if(p=w,p=Ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*op(p/1960))-p,10<p){r.timeoutHandle=Wi(Ko.bind(null,r,Un,Ci),p);break}Ko(r,Un,Ci);break;case 5:Ko(r,Un,Ci);break;default:throw Error(n(329))}}}return Hn(r,Ct()),r.callbackNode===f?qu.bind(null,r):null}function qf(r,i){var f=sl;return r.current.memoizedState.isDehydrated&&(Wo(r,i).flags|=256),r=Gu(r,i),r!==2&&(i=Un,Un=f,i!==null&&Gf(i)),r}function Gf(r){Un===null?Un=r:Un.push.apply(Un,r)}function gg(r){for(var i=r;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var w=f[p],E=w.getSnapshot;w=w.value;try{if(!le(E(),w))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function so(r,i){for(i&=~Wu,i&=~ol,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var f=31-qn(i),p=1<<f;r[f]=-1,i&=~p}}function sp(r){if((ct&6)!==0)throw Error(n(327));Gs();var i=Tr(r,0);if((i&1)===0)return Hn(r,Ct()),null;var f=Gu(r,i);if(r.tag!==0&&f===2){var p=bo(r);p!==0&&(i=p,f=qf(r,p))}if(f===1)throw f=il,Wo(r,0),so(r,i),Hn(r,Ct()),f;if(f===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ko(r,Un,Ci),Hn(r,Ct()),null}function Qf(r,i){var f=ct;ct|=1;try{return r(i)}finally{ct=f,ct===0&&(Uo=Ct()+500,mu&&qi())}}function Ho(r){io!==null&&io.tag===0&&(ct&6)===0&&Gs();var i=ct;ct|=1;var f=yr.transition,p=mt;try{if(yr.transition=null,mt=1,r)return r()}finally{mt=p,yr.transition=f,ct=i,(ct&6)===0&&qi()}}function Zf(){nr=qs.current,Pt(qs)}function Wo(r,i){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==-1&&(r.timeoutHandle=-1,Oa(f)),Gt!==null)for(f=Gt.return;f!==null;){var p=f;switch(Lo(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&pu();break;case 3:Zi(),Pt(Fn),Pt(xn),Cu();break;case 5:bu(p);break;case 4:Zi();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:wu(p.type._context);break;case 22:case 23:Zf()}f=f.return}if(ln=r,Gt=r=jr(r.current,null),mn=nr=i,en=0,il=null,Wu=ol=no=0,Un=sl=null,Oo!==null){for(i=0;i<Oo.length;i++)if(f=Oo[i],p=f.interleaved,p!==null){f.interleaved=null;var w=p.next,E=f.pending;if(E!==null){var D=E.next;E.next=w,p.next=D}f.pending=p}Oo=null}return r}function ap(r,i){do{var f=Gt;try{if(yi(),Ha.current=Ru,Fs){for(var p=jt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}Fs=!1}if(Ji=0,Jt=Bt=jt=null,Wa=!1,Fo=0,Wf.current=null,f===null||f.return===null){en=1,il=i,Gt=null;break}e:{var E=r,D=f.return,U=f,Q=i;if(i=mn,U.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ce=Q,Se=U,Ce=Se.tag;if((Se.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var xe=Se.alternate;xe?(Se.updateQueue=xe.updateQueue,Se.memoizedState=xe.memoizedState,Se.lanes=xe.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Me=qh(D);if(Me!==null){Me.flags&=-257,Df(Me,D,U,E,i),Me.mode&1&&Ga(E,ce,i),i=Me,Q=ce;var Le=i.updateQueue;if(Le===null){var je=new Set;je.add(Q),i.updateQueue=je}else Le.add(Q);break e}else{if((i&1)===0){Ga(E,ce,i),Jf();break e}Q=Error(n(426))}}else if(At&&U.mode&1){var zt=qh(D);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),Df(zt,D,U,E,i),Zr(zo(Q,U));break e}}E=Q=zo(Q,U),en!==4&&(en=2),sl===null?sl=[E]:sl.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var oe=qa(E,Q,i);Bh(E,oe);break e;case 1:U=Q;var te=E.type,ae=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ro===null||!ro.has(ae)))){E.flags|=65536,i&=-i,E.lanes|=i;var Te=ju(E,U,i);Bh(E,Te);break e}}E=E.return}while(E!==null)}cp(f)}catch(Fe){i=Fe,Gt===f&&f!==null&&(Gt=f=f.return);continue}break}while(!0)}function lp(){var r=Hu.current;return Hu.current=Ru,r===null?Ru:r}function Jf(){(en===0||en===3||en===2)&&(en=4),ln===null||(no&268435455)===0&&(ol&268435455)===0||so(ln,mn)}function Gu(r,i){var f=ct;ct|=2;var p=lp();(ln!==r||mn!==i)&&(Ci=null,Wo(r,i));do try{yg();break}catch(w){ap(r,w)}while(!0);if(yi(),ct=f,Hu.current=p,Gt!==null)throw Error(n(261));return ln=null,mn=0,en}function yg(){for(;Gt!==null;)up(Gt)}function vg(){for(;Gt!==null&&!_o();)up(Gt)}function up(r){var i=dp(r.alternate,r,nr);r.memoizedProps=r.pendingProps,i===null?cp(r):Gt=i,Wf.current=null}function cp(r){var i=r;do{var f=i.alternate;if(r=i.return,(i.flags&32768)===0){if(f=hg(f,i,nr),f!==null){Gt=f;return}}else{if(f=pg(f,i),f!==null){f.flags&=32767,Gt=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,Gt=null;return}}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=r}while(i!==null);en===0&&(en=5)}function Ko(r,i,f){var p=mt,w=yr.transition;try{yr.transition=null,mt=1,xg(r,i,f,p)}finally{yr.transition=w,mt=p}return null}function xg(r,i,f,p){do Gs();while(io!==null);if((ct&6)!==0)throw Error(n(327));f=r.finishedWork;var w=r.finishedLanes;if(f===null)return null;if(r.finishedWork=null,r.finishedLanes=0,f===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var E=f.lanes|f.childLanes;if(oh(r,E),r===ln&&(Gt=ln=null,mn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Yu||(Yu=!0,hp(Eo,function(){return Gs(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=yr.transition,yr.transition=null;var D=mt;mt=1;var U=ct;ct|=4,Wf.current=null,mg(r,f),Uf(f,r),ug(Ro),Kl=!!La,Ro=La=null,r.current=f,Uu(f),Oc(),ct=U,mt=D,yr.transition=E}else r.current=f;if(Yu&&(Yu=!1,io=r,Mn=w),E=r.pendingLanes,E===0&&(ro=null),Fc(f.stateNode),Hn(r,Ct()),i!==null)for(p=r.onRecoverableError,f=0;f<i.length;f++)w=i[f],p(w.value,{componentStack:w.stack,digest:w.digest});if(Ku)throw Ku=!1,r=Yf,Yf=null,r;return(Mn&1)!==0&&r.tag!==0&&Gs(),E=r.pendingLanes,(E&1)!==0?r===Xf?al++:(al=0,Xf=r):al=0,qi(),null}function Gs(){if(io!==null){var r=Co(Mn),i=yr.transition,f=mt;try{if(yr.transition=null,mt=16>r?16:r,io===null)var p=!1;else{if(r=io,io=null,Mn=0,(ct&6)!==0)throw Error(n(331));var w=ct;for(ct|=4,Ie=r.current;Ie!==null;){var E=Ie,D=E.child;if((Ie.flags&16)!==0){var U=E.deletions;if(U!==null){for(var Q=0;Q<U.length;Q++){var ce=U[Q];for(Ie=ce;Ie!==null;){var Se=Ie;switch(Se.tag){case 0:case 11:case 15:bi(8,Se,E)}var Ce=Se.child;if(Ce!==null)Ce.return=Se,Ie=Ce;else for(;Ie!==null;){Se=Ie;var xe=Se.sibling,Me=Se.return;if(tp(Se),Se===ce){Ie=null;break}if(xe!==null){xe.return=Me,Ie=xe;break}Ie=Me}}}var Le=E.alternate;if(Le!==null){var je=Le.child;if(je!==null){Le.child=null;do{var zt=je.sibling;je.sibling=null,je=zt}while(je!==null)}}Ie=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,Ie=D;else e:for(;Ie!==null;){if(E=Ie,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:bi(9,E,E.return)}var oe=E.sibling;if(oe!==null){oe.return=E.return,Ie=oe;break e}Ie=E.return}}var te=r.current;for(Ie=te;Ie!==null;){D=Ie;var ae=D.child;if((D.subtreeFlags&2064)!==0&&ae!==null)ae.return=D,Ie=ae;else e:for(D=te;Ie!==null;){if(U=Ie,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:rl(9,U)}}catch(Fe){Ot(U,U.return,Fe)}if(U===D){Ie=null;break e}var Te=U.sibling;if(Te!==null){Te.return=U.return,Ie=Te;break e}Ie=U.return}}if(ct=w,qi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ms,r)}catch{}p=!0}return p}finally{mt=f,yr.transition=i}}return!1}function Qu(r,i,f){i=zo(f,i),i=qa(r,i,1),r=pr(r,i,1),i=In(),r!==null&&(_a(r,1,i),Hn(r,i))}function Ot(r,i,f){if(r.tag===3)Qu(r,r,f);else for(;i!==null;){if(i.tag===3){Qu(i,r,f);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ro===null||!ro.has(p))){r=zo(f,r),r=ju(i,r,1),i=pr(i,r,1),r=In(),i!==null&&(_a(i,1,r),Hn(i,r));break}}i=i.return}}function wg(r,i,f){var p=r.pingCache;p!==null&&p.delete(i),i=In(),r.pingedLanes|=r.suspendedLanes&f,ln===r&&(mn&f)===f&&(en===4||en===3&&(mn&130023424)===mn&&500>Ct()-Kf?Wo(r,0):Wu|=f),Hn(r,i)}function fp(r,i){i===0&&((r.mode&1)===0?i=1:(i=gs,gs<<=1,(gs&130023424)===0&&(gs=4194304)));var f=In();r=vi(r,i),r!==null&&(_a(r,i,f),Hn(r,f))}function Sg(r){var i=r.memoizedState,f=0;i!==null&&(f=i.retryLane),fp(r,f)}function _g(r,i){var f=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(f=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(i),fp(r,f)}var dp;dp=function(r,i,f){if(r!==null)if(r.memoizedProps!==i.pendingProps||Fn.current)Rn=!0;else{if((r.lanes&f)===0&&(i.flags&128)===0)return Rn=!1,Zh(r,i,f);Rn=(r.flags&131072)!==0}else Rn=!1,At&&(i.flags&1048576)!==0&&jh(i,yu,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;Fu(r,i),r=i.pendingProps;var w=Is(i,xn.current);Qi(i,f),w=Vo(null,i,p,r,w,f);var E=ku();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Vn(p)?(E=!0,ur(i)):E=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,_u(i),w.updater=Iu,i.stateNode=w,w._reactInternals=i,Rf(i,p,r,f),i=$f(null,i,p,!0,E,f)):(i.tag=0,At&&E&&$a(i),dn(null,i,w,f),i=i.child),i;case 16:p=i.elementType;e:{switch(Fu(r,i),r=i.pendingProps,w=p._init,p=w(p._payload),i.type=p,w=i.tag=bg(p),r=gr(p,r),w){case 0:i=jf(null,i,p,r,f);break e;case 1:i=Of(null,i,p,r,f);break e;case 11:i=Gh(null,i,p,r,f);break e;case 14:i=Mf(null,i,p,gr(p.type,r),f);break e}throw Error(n(306,p,""))}return i;case 0:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:gr(p,w),jf(r,i,p,w,f);case 1:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:gr(p,w),Of(r,i,p,w,f);case 3:e:{if(Qh(i),r===null)throw Error(n(387));p=i.pendingProps,E=i.memoizedState,w=E.element,Vh(r,i),Os(i,p,null,f);var D=i.memoizedState;if(p=D.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){w=zo(Error(n(423)),i),i=ri(r,i,p,f,w);break e}else if(p!==w){w=zo(Error(n(424)),i),i=ri(r,i,p,f,w);break e}else for(Jn=Ki(i.stateNode.containerInfo.firstChild),Sn=i,At=!0,Pr=null,f=xu(i,null,p,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Qr(),p===w){i=Rr(r,i,f);break e}dn(r,i,p,f)}i=i.child}return i;case 5:return vf(i),r===null&&Bn(i),p=i.type,w=i.pendingProps,E=r!==null?r.memoizedProps:null,D=w.children,ja(p,w)?D=null:E!==null&&ja(p,E)&&(i.flags|=32),Lf(r,i),dn(r,i,D,f),i.child;case 6:return r===null&&Bn(i),null;case 13:return $u(r,i,f);case 4:return yf(i,i.stateNode.containerInfo),p=i.pendingProps,r===null?i.child=Vt(i,null,p,f):dn(r,i,p,f),i.child;case 11:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:gr(p,w),Gh(r,i,p,w,f);case 7:return dn(r,i,i.pendingProps,f),i.child;case 8:return dn(r,i,i.pendingProps.children,f),i.child;case 12:return dn(r,i,i.pendingProps.children,f),i.child;case 10:e:{if(p=i.type._context,w=i.pendingProps,E=i.memoizedProps,D=w.value,Tt(Ba,p._currentValue),p._currentValue=D,E!==null)if(le(E.value,D)){if(E.children===w.children&&!Fn.current){i=Rr(r,i,f);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var U=E.dependencies;if(U!==null){D=E.child;for(var Q=U.firstContext;Q!==null;){if(Q.context===p){if(E.tag===1){Q=xi(-1,f&-f),Q.tag=2;var ce=E.updateQueue;if(ce!==null){ce=ce.shared;var Se=ce.pending;Se===null?Q.next=Q:(Q.next=Se.next,Se.next=Q),ce.pending=Q}}E.lanes|=f,Q=E.alternate,Q!==null&&(Q.lanes|=f),fn(E.return,f,i),U.lanes|=f;break}Q=Q.next}}else if(E.tag===10)D=E.type===i.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(n(341));D.lanes|=f,U=D.alternate,U!==null&&(U.lanes|=f),fn(D,f,i),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===i){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}dn(r,i,w.children,f),i=i.child}return i;case 9:return w=i.type,p=i.pendingProps.children,Qi(i,f),w=dr(w),p=p(w),i.flags|=1,dn(r,i,p,f),i.child;case 14:return p=i.type,w=gr(p,i.pendingProps),w=gr(p.type,w),Mf(r,i,p,w,f);case 15:return ni(r,i,i.type,i.pendingProps,f);case 17:return p=i.type,w=i.pendingProps,w=i.elementType===p?w:gr(p,w),Fu(r,i),i.tag=1,Vn(p)?(r=!0,ur(i)):r=!1,Qi(i,f),Bo(i,p,w),Rf(i,p,w,f),$f(null,i,p,!0,r,f);case 19:return eo(r,i,f);case 22:return If(r,i,f)}throw Error(n(156,i.tag))};function hp(r,i){return Ll(r,i)}function Eg(r,i,f,p){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(r,i,f,p){return new Eg(r,i,f,p)}function Zu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bg(r){if(typeof r=="function")return Zu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===se)return 11;if(r===ne)return 14}return 2}function jr(r,i){var f=r.alternate;return f===null?(f=vr(r.tag,i,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=i,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,i=r.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function Ju(r,i,f,p,w,E){var D=2;if(p=r,typeof r=="function")Zu(r)&&(D=1);else if(typeof r=="string")D=5;else e:switch(r){case O:return Yo(f.children,w,E,i);case z:D=8,w|=8;break;case q:return r=vr(12,f,i,w|2),r.elementType=q,r.lanes=E,r;case ue:return r=vr(13,f,i,w),r.elementType=ue,r.lanes=E,r;case $:return r=vr(19,f,i,w),r.elementType=$,r.lanes=E,r;case H:return ec(f,w,E,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ee:D=10;break e;case fe:D=9;break e;case se:D=11;break e;case ne:D=14;break e;case Y:D=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=vr(D,f,i,w),i.elementType=r,i.type=p,i.lanes=E,i}function Yo(r,i,f,p){return r=vr(7,r,p,i),r.lanes=f,r}function ec(r,i,f,p){return r=vr(22,r,p,i),r.elementType=H,r.lanes=f,r.stateNode={isHidden:!1},r}function ed(r,i,f){return r=vr(6,r,null,i),r.lanes=f,r}function td(r,i,f){return i=vr(4,r.children!==null?r.children:[],r.key,i),i.lanes=f,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Cg(r,i,f,p,w){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function nd(r,i,f,p,w,E,D,U,Q){return r=new Cg(r,i,f,U,Q),i===1?(i=1,E===!0&&(i|=8)):i=0,E=vr(3,null,null,i),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},_u(E),r}function kg(r,i,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:r,containerInfo:i,implementation:f}}function pp(r){if(!r)return Xi;r=r._reactInternals;e:{if(Ur(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var f=r.type;if(Vn(f))return Mh(r,f,i)}return i}function mp(r,i,f,p,w,E,D,U,Q){return r=nd(f,p,!0,r,w,E,D,U,Q),r.context=pp(null),f=r.current,p=In(),w=oo(f),E=xi(p,w),E.callback=i??null,pr(f,E,w),r.current.lanes=w,_a(r,w,p),Hn(r,p),r}function tc(r,i,f,p){var w=i.current,E=In(),D=oo(w);return f=pp(f),i.context===null?i.context=f:i.pendingContext=f,i=xi(E,D),i.payload={element:r},p=p===void 0?null:p,p!==null&&(i.callback=p),r=pr(w,i,D),r!==null&&(Lr(r,w,D,E),Eu(r,w,D)),D}function nc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function gp(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<i?f:i}}function rd(r,i){gp(r,i),(r=r.alternate)&&gp(r,i)}function Tg(){return null}var yp=typeof reportError=="function"?reportError:function(r){console.error(r)};function rc(r){this._internalRoot=r}ul.prototype.render=rc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));tc(r,i,null,null)},ul.prototype.unmount=rc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ho(function(){tc(null,r,null,null)}),i[Zn]=null}};function ul(r){this._internalRoot=r}ul.prototype.unstable_scheduleHydration=function(r){if(r){var i=Uc();r={blockedOn:null,target:r,priority:i};for(var f=0;f<Vi.length&&i!==0&&i<Vi[f].priority;f++);Vi.splice(f,0,r),f===0&&lh(r)}};function id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vp(){}function Ng(r,i,f,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var ce=nc(D);E.call(ce)}}var D=mp(i,p,r,0,null,!1,!1,"",vp);return r._reactRootContainer=D,r[Zn]=D.current,Hi(r.nodeType===8?r.parentNode:r),Ho(),D}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var U=p;p=function(){var ce=nc(Q);U.call(ce)}}var Q=nd(r,0,!1,null,null,!1,!1,"",vp);return r._reactRootContainer=Q,r[Zn]=Q.current,Hi(r.nodeType===8?r.parentNode:r),Ho(function(){tc(i,Q,f,p)}),Q}function Xo(r,i,f,p,w){var E=f._reactRootContainer;if(E){var D=E;if(typeof w=="function"){var U=w;w=function(){var Q=nc(D);U.call(Q)}}tc(i,D,r,w)}else D=Ng(f,i,r,w,p);return nc(D)}zc=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var f=ji(i.pendingLanes);f!==0&&(Ea(i,f|1),Hn(i,Ct()),(ct&6)===0&&(Uo=Ct()+500,qi()))}break;case 13:Ho(function(){var p=vi(r,1);if(p!==null){var w=In();Lr(p,r,1,w)}}),rd(r,1)}},Ul=function(r){if(r.tag===13){var i=vi(r,134217728);if(i!==null){var f=In();Lr(i,r,134217728,f)}rd(r,134217728)}},sh=function(r){if(r.tag===13){var i=oo(r),f=vi(r,i);if(f!==null){var p=In();Lr(f,r,i,p)}rd(r,i)}},Uc=function(){return mt},Hc=function(r,i){var f=mt;try{return mt=r,i()}finally{mt=f}},ha=function(r,i,f){switch(i){case"input":if(cn(r,f),i=f.name,f.type==="radio"&&i!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var p=f[i];if(p!==r&&p.form===r.form){var w=hu(p);if(!w)throw Error(n(90));Ne(p),cn(p,w)}}}break;case"textarea":yt(r,f);break;case"select":i=f.value,i!=null&&be(r,!!f.multiple,i,!1)}},Pl=Qf,ma=Ho;var Pg={usingClientEntryPoint:!1,Events:[vn,et,hu,pa,Nl,Qf]},cl={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ag={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ml(r),r===null?null:r.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||Tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ms=oc.inject(Ag),sr=oc}catch{}}return _r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pg,_r.createPortal=function(r,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(i))throw Error(n(200));return kg(r,i,null,f)},_r.createRoot=function(r,i){if(!id(r))throw Error(n(299));var f=!1,p="",w=yp;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=nd(r,1,!1,null,null,f,!1,p,w),r[Zn]=i.current,Hi(r.nodeType===8?r.parentNode:r),new rc(i)},_r.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Ml(i),r=r===null?null:r.stateNode,r},_r.flushSync=function(r){return Ho(r)},_r.hydrate=function(r,i,f){if(!ic(i))throw Error(n(200));return Xo(null,r,i,!0,f)},_r.hydrateRoot=function(r,i,f){if(!id(r))throw Error(n(405));var p=f!=null&&f.hydratedSources||null,w=!1,E="",D=yp;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(D=f.onRecoverableError)),i=mp(i,null,r,1,f??null,w,!1,E,D),r[Zn]=i.current,Hi(r),p)for(r=0;r<p.length;r++)f=p[r],w=f._getVersion,w=w(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,w]:i.mutableSourceEagerHydrationData.push(f,w);return new ul(i)},_r.render=function(r,i,f){if(!ic(i))throw Error(n(200));return Xo(null,r,i,!1,f)},_r.unmountComponentAtNode=function(r){if(!ic(r))throw Error(n(40));return r._reactRootContainer?(Ho(function(){Xo(null,null,r,!1,function(){r._reactRootContainer=null,r[Zn]=null})}),!0):!1},_r.unstable_batchedUpdates=Qf,_r.unstable_renderSubtreeIntoContainer=function(r,i,f,p){if(!ic(f))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Xo(r,i,f,!1,p)},_r.version="18.3.1-next-f1338f8080-20240426",_r}var Yv;function z1(){if(Yv)return Wg.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wg.exports=Bk(),Wg.exports}var Xv;function zk(){if(Xv)return Ep;Xv=1;var e=z1();return Ep.createRoot=e.createRoot,Ep.hydrateRoot=e.hydrateRoot,Ep}var Uk=zk();const Hk=yy(Uk);var qv={},Wk="@vercel/analytics",Kk="1.5.0",Yk=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function U1(){return typeof window<"u"}function H1(){try{const e="production"}catch{}return"production"}function Xk(e="auto"){if(e==="auto"){window.vam=H1();return}window.vam=e}function qk(){return(U1()?window.vam:H1())||"production"}function k0(){return qk()==="development"}function Gk(e){return e.scriptSrc?e.scriptSrc:k0()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function Qk(e={debug:!0}){var t;if(!U1())return;Xk(e.mode),Yk(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=Gk(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.dataset.sdkn=Wk+(e.framework?`/${e.framework}`:""),o.dataset.sdkv=Kk,e.disableAutoTrack&&(o.dataset.disableAutoTrack="1"),e.endpoint?o.dataset.endpoint=e.endpoint:e.basePath&&(o.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(o.dataset.dsn=e.dsn),o.onerror=()=>{const a=k0()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${a}`)},k0()&&e.debug===!1&&(o.dataset.debug="false"),document.head.appendChild(o)}function Zk({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function Jk(){if(!(typeof process>"u"||typeof qv>"u"))return qv.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function eT(e){return P.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),P.useEffect(()=>{Qk({framework:e.framework||"react",basePath:e.basePath??Jk(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),P.useEffect(()=>{e.route&&e.path&&Zk({route:e.route,path:e.path})},[e.route,e.path]),null}function on(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=on(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var tT={value:()=>{}};function gm(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new $p(n)}function $p(e){this._=e}function nT(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",a=n.indexOf(".");if(a>=0&&(o=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}$p.prototype=gm.prototype={constructor:$p,on:function(e,t){var n=this._,o=nT(e+"",n),a,u=-1,c=o.length;if(arguments.length<2){for(;++u<c;)if((a=(e=o[u]).type)&&(a=rT(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(a=(e=o[u]).type)n[a]=Gv(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Gv(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $p(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),o=0,a,u;o<a;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],o=0,a=u.length;o<a;++o)u[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],a=0,u=o.length;a<u;++a)o[a].value.apply(t,n)}};function rT(e,t){for(var n=0,o=e.length,a;n<o;++n)if((a=e[n]).name===t)return a.value}function Gv(e,t,n){for(var o=0,a=e.length;o<a;++o)if(e[o].name===t){e[o]=tT,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var T0="http://www.w3.org/1999/xhtml";const Qv={svg:"http://www.w3.org/2000/svg",xhtml:T0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ym(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Qv.hasOwnProperty(t)?{space:Qv[t],local:e}:e}function iT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===T0&&t.documentElement.namespaceURI===T0?t.createElement(e):t.createElementNS(n,e)}}function oT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function W1(e){var t=ym(e);return(t.local?oT:iT)(t)}function sT(){}function xy(e){return e==null?sT:function(){return this.querySelector(e)}}function aT(e){typeof e!="function"&&(e=xy(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=o[a]=new Array(c),h,m,y=0;y<c;++y)(h=u[y])&&(m=e.call(h,h.__data__,y,u))&&("__data__"in h&&(m.__data__=h.__data__),d[y]=m);return new zr(o,this._parents)}function lT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uT(){return[]}function K1(e){return e==null?uT:function(){return this.querySelectorAll(e)}}function cT(e){return function(){return lT(e.apply(this,arguments))}}function fT(e){typeof e=="function"?e=cT(e):e=K1(e);for(var t=this._groups,n=t.length,o=[],a=[],u=0;u<n;++u)for(var c=t[u],d=c.length,h,m=0;m<d;++m)(h=c[m])&&(o.push(e.call(h,h.__data__,m,c)),a.push(h));return new zr(o,a)}function Y1(e){return function(){return this.matches(e)}}function X1(e){return function(t){return t.matches(e)}}var dT=Array.prototype.find;function hT(e){return function(){return dT.call(this.children,e)}}function pT(){return this.firstElementChild}function mT(e){return this.select(e==null?pT:hT(typeof e=="function"?e:X1(e)))}var gT=Array.prototype.filter;function yT(){return Array.from(this.children)}function vT(e){return function(){return gT.call(this.children,e)}}function xT(e){return this.selectAll(e==null?yT:vT(typeof e=="function"?e:X1(e)))}function wT(e){typeof e!="function"&&(e=Y1(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=o[a]=[],h,m=0;m<c;++m)(h=u[m])&&e.call(h,h.__data__,m,u)&&d.push(h);return new zr(o,this._parents)}function q1(e){return new Array(e.length)}function ST(){return new zr(this._enter||this._groups.map(q1),this._parents)}function Gp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gp.prototype={constructor:Gp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _T(e){return function(){return e}}function ET(e,t,n,o,a,u){for(var c=0,d,h=t.length,m=u.length;c<m;++c)(d=t[c])?(d.__data__=u[c],o[c]=d):n[c]=new Gp(e,u[c]);for(;c<h;++c)(d=t[c])&&(a[c]=d)}function bT(e,t,n,o,a,u,c){var d,h,m=new Map,y=t.length,x=u.length,v=new Array(y),S;for(d=0;d<y;++d)(h=t[d])&&(v[d]=S=c.call(h,h.__data__,d,t)+"",m.has(S)?a[d]=h:m.set(S,h));for(d=0;d<x;++d)S=c.call(e,u[d],d,u)+"",(h=m.get(S))?(o[d]=h,h.__data__=u[d],m.delete(S)):n[d]=new Gp(e,u[d]);for(d=0;d<y;++d)(h=t[d])&&m.get(v[d])===h&&(a[d]=h)}function CT(e){return e.__data__}function kT(e,t){if(!arguments.length)return Array.from(this,CT);var n=t?bT:ET,o=this._parents,a=this._groups;typeof e!="function"&&(e=_T(e));for(var u=a.length,c=new Array(u),d=new Array(u),h=new Array(u),m=0;m<u;++m){var y=o[m],x=a[m],v=x.length,S=TT(e.call(y,y&&y.__data__,m,o)),_=S.length,T=d[m]=new Array(_),N=c[m]=new Array(_),C=h[m]=new Array(v);n(y,x,T,N,C,S,t);for(var M=0,A=0,L,B;M<_;++M)if(L=T[M]){for(M>=A&&(A=M+1);!(B=N[A])&&++A<_;);L._next=B||null}}return c=new zr(c,o),c._enter=d,c._exit=h,c}function TT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NT(){return new zr(this._exit||this._groups.map(q1),this._parents)}function PT(e,t,n){var o=this.enter(),a=this,u=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?u.remove():n(u),o&&a?o.merge(a).order():a}function AT(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,a=n.length,u=o.length,c=Math.min(a,u),d=new Array(a),h=0;h<c;++h)for(var m=n[h],y=o[h],x=m.length,v=d[h]=new Array(x),S,_=0;_<x;++_)(S=m[_]||y[_])&&(v[_]=S);for(;h<a;++h)d[h]=n[h];return new zr(d,this._parents)}function RT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],a=o.length-1,u=o[a],c;--a>=0;)(c=o[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function DT(e){e||(e=MT);function t(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}for(var n=this._groups,o=n.length,a=new Array(o),u=0;u<o;++u){for(var c=n[u],d=c.length,h=a[u]=new Array(d),m,y=0;y<d;++y)(m=c[y])&&(h[y]=m);h.sort(t)}return new zr(a,this._parents).order()}function MT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function IT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function LT(){return Array.from(this)}function jT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],a=0,u=o.length;a<u;++a){var c=o[a];if(c)return c}return null}function OT(){let e=0;for(const t of this)++e;return e}function $T(){return!this.node()}function FT(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var a=t[n],u=0,c=a.length,d;u<c;++u)(d=a[u])&&e.call(d,d.__data__,u,a);return this}function VT(e){return function(){this.removeAttribute(e)}}function BT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zT(e,t){return function(){this.setAttribute(e,t)}}function UT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function HT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KT(e,t){var n=ym(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?BT:VT:typeof t=="function"?n.local?WT:HT:n.local?UT:zT)(n,t))}function G1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YT(e){return function(){this.style.removeProperty(e)}}function XT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qT(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function GT(e,t,n){return arguments.length>1?this.each((t==null?YT:typeof t=="function"?qT:XT)(e,t,n??"")):yc(this.node(),e)}function yc(e,t){return e.style.getPropertyValue(t)||G1(e).getComputedStyle(e,null).getPropertyValue(t)}function QT(e){return function(){delete this[e]}}function ZT(e,t){return function(){this[e]=t}}function JT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function eN(e,t){return arguments.length>1?this.each((t==null?QT:typeof t=="function"?JT:ZT)(e,t)):this.node()[e]}function Q1(e){return e.trim().split(/^|\s+/)}function wy(e){return e.classList||new Z1(e)}function Z1(e){this._node=e,this._names=Q1(e.getAttribute("class")||"")}Z1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function J1(e,t){for(var n=wy(e),o=-1,a=t.length;++o<a;)n.add(t[o])}function eS(e,t){for(var n=wy(e),o=-1,a=t.length;++o<a;)n.remove(t[o])}function tN(e){return function(){J1(this,e)}}function nN(e){return function(){eS(this,e)}}function rN(e,t){return function(){(t.apply(this,arguments)?J1:eS)(this,e)}}function iN(e,t){var n=Q1(e+"");if(arguments.length<2){for(var o=wy(this.node()),a=-1,u=n.length;++a<u;)if(!o.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?rN:t?tN:nN)(n,t))}function oN(){this.textContent=""}function sN(e){return function(){this.textContent=e}}function aN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function lN(e){return arguments.length?this.each(e==null?oN:(typeof e=="function"?aN:sN)(e)):this.node().textContent}function uN(){this.innerHTML=""}function cN(e){return function(){this.innerHTML=e}}function fN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dN(e){return arguments.length?this.each(e==null?uN:(typeof e=="function"?fN:cN)(e)):this.node().innerHTML}function hN(){this.nextSibling&&this.parentNode.appendChild(this)}function pN(){return this.each(hN)}function mN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gN(){return this.each(mN)}function yN(e){var t=typeof e=="function"?e:W1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vN(){return null}function xN(e,t){var n=typeof e=="function"?e:W1(e),o=t==null?vN:typeof t=="function"?t:xy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function wN(){var e=this.parentNode;e&&e.removeChild(this)}function SN(){return this.each(wN)}function _N(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bN(e){return this.select(e?EN:_N)}function CN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kN(e){return function(t){e.call(this,t,this.__data__)}}function TN(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function NN(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,a=t.length,u;n<a;++n)u=t[n],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++o]=u;++o?t.length=o:delete this.__on}}}function PN(e,t,n){return function(){var o=this.__on,a,u=kN(t);if(o){for(var c=0,d=o.length;c<d;++c)if((a=o[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=n),a.value=t;return}}this.addEventListener(e.type,u,n),a={type:e.type,name:e.name,value:t,listener:u,options:n},o?o.push(a):this.__on=[a]}}function AN(e,t,n){var o=TN(e+""),a,u=o.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,m=d.length,y;h<m;++h)for(a=0,y=d[h];a<u;++a)if((c=o[a]).type===y.type&&c.name===y.name)return y.value}return}for(d=t?PN:NN,a=0;a<u;++a)this.each(d(o[a],t,n));return this}function tS(e,t,n){var o=G1(e),a=o.CustomEvent;typeof a=="function"?a=new a(t,n):(a=o.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function RN(e,t){return function(){return tS(this,e,t)}}function DN(e,t){return function(){return tS(this,e,t.apply(this,arguments))}}function MN(e,t){return this.each((typeof t=="function"?DN:RN)(e,t))}function*IN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],a=0,u=o.length,c;a<u;++a)(c=o[a])&&(yield c)}var nS=[null];function zr(e,t){this._groups=e,this._parents=t}function Kd(){return new zr([[document.documentElement]],nS)}function LN(){return this}zr.prototype=Kd.prototype={constructor:zr,select:aT,selectAll:fT,selectChild:mT,selectChildren:xT,filter:wT,data:kT,enter:ST,exit:NT,join:PT,merge:AT,selection:LN,order:RT,sort:DT,call:IT,nodes:LT,node:jT,size:OT,empty:$T,each:FT,attr:KT,style:GT,property:eN,classed:iN,text:lN,html:dN,raise:pN,lower:gN,append:yN,insert:xN,remove:SN,clone:bN,datum:CN,on:AN,dispatch:MN,[Symbol.iterator]:IN};function Vr(e){return typeof e=="string"?new zr([[document.querySelector(e)]],[document.documentElement]):new zr([[e]],nS)}function jN(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pi(e,t){if(e=jN(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const ON={passive:!1},kd={capture:!0,passive:!1};function Xg(e){e.stopImmediatePropagation()}function mc(e){e.preventDefault(),e.stopImmediatePropagation()}function rS(e){var t=e.document.documentElement,n=Vr(e).on("dragstart.drag",mc,kd);"onselectstart"in t?n.on("selectstart.drag",mc,kd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function iS(e,t){var n=e.document.documentElement,o=Vr(e).on("dragstart.drag",null);t&&(o.on("click.drag",mc,kd),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bp=e=>()=>e;function N0(e,{sourceEvent:t,subject:n,target:o,identifier:a,active:u,x:c,y:d,dx:h,dy:m,dispatch:y}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:y}})}N0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $N(e){return!e.ctrlKey&&!e.button}function FN(){return this.parentNode}function VN(e,t){return t??{x:e.x,y:e.y}}function BN(){return navigator.maxTouchPoints||"ontouchstart"in this}function oS(){var e=$N,t=FN,n=VN,o=BN,a={},u=gm("start","drag","end"),c=0,d,h,m,y,x=0;function v(L){L.on("mousedown.drag",S).filter(o).on("touchstart.drag",N).on("touchmove.drag",C,ON).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(L,B){if(!(y||!e.call(this,L,B))){var X=A(this,t.call(this,L,B),L,B,"mouse");X&&(Vr(L.view).on("mousemove.drag",_,kd).on("mouseup.drag",T,kd),rS(L.view),Xg(L),m=!1,d=L.clientX,h=L.clientY,X("start",L))}}function _(L){if(mc(L),!m){var B=L.clientX-d,X=L.clientY-h;m=B*B+X*X>x}a.mouse("drag",L)}function T(L){Vr(L.view).on("mousemove.drag mouseup.drag",null),iS(L.view,m),mc(L),a.mouse("end",L)}function N(L,B){if(e.call(this,L,B)){var X=L.changedTouches,O=t.call(this,L,B),z=X.length,q,ee;for(q=0;q<z;++q)(ee=A(this,O,L,B,X[q].identifier,X[q]))&&(Xg(L),ee("start",L,X[q]))}}function C(L){var B=L.changedTouches,X=B.length,O,z;for(O=0;O<X;++O)(z=a[B[O].identifier])&&(mc(L),z("drag",L,B[O]))}function M(L){var B=L.changedTouches,X=B.length,O,z;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),O=0;O<X;++O)(z=a[B[O].identifier])&&(Xg(L),z("end",L,B[O]))}function A(L,B,X,O,z,q){var ee=u.copy(),fe=Pi(q||X,B),se,ue,$;if(($=n.call(L,new N0("beforestart",{sourceEvent:X,target:v,identifier:z,active:c,x:fe[0],y:fe[1],dx:0,dy:0,dispatch:ee}),O))!=null)return se=$.x-fe[0]||0,ue=$.y-fe[1]||0,function ne(Y,H,F){var K=fe,G;switch(Y){case"start":a[z]=ne,G=c++;break;case"end":delete a[z],--c;case"drag":fe=Pi(F||H,B),G=c;break}ee.call(Y,L,new N0(Y,{sourceEvent:H,subject:$,target:v,identifier:z,active:G,x:fe[0]+se,y:fe[1]+ue,dx:fe[0]-K[0],dy:fe[1]-K[1],dispatch:ee}),O)}}return v.filter=function(L){return arguments.length?(e=typeof L=="function"?L:bp(!!L),v):e},v.container=function(L){return arguments.length?(t=typeof L=="function"?L:bp(L),v):t},v.subject=function(L){return arguments.length?(n=typeof L=="function"?L:bp(L),v):n},v.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:bp(!!L),v):o},v.on=function(){var L=u.on.apply(u,arguments);return L===u?v:L},v.clickDistance=function(L){return arguments.length?(x=(L=+L)*L,v):Math.sqrt(x)},v}function Sy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sS(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Yd(){}var Td=.7,Qp=1/Td,gc="\\s*([+-]?\\d+)\\s*",Nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zN=/^#([0-9a-f]{3,8})$/,UN=new RegExp(`^rgb\\(${gc},${gc},${gc}\\)$`),HN=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),WN=new RegExp(`^rgba\\(${gc},${gc},${gc},${Nd}\\)$`),KN=new RegExp(`^rgba\\(${uo},${uo},${uo},${Nd}\\)$`),YN=new RegExp(`^hsl\\(${Nd},${uo},${uo}\\)$`),XN=new RegExp(`^hsla\\(${Nd},${uo},${uo},${Nd}\\)$`),Zv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sy(Yd,Pd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jv,formatHex:Jv,formatHex8:qN,formatHsl:GN,formatRgb:ex,toString:ex});function Jv(){return this.rgb().formatHex()}function qN(){return this.rgb().formatHex8()}function GN(){return aS(this).formatHsl()}function ex(){return this.rgb().formatRgb()}function Pd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zN.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tx(t):n===3?new Er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UN.exec(e))?new Er(t[1],t[2],t[3],1):(t=HN.exec(e))?new Er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WN.exec(e))?Cp(t[1],t[2],t[3],t[4]):(t=KN.exec(e))?Cp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YN.exec(e))?ix(t[1],t[2]/100,t[3]/100,1):(t=XN.exec(e))?ix(t[1],t[2]/100,t[3]/100,t[4]):Zv.hasOwnProperty(e)?tx(Zv[e]):e==="transparent"?new Er(NaN,NaN,NaN,0):null}function tx(e){return new Er(e>>16&255,e>>8&255,e&255,1)}function Cp(e,t,n,o){return o<=0&&(e=t=n=NaN),new Er(e,t,n,o)}function QN(e){return e instanceof Yd||(e=Pd(e)),e?(e=e.rgb(),new Er(e.r,e.g,e.b,e.opacity)):new Er}function P0(e,t,n,o){return arguments.length===1?QN(e):new Er(e,t,n,o??1)}function Er(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Sy(Er,P0,sS(Yd,{brighter(e){return e=e==null?Qp:Math.pow(Qp,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Td:Math.pow(Td,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(xl(this.r),xl(this.g),xl(this.b),Zp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nx,formatHex:nx,formatHex8:ZN,formatRgb:rx,toString:rx}));function nx(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}`}function ZN(){return`#${gl(this.r)}${gl(this.g)}${gl(this.b)}${gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function rx(){const e=Zp(this.opacity);return`${e===1?"rgb(":"rgba("}${xl(this.r)}, ${xl(this.g)}, ${xl(this.b)}${e===1?")":`, ${e})`}`}function Zp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gl(e){return e=xl(e),(e<16?"0":"")+e.toString(16)}function ix(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ai(e,t,n,o)}function aS(e){if(e instanceof Ai)return new Ai(e.h,e.s,e.l,e.opacity);if(e instanceof Yd||(e=Pd(e)),!e)return new Ai;if(e instanceof Ai)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),u=Math.max(t,n,o),c=NaN,d=u-a,h=(u+a)/2;return d?(t===u?c=(n-o)/d+(n<o)*6:n===u?c=(o-t)/d+2:c=(t-n)/d+4,d/=h<.5?u+a:2-u-a,c*=60):d=h>0&&h<1?0:c,new Ai(c,d,h,e.opacity)}function JN(e,t,n,o){return arguments.length===1?aS(e):new Ai(e,t,n,o??1)}function Ai(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Sy(Ai,JN,sS(Yd,{brighter(e){return e=e==null?Qp:Math.pow(Qp,e),new Ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Td:Math.pow(Td,e),new Ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,a=2*n-o;return new Er(qg(e>=240?e-240:e+120,a,o),qg(e,a,o),qg(e<120?e+240:e-120,a,o),this.opacity)},clamp(){return new Ai(ox(this.h),kp(this.s),kp(this.l),Zp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zp(this.opacity);return`${e===1?"hsl(":"hsla("}${ox(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ox(e){return e=(e||0)%360,e<0?e+360:e}function kp(e){return Math.max(0,Math.min(1,e||0))}function qg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lS=e=>()=>e;function eP(e,t){return function(n){return e+n*t}}function tP(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function nP(e){return(e=+e)==1?uS:function(t,n){return n-t?tP(t,n,e):lS(isNaN(t)?n:t)}}function uS(e,t){var n=t-e;return n?eP(e,n):lS(isNaN(e)?t:e)}const sx=function e(t){var n=nP(t);function o(a,u){var c=n((a=P0(a)).r,(u=P0(u)).r),d=n(a.g,u.g),h=n(a.b,u.b),m=uS(a.opacity,u.opacity);return function(y){return a.r=c(y),a.g=d(y),a.b=h(y),a.opacity=m(y),a+""}}return o.gamma=e,o}(1);function ta(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var A0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gg=new RegExp(A0.source,"g");function rP(e){return function(){return e}}function iP(e){return function(t){return e(t)+""}}function oP(e,t){var n=A0.lastIndex=Gg.lastIndex=0,o,a,u,c=-1,d=[],h=[];for(e=e+"",t=t+"";(o=A0.exec(e))&&(a=Gg.exec(t));)(u=a.index)>n&&(u=t.slice(n,u),d[c]?d[c]+=u:d[++c]=u),(o=o[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:ta(o,a)})),n=Gg.lastIndex;return n<t.length&&(u=t.slice(n),d[c]?d[c]+=u:d[++c]=u),d.length<2?h[0]?iP(h[0].x):rP(t):(t=h.length,function(m){for(var y=0,x;y<t;++y)d[(x=h[y]).i]=x.x(m);return d.join("")})}var ax=180/Math.PI,R0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cS(e,t,n,o,a,u){var c,d,h;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(h=e*n+t*o)&&(n-=e*h,o-=t*h),(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d,h/=d),e*o<t*n&&(e=-e,t=-t,h=-h,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(t,e)*ax,skewX:Math.atan(h)*ax,scaleX:c,scaleY:d}}var Tp;function sP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?R0:cS(t.a,t.b,t.c,t.d,t.e,t.f)}function aP(e){return e==null||(Tp||(Tp=document.createElementNS("http://www.w3.org/2000/svg","g")),Tp.setAttribute("transform",e),!(e=Tp.transform.baseVal.consolidate()))?R0:(e=e.matrix,cS(e.a,e.b,e.c,e.d,e.e,e.f))}function fS(e,t,n,o){function a(m){return m.length?m.pop()+" ":""}function u(m,y,x,v,S,_){if(m!==x||y!==v){var T=S.push("translate(",null,t,null,n);_.push({i:T-4,x:ta(m,x)},{i:T-2,x:ta(y,v)})}else(x||v)&&S.push("translate("+x+t+v+n)}function c(m,y,x,v){m!==y?(m-y>180?y+=360:y-m>180&&(m+=360),v.push({i:x.push(a(x)+"rotate(",null,o)-2,x:ta(m,y)})):y&&x.push(a(x)+"rotate("+y+o)}function d(m,y,x,v){m!==y?v.push({i:x.push(a(x)+"skewX(",null,o)-2,x:ta(m,y)}):y&&x.push(a(x)+"skewX("+y+o)}function h(m,y,x,v,S,_){if(m!==x||y!==v){var T=S.push(a(S)+"scale(",null,",",null,")");_.push({i:T-4,x:ta(m,x)},{i:T-2,x:ta(y,v)})}else(x!==1||v!==1)&&S.push(a(S)+"scale("+x+","+v+")")}return function(m,y){var x=[],v=[];return m=e(m),y=e(y),u(m.translateX,m.translateY,y.translateX,y.translateY,x,v),c(m.rotate,y.rotate,x,v),d(m.skewX,y.skewX,x,v),h(m.scaleX,m.scaleY,y.scaleX,y.scaleY,x,v),m=y=null,function(S){for(var _=-1,T=v.length,N;++_<T;)x[(N=v[_]).i]=N.x(S);return x.join("")}}}var lP=fS(sP,"px, ","px)","deg)"),uP=fS(aP,", ",")",")"),cP=1e-12;function lx(e){return((e=Math.exp(e))+1/e)/2}function fP(e){return((e=Math.exp(e))-1/e)/2}function dP(e){return((e=Math.exp(2*e))-1)/(e+1)}const hP=function e(t,n,o){function a(u,c){var d=u[0],h=u[1],m=u[2],y=c[0],x=c[1],v=c[2],S=y-d,_=x-h,T=S*S+_*_,N,C;if(T<cP)C=Math.log(v/m)/t,N=function(O){return[d+O*S,h+O*_,m*Math.exp(t*O*C)]};else{var M=Math.sqrt(T),A=(v*v-m*m+o*T)/(2*m*n*M),L=(v*v-m*m-o*T)/(2*v*n*M),B=Math.log(Math.sqrt(A*A+1)-A),X=Math.log(Math.sqrt(L*L+1)-L);C=(X-B)/t,N=function(O){var z=O*C,q=lx(B),ee=m/(n*M)*(q*dP(t*z+B)-fP(B));return[d+ee*S,h+ee*_,m*q/lx(t*z+B)]}}return N.duration=C*1e3*t/Math.SQRT2,N}return a.rho=function(u){var c=Math.max(.001,+u),d=c*c,h=d*d;return e(c,d,h)},a}(Math.SQRT2,2,4);var vc=0,hd=0,ad=0,dS=1e3,Jp,pd,em=0,El=0,vm=0,Ad=typeof performance=="object"&&performance.now?performance:Date,hS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _y(){return El||(hS(pP),El=Ad.now()+vm)}function pP(){El=0}function tm(){this._call=this._time=this._next=null}tm.prototype=pS.prototype={constructor:tm,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_y():+n)+(t==null?0:+t),!this._next&&pd!==this&&(pd?pd._next=this:Jp=this,pd=this),this._call=e,this._time=n,D0()},stop:function(){this._call&&(this._call=null,this._time=1/0,D0())}};function pS(e,t,n){var o=new tm;return o.restart(e,t,n),o}function mP(){_y(),++vc;for(var e=Jp,t;e;)(t=El-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vc}function ux(){El=(em=Ad.now())+vm,vc=hd=0;try{mP()}finally{vc=0,yP(),El=0}}function gP(){var e=Ad.now(),t=e-em;t>dS&&(vm-=t,em=e)}function yP(){for(var e,t=Jp,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jp=n);pd=e,D0(o)}function D0(e){if(!vc){hd&&(hd=clearTimeout(hd));var t=e-El;t>24?(e<1/0&&(hd=setTimeout(ux,e-Ad.now()-vm)),ad&&(ad=clearInterval(ad))):(ad||(em=Ad.now(),ad=setInterval(gP,dS)),vc=1,hS(ux))}}function cx(e,t,n){var o=new tm;return t=t==null?0:+t,o.restart(a=>{o.stop(),e(a+t)},t,n),o}var vP=gm("start","end","cancel","interrupt"),xP=[],mS=0,fx=1,M0=2,Fp=3,dx=4,I0=5,Vp=6;function xm(e,t,n,o,a,u){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;wP(e,n,{name:t,index:o,group:a,on:vP,tween:xP,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:mS})}function Ey(e,t){var n=Mi(e,t);if(n.state>mS)throw new Error("too late; already scheduled");return n}function ho(e,t){var n=Mi(e,t);if(n.state>Fp)throw new Error("too late; already running");return n}function Mi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wP(e,t,n){var o=e.__transition,a;o[t]=n,n.timer=pS(u,0,n.time);function u(m){n.state=fx,n.timer.restart(c,n.delay,n.time),n.delay<=m&&c(m-n.delay)}function c(m){var y,x,v,S;if(n.state!==fx)return h();for(y in o)if(S=o[y],S.name===n.name){if(S.state===Fp)return cx(c);S.state===dx?(S.state=Vp,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete o[y]):+y<t&&(S.state=Vp,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete o[y])}if(cx(function(){n.state===Fp&&(n.state=dx,n.timer.restart(d,n.delay,n.time),d(m))}),n.state=M0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===M0){for(n.state=Fp,a=new Array(v=n.tween.length),y=0,x=-1;y<v;++y)(S=n.tween[y].value.call(e,e.__data__,n.index,n.group))&&(a[++x]=S);a.length=x+1}}function d(m){for(var y=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(h),n.state=I0,1),x=-1,v=a.length;++x<v;)a[x].call(e,y);n.state===I0&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=Vp,n.timer.stop(),delete o[t];for(var m in o)return;delete e.__transition}}function Bp(e,t){var n=e.__transition,o,a,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((o=n[c]).name!==t){u=!1;continue}a=o.state>M0&&o.state<I0,o.state=Vp,o.timer.stop(),o.on.call(a?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[c]}u&&delete e.__transition}}function SP(e){return this.each(function(){Bp(this,e)})}function _P(e,t){var n,o;return function(){var a=ho(this,e),u=a.tween;if(u!==n){o=n=u;for(var c=0,d=o.length;c<d;++c)if(o[c].name===t){o=o.slice(),o.splice(c,1);break}}a.tween=o}}function EP(e,t,n){var o,a;if(typeof n!="function")throw new Error;return function(){var u=ho(this,e),c=u.tween;if(c!==o){a=(o=c).slice();for(var d={name:t,value:n},h=0,m=a.length;h<m;++h)if(a[h].name===t){a[h]=d;break}h===m&&a.push(d)}u.tween=a}}function bP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Mi(this.node(),n).tween,a=0,u=o.length,c;a<u;++a)if((c=o[a]).name===e)return c.value;return null}return this.each((t==null?_P:EP)(n,e,t))}function by(e,t,n){var o=e._id;return e.each(function(){var a=ho(this,o);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Mi(a,o).value[t]}}function gS(e,t){var n;return(typeof t=="number"?ta:t instanceof Pd?sx:(n=Pd(t))?(t=n,sx):oP)(e,t)}function CP(e){return function(){this.removeAttribute(e)}}function kP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TP(e,t,n){var o,a=n+"",u;return function(){var c=this.getAttribute(e);return c===a?null:c===o?u:u=t(o=c,n)}}function NP(e,t,n){var o,a=n+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===o?u:u=t(o=c,n)}}function PP(e,t,n){var o,a,u;return function(){var c,d=n(this),h;return d==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=d+"",c===h?null:c===o&&h===a?u:(a=h,u=t(o=c,d)))}}function AP(e,t,n){var o,a,u;return function(){var c,d=n(this),h;return d==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=d+"",c===h?null:c===o&&h===a?u:(a=h,u=t(o=c,d)))}}function RP(e,t){var n=ym(e),o=n==="transform"?uP:gS;return this.attrTween(e,typeof t=="function"?(n.local?AP:PP)(n,o,by(this,"attr."+e,t)):t==null?(n.local?kP:CP)(n):(n.local?NP:TP)(n,o,t))}function DP(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function MP(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function IP(e,t){var n,o;function a(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&MP(e,u)),n}return a._value=t,a}function LP(e,t){var n,o;function a(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&DP(e,u)),n}return a._value=t,a}function jP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ym(e);return this.tween(n,(o.local?IP:LP)(o,t))}function OP(e,t){return function(){Ey(this,e).delay=+t.apply(this,arguments)}}function $P(e,t){return t=+t,function(){Ey(this,e).delay=t}}function FP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OP:$P)(t,e)):Mi(this.node(),t).delay}function VP(e,t){return function(){ho(this,e).duration=+t.apply(this,arguments)}}function BP(e,t){return t=+t,function(){ho(this,e).duration=t}}function zP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?VP:BP)(t,e)):Mi(this.node(),t).duration}function UP(e,t){if(typeof t!="function")throw new Error;return function(){ho(this,e).ease=t}}function HP(e){var t=this._id;return arguments.length?this.each(UP(t,e)):Mi(this.node(),t).ease}function WP(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ho(this,e).ease=n}}function KP(e){if(typeof e!="function")throw new Error;return this.each(WP(this._id,e))}function YP(e){typeof e!="function"&&(e=Y1(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var u=t[a],c=u.length,d=o[a]=[],h,m=0;m<c;++m)(h=u[m])&&e.call(h,h.__data__,m,u)&&d.push(h);return new is(o,this._parents,this._name,this._id)}function XP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,a=n.length,u=Math.min(o,a),c=new Array(o),d=0;d<u;++d)for(var h=t[d],m=n[d],y=h.length,x=c[d]=new Array(y),v,S=0;S<y;++S)(v=h[S]||m[S])&&(x[S]=v);for(;d<o;++d)c[d]=t[d];return new is(c,this._parents,this._name,this._id)}function qP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function GP(e,t,n){var o,a,u=qP(t)?Ey:ho;return function(){var c=u(this,e),d=c.on;d!==o&&(a=(o=d).copy()).on(t,n),c.on=a}}function QP(e,t){var n=this._id;return arguments.length<2?Mi(this.node(),n).on.on(e):this.each(GP(n,e,t))}function ZP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JP(){return this.on("end.remove",ZP(this._id))}function eA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xy(e));for(var o=this._groups,a=o.length,u=new Array(a),c=0;c<a;++c)for(var d=o[c],h=d.length,m=u[c]=new Array(h),y,x,v=0;v<h;++v)(y=d[v])&&(x=e.call(y,y.__data__,v,d))&&("__data__"in y&&(x.__data__=y.__data__),m[v]=x,xm(m[v],t,n,v,m,Mi(y,n)));return new is(u,this._parents,t,n)}function tA(e){var t=this._name,n=this._id;typeof e!="function"&&(e=K1(e));for(var o=this._groups,a=o.length,u=[],c=[],d=0;d<a;++d)for(var h=o[d],m=h.length,y,x=0;x<m;++x)if(y=h[x]){for(var v=e.call(y,y.__data__,x,h),S,_=Mi(y,n),T=0,N=v.length;T<N;++T)(S=v[T])&&xm(S,t,n,T,v,_);u.push(v),c.push(y)}return new is(u,c,t,n)}var nA=Kd.prototype.constructor;function rA(){return new nA(this._groups,this._parents)}function iA(e,t){var n,o,a;return function(){var u=yc(this,e),c=(this.style.removeProperty(e),yc(this,e));return u===c?null:u===n&&c===o?a:a=t(n=u,o=c)}}function yS(e){return function(){this.style.removeProperty(e)}}function oA(e,t,n){var o,a=n+"",u;return function(){var c=yc(this,e);return c===a?null:c===o?u:u=t(o=c,n)}}function sA(e,t,n){var o,a,u;return function(){var c=yc(this,e),d=n(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(e),yc(this,e))),c===h?null:c===o&&h===a?u:(a=h,u=t(o=c,d))}}function aA(e,t){var n,o,a,u="style."+t,c="end."+u,d;return function(){var h=ho(this,e),m=h.on,y=h.value[u]==null?d||(d=yS(t)):void 0;(m!==n||a!==y)&&(o=(n=m).copy()).on(c,a=y),h.on=o}}function lA(e,t,n){var o=(e+="")=="transform"?lP:gS;return t==null?this.styleTween(e,iA(e,o)).on("end.style."+e,yS(e)):typeof t=="function"?this.styleTween(e,sA(e,o,by(this,"style."+e,t))).each(aA(this._id,e)):this.styleTween(e,oA(e,o,t),n).on("end.style."+e,null)}function uA(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function cA(e,t,n){var o,a;function u(){var c=t.apply(this,arguments);return c!==a&&(o=(a=c)&&uA(e,c,n)),o}return u._value=t,u}function fA(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,cA(e,t,n??""))}function dA(e){return function(){this.textContent=e}}function hA(e){return function(){var t=e(this);this.textContent=t??""}}function pA(e){return this.tween("text",typeof e=="function"?hA(by(this,"text",e)):dA(e==null?"":e+""))}function mA(e){return function(t){this.textContent=e.call(this,t)}}function gA(e){var t,n;function o(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&mA(a)),t}return o._value=e,o}function yA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gA(e))}function vA(){for(var e=this._name,t=this._id,n=vS(),o=this._groups,a=o.length,u=0;u<a;++u)for(var c=o[u],d=c.length,h,m=0;m<d;++m)if(h=c[m]){var y=Mi(h,t);xm(h,e,n,m,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new is(o,this._parents,e,n)}function xA(){var e,t,n=this,o=n._id,a=n.size();return new Promise(function(u,c){var d={value:c},h={value:function(){--a===0&&u()}};n.each(function(){var m=ho(this,o),y=m.on;y!==e&&(t=(e=y).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(h)),m.on=t}),a===0&&u()})}var wA=0;function is(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function vS(){return++wA}var Zo=Kd.prototype;is.prototype={constructor:is,select:eA,selectAll:tA,selectChild:Zo.selectChild,selectChildren:Zo.selectChildren,filter:YP,merge:XP,selection:rA,transition:vA,call:Zo.call,nodes:Zo.nodes,node:Zo.node,size:Zo.size,empty:Zo.empty,each:Zo.each,on:QP,attr:RP,attrTween:jP,style:lA,styleTween:fA,text:pA,textTween:yA,remove:JP,tween:bP,delay:FP,duration:zP,ease:HP,easeVarying:KP,end:xA,[Symbol.iterator]:Zo[Symbol.iterator]};function SA(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _A={time:null,delay:0,duration:250,ease:SA};function EA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bA(e){var t,n;e instanceof is?(t=e._id,e=e._name):(t=vS(),(n=_A).time=_y(),e=e==null?null:e+"");for(var o=this._groups,a=o.length,u=0;u<a;++u)for(var c=o[u],d=c.length,h,m=0;m<d;++m)(h=c[m])&&xm(h,e,t,m,c,n||EA(h,t));return new is(o,this._parents,e,t)}Kd.prototype.interrupt=SP;Kd.prototype.transition=bA;const Np=e=>()=>e;function CA(e,{sourceEvent:t,target:n,transform:o,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function Jo(e,t,n){this.k=e,this.x=t,this.y=n}Jo.prototype={constructor:Jo,scale:function(e){return e===1?this:new Jo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Jo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wm=new Jo(1,0,0);xS.prototype=Jo.prototype;function xS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wm;return e.__zoom}function Qg(e){e.stopImmediatePropagation()}function ld(e){e.preventDefault(),e.stopImmediatePropagation()}function kA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function TA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hx(){return this.__zoom||wm}function NA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function PA(){return navigator.maxTouchPoints||"ontouchstart"in this}function AA(e,t,n){var o=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],u=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function wS(){var e=kA,t=TA,n=AA,o=NA,a=PA,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=hP,m=gm("start","zoom","end"),y,x,v,S=500,_=150,T=0,N=10;function C($){$.property("__zoom",hx).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",ee).filter(a).on("touchstart.zoom",fe).on("touchmove.zoom",se).on("touchend.zoom touchcancel.zoom",ue).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function($,ne,Y,H){var F=$.selection?$.selection():$;F.property("__zoom",hx),$!==F?B($,ne,Y,H):F.interrupt().each(function(){X(this,arguments).event(H).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},C.scaleBy=function($,ne,Y,H){C.scaleTo($,function(){var F=this.__zoom.k,K=typeof ne=="function"?ne.apply(this,arguments):ne;return F*K},Y,H)},C.scaleTo=function($,ne,Y,H){C.transform($,function(){var F=t.apply(this,arguments),K=this.__zoom,G=Y==null?L(F):typeof Y=="function"?Y.apply(this,arguments):Y,V=K.invert(G),J=typeof ne=="function"?ne.apply(this,arguments):ne;return n(A(M(K,J),G,V),F,c)},Y,H)},C.translateBy=function($,ne,Y,H){C.transform($,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof Y=="function"?Y.apply(this,arguments):Y),t.apply(this,arguments),c)},null,H)},C.translateTo=function($,ne,Y,H,F){C.transform($,function(){var K=t.apply(this,arguments),G=this.__zoom,V=H==null?L(K):typeof H=="function"?H.apply(this,arguments):H;return n(wm.translate(V[0],V[1]).scale(G.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof Y=="function"?-Y.apply(this,arguments):-Y),K,c)},H,F)};function M($,ne){return ne=Math.max(u[0],Math.min(u[1],ne)),ne===$.k?$:new Jo(ne,$.x,$.y)}function A($,ne,Y){var H=ne[0]-Y[0]*$.k,F=ne[1]-Y[1]*$.k;return H===$.x&&F===$.y?$:new Jo($.k,H,F)}function L($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function B($,ne,Y,H){$.on("start.zoom",function(){X(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(H).end()}).tween("zoom",function(){var F=this,K=arguments,G=X(F,K).event(H),V=t.apply(F,K),J=Y==null?L(V):typeof Y=="function"?Y.apply(F,K):Y,ge=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),ye=F.__zoom,we=typeof ne=="function"?ne.apply(F,K):ne,ve=h(ye.invert(J).concat(ge/ye.k),we.invert(J).concat(ge/we.k));return function(_e){if(_e===1)_e=we;else{var ke=ve(_e),Re=ge/ke[2];_e=new Jo(Re,J[0]-ke[0]*Re,J[1]-ke[1]*Re)}G.zoom(null,_e)}})}function X($,ne,Y){return!Y&&$.__zooming||new O($,ne)}function O($,ne){this.that=$,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=t.apply($,ne),this.taps=0}O.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,ne){return this.mouse&&$!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var ne=Vr(this.that).datum();m.call($,this.that,new CA($,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:m}),ne)}};function z($,...ne){if(!e.apply(this,arguments))return;var Y=X(this,ne).event($),H=this.__zoom,F=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,o.apply(this,arguments)))),K=Pi($);if(Y.wheel)(Y.mouse[0][0]!==K[0]||Y.mouse[0][1]!==K[1])&&(Y.mouse[1]=H.invert(Y.mouse[0]=K)),clearTimeout(Y.wheel);else{if(H.k===F)return;Y.mouse=[K,H.invert(K)],Bp(this),Y.start()}ld($),Y.wheel=setTimeout(G,_),Y.zoom("mouse",n(A(M(H,F),Y.mouse[0],Y.mouse[1]),Y.extent,c));function G(){Y.wheel=null,Y.end()}}function q($,...ne){if(v||!e.apply(this,arguments))return;var Y=$.currentTarget,H=X(this,ne,!0).event($),F=Vr($.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",ge,!0),K=Pi($,Y),G=$.clientX,V=$.clientY;rS($.view),Qg($),H.mouse=[K,this.__zoom.invert(K)],Bp(this),H.start();function J(ye){if(ld(ye),!H.moved){var we=ye.clientX-G,ve=ye.clientY-V;H.moved=we*we+ve*ve>T}H.event(ye).zoom("mouse",n(A(H.that.__zoom,H.mouse[0]=Pi(ye,Y),H.mouse[1]),H.extent,c))}function ge(ye){F.on("mousemove.zoom mouseup.zoom",null),iS(ye.view,H.moved),ld(ye),H.event(ye).end()}}function ee($,...ne){if(e.apply(this,arguments)){var Y=this.__zoom,H=Pi($.changedTouches?$.changedTouches[0]:$,this),F=Y.invert(H),K=Y.k*($.shiftKey?.5:2),G=n(A(M(Y,K),H,F),t.apply(this,ne),c);ld($),d>0?Vr(this).transition().duration(d).call(B,G,H,$):Vr(this).call(C.transform,G,H,$)}}function fe($,...ne){if(e.apply(this,arguments)){var Y=$.touches,H=Y.length,F=X(this,ne,$.changedTouches.length===H).event($),K,G,V,J;for(Qg($),G=0;G<H;++G)V=Y[G],J=Pi(V,this),J=[J,this.__zoom.invert(J),V.identifier],F.touch0?!F.touch1&&F.touch0[2]!==J[2]&&(F.touch1=J,F.taps=0):(F.touch0=J,K=!0,F.taps=1+!!y);y&&(y=clearTimeout(y)),K&&(F.taps<2&&(x=J[0],y=setTimeout(function(){y=null},S)),Bp(this),F.start())}}function se($,...ne){if(this.__zooming){var Y=X(this,ne).event($),H=$.changedTouches,F=H.length,K,G,V,J;for(ld($),K=0;K<F;++K)G=H[K],V=Pi(G,this),Y.touch0&&Y.touch0[2]===G.identifier?Y.touch0[0]=V:Y.touch1&&Y.touch1[2]===G.identifier&&(Y.touch1[0]=V);if(G=Y.that.__zoom,Y.touch1){var ge=Y.touch0[0],ye=Y.touch0[1],we=Y.touch1[0],ve=Y.touch1[1],_e=(_e=we[0]-ge[0])*_e+(_e=we[1]-ge[1])*_e,ke=(ke=ve[0]-ye[0])*ke+(ke=ve[1]-ye[1])*ke;G=M(G,Math.sqrt(_e/ke)),V=[(ge[0]+we[0])/2,(ge[1]+we[1])/2],J=[(ye[0]+ve[0])/2,(ye[1]+ve[1])/2]}else if(Y.touch0)V=Y.touch0[0],J=Y.touch0[1];else return;Y.zoom("touch",n(A(G,V,J),Y.extent,c))}}function ue($,...ne){if(this.__zooming){var Y=X(this,ne).event($),H=$.changedTouches,F=H.length,K,G;for(Qg($),v&&clearTimeout(v),v=setTimeout(function(){v=null},S),K=0;K<F;++K)G=H[K],Y.touch0&&Y.touch0[2]===G.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===G.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(G=Pi(G,this),Math.hypot(x[0]-G[0],x[1]-G[1])<N)){var V=Vr(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return C.wheelDelta=function($){return arguments.length?(o=typeof $=="function"?$:Np(+$),C):o},C.filter=function($){return arguments.length?(e=typeof $=="function"?$:Np(!!$),C):e},C.touchable=function($){return arguments.length?(a=typeof $=="function"?$:Np(!!$),C):a},C.extent=function($){return arguments.length?(t=typeof $=="function"?$:Np([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),C):t},C.scaleExtent=function($){return arguments.length?(u[0]=+$[0],u[1]=+$[1],C):[u[0],u[1]]},C.translateExtent=function($){return arguments.length?(c[0][0]=+$[0][0],c[1][0]=+$[1][0],c[0][1]=+$[0][1],c[1][1]=+$[1][1],C):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},C.constrain=function($){return arguments.length?(n=$,C):n},C.duration=function($){return arguments.length?(d=+$,C):d},C.interpolate=function($){return arguments.length?(h=$,C):h},C.on=function(){var $=m.on.apply(m,arguments);return $===m?C:$},C.clickDistance=function($){return arguments.length?(T=($=+$)*$,C):Math.sqrt(T)},C.tapDistance=function($){return arguments.length?(N=+$,C):N},C}const as={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Rd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],SS=["Enter"," ","Escape"];var xc;(function(e){e.Strict="strict",e.Loose="loose"})(xc||(xc={}));var wl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(wl||(wl={}));var Dd;(function(e){e.Partial="partial",e.Full="full"})(Dd||(Dd={}));const _S={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var na;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(na||(na={}));var nm;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nm||(nm={}));var Oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Oe||(Oe={}));const px={[Oe.Left]:Oe.Right,[Oe.Right]:Oe.Left,[Oe.Top]:Oe.Bottom,[Oe.Bottom]:Oe.Top};function ES(e){return e===null?null:e?"valid":"invalid"}const bS=e=>"id"in e&&"source"in e&&"target"in e,RA=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Cy=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),DA=(e,t,n)=>{if(!e.id)return[];const o=new Set;return n.forEach(a=>{a.source===e.id&&o.add(a.target)}),t.filter(a=>o.has(a.id))},MA=(e,t,n)=>{if(!e.id)return[];const o=new Set;return n.forEach(a=>{a.target===e.id&&o.add(a.source)}),t.filter(a=>o.has(a.id))},Xd=(e,t=[0,0])=>{const{width:n,height:o}=ls(e),a=e.origin??t,u=n*a[0],c=o*a[1];return{x:e.position.x-u,y:e.position.y-c}},IA=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,a)=>{const u=typeof a=="string";let c=!t.nodeLookup&&!u?a:void 0;t.nodeLookup&&(c=u?t.nodeLookup.get(a):Cy(a)?a:t.nodeLookup.get(a.id));const d=c?rm(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sm(o,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return _m(n)},kc=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(o=>{if(t.filter===void 0||t.filter(o)){const a=rm(o);n=Sm(n,a)}}),_m(n)},CS=(e,t,[n,o,a]=[0,0,1],u=!1,c=!1)=>{const d={...qd(t,[n,o,a]),width:t.width/a,height:t.height/a},h=[];for(const m of e.values()){const{measured:y,selectable:x=!0,hidden:v=!1}=m;if(c&&!x||v)continue;const S=y.width??m.width??m.initialWidth??null,_=y.height??m.height??m.initialHeight??null,T=Md(d,Sc(m)),N=(S??0)*(_??0),C=u&&T>0;(!m.internals.handleBounds||C||T>=N||m.dragging)&&h.push(m)}return h},kS=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function L0(e,t){const n=new Map,o=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!o||o.has(a.id))&&n.set(a.id,a)}),n}async function j0({nodes:e,width:t,height:n,panZoom:o,minZoom:a,maxZoom:u},c){if(e.size===0)return Promise.resolve(!1);const d=kc(e),h=ky(d,t,n,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await o.setViewport(h,{duration:c==null?void 0:c.duration}),Promise.resolve(!0)}function TS({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:a,onError:u}){const c=n.get(e),d=c.parentId?n.get(c.parentId):void 0,{x:h,y:m}=d?d.internals.positionAbsolute:{x:0,y:0},y=c.origin??o;let x=a;if(c.extent==="parent"&&!c.expandParent)if(!d)u==null||u("005",as.error005());else{const S=d.measured.width,_=d.measured.height;S&&_&&(x=[[h,m],[h+S,m+_]])}else d&&_c(c.extent)&&(x=[[c.extent[0][0]+h,c.extent[0][1]+m],[c.extent[1][0]+h,c.extent[1][1]+m]]);const v=_c(x)?bl(t,x,c.measured):t;return{position:{x:v.x-h+c.measured.width*y[0],y:v.y-m+c.measured.height*y[1]},positionAbsolute:v}}async function LA({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:a}){const u=new Set(e.map(v=>v.id)),c=[];for(const v of n){if(v.deletable===!1)continue;const S=u.has(v.id),_=!S&&v.parentId&&c.find(T=>T.id===v.parentId);(S||_)&&c.push(v)}const d=new Set(t.map(v=>v.id)),h=o.filter(v=>v.deletable!==!1),y=kS(c,h);for(const v of h)d.has(v.id)&&!y.find(_=>_.id===v.id)&&y.push(v);if(!a)return{edges:y,nodes:c};const x=await a({nodes:c,edges:y});return typeof x=="boolean"?x?{edges:y,nodes:c}:{edges:[],nodes:[]}:x}const wc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),bl=(e={x:0,y:0},t,n)=>({x:wc(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:wc(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function NS(e,t,n){const{width:o,height:a}=ls(n),{x:u,y:c}=n.internals.positionAbsolute;return bl(e,[[u,c],[u+o,c+a]],t)}const mx=(e,t,n)=>e<t?wc(Math.abs(e-t),1,t)/t:e>n?-wc(Math.abs(e-n),1,t)/t:0,PS=(e,t,n=15,o=40)=>{const a=mx(e.x,o,t.width-o)*n,u=mx(e.y,o,t.height-o)*n;return[a,u]},Sm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),O0=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),_m=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Sc=(e,t=[0,0])=>{var a,u;const{x:n,y:o}=Cy(e)?e.internals.positionAbsolute:Xd(e,t);return{x:n,y:o,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0}},rm=(e,t=[0,0])=>{var a,u;const{x:n,y:o}=Cy(e)?e.internals.positionAbsolute:Xd(e,t);return{x:n,y:o,x2:n+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:o+(((u=e.measured)==null?void 0:u.height)??e.height??e.initialHeight??0)}},AS=(e,t)=>_m(Sm(O0(e),O0(t))),Md=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},gx=e=>Ri(e.width)&&Ri(e.height)&&Ri(e.x)&&Ri(e.y),Ri=e=>!isNaN(e)&&isFinite(e),jA=(e,t)=>{},Em=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),qd=({x:e,y:t},[n,o,a],u=!1,c=[1,1])=>{const d={x:(e-n)/a,y:(t-o)/a};return u?Em(d,c):d},RS=({x:e,y:t},[n,o,a])=>({x:e*a+n,y:t*a+o}),ky=(e,t,n,o,a,u)=>{const c=t/(e.width*(1+u)),d=n/(e.height*(1+u)),h=Math.min(c,d),m=wc(h,o,a),y=e.x+e.width/2,x=e.y+e.height/2,v=t/2-y*m,S=n/2-x*m;return{x:v,y:S,zoom:m}},im=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function _c(e){return e!==void 0&&e!=="parent"}function ls(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function DS(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function MS(e,t={width:0,height:0},n,o,a){const u={...e},c=o.get(n);if(c){const d=c.origin||a;u.x+=c.internals.positionAbsolute.x-(t.width??0)*d[0],u.y+=c.internals.positionAbsolute.y-(t.height??0)*d[1]}return u}function yx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function xd(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:a}){const{x:u,y:c}=es(e),d=qd({x:u-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},o),{x:h,y:m}=n?Em(d,t):d;return{xSnapped:h,ySnapped:m,...d}}const bm=e=>({width:e.offsetWidth,height:e.offsetHeight}),IS=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},OA=["INPUT","SELECT","TEXTAREA"];function $0(e){var o,a;const t=((a=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:OA.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const LS=e=>"clientX"in e,es=(e,t)=>{var u,c;const n=LS(e),o=n?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,a=n?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:o-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},vx=(e,t,n,o,a)=>{const u=t.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:a,position:c.getAttribute("data-handlepos"),x:(d.left-n.left)/o,y:(d.top-n.top)/o,...bm(c)}})};function jS({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d}){const h=e*.125+a*.375+c*.375+n*.125,m=t*.125+u*.375+d*.375+o*.125,y=Math.abs(h-e),x=Math.abs(m-t);return[h,m,y,x]}function Pp(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function xx({pos:e,x1:t,y1:n,x2:o,y2:a,c:u}){switch(e){case Oe.Left:return[t-Pp(t-o,u),n];case Oe.Right:return[t+Pp(o-t,u),n];case Oe.Top:return[t,n-Pp(n-a,u)];case Oe.Bottom:return[t,n+Pp(a-n,u)]}}function OS({sourceX:e,sourceY:t,sourcePosition:n=Oe.Bottom,targetX:o,targetY:a,targetPosition:u=Oe.Top,curvature:c=.25}){const[d,h]=xx({pos:n,x1:e,y1:t,x2:o,y2:a,c}),[m,y]=xx({pos:u,x1:o,y1:a,x2:e,y2:t,c}),[x,v,S,_]=jS({sourceX:e,sourceY:t,targetX:o,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:m,targetControlY:y});return[`M${e},${t} C${d},${h} ${m},${y} ${o},${a}`,x,v,S,_]}function $S({sourceX:e,sourceY:t,targetX:n,targetY:o}){const a=Math.abs(n-e)/2,u=n<e?n+a:n-a,c=Math.abs(o-t)/2,d=o<t?o+c:o-c;return[u,d,a,c]}function $A({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:a=!1}){if(!a)return o;const u=n||t.selected||e.selected,c=Math.max(e.internals.z||0,t.internals.z||0,1e3);return o+(u?c:0)}function FA({sourceNode:e,targetNode:t,width:n,height:o,transform:a}){const u=Sm(rm(e),rm(t));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:n/a[2],height:o/a[2]};return Md(c,_m(u))>0}const VA=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,BA=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),F0=(e,t)=>{if(!e.source||!e.target)return t;let n;return bS(e)?n={...e}:n={...e,id:VA(e)},BA(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function FS({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[a,u,c,d]=$S({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,a,u,c,d]}const wx={[Oe.Left]:{x:-1,y:0},[Oe.Right]:{x:1,y:0},[Oe.Top]:{x:0,y:-1},[Oe.Bottom]:{x:0,y:1}},zA=({source:e,sourcePosition:t=Oe.Bottom,target:n})=>t===Oe.Left||t===Oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Sx=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function UA({source:e,sourcePosition:t=Oe.Bottom,target:n,targetPosition:o=Oe.Top,center:a,offset:u}){const c=wx[t],d=wx[o],h={x:e.x+c.x*u,y:e.y+c.y*u},m={x:n.x+d.x*u,y:n.y+d.y*u},y=zA({source:h,sourcePosition:t,target:m}),x=y.x!==0?"x":"y",v=y[x];let S=[],_,T;const N={x:0,y:0},C={x:0,y:0},[M,A,L,B]=$S({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[x]*d[x]===-1){_=a.x??M,T=a.y??A;const O=[{x:_,y:h.y},{x:_,y:m.y}],z=[{x:h.x,y:T},{x:m.x,y:T}];c[x]===v?S=x==="x"?O:z:S=x==="x"?z:O}else{const O=[{x:h.x,y:m.y}],z=[{x:m.x,y:h.y}];if(x==="x"?S=c.x===v?z:O:S=c.y===v?O:z,t===o){const ue=Math.abs(e[x]-n[x]);if(ue<=u){const $=Math.min(u-1,u-ue);c[x]===v?N[x]=(h[x]>e[x]?-1:1)*$:C[x]=(m[x]>n[x]?-1:1)*$}}if(t!==o){const ue=x==="x"?"y":"x",$=c[x]===d[ue],ne=h[ue]>m[ue],Y=h[ue]<m[ue];(c[x]===1&&(!$&&ne||$&&Y)||c[x]!==1&&(!$&&Y||$&&ne))&&(S=x==="x"?O:z)}const q={x:h.x+N.x,y:h.y+N.y},ee={x:m.x+C.x,y:m.y+C.y},fe=Math.max(Math.abs(q.x-S[0].x),Math.abs(ee.x-S[0].x)),se=Math.max(Math.abs(q.y-S[0].y),Math.abs(ee.y-S[0].y));fe>=se?(_=(q.x+ee.x)/2,T=S[0].y):(_=S[0].x,T=(q.y+ee.y)/2)}return[[e,{x:h.x+N.x,y:h.y+N.y},...S,{x:m.x+C.x,y:m.y+C.y},n],_,T,L,B]}function HA(e,t,n,o){const a=Math.min(Sx(e,t)/2,Sx(t,n)/2,o),{x:u,y:c}=t;if(e.x===u&&u===n.x||e.y===c&&c===n.y)return`L${u} ${c}`;if(e.y===c){const m=e.x<n.x?-1:1,y=e.y<n.y?1:-1;return`L ${u+a*m},${c}Q ${u},${c} ${u},${c+a*y}`}const d=e.x<n.x?1:-1,h=e.y<n.y?-1:1;return`L ${u},${c+a*h}Q ${u},${c} ${u+a*d},${c}`}function V0({sourceX:e,sourceY:t,sourcePosition:n=Oe.Bottom,targetX:o,targetY:a,targetPosition:u=Oe.Top,borderRadius:c=5,centerX:d,centerY:h,offset:m=20}){const[y,x,v,S,_]=UA({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:a},targetPosition:u,center:{x:d,y:h},offset:m});return[y.reduce((N,C,M)=>{let A="";return M>0&&M<y.length-1?A=HA(y[M-1],C,y[M+1],c):A=`${M===0?"M":"L"}${C.x} ${C.y}`,N+=A,N},""),x,v,S,_]}function _x(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function WA(e){var x;const{sourceNode:t,targetNode:n}=e;if(!_x(t)||!_x(n))return null;const o=t.internals.handleBounds||Ex(t.handles),a=n.internals.handleBounds||Ex(n.handles),u=bx((o==null?void 0:o.source)??[],e.sourceHandle),c=bx(e.connectionMode===xc.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!u||!c)return(x=e.onError)==null||x.call(e,"008",as.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=(u==null?void 0:u.position)||Oe.Bottom,h=(c==null?void 0:c.position)||Oe.Top,m=Id(t,u,d),y=Id(n,c,h);return{sourceX:m.x,sourceY:m.y,targetX:y.x,targetY:y.y,sourcePosition:d,targetPosition:h}}function Ex(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function Id(e,t,n=Oe.Left,o=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,u=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:c,height:d}=t??ls(e);if(o)return{x:a+c/2,y:u+d/2};switch((t==null?void 0:t.position)??n){case Oe.Top:return{x:a+c/2,y:u};case Oe.Right:return{x:a+c,y:u+d/2};case Oe.Bottom:return{x:a+c/2,y:u+d};case Oe.Left:return{x:a,y:u+d/2}}}function bx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function B0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function KA(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:a}){const u=new Set;return e.reduce((c,d)=>([d.markerStart||o,d.markerEnd||a].forEach(h=>{if(h&&typeof h=="object"){const m=B0(h,t);u.has(m)||(c.push({id:m,color:h.color||n,...h}),u.add(m))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}function YA(e,t,n,o,a){let u=.5;a==="start"?u=0:a==="end"&&(u=1);let c=[(e.x+e.width*u)*t.zoom+t.x,e.y*t.zoom+t.y-o],d=[-100*u,-100];switch(n){case Oe.Right:c=[(e.x+e.width)*t.zoom+t.x+o,(e.y+e.height*u)*t.zoom+t.y],d=[0,-100*u];break;case Oe.Bottom:c[1]=(e.y+e.height)*t.zoom+t.y+o,d[1]=0;break;case Oe.Left:c=[e.x*t.zoom+t.x-o,(e.y+e.height*u)*t.zoom+t.y],d=[-100,-100*u];break}return`translate(${c[0]}px, ${c[1]}px) translate(${d[0]}%, ${d[1]}%)`}const Ty={nodeOrigin:[0,0],nodeExtent:Rd,elevateNodesOnSelect:!0,defaults:{}},XA={...Ty,checkEquality:!0};function Ny(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function qA(e,t,n){const o=Ny(Ty,n);for(const a of e.values())if(a.parentId)Py(a,e,t,o);else{const u=Xd(a,o.nodeOrigin),c=_c(a.extent)?a.extent:o.nodeExtent,d=bl(u,c,ls(a));a.internals.positionAbsolute=d}}function z0(e,t,n,o){var d,h;const a=Ny(XA,o),u=new Map(t),c=a!=null&&a.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const m of e){let y=u.get(m.id);if(a.checkEquality&&m===(y==null?void 0:y.internals.userNode))t.set(m.id,y);else{const x=Xd(m,a.nodeOrigin),v=_c(m.extent)?m.extent:a.nodeExtent,S=bl(x,v,ls(m));y={...a.defaults,...m,measured:{width:(d=m.measured)==null?void 0:d.width,height:(h=m.measured)==null?void 0:h.height},internals:{positionAbsolute:S,handleBounds:m.measured?y==null?void 0:y.internals.handleBounds:void 0,z:VS(m,c),userNode:m}},t.set(m.id,y)}m.parentId&&Py(y,t,n,o)}}function GA(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Py(e,t,n,o){const{elevateNodesOnSelect:a,nodeOrigin:u,nodeExtent:c}=Ny(Ty,o),d=e.parentId,h=t.get(d);if(!h){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}GA(e,n);const m=a?1e3:0,{x:y,y:x,z:v}=QA(e,h,u,c,m),{positionAbsolute:S}=e.internals,_=y!==S.x||x!==S.y;(_||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:y,y:x}:S,z:v}})}function VS(e,t){return(Ri(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function QA(e,t,n,o,a){const{x:u,y:c}=t.internals.positionAbsolute,d=ls(e),h=Xd(e,n),m=_c(e.extent)?bl(h,e.extent,d):h;let y=bl({x:u+m.x,y:c+m.y},o,d);e.extent==="parent"&&(y=NS(y,d,t));const x=VS(e,a),v=t.internals.z??0;return{x:y.x,y:y.y,z:v>x?v:x}}function Ay(e,t,n,o=[0,0]){var c;const a=[],u=new Map;for(const d of e){const h=t.get(d.parentId);if(!h)continue;const m=((c=u.get(d.parentId))==null?void 0:c.expandedRect)??Sc(h),y=AS(m,d.rect);u.set(d.parentId,{expandedRect:y,parent:h})}return u.size>0&&u.forEach(({expandedRect:d,parent:h},m)=>{var A;const y=h.internals.positionAbsolute,x=ls(h),v=h.origin??o,S=d.x<y.x?Math.round(Math.abs(y.x-d.x)):0,_=d.y<y.y?Math.round(Math.abs(y.y-d.y)):0,T=Math.max(x.width,Math.round(d.width)),N=Math.max(x.height,Math.round(d.height)),C=(T-x.width)*v[0],M=(N-x.height)*v[1];(S>0||_>0||C||M)&&(a.push({id:m,type:"position",position:{x:h.position.x-S+C,y:h.position.y-_+M}}),(A=n.get(m))==null||A.forEach(L=>{e.some(B=>B.id===L.id)||a.push({id:L.id,type:"position",position:{x:L.position.x+S,y:L.position.y+_}})})),(x.width<d.width||x.height<d.height||S||_)&&a.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:T+(S?v[0]*S-C:0),height:N+(_?v[1]*_-M:0)}})}),a}function ZA(e,t,n,o,a,u){const c=o==null?void 0:o.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const h=[],m=window.getComputedStyle(c),{m22:y}=new window.DOMMatrixReadOnly(m.transform),x=[];for(const v of e.values()){const S=t.get(v.id);if(!S)continue;if(S.hidden){t.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),d=!0;continue}const _=bm(v.nodeElement),T=S.measured.width!==_.width||S.measured.height!==_.height;if(!!(_.width&&_.height&&(T||!S.internals.handleBounds||v.force))){const C=v.nodeElement.getBoundingClientRect(),M=_c(S.extent)?S.extent:u;let{positionAbsolute:A}=S.internals;S.parentId&&S.extent==="parent"?A=NS(A,_,t.get(S.parentId)):M&&(A=bl(A,M,_));const L={...S,measured:_,internals:{...S.internals,positionAbsolute:A,handleBounds:{source:vx("source",v.nodeElement,C,y,S.id),target:vx("target",v.nodeElement,C,y,S.id)}}};t.set(S.id,L),S.parentId&&Py(L,t,n,{nodeOrigin:a}),d=!0,T&&(h.push({id:S.id,type:"dimensions",dimensions:_}),S.expandParent&&S.parentId&&x.push({id:S.id,parentId:S.parentId,rect:Sc(L,a)}))}}if(x.length>0){const v=Ay(x,t,n,a);h.push(...v)}return{changes:h,updatedInternals:d}}async function JA({delta:e,panZoom:t,transform:n,translateExtent:o,width:a,height:u}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[a,u]],o),d=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(d)}function Cx(e,t,n,o,a,u){let c=a;const d=o.get(c)||new Map;o.set(c,d.set(n,t)),c=`${a}-${e}`;const h=o.get(c)||new Map;if(o.set(c,h.set(n,t)),u){c=`${a}-${e}-${u}`;const m=o.get(c)||new Map;o.set(c,m.set(n,t))}}function BS(e,t,n){e.clear(),t.clear();for(const o of n){const{source:a,target:u,sourceHandle:c=null,targetHandle:d=null}=o,h={edgeId:o.id,source:a,target:u,sourceHandle:c,targetHandle:d},m=`${a}-${c}--${u}-${d}`,y=`${u}-${d}--${a}-${c}`;Cx("source",h,y,e,a,c),Cx("target",h,m,e,u,d),t.set(o.id,o)}}function zS(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:zS(n,t):!1}function kx(e,t,n){var a;let o=e;do{if((a=o==null?void 0:o.matches)!=null&&a.call(o,t))return!0;if(o===n)return!1;o=o==null?void 0:o.parentElement}while(o);return!1}function eR(e,t,n,o){const a=new Map;for(const[u,c]of e)if((c.selected||c.id===o)&&(!c.parentId||!zS(c,e))&&(c.draggable||t&&typeof c.draggable>"u")){const d=e.get(u);d&&a.set(u,{id:u,position:d.position||{x:0,y:0},distance:{x:n.x-d.internals.positionAbsolute.x,y:n.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function Zg({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){var c,d,h;const a=[];for(const[m,y]of t){const x=(c=n.get(m))==null?void 0:c.internals.userNode;x&&a.push({...x,position:y.position,dragging:o})}if(!e)return[a[0],a];const u=(d=n.get(e))==null?void 0:d.internals.userNode;return[u?{...u,position:((h=t.get(e))==null?void 0:h.position)||u.position,dragging:o}:a[0],a]}function tR({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:a}){let u={x:null,y:null},c=0,d=new Map,h=!1,m={x:0,y:0},y=null,x=!1,v=null,S=!1;function _({noDragClassName:N,handleSelector:C,domNode:M,isSelectable:A,nodeId:L,nodeClickDistance:B=0}){v=Vr(M);function X({x:ee,y:fe},se){const{nodeLookup:ue,nodeExtent:$,snapGrid:ne,snapToGrid:Y,nodeOrigin:H,onNodeDrag:F,onSelectionDrag:K,onError:G,updateNodePositions:V}=t();u={x:ee,y:fe};let J=!1,ge={x:0,y:0,x2:0,y2:0};if(d.size>1&&$){const ye=kc(d);ge=O0(ye)}for(const[ye,we]of d){if(!ue.has(ye))continue;let ve={x:ee-we.distance.x,y:fe-we.distance.y};Y&&(ve=Em(ve,ne));let _e=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(d.size>1&&$&&!we.extent){const{positionAbsolute:We}=we.internals,Ye=We.x-ge.x+$[0][0],Ne=We.x+we.measured.width-ge.x2+$[1][0],Pe=We.y-ge.y+$[0][1],Ue=We.y+we.measured.height-ge.y2+$[1][1];_e=[[Ye,Pe],[Ne,Ue]]}const{position:ke,positionAbsolute:Re}=TS({nodeId:ye,nextPosition:ve,nodeLookup:ue,nodeExtent:_e,nodeOrigin:H,onError:G});J=J||we.position.x!==ke.x||we.position.y!==ke.y,we.position=ke,we.internals.positionAbsolute=Re}if(J&&(V(d,!0),se&&(o||F||!L&&K))){const[ye,we]=Zg({nodeId:L,dragItems:d,nodeLookup:ue});o==null||o(se,d,ye,we),F==null||F(se,ye,we),L||K==null||K(se,we)}}async function O(){if(!y)return;const{transform:ee,panBy:fe,autoPanSpeed:se,autoPanOnNodeDrag:ue}=t();if(!ue){h=!1,cancelAnimationFrame(c);return}const[$,ne]=PS(m,y,se);($!==0||ne!==0)&&(u.x=(u.x??0)-$/ee[2],u.y=(u.y??0)-ne/ee[2],await fe({x:$,y:ne})&&X(u,null)),c=requestAnimationFrame(O)}function z(ee){var J;const{nodeLookup:fe,multiSelectionActive:se,nodesDraggable:ue,transform:$,snapGrid:ne,snapToGrid:Y,selectNodesOnDrag:H,onNodeDragStart:F,onSelectionDragStart:K,unselectNodesAndEdges:G}=t();x=!0,(!H||!A)&&!se&&L&&((J=fe.get(L))!=null&&J.selected||G()),A&&H&&L&&(e==null||e(L));const V=xd(ee.sourceEvent,{transform:$,snapGrid:ne,snapToGrid:Y,containerBounds:y});if(u=V,d=eR(fe,ue,V,L),d.size>0&&(n||F||!L&&K)){const[ge,ye]=Zg({nodeId:L,dragItems:d,nodeLookup:fe});n==null||n(ee.sourceEvent,d,ge,ye),F==null||F(ee.sourceEvent,ge,ye),L||K==null||K(ee.sourceEvent,ye)}}const q=oS().clickDistance(B).on("start",ee=>{const{domNode:fe,nodeDragThreshold:se,transform:ue,snapGrid:$,snapToGrid:ne}=t();y=(fe==null?void 0:fe.getBoundingClientRect())||null,S=!1,se===0&&z(ee),u=xd(ee.sourceEvent,{transform:ue,snapGrid:$,snapToGrid:ne,containerBounds:y}),m=es(ee.sourceEvent,y)}).on("drag",ee=>{const{autoPanOnNodeDrag:fe,transform:se,snapGrid:ue,snapToGrid:$,nodeDragThreshold:ne,nodeLookup:Y}=t(),H=xd(ee.sourceEvent,{transform:se,snapGrid:ue,snapToGrid:$,containerBounds:y});if((ee.sourceEvent.type==="touchmove"&&ee.sourceEvent.touches.length>1||L&&!Y.has(L))&&(S=!0),!S){if(!h&&fe&&x&&(h=!0,O()),!x){const F=H.xSnapped-(u.x??0),K=H.ySnapped-(u.y??0);Math.sqrt(F*F+K*K)>ne&&z(ee)}(u.x!==H.xSnapped||u.y!==H.ySnapped)&&d&&x&&(m=es(ee.sourceEvent,y),X(H,ee.sourceEvent))}}).on("end",ee=>{if(!(!x||S)&&(h=!1,x=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:fe,updateNodePositions:se,onNodeDragStop:ue,onSelectionDragStop:$}=t();if(se(d,!1),a||ue||!L&&$){const[ne,Y]=Zg({nodeId:L,dragItems:d,nodeLookup:fe,dragging:!1});a==null||a(ee.sourceEvent,d,ne,Y),ue==null||ue(ee.sourceEvent,ne,Y),L||$==null||$(ee.sourceEvent,Y)}}}).filter(ee=>{const fe=ee.target;return!ee.button&&(!N||!kx(fe,`.${N}`,M))&&(!C||kx(fe,C,M))});v.call(q)}function T(){v==null||v.on(".drag",null)}return{update:_,destroy:T}}function nR(e,t,n){const o=[],a={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const u of t.values())Md(a,Sc(u))>0&&o.push(u);return o}const rR=250;function iR(e,t,n,o){var d,h;let a=[],u=1/0;const c=nR(e,n,t+rR);for(const m of c){const y=[...((d=m.internals.handleBounds)==null?void 0:d.source)??[],...((h=m.internals.handleBounds)==null?void 0:h.target)??[]];for(const x of y){if(o.nodeId===x.nodeId&&o.type===x.type&&o.id===x.id)continue;const{x:v,y:S}=Id(m,x,x.position,!0),_=Math.sqrt(Math.pow(v-e.x,2)+Math.pow(S-e.y,2));_>t||(_<u?(a=[{...x,x:v,y:S}],u=_):_===u&&a.push({...x,x:v,y:S}))}}if(!a.length)return null;if(a.length>1){const m=o.type==="source"?"target":"source";return a.find(y=>y.type===m)??a[0]}return a[0]}function US(e,t,n,o,a,u=!1){var m,y,x;const c=o.get(e);if(!c)return null;const d=a==="strict"?(m=c.internals.handleBounds)==null?void 0:m[t]:[...((y=c.internals.handleBounds)==null?void 0:y.source)??[],...((x=c.internals.handleBounds)==null?void 0:x.target)??[]],h=(n?d==null?void 0:d.find(v=>v.id===n):d==null?void 0:d[0])??null;return h&&u?{...h,...Id(c,h,h.position,!0)}:h}function HS(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function oR(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const WS=()=>!0;function sR(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:a,edgeUpdaterType:u,isTarget:c,domNode:d,nodeLookup:h,lib:m,autoPanOnConnect:y,flowId:x,panBy:v,cancelConnection:S,onConnectStart:_,onConnect:T,onConnectEnd:N,isValidConnection:C=WS,onReconnectEnd:M,updateConnection:A,getTransform:L,getFromHandle:B,autoPanSpeed:X}){const O=IS(e.target);let z=0,q;const{x:ee,y:fe}=es(e),se=O==null?void 0:O.elementFromPoint(ee,fe),ue=HS(u,se),$=d==null?void 0:d.getBoundingClientRect();if(!$||!ue)return;const ne=US(a,ue,o,h,t);if(!ne)return;let Y=es(e,$),H=!1,F=null,K=!1,G=null;function V(){if(!y||!$)return;const[Re,We]=PS(Y,$,X);v({x:Re,y:We}),z=requestAnimationFrame(V)}const J={...ne,nodeId:a,type:ue,position:ne.position},ge=h.get(a),we={inProgress:!0,isValid:null,from:Id(ge,J,Oe.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:ge,to:Y,toHandle:null,toPosition:px[J.position],toNode:null};A(we);let ve=we;_==null||_(e,{nodeId:a,handleId:o,handleType:ue});function _e(Re){if(!B()||!J){ke(Re);return}const We=L();Y=es(Re,$),q=iR(qd(Y,We,!1,[1,1]),n,h,J),H||(V(),H=!0);const Ye=KS(Re,{handle:q,connectionMode:t,fromNodeId:a,fromHandleId:o,fromType:c?"target":"source",isValidConnection:C,doc:O,lib:m,flowId:x,nodeLookup:h});G=Ye.handleDomNode,F=Ye.connection,K=oR(!!q,Ye.isValid);const Ne={...ve,isValid:K,to:q&&K?RS({x:q.x,y:q.y},We):Y,toHandle:Ye.toHandle,toPosition:K&&Ye.toHandle?Ye.toHandle.position:px[J.position],toNode:Ye.toHandle?h.get(Ye.toHandle.nodeId):null};K&&q&&ve.toHandle&&Ne.toHandle&&ve.toHandle.type===Ne.toHandle.type&&ve.toHandle.nodeId===Ne.toHandle.nodeId&&ve.toHandle.id===Ne.toHandle.id&&ve.to.x===Ne.to.x&&ve.to.y===Ne.to.y||(A(Ne),ve=Ne)}function ke(Re){(q||G)&&F&&K&&(T==null||T(F));const{inProgress:We,...Ye}=ve,Ne={...Ye,toPosition:ve.toHandle?ve.toPosition:null};N==null||N(Re,Ne),u&&(M==null||M(Re,Ne)),S(),cancelAnimationFrame(z),H=!1,K=!1,F=null,G=null,O.removeEventListener("mousemove",_e),O.removeEventListener("mouseup",ke),O.removeEventListener("touchmove",_e),O.removeEventListener("touchend",ke)}O.addEventListener("mousemove",_e),O.addEventListener("mouseup",ke),O.addEventListener("touchmove",_e),O.addEventListener("touchend",ke)}function KS(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:a,fromType:u,doc:c,lib:d,flowId:h,isValidConnection:m=WS,nodeLookup:y}){const x=u==="target",v=t?c.querySelector(`.${d}-flow__handle[data-id="${h}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:S,y:_}=es(e),T=c.elementFromPoint(S,_),N=T!=null&&T.classList.contains(`${d}-flow__handle`)?T:v,C={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const M=HS(void 0,N),A=N.getAttribute("data-nodeid"),L=N.getAttribute("data-handleid"),B=N.classList.contains("connectable"),X=N.classList.contains("connectableend");if(!A||!M)return C;const O={source:x?A:o,sourceHandle:x?L:a,target:x?o:A,targetHandle:x?a:L};C.connection=O;const q=B&&X&&(n===xc.Strict?x&&M==="source"||!x&&M==="target":A!==o||L!==a);C.isValid=q&&m(O),C.toHandle=US(A,M,L,y,n,!1)}return C}const U0={onPointerDown:sR,isValid:KS};function aR({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const a=Vr(e);function u({translateExtent:d,width:h,height:m,zoomStep:y=10,pannable:x=!0,zoomable:v=!0,inversePan:S=!1}){const _=A=>{const L=n();if(A.sourceEvent.type!=="wheel"||!t)return;const B=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*y,X=L[2]*Math.pow(2,B);t.scaleTo(X)};let T=[0,0];const N=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(T=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},C=A=>{const L=n();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!t)return;const B=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],X=[B[0]-T[0],B[1]-T[1]];T=B;const O=o()*Math.max(L[2],Math.log(L[2]))*(S?-1:1),z={x:L[0]-X[0]*O,y:L[1]-X[1]*O},q=[[0,0],[h,m]];t.setViewportConstrained({x:z.x,y:z.y,zoom:L[2]},q,d)},M=wS().on("start",N).on("zoom",x?C:null).on("zoom.wheel",v?_:null);a.call(M,{})}function c(){a.on("zoom",null)}return{update:u,destroy:c,pointer:Pi}}const lR=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Cm=e=>({x:e.x,y:e.y,zoom:e.k}),Jg=({x:e,y:t,zoom:n})=>wm.translate(e,t).scale(n),lc=(e,t)=>e.target.closest(`.${t}`),YS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),e0=(e,t=0,n=()=>{})=>{const o=typeof t=="number"&&t>0;return o||n(),o?e.transition().duration(t).on("end",n):e},XS=e=>{const t=e.ctrlKey&&im()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function uR({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:a,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:h,onPanZoomEnd:m}){return y=>{if(lc(y,t))return!1;y.preventDefault(),y.stopImmediatePropagation();const x=n.property("__zoom").k||1;if(y.ctrlKey&&c){const N=Pi(y),C=XS(y),M=x*Math.pow(2,C);o.scaleTo(n,M,N,y);return}const v=y.deltaMode===1?20:1;let S=a===wl.Vertical?0:y.deltaX*v,_=a===wl.Horizontal?0:y.deltaY*v;!im()&&y.shiftKey&&a!==wl.Vertical&&(S=y.deltaY*v,_=0),o.translateBy(n,-(S/x)*u,-(_/x)*u,{internal:!0});const T=Cm(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d==null||d(y,T)),e.isPanScrolling&&(h==null||h(y,T),e.panScrollTimeout=setTimeout(()=>{m==null||m(y,T),e.isPanScrolling=!1},150))}}function cR({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,a){if(!t&&o.type==="wheel"&&!o.ctrlKey||lc(o,e))return null;o.preventDefault(),n.call(this,o,a)}}function fR({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{var u,c,d;if((u=o.sourceEvent)!=null&&u.internal)return;const a=Cm(o.transform);e.mouseButton=((c=o.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((d=o.sourceEvent)==null?void 0:d.type)==="mousedown"&&t(!0),n&&(n==null||n(o.sourceEvent,a))}}function dR({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:a}){return u=>{var c,d;e.usedRightMouseButton=!!(n&&YS(t,e.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||o([u.transform.x,u.transform.y,u.transform.k]),a&&!((d=u.sourceEvent)!=null&&d.internal)&&(a==null||a(u.sourceEvent,Cm(u.transform)))}}function hR({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:a,onPaneContextMenu:u}){return c=>{var d;if(!((d=c.sourceEvent)!=null&&d.internal)&&(e.isZoomingOrPanning=!1,u&&YS(t,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),e.usedRightMouseButton=!1,o(!1),a&&lR(e.prevViewport,c.transform))){const h=Cm(c.transform);e.prevViewport=h,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,h)},n?150:0)}}}function pR({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:a,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:d,noPanClassName:h,lib:m}){return y=>{var _;const x=e||t,v=n&&y.ctrlKey;if(y.button===1&&y.type==="mousedown"&&(lc(y,`${m}-flow__node`)||lc(y,`${m}-flow__edge`)))return!0;if(!o&&!x&&!a&&!u&&!n||c||lc(y,d)&&y.type==="wheel"||lc(y,h)&&(y.type!=="wheel"||a&&y.type==="wheel"&&!e)||!n&&y.ctrlKey&&y.type==="wheel")return!1;if(!n&&y.type==="touchstart"&&((_=y.touches)==null?void 0:_.length)>1)return y.preventDefault(),!1;if(!x&&!a&&!v&&y.type==="wheel"||!o&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(o)&&!o.includes(y.button)&&y.type==="mousedown")return!1;const S=Array.isArray(o)&&o.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||y.type==="wheel")&&S}}function mR({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:o,translateExtent:a,viewport:u,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:h,onDraggingChange:m}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},x=e.getBoundingClientRect(),v=wS().clickDistance(!Ri(o)||o<0?0:o).scaleExtent([t,n]).translateExtent(a),S=Vr(e).call(v);A({x:u.x,y:u.y,zoom:wc(u.zoom,t,n)},[[0,0],[x.width,x.height]],a);const _=S.on("wheel.zoom"),T=S.on("dblclick.zoom");v.wheelDelta(XS);function N(se,ue){return S?new Promise($=>{v==null||v.transform(e0(S,ue==null?void 0:ue.duration,()=>$(!0)),se)}):Promise.resolve(!1)}function C({noWheelClassName:se,noPanClassName:ue,onPaneContextMenu:$,userSelectionActive:ne,panOnScroll:Y,panOnDrag:H,panOnScrollMode:F,panOnScrollSpeed:K,preventScrolling:G,zoomOnPinch:V,zoomOnScroll:J,zoomOnDoubleClick:ge,zoomActivationKeyPressed:ye,lib:we,onTransformChange:ve}){ne&&!y.isZoomingOrPanning&&M();const ke=Y&&!ye&&!ne?uR({zoomPanValues:y,noWheelClassName:se,d3Selection:S,d3Zoom:v,panOnScrollMode:F,panOnScrollSpeed:K,zoomOnPinch:V,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:h}):cR({noWheelClassName:se,preventScrolling:G,d3ZoomHandler:_});if(S.on("wheel.zoom",ke,{passive:!1}),!ne){const We=fR({zoomPanValues:y,onDraggingChange:m,onPanZoomStart:d});v.on("start",We);const Ye=dR({zoomPanValues:y,panOnDrag:H,onPaneContextMenu:!!$,onPanZoom:c,onTransformChange:ve});v.on("zoom",Ye);const Ne=hR({zoomPanValues:y,panOnDrag:H,panOnScroll:Y,onPaneContextMenu:$,onPanZoomEnd:h,onDraggingChange:m});v.on("end",Ne)}const Re=pR({zoomActivationKeyPressed:ye,panOnDrag:H,zoomOnScroll:J,panOnScroll:Y,zoomOnDoubleClick:ge,zoomOnPinch:V,userSelectionActive:ne,noPanClassName:ue,noWheelClassName:se,lib:we});v.filter(Re),ge?S.on("dblclick.zoom",T):S.on("dblclick.zoom",null)}function M(){v.on("zoom",null)}async function A(se,ue,$){const ne=Jg(se),Y=v==null?void 0:v.constrain()(ne,ue,$);return Y&&await N(Y),new Promise(H=>H(Y))}async function L(se,ue){const $=Jg(se);return await N($,ue),new Promise(ne=>ne($))}function B(se){if(S){const ue=Jg(se),$=S.property("__zoom");($.k!==se.zoom||$.x!==se.x||$.y!==se.y)&&(v==null||v.transform(S,ue,null,{sync:!0}))}}function X(){const se=S?xS(S.node()):{x:0,y:0,k:1};return{x:se.x,y:se.y,zoom:se.k}}function O(se,ue){return S?new Promise($=>{v==null||v.scaleTo(e0(S,ue==null?void 0:ue.duration,()=>$(!0)),se)}):Promise.resolve(!1)}function z(se,ue){return S?new Promise($=>{v==null||v.scaleBy(e0(S,ue==null?void 0:ue.duration,()=>$(!0)),se)}):Promise.resolve(!1)}function q(se){v==null||v.scaleExtent(se)}function ee(se){v==null||v.translateExtent(se)}function fe(se){const ue=!Ri(se)||se<0?0:se;v==null||v.clickDistance(ue)}return{update:C,destroy:M,setViewport:L,setViewportConstrained:A,getViewport:X,scaleTo:O,scaleBy:z,setScaleExtent:q,setTranslateExtent:ee,syncViewport:B,setClickDistance:fe}}var wd;(function(e){e.Line="line",e.Handle="handle"})(wd||(wd={}));function gR({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:a,affectsY:u}){const c=e-t,d=n-o,h=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&a&&(h[0]=h[0]*-1),d&&u&&(h[1]=h[1]*-1),h}function yR(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:a}}function Zs(e,t){return Math.max(0,t-e)}function Js(e,t){return Math.max(0,e-t)}function Ap(e,t,n){return Math.max(0,t-e,e-n)}function Tx(e,t){return e?!t:t}function vR(e,t,n,o,a,u,c,d){let{affectsX:h,affectsY:m}=t;const{isHorizontal:y,isVertical:x}=t,v=y&&x,{xSnapped:S,ySnapped:_}=n,{minWidth:T,maxWidth:N,minHeight:C,maxHeight:M}=o,{x:A,y:L,width:B,height:X,aspectRatio:O}=e;let z=Math.floor(y?S-e.pointerX:0),q=Math.floor(x?_-e.pointerY:0);const ee=B+(h?-z:z),fe=X+(m?-q:q),se=-u[0]*B,ue=-u[1]*X;let $=Ap(ee,T,N),ne=Ap(fe,C,M);if(c){let F=0,K=0;h&&z<0?F=Zs(A+z+se,c[0][0]):!h&&z>0&&(F=Js(A+ee+se,c[1][0])),m&&q<0?K=Zs(L+q+ue,c[0][1]):!m&&q>0&&(K=Js(L+fe+ue,c[1][1])),$=Math.max($,F),ne=Math.max(ne,K)}if(d){let F=0,K=0;h&&z>0?F=Js(A+z,d[0][0]):!h&&z<0&&(F=Zs(A+ee,d[1][0])),m&&q>0?K=Js(L+q,d[0][1]):!m&&q<0&&(K=Zs(L+fe,d[1][1])),$=Math.max($,F),ne=Math.max(ne,K)}if(a){if(y){const F=Ap(ee/O,C,M)*O;if($=Math.max($,F),c){let K=0;!h&&!m||h&&!m&&v?K=Js(L+ue+ee/O,c[1][1])*O:K=Zs(L+ue+(h?z:-z)/O,c[0][1])*O,$=Math.max($,K)}if(d){let K=0;!h&&!m||h&&!m&&v?K=Zs(L+ee/O,d[1][1])*O:K=Js(L+(h?z:-z)/O,d[0][1])*O,$=Math.max($,K)}}if(x){const F=Ap(fe*O,T,N)/O;if(ne=Math.max(ne,F),c){let K=0;!h&&!m||m&&!h&&v?K=Js(A+fe*O+se,c[1][0])/O:K=Zs(A+(m?q:-q)*O+se,c[0][0])/O,ne=Math.max(ne,K)}if(d){let K=0;!h&&!m||m&&!h&&v?K=Zs(A+fe*O,d[1][0])/O:K=Js(A+(m?q:-q)*O,d[0][0])/O,ne=Math.max(ne,K)}}}q=q+(q<0?ne:-ne),z=z+(z<0?$:-$),a&&(v?ee>fe*O?q=(Tx(h,m)?-z:z)/O:z=(Tx(h,m)?-q:q)*O:y?(q=z/O,m=h):(z=q*O,h=m));const Y=h?A+z:A,H=m?L+q:L;return{width:B+(h?-z:z),height:X+(m?-q:q),x:u[0]*z*(h?-1:1)+Y,y:u[1]*q*(m?-1:1)+H}}const qS={width:0,height:0,x:0,y:0},xR={...qS,pointerX:0,pointerY:0,aspectRatio:1};function wR(e){return[[0,0],[e.measured.width,e.measured.height]]}function SR(e,t,n){const o=t.position.x+e.position.x,a=t.position.y+e.position.y,u=e.measured.width??0,c=e.measured.height??0,d=n[0]*u,h=n[1]*c;return[[o-d,a-h],[o+u-d,a+c-h]]}function _R({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:a}){const u=Vr(e);function c({controlPosition:h,boundaries:m,keepAspectRatio:y,onResizeStart:x,onResize:v,onResizeEnd:S,shouldResize:_}){let T={...qS},N={...xR};const C=yR(h);let M,A=null,L=[],B,X,O;const z=oS().on("start",q=>{const{nodeLookup:ee,transform:fe,snapGrid:se,snapToGrid:ue,nodeOrigin:$,paneDomNode:ne}=n();if(M=ee.get(t),!M)return;A=(ne==null?void 0:ne.getBoundingClientRect())??null;const{xSnapped:Y,ySnapped:H}=xd(q.sourceEvent,{transform:fe,snapGrid:se,snapToGrid:ue,containerBounds:A});T={width:M.measured.width??0,height:M.measured.height??0,x:M.position.x??0,y:M.position.y??0},N={...T,pointerX:Y,pointerY:H,aspectRatio:T.width/T.height},B=void 0,M.parentId&&(M.extent==="parent"||M.expandParent)&&(B=ee.get(M.parentId),X=B&&M.extent==="parent"?wR(B):void 0),L=[],O=void 0;for(const[F,K]of ee)if(K.parentId===t&&(L.push({id:F,position:{...K.position},extent:K.extent}),K.extent==="parent"||K.expandParent)){const G=SR(K,M,K.origin??$);O?O=[[Math.min(G[0][0],O[0][0]),Math.min(G[0][1],O[0][1])],[Math.max(G[1][0],O[1][0]),Math.max(G[1][1],O[1][1])]]:O=G}x==null||x(q,{...T})}).on("drag",q=>{const{transform:ee,snapGrid:fe,snapToGrid:se,nodeOrigin:ue}=n(),$=xd(q.sourceEvent,{transform:ee,snapGrid:fe,snapToGrid:se,containerBounds:A}),ne=[];if(!M)return;const{x:Y,y:H,width:F,height:K}=T,G={},V=M.origin??ue,{width:J,height:ge,x:ye,y:we}=vR(N,C,$,m,y,V,X,O),ve=J!==F,_e=ge!==K,ke=ye!==Y&&ve,Re=we!==H&&_e;if(!ke&&!Re&&!ve&&!_e)return;if((ke||Re||V[0]===1||V[1]===1)&&(G.x=ke?ye:T.x,G.y=Re?we:T.y,T.x=G.x,T.y=G.y,L.length>0)){const Pe=ye-Y,Ue=we-H;for(const nt of L)nt.position={x:nt.position.x-Pe+V[0]*(J-F),y:nt.position.y-Ue+V[1]*(ge-K)},ne.push(nt)}if((ve||_e)&&(G.width=ve?J:T.width,G.height=_e?ge:T.height,T.width=G.width,T.height=G.height),B&&M.expandParent){const Pe=V[0]*(G.width??0);G.x&&G.x<Pe&&(T.x=Pe,N.x=N.x-(G.x-Pe));const Ue=V[1]*(G.height??0);G.y&&G.y<Ue&&(T.y=Ue,N.y=N.y-(G.y-Ue))}const We=gR({width:T.width,prevWidth:F,height:T.height,prevHeight:K,affectsX:C.affectsX,affectsY:C.affectsY}),Ye={...T,direction:We};(_==null?void 0:_(q,Ye))!==!1&&(v==null||v(q,Ye),o(G,ne))}).on("end",q=>{S==null||S(q,{...T}),a==null||a()});u.call(z)}function d(){u.on(".drag",null)}return{update:c,destroy:d}}var t0={exports:{}},n0={},r0={exports:{}},i0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function ER(){if(Nx)return i0;Nx=1;var e=Wd();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,a=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function d(x,v){var S=v(),_=o({inst:{value:S,getSnapshot:v}}),T=_[0].inst,N=_[1];return u(function(){T.value=S,T.getSnapshot=v,h(T)&&N({inst:T})},[x,S,v]),a(function(){return h(T)&&N({inst:T}),x(function(){h(T)&&N({inst:T})})},[x]),c(S),S}function h(x){var v=x.getSnapshot;x=x.value;try{var S=v();return!n(x,S)}catch{return!0}}function m(x,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return i0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,i0}var Px;function bR(){return Px||(Px=1,r0.exports=ER()),r0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function CR(){if(Ax)return n0;Ax=1;var e=Wd(),t=bR();function n(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var o=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,u=e.useRef,c=e.useEffect,d=e.useMemo,h=e.useDebugValue;return n0.useSyncExternalStoreWithSelector=function(m,y,x,v,S){var _=u(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=d(function(){function C(X){if(!M){if(M=!0,A=X,X=v(X),S!==void 0&&T.hasValue){var O=T.value;if(S(O,X))return L=O}return L=X}if(O=L,o(A,X))return O;var z=v(X);return S!==void 0&&S(O,z)?(A=X,O):(A=X,L=z)}var M=!1,A,L,B=x===void 0?null:x;return[function(){return C(y())},B===null?void 0:function(){return C(B())}]},[y,x,v,S]);var N=a(m,_[0],_[1]);return c(function(){T.hasValue=!0,T.value=N},[N]),h(N),N},n0}var Rx;function kR(){return Rx||(Rx=1,t0.exports=CR()),t0.exports}var TR=kR();const NR=yy(TR),PR={},Dx=e=>{let t;const n=new Set,o=(y,x)=>{const v=typeof y=="function"?y(t):y;if(!Object.is(v,t)){const S=t;t=x??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(_=>_(t,S))}},a=()=>t,h={setState:o,getState:a,getInitialState:()=>m,subscribe:y=>(n.add(y),()=>n.delete(y)),destroy:()=>{(PR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=t=e(o,a,h);return h},AR=e=>e?Dx(e):Dx,{useDebugValue:RR}=vy,{useSyncExternalStoreWithSelector:DR}=NR,MR=e=>e;function GS(e,t=MR,n){const o=DR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return RR(o),o}const Mx=(e,t)=>{const n=AR(e),o=(a,u=t)=>GS(n,a,u);return Object.assign(o,n),o},IR=(e,t)=>e?Mx(e,t):Mx;function Kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,a]of e)if(!Object.is(a,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var LR=z1();const km=P.createContext(null),jR=km.Provider,QS=as.error001();function ut(e,t){const n=P.useContext(km);if(n===null)throw new Error(QS);return GS(n,e,t)}function $t(){const e=P.useContext(km);if(e===null)throw new Error(QS);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Ix={display:"none"},OR={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ZS="react-flow__node-desc",JS="react-flow__edge-desc",$R="react-flow__aria-live",FR=e=>e.ariaLiveMessage;function VR({rfId:e}){const t=ut(FR);return k.jsx("div",{id:`${$R}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:OR,children:t})}function BR({rfId:e,disableKeyboardA11y:t}){return k.jsxs(k.Fragment,{children:[k.jsxs("div",{id:`${ZS}-${e}`,style:Ix,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),k.jsx("div",{id:`${JS}-${e}`,style:Ix,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&k.jsx(VR,{rfId:e})]})}const zR=e=>e.userSelectionActive?"none":"all",Tm=P.forwardRef(({position:e="top-left",children:t,className:n,style:o,...a},u)=>{const c=ut(zR),d=`${e}`.split("-");return k.jsx("div",{className:on(["react-flow__panel",n,...d]),style:{...o,pointerEvents:c},ref:u,...a,children:t})});Tm.displayName="Panel";function UR({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:k.jsx(Tm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const HR=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},Rp=e=>e.id;function WR(e,t){return Kt(e.selectedNodes.map(Rp),t.selectedNodes.map(Rp))&&Kt(e.selectedEdges.map(Rp),t.selectedEdges.map(Rp))}function KR({onSelectionChange:e}){const t=$t(),{selectedNodes:n,selectedEdges:o}=ut(HR,WR);return P.useEffect(()=>{const a={nodes:n,edges:o};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(u=>u(a))},[n,o,e]),null}const YR=e=>!!e.onSelectionChangeHandlers;function XR({onSelectionChange:e}){const t=ut(YR);return e||t?k.jsx(KR,{onSelectionChange:e}):null}const e_=[0,0],qR={x:0,y:0,zoom:1},GR=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Lx=[...GR,"rfId"],QR=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),jx={translateExtent:Rd,nodeOrigin:e_,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function ZR(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:a,setTranslateExtent:u,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:h,setPaneClickDistance:m}=ut(QR,Kt),y=$t();P.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{x.current=jx,d()}),[]);const x=P.useRef(jx);return P.useEffect(()=>{for(const v of Lx){const S=e[v],_=x.current[v];S!==_&&(typeof e[v]>"u"||(v==="nodes"?t(S):v==="edges"?n(S):v==="minZoom"?o(S):v==="maxZoom"?a(S):v==="translateExtent"?u(S):v==="nodeExtent"?c(S):v==="paneClickDistance"?m(S):v==="fitView"?y.setState({fitViewOnInit:S}):v==="fitViewOptions"?y.setState({fitViewOnInitOptions:S}):y.setState({[v]:S})))}x.current=e},Lx.map(v=>e[v])),null}function Ox(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function JR(e){var o;const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const a=Ox(),u=()=>n(a!=null&&a.matches?"dark":"light");return u(),a==null||a.addEventListener("change",u),()=>{a==null||a.removeEventListener("change",u)}},[e]),t!==null?t:(o=Ox())!=null&&o.matches?"dark":"light"}const $x=typeof document<"u"?document:null;function Ld(e=null,t={target:$x,actInsideInputWithModifier:!0}){const[n,o]=P.useState(!1),a=P.useRef(!1),u=P.useRef(new Set([])),[c,d]=P.useMemo(()=>{if(e!==null){const m=(Array.isArray(e)?e:[e]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),y=m.reduce((x,v)=>x.concat(...v),[]);return[m,y]}return[[],[]]},[e]);return P.useEffect(()=>{const h=(t==null?void 0:t.target)||$x;if(e!==null){const m=v=>{if(a.current=v.ctrlKey||v.metaKey||v.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&$0(v))return!1;const _=Vx(v.code,d);u.current.add(v[_]),Fx(c,u.current,!1)&&(v.preventDefault(),o(!0))},y=v=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&$0(v))return!1;const _=Vx(v.code,d);Fx(c,u.current,!0)?(o(!1),u.current.clear()):u.current.delete(v[_]),v.key==="Meta"&&u.current.clear(),a.current=!1},x=()=>{u.current.clear(),o(!1)};return h==null||h.addEventListener("keydown",m),h==null||h.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",m),h==null||h.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,o]),n}function Fx(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(a=>t.has(a)))}function Vx(e,t){return t.includes(e)?"code":"key"}const eD=()=>{const e=$t();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,a,u],panZoom:c}=e.getState();return c?(await c.setViewport({x:t.x??o,y:t.y??a,zoom:t.zoom??u},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>{const{nodeLookup:n,minZoom:o,maxZoom:a,panZoom:u,domNode:c}=e.getState();if(!u||!c)return Promise.resolve(!1);const d=L0(n,t),{width:h,height:m}=bm(c);return j0({nodes:d,width:h,height:m,minZoom:o,maxZoom:a,panZoom:u},t)},setCenter:async(t,n,o)=>{const{width:a,height:u,maxZoom:c,panZoom:d}=e.getState(),h=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,m=a/2-t*h,y=u/2-n*h;return d?(await d.setViewport({x:m,y,zoom:h},{duration:o==null?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:o,height:a,minZoom:u,maxZoom:c,panZoom:d}=e.getState(),h=ky(t,o,a,u,c,(n==null?void 0:n.padding)??.1);return d?(await d.setViewport(h,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:a,snapToGrid:u,domNode:c}=e.getState();if(!c)return t;const{x:d,y:h}=c.getBoundingClientRect(),m={x:t.x-d,y:t.y-h},y=n.snapGrid??a,x=n.snapToGrid??u;return qd(m,o,x,y)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:a,y:u}=o.getBoundingClientRect(),c=RS(t,n);return{x:c.x+a,y:c.y+u}}}),[])};function t_(e,t){const n=[],o=new Map,a=[];for(const u of e)if(u.type==="add"){a.push(u);continue}else if(u.type==="remove"||u.type==="replace")o.set(u.id,[u]);else{const c=o.get(u.id);c?c.push(u):o.set(u.id,[u])}for(const u of t){const c=o.get(u.id);if(!c){n.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const d={...u};for(const h of c)tD(h,d);n.push(d)}return a.length&&a.forEach(u=>{u.index!==void 0?n.splice(u.index,0,{...u.item}):n.push({...u.item})}),n}function tD(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function n_(e,t){return t_(e,t)}function r_(e,t){return t_(e,t)}function hl(e,t){return{id:e,type:"select",selected:t}}function uc(e,t=new Set,n=!1){const o=[];for(const[a,u]of e){const c=t.has(a);!(u.selected===void 0&&!c)&&u.selected!==c&&(n&&(u.selected=c),o.push(hl(u.id,c)))}return o}function Bx({items:e=[],lookup:t}){var a;const n=[],o=new Map(e.map(u=>[u.id,u]));for(const[u,c]of e.entries()){const d=t.get(c.id),h=((a=d==null?void 0:d.internals)==null?void 0:a.userNode)??d;h!==void 0&&h!==c&&n.push({id:c.id,item:c,type:"replace"}),h===void 0&&n.push({item:c,type:"add",index:u})}for(const[u]of t)o.get(u)===void 0&&n.push({id:u,type:"remove"});return n}function zx(e){return{id:e.id,type:"remove"}}const Ux=e=>RA(e),nD=e=>bS(e);function i_(e){return P.forwardRef(e)}const rD=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Hx(e){const[t,n]=P.useState(BigInt(0)),[o]=P.useState(()=>iD(()=>n(a=>a+BigInt(1))));return rD(()=>{const a=o.get();a.length&&(e(a),o.reset())},[t]),o}function iD(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const o_=P.createContext(null);function oD({children:e}){const t=$t(),n=P.useCallback(d=>{const{nodes:h=[],setNodes:m,hasDefaultNodes:y,onNodesChange:x,nodeLookup:v}=t.getState();let S=h;for(const _ of d)S=typeof _=="function"?_(S):_;y?m(S):x&&x(Bx({items:S,lookup:v}))},[]),o=Hx(n),a=P.useCallback(d=>{const{edges:h=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:x,edgeLookup:v}=t.getState();let S=h;for(const _ of d)S=typeof _=="function"?_(S):_;y?m(S):x&&x(Bx({items:S,lookup:v}))},[]),u=Hx(a),c=P.useMemo(()=>({nodeQueue:o,edgeQueue:u}),[]);return k.jsx(o_.Provider,{value:c,children:e})}function sD(){const e=P.useContext(o_);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const aD=e=>!!e.panZoom;function Nm(){const e=eD(),t=$t(),n=sD(),o=ut(aD),a=P.useMemo(()=>{const u=x=>t.getState().nodeLookup.get(x),c=x=>{n.nodeQueue.push(x)},d=x=>{n.edgeQueue.push(x)},h=x=>{var C,M;const{nodeLookup:v,nodeOrigin:S}=t.getState(),_=Ux(x)?x:v.get(x.id),T=_.parentId?MS(_.position,_.measured,_.parentId,v,S):_.position,N={..._,position:T,width:((C=_.measured)==null?void 0:C.width)??_.width,height:((M=_.measured)==null?void 0:M.height)??_.height};return Sc(N)},m=(x,v,S={replace:!1})=>{c(_=>_.map(T=>{if(T.id===x){const N=typeof v=="function"?v(T):v;return S.replace&&Ux(N)?N:{...T,...N}}return T}))},y=(x,v,S={replace:!1})=>{d(_=>_.map(T=>{if(T.id===x){const N=typeof v=="function"?v(T):v;return S.replace&&nD(N)?N:{...T,...N}}return T}))};return{getNodes:()=>t.getState().nodes.map(x=>({...x})),getNode:x=>{var v;return(v=u(x))==null?void 0:v.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:x=[]}=t.getState();return x.map(v=>({...v}))},getEdge:x=>t.getState().edgeLookup.get(x),setNodes:c,setEdges:d,addNodes:x=>{const v=Array.isArray(x)?x:[x];n.nodeQueue.push(S=>[...S,...v])},addEdges:x=>{const v=Array.isArray(x)?x:[x];n.edgeQueue.push(S=>[...S,...v])},toObject:()=>{const{nodes:x=[],edges:v=[],transform:S}=t.getState(),[_,T,N]=S;return{nodes:x.map(C=>({...C})),edges:v.map(C=>({...C})),viewport:{x:_,y:T,zoom:N}}},deleteElements:async({nodes:x=[],edges:v=[]})=>{const{nodes:S,edges:_,onNodesDelete:T,onEdgesDelete:N,triggerNodeChanges:C,triggerEdgeChanges:M,onDelete:A,onBeforeDelete:L}=t.getState(),{nodes:B,edges:X}=await LA({nodesToRemove:x,edgesToRemove:v,nodes:S,edges:_,onBeforeDelete:L}),O=X.length>0,z=B.length>0;if(O){const q=X.map(zx);N==null||N(X),M(q)}if(z){const q=B.map(zx);T==null||T(B),C(q)}return(z||O)&&(A==null||A({nodes:B,edges:X})),{deletedNodes:B,deletedEdges:X}},getIntersectingNodes:(x,v=!0,S)=>{const _=gx(x),T=_?x:h(x),N=S!==void 0;return T?(S||t.getState().nodes).filter(C=>{const M=t.getState().nodeLookup.get(C.id);if(M&&!_&&(C.id===x.id||!M.internals.positionAbsolute))return!1;const A=Sc(N?C:M),L=Md(A,T);return v&&L>0||L>=T.width*T.height}):[]},isNodeIntersecting:(x,v,S=!0)=>{const T=gx(x)?x:h(x);if(!T)return!1;const N=Md(T,v);return S&&N>0||N>=T.width*T.height},updateNode:m,updateNodeData:(x,v,S={replace:!1})=>{m(x,_=>{const T=typeof v=="function"?v(_):v;return S.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},S)},updateEdge:y,updateEdgeData:(x,v,S={replace:!1})=>{y(x,_=>{const T=typeof v=="function"?v(_):v;return S.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},S)},getNodesBounds:x=>{const{nodeLookup:v,nodeOrigin:S}=t.getState();return IA(x,{nodeLookup:v,nodeOrigin:S})},getHandleConnections:({type:x,id:v,nodeId:S})=>{var _;return Array.from(((_=t.getState().connectionLookup.get(`${S}-${x}${v?`-${v}`:""}`))==null?void 0:_.values())??[])},getNodeConnections:({type:x,handleId:v,nodeId:S})=>{var _;return Array.from(((_=t.getState().connectionLookup.get(`${S}${x?v?`-${x}-${v}`:`-${x}`:""}`))==null?void 0:_.values())??[])}}},[]);return P.useMemo(()=>({...a,...e,viewportInitialized:o}),[o])}const Wx=e=>e.selected,lD={actInsideInputWithModifier:!1},uD=typeof window<"u"?window:void 0;function cD({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=$t(),{deleteElements:o}=Nm(),a=Ld(e,lD),u=Ld(t,{target:uD});P.useEffect(()=>{if(a){const{edges:c,nodes:d}=n.getState();o({nodes:d.filter(Wx),edges:c.filter(Wx)}),n.setState({nodesSelectionActive:!1})}},[a]),P.useEffect(()=>{n.setState({multiSelectionActive:u})},[u])}function fD(e){const t=$t();P.useEffect(()=>{const n=()=>{var a,u;if(!e.current)return!1;const o=bm(e.current);(o.height===0||o.width===0)&&((u=(a=t.getState()).onError)==null||u.call(a,"004",as.error004())),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const Pm={position:"absolute",width:"100%",height:"100%",top:0,left:0},dD=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function hD({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=wl.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:h,translateExtent:m,minZoom:y,maxZoom:x,zoomActivationKeyCode:v,preventScrolling:S=!0,children:_,noWheelClassName:T,noPanClassName:N,onViewportChange:C,isControlledViewport:M,paneClickDistance:A}){const L=$t(),B=P.useRef(null),{userSelectionActive:X,lib:O}=ut(dD,Kt),z=Ld(v),q=P.useRef();fD(B);const ee=P.useCallback(fe=>{C==null||C({x:fe[0],y:fe[1],zoom:fe[2]}),M||L.setState({transform:fe})},[C,M]);return P.useEffect(()=>{if(B.current){q.current=mR({domNode:B.current,minZoom:y,maxZoom:x,translateExtent:m,viewport:h,paneClickDistance:A,onDraggingChange:$=>L.setState({paneDragging:$}),onPanZoomStart:($,ne)=>{const{onViewportChangeStart:Y,onMoveStart:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)},onPanZoom:($,ne)=>{const{onViewportChange:Y,onMove:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)},onPanZoomEnd:($,ne)=>{const{onViewportChangeEnd:Y,onMoveEnd:H}=L.getState();H==null||H($,ne),Y==null||Y(ne)}});const{x:fe,y:se,zoom:ue}=q.current.getViewport();return L.setState({panZoom:q.current,transform:[fe,se,ue],domNode:B.current.closest(".react-flow")}),()=>{var $;($=q.current)==null||$.destroy()}}},[]),P.useEffect(()=>{var fe;(fe=q.current)==null||fe.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:a,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:z,preventScrolling:S,noPanClassName:N,userSelectionActive:X,noWheelClassName:T,lib:O,onTransformChange:ee})},[e,t,n,o,a,u,c,d,z,S,N,X,T,O,ee]),k.jsx("div",{className:"react-flow__renderer",ref:B,style:Pm,children:_})}const pD=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function mD(){const{userSelectionActive:e,userSelectionRect:t}=ut(pD,Kt);return e&&t?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const o0=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},gD=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function yD({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Dd.Full,panOnDrag:o,selectionOnDrag:a,onSelectionStart:u,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:m,onPaneMouseEnter:y,onPaneMouseMove:x,onPaneMouseLeave:v,children:S}){const _=$t(),{userSelectionActive:T,elementsSelectable:N,dragging:C}=ut(gD,Kt),M=N&&(e||T),A=P.useRef(null),L=P.useRef(),B=P.useRef(new Set),X=P.useRef(new Set),O=P.useRef(!1),z=P.useRef(!1),q=Y=>{if(O.current){O.current=!1;return}d==null||d(Y),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},ee=Y=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){Y.preventDefault();return}h==null||h(Y)},fe=m?Y=>m(Y):void 0,se=Y=>{var V,J;const{resetSelectedElements:H,domNode:F}=_.getState();if(L.current=F==null?void 0:F.getBoundingClientRect(),!N||!e||Y.button!==0||Y.target!==A.current||!L.current)return;(J=(V=Y.target)==null?void 0:V.setPointerCapture)==null||J.call(V,Y.pointerId),z.current=!0,O.current=!1;const{x:K,y:G}=es(Y.nativeEvent,L.current);H(),_.setState({userSelectionRect:{width:0,height:0,startX:K,startY:G,x:K,y:G}}),u==null||u(Y)},ue=Y=>{const{userSelectionRect:H,transform:F,nodeLookup:K,edgeLookup:G,connectionLookup:V,triggerNodeChanges:J,triggerEdgeChanges:ge,defaultEdgeOptions:ye}=_.getState();if(!L.current||!H)return;O.current=!0;const{x:we,y:ve}=es(Y.nativeEvent,L.current),{startX:_e,startY:ke}=H,Re={startX:_e,startY:ke,x:we<_e?we:_e,y:ve<ke?ve:ke,width:Math.abs(we-_e),height:Math.abs(ve-ke)},We=B.current,Ye=X.current;B.current=new Set(CS(K,Re,F,n===Dd.Partial,!0).map(Pe=>Pe.id)),X.current=new Set;const Ne=(ye==null?void 0:ye.selectable)??!0;for(const Pe of B.current){const Ue=V.get(Pe);if(Ue)for(const{edgeId:nt}of Ue.values()){const Et=G.get(nt);Et&&(Et.selectable??Ne)&&X.current.add(nt)}}if(!yx(We,B.current)){const Pe=uc(K,B.current,!0);J(Pe)}if(!yx(Ye,X.current)){const Pe=uc(G,X.current);ge(Pe)}_.setState({userSelectionRect:Re,userSelectionActive:!0,nodesSelectionActive:!1})},$=Y=>{var F,K;if(Y.button!==0||!z.current)return;(K=(F=Y.target)==null?void 0:F.releasePointerCapture)==null||K.call(F,Y.pointerId);const{userSelectionRect:H}=_.getState();!T&&H&&Y.target===A.current&&(q==null||q(Y)),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:B.current.size>0}),c==null||c(Y),(t||a)&&(O.current=!1),z.current=!1},ne=o===!0||Array.isArray(o)&&o.includes(0);return k.jsxs("div",{className:on(["react-flow__pane",{draggable:ne,dragging:C,selection:e}]),onClick:M?void 0:o0(q,A),onContextMenu:o0(ee,A),onWheel:o0(fe,A),onPointerEnter:M?void 0:y,onPointerDown:M?se:x,onPointerMove:M?ue:x,onPointerUp:M?$:void 0,onPointerLeave:v,ref:A,style:Pm,children:[S,k.jsx(mD,{})]})}function H0({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:d,onError:h}=t.getState(),m=d.get(e);if(!m){h==null||h("012",as.error012(e));return}t.setState({nodesSelectionActive:!1}),m.selected?(n||m.selected&&c)&&(u({nodes:[m],edges:[]}),requestAnimationFrame(()=>{var y;return(y=o==null?void 0:o.current)==null?void 0:y.blur()})):a([e])}function s_({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:a,isSelectable:u,nodeClickDistance:c}){const d=$t(),[h,m]=P.useState(!1),y=P.useRef();return P.useEffect(()=>{y.current=tR({getStoreItems:()=>d.getState(),onNodeMouseDown:x=>{H0({id:x,store:d,nodeRef:e})},onDragStart:()=>{m(!0)},onDragStop:()=>{m(!1)}})},[]),P.useEffect(()=>{var x,v;if(t)(x=y.current)==null||x.destroy();else if(e.current)return(v=y.current)==null||v.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:u,nodeId:a,nodeClickDistance:c}),()=>{var S;(S=y.current)==null||S.destroy()}},[n,o,t,u,e,a]),h}const vD=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function a_(){const e=$t();return P.useCallback(n=>{const{nodeExtent:o,snapToGrid:a,snapGrid:u,nodesDraggable:c,onError:d,updateNodePositions:h,nodeLookup:m,nodeOrigin:y}=e.getState(),x=new Map,v=vD(c),S=a?u[0]:5,_=a?u[1]:5,T=n.direction.x*S*n.factor,N=n.direction.y*_*n.factor;for(const[,C]of m){if(!v(C))continue;let M={x:C.internals.positionAbsolute.x+T,y:C.internals.positionAbsolute.y+N};a&&(M=Em(M,u));const{position:A,positionAbsolute:L}=TS({nodeId:C.id,nextPosition:M,nodeLookup:m,nodeExtent:o,nodeOrigin:y,onError:d});C.position=A,C.internals.positionAbsolute=L,x.set(C.id,C)}h(x)},[])}const Ry=P.createContext(null),xD=Ry.Provider;Ry.Consumer;const Dy=()=>P.useContext(Ry),wD=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),SD=(e,t,n)=>o=>{const{connectionClickStartHandle:a,connectionMode:u,connection:c}=o,{fromHandle:d,toHandle:h,isValid:m}=c,y=(h==null?void 0:h.nodeId)===e&&(h==null?void 0:h.id)===t&&(h==null?void 0:h.type)===n;return{connectingFrom:(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===t&&(d==null?void 0:d.type)===n,connectingTo:y,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,isPossibleEndHandle:u===xc.Strict?(d==null?void 0:d.type)!==n:e!==(d==null?void 0:d.nodeId)||t!==(d==null?void 0:d.id),connectionInProcess:!!d,valid:y&&m}};function _D({type:e="source",position:t=Oe.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:h,className:m,onMouseDown:y,onTouchStart:x,...v},S){var $,ne;const _=c||null,T=e==="target",N=$t(),C=Dy(),{connectOnClick:M,noPanClassName:A,rfId:L}=ut(wD,Kt),{connectingFrom:B,connectingTo:X,clickConnecting:O,isPossibleEndHandle:z,connectionInProcess:q,valid:ee}=ut(SD(C,_,e),Kt);C||(ne=($=N.getState()).onError)==null||ne.call($,"010",as.error010());const fe=Y=>{const{defaultEdgeOptions:H,onConnect:F,hasDefaultEdges:K}=N.getState(),G={...H,...Y};if(K){const{edges:V,setEdges:J}=N.getState();J(F0(G,V))}F==null||F(G),d==null||d(G)},se=Y=>{if(!C)return;const H=LS(Y.nativeEvent);if(a&&(H&&Y.button===0||!H)){const F=N.getState();U0.onPointerDown(Y.nativeEvent,{autoPanOnConnect:F.autoPanOnConnect,connectionMode:F.connectionMode,connectionRadius:F.connectionRadius,domNode:F.domNode,nodeLookup:F.nodeLookup,lib:F.lib,isTarget:T,handleId:_,nodeId:C,flowId:F.rfId,panBy:F.panBy,cancelConnection:F.cancelConnection,onConnectStart:F.onConnectStart,onConnectEnd:F.onConnectEnd,updateConnection:F.updateConnection,onConnect:fe,isValidConnection:n||F.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:F.autoPanSpeed})}H?y==null||y(Y):x==null||x(Y)},ue=Y=>{const{onClickConnectStart:H,onClickConnectEnd:F,connectionClickStartHandle:K,connectionMode:G,isValidConnection:V,lib:J,rfId:ge,nodeLookup:ye,connection:we}=N.getState();if(!C||!K&&!a)return;if(!K){H==null||H(Y.nativeEvent,{nodeId:C,handleId:_,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:C,type:e,id:_}});return}const ve=IS(Y.target),_e=n||V,{connection:ke,isValid:Re}=U0.isValid(Y.nativeEvent,{handle:{nodeId:C,id:_,type:e},connectionMode:G,fromNodeId:K.nodeId,fromHandleId:K.id||null,fromType:K.type,isValidConnection:_e,flowId:ge,doc:ve,lib:J,nodeLookup:ye});Re&&ke&&fe(ke);const We=structuredClone(we);delete We.inProgress,We.toPosition=We.toHandle?We.toHandle.position:null,F==null||F(Y,We),N.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":_,"data-nodeid":C,"data-handlepos":t,"data-id":`${L}-${C}-${_}-${e}`,className:on(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",A,m,{source:!T,target:T,connectable:o,connectablestart:a,connectableend:u,clickconnecting:O,connectingfrom:B,connectingto:X,valid:ee,connectionindicator:o&&(!q||z)&&(q?u:a)}]),onMouseDown:se,onTouchStart:se,onClick:M?ue:void 0,ref:S,...v,children:h})}const ia=P.memo(i_(_D));function ED({data:e,isConnectable:t,sourcePosition:n=Oe.Bottom}){return k.jsxs(k.Fragment,{children:[e==null?void 0:e.label,k.jsx(ia,{type:"source",position:n,isConnectable:t})]})}function bD({data:e,isConnectable:t,targetPosition:n=Oe.Top,sourcePosition:o=Oe.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(ia,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,k.jsx(ia,{type:"source",position:o,isConnectable:t})]})}function CD(){return null}function kD({data:e,isConnectable:t,targetPosition:n=Oe.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(ia,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const om={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Kx={input:ED,default:bD,output:kD,group:CD};function TD(e){var t,n,o,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((o=e.style)==null?void 0:o.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const ND=e=>{const{width:t,height:n,x:o,y:a}=kc(e.nodeLookup,{filter:u=>!!u.selected});return{width:Ri(t)?t:null,height:Ri(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${a}px)`}};function PD({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=$t(),{width:a,height:u,transformString:c,userSelectionActive:d}=ut(ND,Kt),h=a_(),m=P.useRef(null);if(P.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),s_({nodeRef:m}),d||!a||!u)return null;const y=e?v=>{const S=o.getState().nodes.filter(_=>_.selected);e(v,S)}:void 0,x=v=>{Object.prototype.hasOwnProperty.call(om,v.key)&&(v.preventDefault(),h({direction:om[v.key],factor:v.shiftKey?4:1}))};return k.jsx("div",{className:on(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:k.jsx("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:n?void 0:-1,onKeyDown:n?void 0:x,style:{width:a,height:u}})})}const Yx=typeof window<"u"?window:void 0,AD=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function l_({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:h,selectionKeyCode:m,selectionOnDrag:y,selectionMode:x,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:_,panActivationKeyCode:T,zoomActivationKeyCode:N,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:L,panOnScrollSpeed:B,panOnScrollMode:X,zoomOnDoubleClick:O,panOnDrag:z,defaultViewport:q,translateExtent:ee,minZoom:fe,maxZoom:se,preventScrolling:ue,onSelectionContextMenu:$,noWheelClassName:ne,noPanClassName:Y,disableKeyboardA11y:H,onViewportChange:F,isControlledViewport:K}){const{nodesSelectionActive:G,userSelectionActive:V}=ut(AD),J=Ld(m,{target:Yx}),ge=Ld(T,{target:Yx}),ye=ge||z,we=ge||L,ve=y&&ye!==!0,_e=J||V||ve;return cD({deleteKeyCode:h,multiSelectionKeyCode:_}),k.jsx(hD,{onPaneContextMenu:u,elementsSelectable:C,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:we,panOnScrollSpeed:B,panOnScrollMode:X,zoomOnDoubleClick:O,panOnDrag:!J&&ye,defaultViewport:q,translateExtent:ee,minZoom:fe,maxZoom:se,zoomActivationKeyCode:N,preventScrolling:ue,noWheelClassName:ne,noPanClassName:Y,onViewportChange:F,isControlledViewport:K,paneClickDistance:d,children:k.jsxs(yD,{onSelectionStart:v,onSelectionEnd:S,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:ye,isSelecting:!!_e,selectionMode:x,selectionKeyPressed:J,selectionOnDrag:ve,children:[e,G&&k.jsx(PD,{onSelectionContextMenu:$,noPanClassName:Y,disableKeyboardA11y:H})]})})}l_.displayName="FlowRenderer";const RD=P.memo(l_),DD=e=>t=>e?CS(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function MD(e){return ut(P.useCallback(DD(e),[e]),Kt)}const ID=e=>e.updateNodeInternals;function LD(){const e=ut(ID),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(a=>{const u=a.target.getAttribute("data-id");o.set(u,{id:u,nodeElement:a.target,force:!0})}),e(o)}));return P.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function jD({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const a=$t(),u=P.useRef(null),c=P.useRef(null),d=P.useRef(e.sourcePosition),h=P.useRef(e.targetPosition),m=P.useRef(t),y=n&&!!e.internals.handleBounds;return P.useEffect(()=>{u.current&&!e.hidden&&(!y||c.current!==u.current)&&(c.current&&(o==null||o.unobserve(c.current)),o==null||o.observe(u.current),c.current=u.current)},[y,e.hidden]),P.useEffect(()=>()=>{c.current&&(o==null||o.unobserve(c.current),c.current=null)},[]),P.useEffect(()=>{if(u.current){const x=m.current!==t,v=d.current!==e.sourcePosition,S=h.current!==e.targetPosition;(x||v||S)&&(m.current=t,d.current=e.sourcePosition,h.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),u}function OD({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:a,onContextMenu:u,onDoubleClick:c,nodesDraggable:d,elementsSelectable:h,nodesConnectable:m,nodesFocusable:y,resizeObserver:x,noDragClassName:v,noPanClassName:S,disableKeyboardA11y:_,rfId:T,nodeTypes:N,nodeClickDistance:C,onError:M}){const{node:A,internals:L,isParent:B}=ut(_e=>{const ke=_e.nodeLookup.get(e),Re=_e.parentLookup.has(e);return{node:ke,internals:ke.internals,isParent:Re}},Kt);let X=A.type||"default",O=(N==null?void 0:N[X])||Kx[X];O===void 0&&(M==null||M("003",as.error003(X)),X="default",O=Kx.default);const z=!!(A.draggable||d&&typeof A.draggable>"u"),q=!!(A.selectable||h&&typeof A.selectable>"u"),ee=!!(A.connectable||m&&typeof A.connectable>"u"),fe=!!(A.focusable||y&&typeof A.focusable>"u"),se=$t(),ue=DS(A),$=jD({node:A,nodeType:X,hasDimensions:ue,resizeObserver:x}),ne=s_({nodeRef:$,disabled:A.hidden||!z,noDragClassName:v,handleSelector:A.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:C}),Y=a_();if(A.hidden)return null;const H=ls(A),F=TD(A),K=q||z||t||n||o||a,G=n?_e=>n(_e,{...L.userNode}):void 0,V=o?_e=>o(_e,{...L.userNode}):void 0,J=a?_e=>a(_e,{...L.userNode}):void 0,ge=u?_e=>u(_e,{...L.userNode}):void 0,ye=c?_e=>c(_e,{...L.userNode}):void 0,we=_e=>{const{selectNodesOnDrag:ke,nodeDragThreshold:Re}=se.getState();q&&(!ke||!z||Re>0)&&H0({id:e,store:se,nodeRef:$}),t&&t(_e,{...L.userNode})},ve=_e=>{if(!($0(_e.nativeEvent)||_))if(SS.includes(_e.key)&&q){const ke=_e.key==="Escape";H0({id:e,store:se,unselect:ke,nodeRef:$})}else z&&A.selected&&Object.prototype.hasOwnProperty.call(om,_e.key)&&(_e.preventDefault(),se.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~L.positionAbsolute.x}, y: ${~~L.positionAbsolute.y}`}),Y({direction:om[_e.key],factor:_e.shiftKey?4:1}))};return k.jsx("div",{className:on(["react-flow__node",`react-flow__node-${X}`,{[S]:z},A.className,{selected:A.selected,selectable:q,parent:B,draggable:z,dragging:ne}]),ref:$,style:{zIndex:L.z,transform:`translate(${L.positionAbsolute.x}px,${L.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:ue?"visible":"hidden",...A.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:G,onMouseMove:V,onMouseLeave:J,onContextMenu:ge,onClick:we,onDoubleClick:ye,onKeyDown:fe?ve:void 0,tabIndex:fe?0:void 0,role:fe?"button":void 0,"aria-describedby":_?void 0:`${ZS}-${T}`,"aria-label":A.ariaLabel,children:k.jsx(xD,{value:e,children:k.jsx(O,{id:e,data:A.data,type:X,positionAbsoluteX:L.positionAbsolute.x,positionAbsoluteY:L.positionAbsolute.y,selected:A.selected??!1,selectable:q,draggable:z,deletable:A.deletable??!0,isConnectable:ee,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:ne,dragHandle:A.dragHandle,zIndex:L.z,parentId:A.parentId,...H})})})}const $D=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function u_(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:a,onError:u}=ut($D,Kt),c=MD(e.onlyRenderVisibleElements),d=LD();return k.jsx("div",{className:"react-flow__nodes",style:Pm,children:c.map(h=>k.jsx(OD,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:u},h))})}u_.displayName="NodeRenderer";const FD=P.memo(u_);function VD(e){return ut(P.useCallback(n=>{if(!e)return n.edges.map(a=>a.id);const o=[];if(n.width&&n.height)for(const a of n.edges){const u=n.nodeLookup.get(a.source),c=n.nodeLookup.get(a.target);u&&c&&FA({sourceNode:u,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&o.push(a.id)}return o},[e]),Kt)}const BD=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zD=({color:e="none",strokeWidth:t=1})=>k.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Xx={[nm.Arrow]:BD,[nm.ArrowClosed]:zD};function UD(e){const t=$t();return P.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(Xx,e)?Xx[e]:((u=(a=t.getState()).onError)==null||u.call(a,"009",as.error009(e)),null)},[e])}const HD=({id:e,type:t,color:n,width:o=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const h=UD(t);return h?k.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0",children:k.jsx(h,{color:n,strokeWidth:c})}):null},c_=({defaultColor:e,rfId:t})=>{const n=ut(u=>u.edges),o=ut(u=>u.defaultEdgeOptions),a=P.useMemo(()=>KA(n,{id:t,defaultColor:e,defaultMarkerStart:o==null?void 0:o.markerStart,defaultMarkerEnd:o==null?void 0:o.markerEnd}),[n,o,t,e]);return a.length?k.jsx("svg",{className:"react-flow__marker",children:k.jsx("defs",{children:a.map(u=>k.jsx(HD,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};c_.displayName="MarkerDefinitions";var WD=P.memo(c_);function f_({x:e,y:t,label:n,labelStyle:o={},labelShowBg:a=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:m,...y}){const[x,v]=P.useState({x:1,y:0,width:0,height:0}),S=on(["react-flow__edge-textwrapper",m]),_=P.useRef(null);return P.useEffect(()=>{if(_.current){const T=_.current.getBBox();v({x:T.x,y:T.y,width:T.width,height:T.height})}},[n]),typeof n>"u"||!n?null:k.jsxs("g",{transform:`translate(${e-x.width/2} ${t-x.height/2})`,className:S,visibility:x.width?"visible":"hidden",...y,children:[a&&k.jsx("rect",{width:x.width+2*c[0],x:-c[0],y:-c[1],height:x.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),k.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:_,style:o,children:n}),h]})}f_.displayName="EdgeText";const KD=P.memo(f_);function Am({path:e,labelX:t,labelY:n,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,interactionWidth:m=20,...y}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...y,d:e,fill:"none",className:on(["react-flow__edge-path",y.className])}),m&&k.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&Ri(t)&&Ri(n)?k.jsx(KD,{x:t,y:n,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h}):null]})}function qx({pos:e,x1:t,y1:n,x2:o,y2:a}){return e===Oe.Left||e===Oe.Right?[.5*(t+o),n]:[t,.5*(n+a)]}function d_({sourceX:e,sourceY:t,sourcePosition:n=Oe.Bottom,targetX:o,targetY:a,targetPosition:u=Oe.Top}){const[c,d]=qx({pos:n,x1:e,y1:t,x2:o,y2:a}),[h,m]=qx({pos:u,x1:o,y1:a,x2:e,y2:t}),[y,x,v,S]=jS({sourceX:e,sourceY:t,targetX:o,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:h,targetControlY:m});return[`M${e},${t} C${c},${d} ${h},${m} ${o},${a}`,y,x,v,S]}function h_(e){return P.memo(({id:t,sourceX:n,sourceY:o,targetX:a,targetY:u,sourcePosition:c=Oe.Bottom,targetPosition:d=Oe.Top,label:h,labelStyle:m,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:C})=>{const[M,A,L]=d_({sourceX:n,sourceY:o,sourcePosition:c,targetX:a,targetY:u,targetPosition:d}),B=e.isInternal?void 0:t;return k.jsx(Am,{id:B,path:M,labelX:A,labelY:L,label:h,labelStyle:m,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:C})})}const YD=h_({isInternal:!1}),p_=h_({isInternal:!0});YD.displayName="SimpleBezierEdge";p_.displayName="SimpleBezierEdgeInternal";function m_(e){return P.memo(({id:t,sourceX:n,sourceY:o,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:v,sourcePosition:S=Oe.Bottom,targetPosition:_=Oe.Top,markerEnd:T,markerStart:N,pathOptions:C,interactionWidth:M})=>{const[A,L,B]=V0({sourceX:n,sourceY:o,sourcePosition:S,targetX:a,targetY:u,targetPosition:_,borderRadius:C==null?void 0:C.borderRadius,offset:C==null?void 0:C.offset}),X=e.isInternal?void 0:t;return k.jsx(Am,{id:X,path:A,labelX:L,labelY:B,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:T,markerStart:N,interactionWidth:M})})}const g_=m_({isInternal:!1}),y_=m_({isInternal:!0});g_.displayName="SmoothStepEdge";y_.displayName="SmoothStepEdgeInternal";function v_(e){return P.memo(({id:t,...n})=>{var a;const o=e.isInternal?void 0:t;return k.jsx(g_,{...n,id:o,pathOptions:P.useMemo(()=>{var u;return{borderRadius:0,offset:(u=n.pathOptions)==null?void 0:u.offset}},[(a=n.pathOptions)==null?void 0:a.offset])})})}const XD=v_({isInternal:!1}),x_=v_({isInternal:!0});XD.displayName="StepEdge";x_.displayName="StepEdgeInternal";function w_(e){return P.memo(({id:t,sourceX:n,sourceY:o,targetX:a,targetY:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:S,markerStart:_,interactionWidth:T})=>{const[N,C,M]=FS({sourceX:n,sourceY:o,targetX:a,targetY:u}),A=e.isInternal?void 0:t;return k.jsx(Am,{id:A,path:N,labelX:C,labelY:M,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:v,markerEnd:S,markerStart:_,interactionWidth:T})})}const qD=w_({isInternal:!1}),S_=w_({isInternal:!0});qD.displayName="StraightEdge";S_.displayName="StraightEdgeInternal";function __(e){return P.memo(({id:t,sourceX:n,sourceY:o,targetX:a,targetY:u,sourcePosition:c=Oe.Bottom,targetPosition:d=Oe.Top,label:h,labelStyle:m,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,pathOptions:C,interactionWidth:M})=>{const[A,L,B]=OS({sourceX:n,sourceY:o,sourcePosition:c,targetX:a,targetY:u,targetPosition:d,curvature:C==null?void 0:C.curvature}),X=e.isInternal?void 0:t;return k.jsx(Am,{id:X,path:A,labelX:L,labelY:B,label:h,labelStyle:m,labelShowBg:y,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:S,style:_,markerEnd:T,markerStart:N,interactionWidth:M})})}const GD=__({isInternal:!1}),E_=__({isInternal:!0});GD.displayName="BezierEdge";E_.displayName="BezierEdgeInternal";const Gx={default:E_,straight:S_,step:x_,smoothstep:y_,simplebezier:p_},Qx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},QD=(e,t,n)=>n===Oe.Left?e-t:n===Oe.Right?e+t:e,ZD=(e,t,n)=>n===Oe.Top?e-t:n===Oe.Bottom?e+t:e,Zx="react-flow__edgeupdater";function Jx({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:d}){return k.jsx("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:on([Zx,`${Zx}-${d}`]),cx:QD(t,o,e),cy:ZD(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function JD({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:a,targetX:u,targetY:c,sourcePosition:d,targetPosition:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:x,setReconnecting:v,setUpdateHover:S}){const _=$t(),T=(L,B)=>{if(L.button!==0)return;const{autoPanOnConnect:X,domNode:O,isValidConnection:z,connectionMode:q,connectionRadius:ee,lib:fe,onConnectStart:se,onConnectEnd:ue,cancelConnection:$,nodeLookup:ne,rfId:Y,panBy:H,updateConnection:F}=_.getState(),K=B.type==="target";v(!0),y==null||y(L,n,B.type);const G=(J,ge)=>{v(!1),x==null||x(J,n,B.type,ge)},V=J=>m==null?void 0:m(n,J);U0.onPointerDown(L.nativeEvent,{autoPanOnConnect:X,connectionMode:q,connectionRadius:ee,domNode:O,handleId:B.id,nodeId:B.nodeId,nodeLookup:ne,isTarget:K,edgeUpdaterType:B.type,lib:fe,flowId:Y,cancelConnection:$,panBy:H,isValidConnection:z,onConnect:V,onConnectStart:se,onConnectEnd:ue,onReconnectEnd:G,updateConnection:F,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},N=L=>T(L,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),C=L=>T(L,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),M=()=>S(!0),A=()=>S(!1);return k.jsxs(k.Fragment,{children:[(e===!0||e==="source")&&k.jsx(Jx,{position:d,centerX:o,centerY:a,radius:t,onMouseDown:N,onMouseEnter:M,onMouseOut:A,type:"source"}),(e===!0||e==="target")&&k.jsx(Jx,{position:h,centerX:u,centerY:c,radius:t,onMouseDown:C,onMouseEnter:M,onMouseOut:A,type:"target"})]})}function eM({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:a,onDoubleClick:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:m,reconnectRadius:y,onReconnect:x,onReconnectStart:v,onReconnectEnd:S,rfId:_,edgeTypes:T,noPanClassName:N,onError:C,disableKeyboardA11y:M}){let A=ut(Ne=>Ne.edgeLookup.get(e));const L=ut(Ne=>Ne.defaultEdgeOptions);A=L?{...L,...A}:A;let B=A.type||"default",X=(T==null?void 0:T[B])||Gx[B];X===void 0&&(C==null||C("011",as.error011(B)),B="default",X=Gx.default);const O=!!(A.focusable||t&&typeof A.focusable>"u"),z=typeof x<"u"&&(A.reconnectable||n&&typeof A.reconnectable>"u"),q=!!(A.selectable||o&&typeof A.selectable>"u"),ee=P.useRef(null),[fe,se]=P.useState(!1),[ue,$]=P.useState(!1),ne=$t(),{zIndex:Y,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J}=ut(P.useCallback(Ne=>{const Pe=Ne.nodeLookup.get(A.source),Ue=Ne.nodeLookup.get(A.target);if(!Pe||!Ue)return{zIndex:A.zIndex,...Qx};const nt=WA({id:e,sourceNode:Pe,targetNode:Ue,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ne.connectionMode,onError:C});return{zIndex:$A({selected:A.selected,zIndex:A.zIndex,sourceNode:Pe,targetNode:Ue,elevateOnSelect:Ne.elevateEdgesOnSelect}),...nt||Qx}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),Kt),ge=P.useMemo(()=>A.markerStart?`url('#${B0(A.markerStart,_)}')`:void 0,[A.markerStart,_]),ye=P.useMemo(()=>A.markerEnd?`url('#${B0(A.markerEnd,_)}')`:void 0,[A.markerEnd,_]);if(A.hidden||H===null||F===null||K===null||G===null)return null;const we=Ne=>{var Et;const{addSelectedEdges:Pe,unselectNodesAndEdges:Ue,multiSelectionActive:nt}=ne.getState();q&&(ne.setState({nodesSelectionActive:!1}),A.selected&&nt?(Ue({nodes:[],edges:[A]}),(Et=ee.current)==null||Et.blur()):Pe([e])),a&&a(Ne,A)},ve=u?Ne=>{u(Ne,{...A})}:void 0,_e=c?Ne=>{c(Ne,{...A})}:void 0,ke=d?Ne=>{d(Ne,{...A})}:void 0,Re=h?Ne=>{h(Ne,{...A})}:void 0,We=m?Ne=>{m(Ne,{...A})}:void 0,Ye=Ne=>{var Pe;if(!M&&SS.includes(Ne.key)&&q){const{unselectNodesAndEdges:Ue,addSelectedEdges:nt}=ne.getState();Ne.key==="Escape"?((Pe=ee.current)==null||Pe.blur(),Ue({edges:[A]})):nt([e])}};return k.jsx("svg",{style:{zIndex:Y},children:k.jsxs("g",{className:on(["react-flow__edge",`react-flow__edge-${B}`,A.className,N,{selected:A.selected,animated:A.animated,inactive:!q&&!a,updating:fe,selectable:q}]),onClick:we,onDoubleClick:ve,onContextMenu:_e,onMouseEnter:ke,onMouseMove:Re,onMouseLeave:We,onKeyDown:O?Ye:void 0,tabIndex:O?0:void 0,role:O?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":O?`${JS}-${_}`:void 0,ref:ee,children:[!ue&&k.jsx(X,{id:e,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:q,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:ge,markerEnd:ye,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),z&&k.jsx(JD,{edge:A,isReconnectable:z,reconnectRadius:y,onReconnect:x,onReconnectStart:v,onReconnectEnd:S,sourceX:H,sourceY:F,targetX:K,targetY:G,sourcePosition:V,targetPosition:J,setUpdateHover:se,setReconnecting:$})]})})}const tM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function b_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:a,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:m,onEdgeClick:y,reconnectRadius:x,onEdgeDoubleClick:v,onReconnectStart:S,onReconnectEnd:_,disableKeyboardA11y:T}){const{edgesFocusable:N,edgesReconnectable:C,elementsSelectable:M,onError:A}=ut(tM,Kt),L=VD(t);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(WD,{defaultColor:e,rfId:n}),L.map(B=>k.jsx(eM,{id:B,edgesFocusable:N,edgesReconnectable:C,elementsSelectable:M,noPanClassName:a,onReconnect:u,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:m,onClick:y,reconnectRadius:x,onDoubleClick:v,onReconnectStart:S,onReconnectEnd:_,rfId:n,onError:A,edgeTypes:o,disableKeyboardA11y:T},B))]})}b_.displayName="EdgeRenderer";const nM=P.memo(b_),rM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function iM({children:e}){const t=ut(rM);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function oM(e){const t=Nm(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const sM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function aM(e){const t=ut(sM),n=$t();return P.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function lM(e){return e.connection.inProgress?{...e.connection,to:qd(e.connection.to,e.transform)}:{...e.connection}}function uM(e){return lM}function cM(e){const t=uM();return ut(t,Kt)}const fM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function dM({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:a,width:u,height:c,isValid:d,inProgress:h}=ut(fM,Kt);return!(u&&a&&h)?null:k.jsx("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:on(["react-flow__connection",ES(d)]),children:k.jsx(C_,{style:t,type:n,CustomComponent:o,isValid:d})})})}const C_=({style:e,type:t=na.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:a,from:u,fromNode:c,fromHandle:d,fromPosition:h,to:m,toNode:y,toHandle:x,toPosition:v}=cM();if(!a)return;if(n)return k.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:u.x,fromY:u.y,toX:m.x,toY:m.y,fromPosition:h,toPosition:v,connectionStatus:ES(o),toNode:y,toHandle:x});let S="";const _={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:m.x,targetY:m.y,targetPosition:v};switch(t){case na.Bezier:[S]=OS(_);break;case na.SimpleBezier:[S]=d_(_);break;case na.Step:[S]=V0({..._,borderRadius:0});break;case na.SmoothStep:[S]=V0(_);break;default:[S]=FS(_)}return k.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:e})};C_.displayName="ConnectionLine";const hM={};function ew(e=hM){P.useRef(e),$t(),P.useEffect(()=>{},[e])}function pM(){$t(),P.useRef(!1),P.useEffect(()=>{},[])}function k_({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,onSelectionContextMenu:x,onSelectionStart:v,onSelectionEnd:S,connectionLineType:_,connectionLineStyle:T,connectionLineComponent:N,connectionLineContainerStyle:C,selectionKeyCode:M,selectionOnDrag:A,selectionMode:L,multiSelectionKeyCode:B,panActivationKeyCode:X,zoomActivationKeyCode:O,deleteKeyCode:z,onlyRenderVisibleElements:q,elementsSelectable:ee,defaultViewport:fe,translateExtent:se,minZoom:ue,maxZoom:$,preventScrolling:ne,defaultMarkerColor:Y,zoomOnScroll:H,zoomOnPinch:F,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:V,zoomOnDoubleClick:J,panOnDrag:ge,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneScroll:ke,onPaneContextMenu:Re,paneClickDistance:We,nodeClickDistance:Ye,onEdgeContextMenu:Ne,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ue,onEdgeMouseLeave:nt,reconnectRadius:Et,onReconnect:cn,onReconnectStart:li,onReconnectEnd:or,noDragClassName:$e,noWheelClassName:be,noPanClassName:Ze,disableKeyboardA11y:Ke,nodeExtent:yt,rfId:St,viewport:_t,onViewportChange:Ft}){return ew(e),ew(t),pM(),oM(n),aM(_t),k.jsx(RD,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneContextMenu:Re,onPaneScroll:ke,paneClickDistance:We,deleteKeyCode:z,selectionKeyCode:M,selectionOnDrag:A,selectionMode:L,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:B,panActivationKeyCode:X,zoomActivationKeyCode:O,elementsSelectable:ee,zoomOnScroll:H,zoomOnPinch:F,zoomOnDoubleClick:J,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:V,panOnDrag:ge,defaultViewport:fe,translateExtent:se,minZoom:ue,maxZoom:$,onSelectionContextMenu:x,preventScrolling:ne,noDragClassName:$e,noWheelClassName:be,noPanClassName:Ze,disableKeyboardA11y:Ke,onViewportChange:Ft,isControlledViewport:!!_t,children:k.jsxs(iM,{children:[k.jsx(nM,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:cn,onReconnectStart:li,onReconnectEnd:or,onlyRenderVisibleElements:q,onEdgeContextMenu:Ne,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ue,onEdgeMouseLeave:nt,reconnectRadius:Et,defaultMarkerColor:Y,noPanClassName:Ze,disableKeyboardA11y:Ke,rfId:St}),k.jsx(dM,{style:T,type:_,component:N,containerStyle:C}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(FD,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,nodeClickDistance:Ye,onlyRenderVisibleElements:q,noPanClassName:Ze,noDragClassName:$e,disableKeyboardA11y:Ke,nodeExtent:yt,rfId:St}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}k_.displayName="GraphView";const mM=P.memo(k_),tw=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}={})=>{const m=new Map,y=new Map,x=new Map,v=new Map,S=o??t??[],_=n??e??[],T=d??[0,0],N=h??Rd;BS(x,v,S),z0(_,m,y,{nodeOrigin:T,nodeExtent:N,elevateNodesOnSelect:!1});let C=[0,0,1];if(c&&a&&u){const M=kc(m,{filter:X=>!!((X.width||X.initialWidth)&&(X.height||X.initialHeight))}),{x:A,y:L,zoom:B}=ky(M,a,u,.5,2,.1);C=[A,L,B]}return{rfId:"1",width:0,height:0,transform:C,nodes:_,nodeLookup:m,parentLookup:y,edges:S,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Rd,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:xc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{..._S},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:jA,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},gM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h})=>IR((m,y)=>({...tw({nodes:e,edges:t,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h,defaultNodes:n,defaultEdges:o}),setNodes:x=>{const{nodeLookup:v,parentLookup:S,nodeOrigin:_,elevateNodesOnSelect:T}=y();z0(x,v,S,{nodeOrigin:_,nodeExtent:h,elevateNodesOnSelect:T,checkEquality:!0}),m({nodes:x})},setEdges:x=>{const{connectionLookup:v,edgeLookup:S}=y();BS(v,S,x),m({edges:x})},setDefaultNodesAndEdges:(x,v)=>{if(x){const{setNodes:S}=y();S(x),m({hasDefaultNodes:!0})}if(v){const{setEdges:S}=y();S(v),m({hasDefaultEdges:!0})}},updateNodeInternals:(x,v={triggerFitView:!0})=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:T,fitViewOnInit:N,fitViewDone:C,fitViewOnInitOptions:M,domNode:A,nodeOrigin:L,nodeExtent:B,debug:X,fitViewSync:O}=y(),{changes:z,updatedInternals:q}=ZA(x,_,T,A,L,B);if(q){if(qA(_,T,{nodeOrigin:L,nodeExtent:B}),v.triggerFitView){let ee=C;!C&&N&&(ee=O({...M,nodes:M==null?void 0:M.nodes})),m({fitViewDone:ee})}else m({});(z==null?void 0:z.length)>0&&(X&&console.log("React Flow: trigger node changes",z),S==null||S(z))}},updateNodePositions:(x,v=!1)=>{const S=[],_=[];for(const[T,N]of x){const C=!!(N!=null&&N.expandParent&&(N!=null&&N.parentId)&&(N!=null&&N.position)),M={id:T,type:"position",position:C?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:v};C&&S.push({id:T,parentId:N.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width,height:N.measured.height}}),_.push(M)}if(S.length>0){const{nodeLookup:T,parentLookup:N,nodeOrigin:C}=y(),M=Ay(S,T,N,C);_.push(...M)}y().triggerNodeChanges(_)},triggerNodeChanges:x=>{const{onNodesChange:v,setNodes:S,nodes:_,hasDefaultNodes:T,debug:N}=y();if(x!=null&&x.length){if(T){const C=n_(x,_);S(C)}N&&console.log("React Flow: trigger node changes",x),v==null||v(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:v,setEdges:S,edges:_,hasDefaultEdges:T,debug:N}=y();if(x!=null&&x.length){if(T){const C=r_(x,_);S(C)}N&&console.log("React Flow: trigger edge changes",x),v==null||v(x)}},addSelectedNodes:x=>{const{multiSelectionActive:v,edgeLookup:S,nodeLookup:_,triggerNodeChanges:T,triggerEdgeChanges:N}=y();if(v){const C=x.map(M=>hl(M,!0));T(C);return}T(uc(_,new Set([...x]),!0)),N(uc(S))},addSelectedEdges:x=>{const{multiSelectionActive:v,edgeLookup:S,nodeLookup:_,triggerNodeChanges:T,triggerEdgeChanges:N}=y();if(v){const C=x.map(M=>hl(M,!0));N(C);return}N(uc(S,new Set([...x]))),T(uc(_,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:v}={})=>{const{edges:S,nodes:_,nodeLookup:T,triggerNodeChanges:N,triggerEdgeChanges:C}=y(),M=x||_,A=v||S,L=M.map(X=>{const O=T.get(X.id);return O&&(O.selected=!1),hl(X.id,!1)}),B=A.map(X=>hl(X.id,!1));N(L),C(B)},setMinZoom:x=>{const{panZoom:v,maxZoom:S}=y();v==null||v.setScaleExtent([x,S]),m({minZoom:x})},setMaxZoom:x=>{const{panZoom:v,minZoom:S}=y();v==null||v.setScaleExtent([S,x]),m({maxZoom:x})},setTranslateExtent:x=>{var v;(v=y().panZoom)==null||v.setTranslateExtent(x),m({translateExtent:x})},setPaneClickDistance:x=>{var v;(v=y().panZoom)==null||v.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:v,triggerNodeChanges:S,triggerEdgeChanges:_}=y(),T=v.reduce((C,M)=>M.selected?[...C,hl(M.id,!1)]:C,[]),N=x.reduce((C,M)=>M.selected?[...C,hl(M.id,!1)]:C,[]);S(T),_(N)},setNodeExtent:x=>{const{nodes:v,nodeLookup:S,parentLookup:_,nodeOrigin:T,elevateNodesOnSelect:N,nodeExtent:C}=y();x[0][0]===C[0][0]&&x[0][1]===C[0][1]&&x[1][0]===C[1][0]&&x[1][1]===C[1][1]||(z0(v,S,_,{nodeOrigin:T,nodeExtent:x,elevateNodesOnSelect:N,checkEquality:!1}),m({nodeExtent:x}))},panBy:x=>{const{transform:v,width:S,height:_,panZoom:T,translateExtent:N}=y();return JA({delta:x,panZoom:T,transform:v,translateExtent:N,width:S,height:_})},fitView:x=>{const{panZoom:v,width:S,height:_,minZoom:T,maxZoom:N,nodeLookup:C}=y();if(!v)return Promise.resolve(!1);const M=L0(C,x);return j0({nodes:M,width:S,height:_,panZoom:v,minZoom:T,maxZoom:N},x)},fitViewSync:x=>{const{panZoom:v,width:S,height:_,minZoom:T,maxZoom:N,nodeLookup:C}=y();if(!v)return!1;const M=L0(C,x);return j0({nodes:M,width:S,height:_,panZoom:v,minZoom:T,maxZoom:N},x),M.size>0},cancelConnection:()=>{m({connection:{..._S}})},updateConnection:x=>{m({connection:x})},reset:()=>m({...tw()})}),Object.is);function T_({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:a,initialHeight:u,fitView:c,nodeOrigin:d,nodeExtent:h,children:m}){const[y]=P.useState(()=>gM({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:a,height:u,fitView:c,nodeOrigin:d,nodeExtent:h}));return k.jsx(jR,{value:y,children:k.jsx(oD,{children:m})})}function yM({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:a,width:u,height:c,fitView:d,nodeOrigin:h,nodeExtent:m}){return P.useContext(km)?k.jsx(k.Fragment,{children:e}):k.jsx(T_,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:a,initialWidth:u,initialHeight:c,fitView:d,nodeOrigin:h,nodeExtent:m,children:e})}const vM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function xM({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:a,nodeTypes:u,edgeTypes:c,onNodeClick:d,onEdgeClick:h,onInit:m,onMove:y,onMoveStart:x,onMoveEnd:v,onConnect:S,onConnectStart:_,onConnectEnd:T,onClickConnectStart:N,onClickConnectEnd:C,onNodeMouseEnter:M,onNodeMouseMove:A,onNodeMouseLeave:L,onNodeContextMenu:B,onNodeDoubleClick:X,onNodeDragStart:O,onNodeDrag:z,onNodeDragStop:q,onNodesDelete:ee,onEdgesDelete:fe,onDelete:se,onSelectionChange:ue,onSelectionDragStart:$,onSelectionDrag:ne,onSelectionDragStop:Y,onSelectionContextMenu:H,onSelectionStart:F,onSelectionEnd:K,onBeforeDelete:G,connectionMode:V,connectionLineType:J=na.Bezier,connectionLineStyle:ge,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:ve="Backspace",selectionKeyCode:_e="Shift",selectionOnDrag:ke=!1,selectionMode:Re=Dd.Full,panActivationKeyCode:We="Space",multiSelectionKeyCode:Ye=im()?"Meta":"Control",zoomActivationKeyCode:Ne=im()?"Meta":"Control",snapToGrid:Pe,snapGrid:Ue,onlyRenderVisibleElements:nt=!1,selectNodesOnDrag:Et,nodesDraggable:cn,nodesConnectable:li,nodesFocusable:or,nodeOrigin:$e=e_,edgesFocusable:be,edgesReconnectable:Ze,elementsSelectable:Ke=!0,defaultViewport:yt=qR,minZoom:St=.5,maxZoom:_t=2,translateExtent:Ft=Rd,preventScrolling:bt=!0,nodeExtent:Yt,defaultMarkerColor:sn="#b1b1b7",zoomOnScroll:kn=!0,zoomOnPinch:ua=!0,panOnScroll:cs=!1,panOnScrollSpeed:fs=.5,panOnScrollMode:ca=wl.Free,zoomOnDoubleClick:go=!0,panOnDrag:yo=!0,onPaneClick:fa,onPaneMouseEnter:da,onPaneMouseMove:ha,onPaneMouseLeave:ui,onPaneScroll:ci,onPaneContextMenu:Tl,paneClickDistance:pa=0,nodeClickDistance:Nl=0,children:Pl,onReconnect:ma,onReconnectStart:ga,onReconnectEnd:Al,onEdgeContextMenu:vo,onEdgeDoubleClick:xo,onEdgeMouseEnter:wo,onEdgeMouseMove:ya,onEdgeMouseLeave:So,reconnectRadius:ds=10,onNodesChange:hs,onEdgesChange:va,noDragClassName:Ic="nodrag",noWheelClassName:Lc="nowheel",noPanClassName:Rl="nopan",fitView:Ur,fitViewOptions:xa,connectOnClick:Dl,attributionPosition:jc,proOptions:Ml,defaultEdgeOptions:Il,elevateNodesOnSelect:Ll,elevateEdgesOnSelect:jl,disableKeyboardA11y:_o=!1,autoPanOnConnect:Oc,autoPanOnNodeDrag:Ct,autoPanSpeed:$c,connectionRadius:wa,isValidConnection:Ol,onError:Eo,style:$l,id:ps,nodeDragThreshold:ms,viewport:sr,onViewportChange:Fc,width:qn,height:Fl,colorMode:Vl="light",debug:Bl,onScroll:kr,...gs},ji){const Tr=ps||"1",zl=JR(Vl),Vc=P.useCallback(bo=>{bo.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),kr==null||kr(bo)},[kr]);return k.jsx("div",{"data-testid":"rf__wrapper",...gs,onScroll:Vc,style:{...$l,...vM},ref:ji,className:on(["react-flow",a,zl]),id:ps,children:k.jsxs(yM,{nodes:e,edges:t,width:qn,height:Fl,fitView:Ur,nodeOrigin:$e,nodeExtent:Yt,children:[k.jsx(mM,{onInit:m,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:M,onNodeMouseMove:A,onNodeMouseLeave:L,onNodeContextMenu:B,onNodeDoubleClick:X,nodeTypes:u,edgeTypes:c,connectionLineType:J,connectionLineStyle:ge,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:_e,selectionOnDrag:ke,selectionMode:Re,deleteKeyCode:ve,multiSelectionKeyCode:Ye,panActivationKeyCode:We,zoomActivationKeyCode:Ne,onlyRenderVisibleElements:nt,defaultViewport:yt,translateExtent:Ft,minZoom:St,maxZoom:_t,preventScrolling:bt,zoomOnScroll:kn,zoomOnPinch:ua,zoomOnDoubleClick:go,panOnScroll:cs,panOnScrollSpeed:fs,panOnScrollMode:ca,panOnDrag:yo,onPaneClick:fa,onPaneMouseEnter:da,onPaneMouseMove:ha,onPaneMouseLeave:ui,onPaneScroll:ci,onPaneContextMenu:Tl,paneClickDistance:pa,nodeClickDistance:Nl,onSelectionContextMenu:H,onSelectionStart:F,onSelectionEnd:K,onReconnect:ma,onReconnectStart:ga,onReconnectEnd:Al,onEdgeContextMenu:vo,onEdgeDoubleClick:xo,onEdgeMouseEnter:wo,onEdgeMouseMove:ya,onEdgeMouseLeave:So,reconnectRadius:ds,defaultMarkerColor:sn,noDragClassName:Ic,noWheelClassName:Lc,noPanClassName:Rl,rfId:Tr,disableKeyboardA11y:_o,nodeExtent:Yt,viewport:sr,onViewportChange:Fc}),k.jsx(ZR,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:S,onConnectStart:_,onConnectEnd:T,onClickConnectStart:N,onClickConnectEnd:C,nodesDraggable:cn,nodesConnectable:li,nodesFocusable:or,edgesFocusable:be,edgesReconnectable:Ze,elementsSelectable:Ke,elevateNodesOnSelect:Ll,elevateEdgesOnSelect:jl,minZoom:St,maxZoom:_t,nodeExtent:Yt,onNodesChange:hs,onEdgesChange:va,snapToGrid:Pe,snapGrid:Ue,connectionMode:V,translateExtent:Ft,connectOnClick:Dl,defaultEdgeOptions:Il,fitView:Ur,fitViewOptions:xa,onNodesDelete:ee,onEdgesDelete:fe,onDelete:se,onNodeDragStart:O,onNodeDrag:z,onNodeDragStop:q,onSelectionDrag:ne,onSelectionDragStart:$,onSelectionDragStop:Y,onMove:y,onMoveStart:x,onMoveEnd:v,noPanClassName:Rl,nodeOrigin:$e,rfId:Tr,autoPanOnConnect:Oc,autoPanOnNodeDrag:Ct,autoPanSpeed:$c,onError:Eo,connectionRadius:wa,isValidConnection:Ol,selectNodesOnDrag:Et,nodeDragThreshold:ms,onBeforeDelete:G,paneClickDistance:pa,debug:Bl}),k.jsx(XR,{onSelectionChange:ue}),Pl,k.jsx(UR,{proOptions:Ml,position:jc}),k.jsx(BR,{rfId:Tr,disableKeyboardA11y:_o})]})})}var N_=i_(xM);function wM({onStart:e,onChange:t,onEnd:n}){const o=$t();P.useEffect(()=>{o.setState({onViewportChangeStart:e})},[e]),P.useEffect(()=>{o.setState({onViewportChange:t})},[t]),P.useEffect(()=>{o.setState({onViewportChangeEnd:n})},[n])}function SM({dimensions:e,lineWidth:t,variant:n,className:o}){return k.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:on(["react-flow__background-pattern",n,o])})}function _M({radius:e,className:t}){return k.jsx("circle",{cx:e,cy:e,r:e,className:on(["react-flow__background-pattern","dots",t])})}var ra;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ra||(ra={}));const EM={[ra.Dots]:1,[ra.Lines]:1,[ra.Cross]:6},bM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function P_({id:e,variant:t=ra.Dots,gap:n=20,size:o,lineWidth:a=1,offset:u=0,color:c,bgColor:d,style:h,className:m,patternClassName:y}){const x=P.useRef(null),{transform:v,patternId:S}=ut(bM,Kt),_=o||EM[t],T=t===ra.Dots,N=t===ra.Cross,C=Array.isArray(n)?n:[n,n],M=[C[0]*v[2]||1,C[1]*v[2]||1],A=_*v[2],L=Array.isArray(u)?u:[u,u],B=N?[A,A]:M,X=[L[0]*v[2]||1+B[0]/2,L[1]*v[2]||1+B[1]/2],O=`${S}${e||""}`;return k.jsxs("svg",{className:on(["react-flow__background",m]),style:{...h,...Pm,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:x,"data-testid":"rf__background",children:[k.jsx("pattern",{id:O,x:v[0]%M[0],y:v[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${X[0]},-${X[1]})`,children:T?k.jsx(_M,{radius:A/2,className:y}):k.jsx(SM,{dimensions:B,lineWidth:a,variant:t,className:y})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}P_.displayName="Background";const CM=P.memo(P_);function kM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function TM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function NM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function PM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function AM(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Dp({children:e,className:t,...n}){return k.jsx("button",{type:"button",className:on(["react-flow__controls-button",t]),...n,children:e})}const RM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function A_({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:h,className:m,children:y,position:x="bottom-left",orientation:v="vertical","aria-label":S="React Flow controls"}){const _=$t(),{isInteractive:T,minZoomReached:N,maxZoomReached:C}=ut(RM,Kt),{zoomIn:M,zoomOut:A,fitView:L}=Nm(),B=()=>{M(),u==null||u()},X=()=>{A(),c==null||c()},O=()=>{L(a),d==null||d()},z=()=>{_.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),h==null||h(!T)},q=v==="horizontal"?"horizontal":"vertical";return k.jsxs(Tm,{className:on(["react-flow__controls",q,m]),position:x,style:e,"data-testid":"rf__controls","aria-label":S,children:[t&&k.jsxs(k.Fragment,{children:[k.jsx(Dp,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C,children:k.jsx(kM,{})}),k.jsx(Dp,{onClick:X,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N,children:k.jsx(TM,{})})]}),n&&k.jsx(Dp,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view",children:k.jsx(NM,{})}),o&&k.jsx(Dp,{className:"react-flow__controls-interactive",onClick:z,title:"toggle interactivity","aria-label":"toggle interactivity",children:T?k.jsx(AM,{}):k.jsx(PM,{})}),y]})}A_.displayName="Controls";const DM=P.memo(A_);function MM({id:e,x:t,y:n,width:o,height:a,style:u,color:c,strokeColor:d,strokeWidth:h,className:m,borderRadius:y,shapeRendering:x,selected:v,onClick:S}){const{background:_,backgroundColor:T}=u||{},N=c||_||T;return k.jsx("rect",{className:on(["react-flow__minimap-node",{selected:v},m]),x:t,y:n,rx:y,ry:y,width:o,height:a,style:{fill:N,stroke:d,strokeWidth:h},shapeRendering:x,onClick:S?C=>S(C,e):void 0})}const IM=P.memo(MM),LM=e=>e.nodes.map(t=>t.id),s0=e=>e instanceof Function?e:()=>e;function jM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:u=IM,onClick:c}){const d=ut(LM,Kt),h=s0(t),m=s0(e),y=s0(n),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:d.map(v=>k.jsx($M,{id:v,nodeColorFunc:h,nodeStrokeColorFunc:m,nodeClassNameFunc:y,nodeBorderRadius:o,nodeStrokeWidth:a,NodeComponent:u,onClick:c,shapeRendering:x},v))})}function OM({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:a,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:d,onClick:h}){const{node:m,x:y,y:x,width:v,height:S}=ut(_=>{const T=_.nodeLookup.get(e),{x:N,y:C}=T.internals.positionAbsolute,{width:M,height:A}=ls(T);return{node:T,x:N,y:C,width:M,height:A}},Kt);return!m||m.hidden||!DS(m)?null:k.jsx(d,{x:y,y:x,width:v,height:S,style:m.style,selected:!!m.selected,className:o(m),color:t(m),borderRadius:a,strokeColor:n(m),strokeWidth:u,shapeRendering:c,onClick:h,id:m.id})}const $M=P.memo(OM);var FM=P.memo(jM);const VM=200,BM=150,zM=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?AS(kc(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},UM="react-flow__minimap-desc";function R_({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:a="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:h,maskColor:m,maskStrokeColor:y,maskStrokeWidth:x,position:v="bottom-right",onClick:S,onNodeClick:_,pannable:T=!1,zoomable:N=!1,ariaLabel:C="React Flow mini map",inversePan:M,zoomStep:A=10,offsetScale:L=5}){const B=$t(),X=P.useRef(null),{boundingRect:O,viewBB:z,rfId:q,panZoom:ee,translateExtent:fe,flowWidth:se,flowHeight:ue}=ut(zM,Kt),$=(e==null?void 0:e.width)??VM,ne=(e==null?void 0:e.height)??BM,Y=O.width/$,H=O.height/ne,F=Math.max(Y,H),K=F*$,G=F*ne,V=L*F,J=O.x-(K-O.width)/2-V,ge=O.y-(G-O.height)/2-V,ye=K+V*2,we=G+V*2,ve=`${UM}-${q}`,_e=P.useRef(0),ke=P.useRef();_e.current=F,P.useEffect(()=>{if(X.current&&ee)return ke.current=aR({domNode:X.current,panZoom:ee,getTransform:()=>B.getState().transform,getViewScale:()=>_e.current}),()=>{var Ye;(Ye=ke.current)==null||Ye.destroy()}},[ee]),P.useEffect(()=>{var Ye;(Ye=ke.current)==null||Ye.update({translateExtent:fe,width:se,height:ue,inversePan:M,pannable:T,zoomStep:A,zoomable:N})},[T,N,M,A,fe,se,ue]);const Re=S?Ye=>{var Ue;const[Ne,Pe]=((Ue=ke.current)==null?void 0:Ue.pointer(Ye))||[0,0];S(Ye,{x:Ne,y:Pe})}:void 0,We=_?P.useCallback((Ye,Ne)=>{const Pe=B.getState().nodeLookup.get(Ne);_(Ye,Pe)},[]):void 0;return k.jsx(Tm,{position:v,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*F:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="string"?c:void 0},className:on(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:$,height:ne,viewBox:`${J} ${ge} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ve,ref:X,onClick:Re,children:[C&&k.jsx("title",{id:ve,children:C}),k.jsx(FM,{onClick:We,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:u,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${J-V},${ge-V}h${ye+V*2}v${we+V*2}h${-ye-V*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}R_.displayName="MiniMap";P.memo(R_);function HM({nodeId:e,position:t,variant:n=wd.Handle,className:o,style:a={},children:u,color:c,minWidth:d=10,minHeight:h=10,maxWidth:m=Number.MAX_VALUE,maxHeight:y=Number.MAX_VALUE,keepAspectRatio:x=!1,shouldResize:v,onResizeStart:S,onResize:_,onResizeEnd:T}){const N=Dy(),C=typeof e=="string"?e:N,M=$t(),A=P.useRef(null),L=n===wd.Line?"right":"bottom-right",B=t??L,X=P.useRef(null);P.useEffect(()=>{if(!(!A.current||!C))return X.current||(X.current=_R({domNode:A.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:ee,transform:fe,snapGrid:se,snapToGrid:ue,nodeOrigin:$,domNode:ne}=M.getState();return{nodeLookup:ee,transform:fe,snapGrid:se,snapToGrid:ue,nodeOrigin:$,paneDomNode:ne}},onChange:(ee,fe)=>{const{triggerNodeChanges:se,nodeLookup:ue,parentLookup:$,nodeOrigin:ne}=M.getState(),Y=[],H={x:ee.x,y:ee.y},F=ue.get(C);if(F&&F.expandParent&&F.parentId){const K=F.origin??ne,G=ee.width??F.measured.width,V=ee.height??F.measured.height,J={id:F.id,parentId:F.parentId,rect:{width:G,height:V,...MS({x:ee.x??F.position.x,y:ee.y??F.position.y},{width:G,height:V},F.parentId,ue,K)}},ge=Ay([J],ue,$,ne);Y.push(...ge),H.x=ee.x?Math.max(K[0]*G,ee.x):void 0,H.y=ee.y?Math.max(K[1]*V,ee.y):void 0}if(H.x!==void 0&&H.y!==void 0){const K={id:C,type:"position",position:{...H}};Y.push(K)}if(ee.width!==void 0&&ee.height!==void 0){const K={id:C,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:ee.width,height:ee.height}};Y.push(K)}for(const K of fe){const G={...K,type:"position"};Y.push(G)}se(Y)},onEnd:()=>{const ee={id:C,type:"dimensions",resizing:!1};M.getState().triggerNodeChanges([ee])}})),X.current.update({controlPosition:B,boundaries:{minWidth:d,minHeight:h,maxWidth:m,maxHeight:y},keepAspectRatio:x,onResizeStart:S,onResize:_,onResizeEnd:T,shouldResize:v}),()=>{var ee;(ee=X.current)==null||ee.destroy()}},[B,d,h,m,y,x,S,_,T,v]);const O=B.split("-"),z=n===wd.Line?"borderColor":"backgroundColor",q=c?{...a,[z]:c}:a;return k.jsx("div",{className:on(["react-flow__resize-control","nodrag",...O,n,o]),ref:A,style:q,children:u})}P.memo(HM);const WM=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__renderer")};function KM({children:e}){const t=ut(WM);return t?LR.createPortal(e,t):null}const YM=(e,t)=>(e==null?void 0:e.internals.positionAbsolute.x)!==(t==null?void 0:t.internals.positionAbsolute.x)||(e==null?void 0:e.internals.positionAbsolute.y)!==(t==null?void 0:t.internals.positionAbsolute.y)||(e==null?void 0:e.measured.width)!==(t==null?void 0:t.measured.width)||(e==null?void 0:e.measured.height)!==(t==null?void 0:t.measured.height)||(e==null?void 0:e.selected)!==(t==null?void 0:t.selected)||(e==null?void 0:e.internals.z)!==(t==null?void 0:t.internals.z),XM=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,o]of e)if(YM(o,t.get(n)))return!1;return!0},qM=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2],selectedNodesCount:e.nodes.filter(t=>t.selected).length});function W0({nodeId:e,children:t,className:n,style:o,isVisible:a,position:u=Oe.Top,offset:c=10,align:d="center",...h}){var B;const m=Dy(),y=P.useCallback(X=>(Array.isArray(e)?e:[e||m||""]).reduce((q,ee)=>{const fe=X.nodeLookup.get(ee);return fe&&q.set(fe.id,fe),q},new Map),[e,m]),x=ut(y,XM),{x:v,y:S,zoom:_,selectedNodesCount:T}=ut(qM,Kt);if(!(typeof a=="boolean"?a:x.size===1&&((B=x.values().next().value)==null?void 0:B.selected)&&T===1)||!x.size)return null;const C=kc(x),M=Array.from(x.values()),A=Math.max(...M.map(X=>X.internals.z+1)),L={position:"absolute",transform:YA(C,{x:v,y:S,zoom:_},u,c,d),zIndex:A,...o};return k.jsx(KM,{children:k.jsx("div",{style:L,className:on(["react-flow__node-toolbar",n]),...h,"data-id":M.reduce((X,O)=>`${X}${O.id} `,"").trim(),children:t})})}var ud={},nw;function GM(){if(nw)return ud;nw=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.parse=c,ud.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,S){const _=new u,T=v.length;if(T<2)return _;const N=(S==null?void 0:S.decode)||y;let C=0;do{const M=v.indexOf("=",C);if(M===-1)break;const A=v.indexOf(";",C),L=A===-1?T:A;if(M>L){C=v.lastIndexOf(";",M-1)+1;continue}const B=d(v,C,M),X=h(v,M,B),O=v.slice(B,X);if(_[O]===void 0){let z=d(v,M+1,L),q=h(v,L,z);const ee=N(v.slice(z,q));_[O]=ee}C=L+1}while(C<T);return _}function d(v,S,_){do{const T=v.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<_);return _}function h(v,S,_){for(;S>_;){const T=v.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return _}function m(v,S,_){const T=(_==null?void 0:_.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const N=T(S);if(!t.test(N))throw new TypeError(`argument val is invalid: ${S}`);let C=v+"="+N;if(!_)return C;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);C+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);C+="; Domain="+_.domain}if(_.path){if(!o.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);C+="; Path="+_.path}if(_.expires){if(!x(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);C+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(C+="; HttpOnly"),_.secure&&(C+="; Secure"),_.partitioned&&(C+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return C}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function x(v){return a.call(v)==="[object Date]"}return ud}GM();var rw="popstate";function QM(e={}){function t(o,a){let{pathname:u,search:c,hash:d}=o.location;return K0("",{pathname:u,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:jd(a)}return JM(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZM(){return Math.random().toString(36).substring(2,10)}function iw(e,t){return{usr:e.state,key:e.key,idx:t}}function K0(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Tc(t):t,state:n,key:t&&t.key||o||ZM()}}function jd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function JM(e,t,n,o={}){let{window:a=document.defaultView,v5Compat:u=!1}=o,c=a.history,d="POP",h=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function x(){d="POP";let N=y(),C=N==null?null:N-m;m=N,h&&h({action:d,location:T.location,delta:C})}function v(N,C){d="PUSH";let M=K0(T.location,N,C);m=y()+1;let A=iw(M,m),L=T.createHref(M);try{c.pushState(A,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(L)}u&&h&&h({action:d,location:T.location,delta:1})}function S(N,C){d="REPLACE";let M=K0(T.location,N,C);m=y();let A=iw(M,m),L=T.createHref(M);c.replaceState(A,"",L),u&&h&&h({action:d,location:T.location,delta:0})}function _(N){return eI(N)}let T={get action(){return d},get location(){return e(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(rw,x),h=N,()=>{a.removeEventListener(rw,x),h=null}},createHref(N){return t(a,N)},createURL:_,encodeLocation(N){let C=_(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:S,go(N){return c.go(N)}};return T}function eI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:jd(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function D_(e,t,n="/"){return tI(e,t,n,!1)}function tI(e,t,n,o){let a=typeof t=="string"?Tc(t):t,u=os(a.pathname||"/",n);if(u==null)return null;let c=M_(e);nI(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=hI(u);d=fI(c[h],m,o)}return d}function M_(e,t=[],n=[],o=""){let a=(u,c,d)=>{let h={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(o),`Absolute route path "${h.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(o.length));let m=ts([o,h.relativePath]),y=n.concat(h);u.children&&u.children.length>0&&(Wt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),M_(u.children,t,y,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:uI(m,u.index),routesMeta:y})};return e.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,c);else for(let h of I_(u.path))a(u,c,h)}),t}function I_(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return a?[u,""]:[u];let c=I_(o.join("/")),d=[];return d.push(...c.map(h=>h===""?u:[u,h].join("/"))),a&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function nI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cI(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var rI=/^:[\w-]+$/,iI=3,oI=2,sI=1,aI=10,lI=-2,ow=e=>e==="*";function uI(e,t){let n=e.split("/"),o=n.length;return n.some(ow)&&(o+=lI),t&&(o+=oI),n.filter(a=>!ow(a)).reduce((a,u)=>a+(rI.test(u)?iI:u===""?sI:aI),o)}function cI(e,t){return e.length===t.length&&e.slice(0,-1).every((o,a)=>o===t[a])?e[e.length-1]-t[t.length-1]:0}function fI(e,t,n=!1){let{routesMeta:o}=e,a={},u="/",c=[];for(let d=0;d<o.length;++d){let h=o[d],m=d===o.length-1,y=u==="/"?t:t.slice(u.length)||"/",x=sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!x&&m&&n&&!o[o.length-1].route.index&&(x=sm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:ts([u,x.pathname]),pathnameBase:yI(ts([u,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(u=ts([u,x.pathnameBase]))}return c}function sm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=dI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let u=a[0],c=u.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:o.reduce((m,{paramName:y,isOptional:x},v)=>{if(y==="*"){let _=d[v]||"";c=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const S=d[v];return x&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:e}}function dI(e,t=!1,n=!0){Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function hI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function pI(e,t="/"){let{pathname:n,search:o="",hash:a=""}=typeof e=="string"?Tc(e):e;return{pathname:n?n.startsWith("/")?n:mI(n,t):t,search:vI(o),hash:xI(a)}}function mI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function a0(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function L_(e){let t=gI(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function j_(e,t,n,o=!1){let a;typeof e=="string"?a=Tc(e):(a={...e},Wt(!a.pathname||!a.pathname.includes("?"),a0("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),a0("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),a0("#","search","hash",a)));let u=e===""||a.pathname==="",c=u?"/":a.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!o&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;a.pathname=v.join("/")}d=x>=0?t[x]:"/"}let h=pI(a,d),m=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var ts=e=>e.join("/").replace(/\/\/+/g,"/"),yI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var O_=["POST","PUT","PATCH","DELETE"];new Set(O_);var SI=["GET",...O_];new Set(SI);var Nc=P.createContext(null);Nc.displayName="DataRouter";var Rm=P.createContext(null);Rm.displayName="DataRouterState";var $_=P.createContext({isTransitioning:!1});$_.displayName="ViewTransition";var _I=P.createContext(new Map);_I.displayName="Fetchers";var EI=P.createContext(null);EI.displayName="Await";var po=P.createContext(null);po.displayName="Navigation";var Gd=P.createContext(null);Gd.displayName="Location";var us=P.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var My=P.createContext(null);My.displayName="RouteError";function bI(e,{relative:t}={}){Wt(Qd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=P.useContext(po),{hash:a,pathname:u,search:c}=Zd(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:ts([n,u])),o.createHref({pathname:d,search:c,hash:a})}function Qd(){return P.useContext(Gd)!=null}function aa(){return Wt(Qd(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Gd).location}var F_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V_(e){P.useContext(po).static||P.useLayoutEffect(e)}function B_(){let{isDataRoute:e}=P.useContext(us);return e?OI():CI()}function CI(){Wt(Qd(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Nc),{basename:t,navigator:n}=P.useContext(po),{matches:o}=P.useContext(us),{pathname:a}=aa(),u=JSON.stringify(L_(o)),c=P.useRef(!1);return V_(()=>{c.current=!0}),P.useCallback((h,m={})=>{if(Di(c.current,F_),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=j_(h,JSON.parse(u),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ts([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,u,a,e])}P.createContext(null);function Zd(e,{relative:t}={}){let{matches:n}=P.useContext(us),{pathname:o}=aa(),a=JSON.stringify(L_(n));return P.useMemo(()=>j_(e,JSON.parse(a),o,t==="path"),[e,a,o,t])}function kI(e,t){return z_(e,t)}function z_(e,t,n,o){var C;Wt(Qd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(po),{matches:u}=P.useContext(us),c=u[u.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";U_(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=aa(),v;if(t){let M=typeof t=="string"?Tc(t):t;Wt(m==="/"||((C=M.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=x;let S=v.pathname||"/",_=S;if(m!=="/"){let M=m.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=D_(e,{pathname:_});Di(y||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Di(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=RI(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:ts([m,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:ts([m,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,n,o);return t&&N?P.createElement(Gd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function TI(){let e=jI(),t=wI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:a},n):null,c)}var NI=P.createElement(TI,null),PI=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(us.Provider,{value:this.props.routeContext},P.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AI({routeContext:e,match:t,children:n}){let o=P.useContext(Nc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(us.Provider,{value:e},n)}function RI(e,t=[],n=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=n==null?void 0:n.errors;if(u!=null){let h=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:x}=n,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,y)=>{let x,v=!1,S=null,_=null;n&&(x=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||NI,c&&(d<0&&y===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===y&&(v=!0,_=m.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,y+1)),N=()=>{let C;return x?C=S:v?C=_:m.route.Component?C=P.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=h,P.createElement(AI,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?P.createElement(PI,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):N()},null)}function Iy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(e){let t=P.useContext(Nc);return Wt(t,Iy(e)),t}function MI(e){let t=P.useContext(Rm);return Wt(t,Iy(e)),t}function II(e){let t=P.useContext(us);return Wt(t,Iy(e)),t}function Ly(e){let t=II(e),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function LI(){return Ly("useRouteId")}function jI(){var o;let e=P.useContext(My),t=MI("useRouteError"),n=Ly("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[n]}function OI(){let{router:e}=DI("useNavigate"),t=Ly("useNavigate"),n=P.useRef(!1);return V_(()=>{n.current=!0}),P.useCallback(async(a,u={})=>{Di(n.current,F_),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...u}))},[e,t])}var sw={};function U_(e,t,n){!t&&!sw[e]&&(sw[e]=!0,Di(!1,n))}P.memo($I);function $I({routes:e,future:t,state:n}){return z_(e,void 0,n,t)}function md(e){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FI({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:a,static:u=!1}){Wt(!Qd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:a,static:u,future:{}}),[c,a,u]);typeof n=="string"&&(n=Tc(n));let{pathname:h="/",search:m="",hash:y="",state:x=null,key:v="default"}=n,S=P.useMemo(()=>{let _=os(h,c);return _==null?null:{location:{pathname:_,search:m,hash:y,state:x,key:v},navigationType:o}},[c,h,m,y,x,v,o]);return Di(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(po.Provider,{value:d},P.createElement(Gd.Provider,{children:t,value:S}))}function VI({children:e,location:t}){return kI(Y0(e),t)}function Y0(e,t=[]){let n=[];return P.Children.forEach(e,(o,a)=>{if(!P.isValidElement(o))return;let u=[...t,a];if(o.type===P.Fragment){n.push.apply(n,Y0(o.props.children,u));return}Wt(o.type===md,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=Y0(o.props.children,u)),n.push(c)}),n}var zp="get",Up="application/x-www-form-urlencoded";function Dm(e){return e!=null&&typeof e.tagName=="string"}function BI(e){return Dm(e)&&e.tagName.toLowerCase()==="button"}function zI(e){return Dm(e)&&e.tagName.toLowerCase()==="form"}function UI(e){return Dm(e)&&e.tagName.toLowerCase()==="input"}function HI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WI(e,t){return e.button===0&&(!t||t==="_self")&&!HI(e)}function X0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function KI(e,t){let n=X0(e);return t&&t.forEach((o,a)=>{n.has(a)||t.getAll(a).forEach(u=>{n.append(a,u)})}),n}var Mp=null;function YI(){if(Mp===null)try{new FormData(document.createElement("form"),0),Mp=!1}catch{Mp=!0}return Mp}var XI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l0(e){return e!=null&&!XI.has(e)?(Di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):e}function qI(e,t){let n,o,a,u,c;if(zI(e)){let d=e.getAttribute("action");o=d?os(d,t):null,n=e.getAttribute("method")||zp,a=l0(e.getAttribute("enctype"))||Up,u=new FormData(e)}else if(BI(e)||UI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(o=h?os(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||zp,a=l0(e.getAttribute("formenctype"))||l0(d.getAttribute("enctype"))||Up,u=new FormData(d,e),!YI()){let{name:m,type:y,value:x}=e;if(y==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,x)}}else{if(Dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zp,o=null,a=Up,c=e}return u&&a==="text/plain"&&(c=u,u=void 0),{action:o,method:n.toLowerCase(),encType:a,formData:u,body:c}}function jy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function GI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZI(e,t,n){let o=await Promise.all(e.map(async a=>{let u=t.routes[a.route.id];if(u){let c=await GI(u,n);return c.links?c.links():[]}return[]}));return nL(o.flat(1).filter(QI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aw(e,t,n,o,a,u){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>{var y;return n[m].pathname!==h.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return u==="assets"?t.filter((h,m)=>c(h,m)||d(h,m)):u==="data"?t.filter((h,m)=>{var x;let y=o.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function JI(e,t,{includeHydrateFallback:n}={}){return eL(e.map(o=>{let a=t.routes[o.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function eL(e){return[...new Set(e)]}function tL(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function nL(e,t){let n=new Set;return new Set(t),e.reduce((o,a)=>{let u=JSON.stringify(tL(a));return n.has(u)||(n.add(u),o.push({key:u,link:a})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rL=new Set([100,101,204,205]);function iL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&os(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function H_(){let e=P.useContext(Nc);return jy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oL(){let e=P.useContext(Rm);return jy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Oy=P.createContext(void 0);Oy.displayName="FrameworkContext";function W_(){let e=P.useContext(Oy);return jy(e,"You must render this element inside a <HydratedRouter> element"),e}function sL(e,t){let n=P.useContext(Oy),[o,a]=P.useState(!1),[u,c]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=t,v=P.useRef(null);P.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let T=C=>{C.forEach(M=>{c(M.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),P.useEffect(()=>{if(o){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[o]);let S=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?e!=="intent"?[u,v,{}]:[u,v,{onFocus:cd(d,S),onBlur:cd(h,_),onMouseEnter:cd(m,S),onMouseLeave:cd(y,_),onTouchStart:cd(x,S)}]:[!1,v,{}]}function cd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aL({page:e,...t}){let{router:n}=H_(),o=P.useMemo(()=>D_(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?P.createElement(uL,{page:e,matches:o,...t}):null}function lL(e){let{manifest:t,routeModules:n}=W_(),[o,a]=P.useState([]);return P.useEffect(()=>{let u=!1;return ZI(e,t,n).then(c=>{u||a(c)}),()=>{u=!0}},[e,t,n]),o}function uL({page:e,matches:t,...n}){let o=aa(),{manifest:a,routeModules:u}=W_(),{basename:c}=H_(),{loaderData:d,matches:h}=oL(),m=P.useMemo(()=>aw(e,t,h,a,o,"data"),[e,t,h,a,o]),y=P.useMemo(()=>aw(e,t,h,a,o,"assets"),[e,t,h,a,o]),x=P.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let _=new Set,T=!1;if(t.forEach(C=>{var A;let M=a.routes[C.route.id];!M||!M.hasLoader||(!m.some(L=>L.route.id===C.route.id)&&C.route.id in d&&((A=u[C.route.id])!=null&&A.shouldRevalidate)||M.hasClientLoader?T=!0:_.add(C.route.id))}),_.size===0)return[];let N=iL(e,c);return T&&_.size>0&&N.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[c,d,o,a,m,t,e,u]),v=P.useMemo(()=>JI(y,a),[y,a]),S=lL(y);return P.createElement(P.Fragment,null,x.map(_=>P.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>P.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),S.map(({key:_,link:T})=>P.createElement("link",{key:_,...T})))}function cL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K_&&(window.__reactRouterVersion="7.6.2")}catch{}function fL({basename:e,children:t,window:n}){let o=P.useRef();o.current==null&&(o.current=QM({window:n,v5Compat:!0}));let a=o.current,[u,c]=P.useState({action:a.action,location:a.location}),d=P.useCallback(h=>{P.startTransition(()=>c(h))},[c]);return P.useLayoutEffect(()=>a.listen(d),[a,d]),P.createElement(FI,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a})}var Y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X_=P.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:a,reloadDocument:u,replace:c,state:d,target:h,to:m,preventScrollReset:y,viewTransition:x,...v},S){let{basename:_}=P.useContext(po),T=typeof m=="string"&&Y_.test(m),N,C=!1;if(typeof m=="string"&&T&&(N=m,K_))try{let q=new URL(window.location.href),ee=m.startsWith("//")?new URL(q.protocol+m):new URL(m),fe=os(ee.pathname,_);ee.origin===q.origin&&fe!=null?m=fe+ee.search+ee.hash:C=!0}catch{Di(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=bI(m,{relative:a}),[A,L,B]=sL(o,v),X=mL(m,{replace:c,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:x});function O(q){t&&t(q),q.defaultPrevented||X(q)}let z=P.createElement("a",{...v,...B,href:N||M,onClick:C||u?t:O,ref:cL(S,L),target:h,"data-discover":!T&&n==="render"?"true":void 0});return A&&!T?P.createElement(P.Fragment,null,z,P.createElement(aL,{page:M})):z});X_.displayName="Link";var dL=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:a=!1,style:u,to:c,viewTransition:d,children:h,...m},y){let x=Zd(c,{relative:m.relative}),v=aa(),S=P.useContext(Rm),{navigator:_,basename:T}=P.useContext(po),N=S!=null&&wL(x)&&d===!0,C=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,M=v.pathname,A=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&T&&(A=os(A,T)||A);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=M===C||!a&&M.startsWith(C)&&M.charAt(L)==="/",X=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),O={isActive:B,isPending:X,isTransitioning:N},z=B?t:void 0,q;typeof o=="function"?q=o(O):q=[o,B?"active":null,X?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(O):u;return P.createElement(X_,{...m,"aria-current":z,className:q,ref:y,style:ee,to:c,viewTransition:d},typeof h=="function"?h(O):h)});dL.displayName="NavLink";var hL=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:a,state:u,method:c=zp,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:x,...v},S)=>{let _=vL(),T=xL(d,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&Y_.test(d),M=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,B=(L==null?void 0:L.getAttribute("formmethod"))||c;_(L||A.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:a,state:u,relative:m,preventScrollReset:y,viewTransition:x})};return P.createElement("form",{ref:S,method:N,action:T,onSubmit:o?h:M,...v,"data-discover":!C&&e==="render"?"true":void 0})});hL.displayName="Form";function pL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q_(e){let t=P.useContext(Nc);return Wt(t,pL(e)),t}function mL(e,{target:t,replace:n,state:o,preventScrollReset:a,relative:u,viewTransition:c}={}){let d=B_(),h=aa(),m=Zd(e,{relative:u});return P.useCallback(y=>{if(WI(y,t)){y.preventDefault();let x=n!==void 0?n:jd(h)===jd(m);d(e,{replace:x,state:o,preventScrollReset:a,relative:u,viewTransition:c})}},[h,d,m,n,o,t,e,a,u,c])}function Mm(e){Di(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(X0(e)),n=P.useRef(!1),o=aa(),a=P.useMemo(()=>KI(o.search,n.current?null:t.current),[o.search]),u=B_(),c=P.useCallback((d,h)=>{const m=X0(typeof d=="function"?d(a):d);n.current=!0,u("?"+m,h)},[u,a]);return[a,c]}var gL=0,yL=()=>`__${String(++gL)}__`;function vL(){let{router:e}=q_("useSubmit"),{basename:t}=P.useContext(po),n=LI();return P.useCallback(async(o,a={})=>{let{action:u,method:c,encType:d,formData:h,body:m}=qI(o,t);if(a.navigate===!1){let y=a.fetcherKey||yL();await e.fetch(y,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function xL(e,{relative:t}={}){let{basename:n}=P.useContext(po),o=P.useContext(us);Wt(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u={...Zd(e||".",{relative:t})},c=aa();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let y=d.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ts([n,u.pathname])),jd(u)}function wL(e,t={}){let n=P.useContext($_);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=q_("useViewTransitionState"),a=Zd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let u=os(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=os(n.nextLocation.pathname,o)||n.nextLocation.pathname;return sm(a.pathname,c)!=null||sm(a.pathname,u)!=null}[...rL];function G_(e,t){return function(){return e.apply(t,arguments)}}const{toString:SL}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:Im,toStringTag:Q_}=Symbol,Lm=(e=>t=>{const n=SL.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=e=>(e=e.toLowerCase(),t=>Lm(t)===e),jm=e=>t=>typeof t===e,{isArray:Pc}=Array,Od=jm("undefined");function _L(e){return e!==null&&!Od(e)&&e.constructor!==null&&!Od(e.constructor)&&br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z_=Ii("ArrayBuffer");function EL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Z_(e.buffer),t}const bL=jm("string"),br=jm("function"),J_=jm("number"),Om=e=>e!==null&&typeof e=="object",CL=e=>e===!0||e===!1,Hp=e=>{if(Lm(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q_ in e)&&!(Im in e)},kL=Ii("Date"),TL=Ii("File"),NL=Ii("Blob"),PL=Ii("FileList"),AL=e=>Om(e)&&br(e.pipe),RL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||br(e.append)&&((t=Lm(e))==="formdata"||t==="object"&&br(e.toString)&&e.toString()==="[object FormData]"))},DL=Ii("URLSearchParams"),[ML,IL,LL,jL]=["ReadableStream","Request","Response","Headers"].map(Ii),OL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,a;if(typeof e!="object"&&(e=[e]),Pc(e))for(o=0,a=e.length;o<a;o++)t.call(null,e[o],o,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;let d;for(o=0;o<c;o++)d=u[o],t.call(null,e[d],d,e)}}function eE(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,a;for(;o-- >0;)if(a=n[o],t===a.toLowerCase())return a;return null}const yl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tE=e=>!Od(e)&&e!==yl;function q0(){const{caseless:e}=tE(this)&&this||{},t={},n=(o,a)=>{const u=e&&eE(t,a)||a;Hp(t[u])&&Hp(o)?t[u]=q0(t[u],o):Hp(o)?t[u]=q0({},o):Pc(o)?t[u]=o.slice():t[u]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Jd(arguments[o],n);return t}const $L=(e,t,n,{allOwnKeys:o}={})=>(Jd(t,(a,u)=>{n&&br(a)?e[u]=G_(a,n):e[u]=a},{allOwnKeys:o}),e),FL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),VL=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},BL=(e,t,n,o)=>{let a,u,c;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),u=a.length;u-- >0;)c=a[u],(!o||o(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&$y(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zL=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},UL=e=>{if(!e)return null;if(Pc(e))return e;let t=e.length;if(!J_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},HL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),WL=(e,t)=>{const o=(e&&e[Im]).call(e);let a;for(;(a=o.next())&&!a.done;){const u=a.value;t.call(e,u[0],u[1])}},KL=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},YL=Ii("HTMLFormElement"),XL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),lw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),qL=Ii("RegExp"),nE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};Jd(n,(a,u)=>{let c;(c=t(a,u,e))!==!1&&(o[u]=c||a)}),Object.defineProperties(e,o)},GL=e=>{nE(e,(t,n)=>{if(br(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(br(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QL=(e,t)=>{const n={},o=a=>{a.forEach(u=>{n[u]=!0})};return Pc(e)?o(e):o(String(e).split(t)),n},ZL=()=>{},JL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function e3(e){return!!(e&&br(e.append)&&e[Q_]==="FormData"&&e[Im])}const t3=e=>{const t=new Array(10),n=(o,a)=>{if(Om(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[a]=o;const u=Pc(o)?[]:{};return Jd(o,(c,d)=>{const h=n(c,a+1);!Od(h)&&(u[d]=h)}),t[a]=void 0,u}}return o};return n(e,0)},n3=Ii("AsyncFunction"),r3=e=>e&&(Om(e)||br(e))&&br(e.then)&&br(e.catch),rE=((e,t)=>e?setImmediate:t?((n,o)=>(yl.addEventListener("message",({source:a,data:u})=>{a===yl&&u===n&&o.length&&o.shift()()},!1),a=>{o.push(a),yl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",br(yl.postMessage)),i3=typeof queueMicrotask<"u"?queueMicrotask.bind(yl):typeof process<"u"&&process.nextTick||rE,o3=e=>e!=null&&br(e[Im]),de={isArray:Pc,isArrayBuffer:Z_,isBuffer:_L,isFormData:RL,isArrayBufferView:EL,isString:bL,isNumber:J_,isBoolean:CL,isObject:Om,isPlainObject:Hp,isReadableStream:ML,isRequest:IL,isResponse:LL,isHeaders:jL,isUndefined:Od,isDate:kL,isFile:TL,isBlob:NL,isRegExp:qL,isFunction:br,isStream:AL,isURLSearchParams:DL,isTypedArray:HL,isFileList:PL,forEach:Jd,merge:q0,extend:$L,trim:OL,stripBOM:FL,inherits:VL,toFlatObject:BL,kindOf:Lm,kindOfTest:Ii,endsWith:zL,toArray:UL,forEachEntry:WL,matchAll:KL,isHTMLForm:YL,hasOwnProperty:lw,hasOwnProp:lw,reduceDescriptors:nE,freezeMethods:GL,toObjectSet:QL,toCamelCase:XL,noop:ZL,toFiniteNumber:JL,findKey:eE,global:yl,isContextDefined:tE,isSpecCompliantForm:e3,toJSONObject:t3,isAsyncFn:n3,isThenable:r3,setImmediate:rE,asap:i3,isIterable:o3};function rt(e,t,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}de.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const iE=rt.prototype,oE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oE[e]={value:e}});Object.defineProperties(rt,oE);Object.defineProperty(iE,"isAxiosError",{value:!0});rt.from=(e,t,n,o,a,u)=>{const c=Object.create(iE);return de.toFlatObject(e,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),rt.call(c,e.message,t,n,o,a),c.cause=e,c.name=e.name,u&&Object.assign(c,u),c};const s3=null;function G0(e){return de.isPlainObject(e)||de.isArray(e)}function sE(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function uw(e,t,n){return e?e.concat(t).map(function(a,u){return a=sE(a),!n&&u?"["+a+"]":a}).join(n?".":""):t}function a3(e){return de.isArray(e)&&!e.some(G0)}const l3=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function $m(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,N){return!de.isUndefined(N[T])});const o=n.metaTokens,a=n.visitor||y,u=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function m(_){if(_===null)return"";if(de.isDate(_))return _.toISOString();if(!h&&de.isBlob(_))throw new rt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(_)||de.isTypedArray(_)?h&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function y(_,T,N){let C=_;if(_&&!N&&typeof _=="object"){if(de.endsWith(T,"{}"))T=o?T:T.slice(0,-2),_=JSON.stringify(_);else if(de.isArray(_)&&a3(_)||(de.isFileList(_)||de.endsWith(T,"[]"))&&(C=de.toArray(_)))return T=sE(T),C.forEach(function(A,L){!(de.isUndefined(A)||A===null)&&t.append(c===!0?uw([T],L,u):c===null?T:T+"[]",m(A))}),!1}return G0(_)?!0:(t.append(uw(N,T,u),m(_)),!1)}const x=[],v=Object.assign(l3,{defaultVisitor:y,convertValue:m,isVisitable:G0});function S(_,T){if(!de.isUndefined(_)){if(x.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));x.push(_),de.forEach(_,function(C,M){(!(de.isUndefined(C)||C===null)&&a.call(t,C,de.isString(M)?M.trim():M,T,v))===!0&&S(C,T?T.concat(M):[M])}),x.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return S(e),t}function cw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Fy(e,t){this._pairs=[],e&&$m(e,this,t)}const aE=Fy.prototype;aE.append=function(t,n){this._pairs.push([t,n])};aE.toString=function(t){const n=t?function(o){return t.call(this,o,cw)}:cw;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function u3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lE(e,t,n){if(!t)return e;const o=n&&n.encode||u3;de.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let u;if(a?u=a(t,n):u=de.isURLSearchParams(t)?t.toString():new Fy(t,n).toString(o),u){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class fw{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(o){o!==null&&t(o)})}}const uE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c3=typeof URLSearchParams<"u"?URLSearchParams:Fy,f3=typeof FormData<"u"?FormData:null,d3=typeof Blob<"u"?Blob:null,h3={isBrowser:!0,classes:{URLSearchParams:c3,FormData:f3,Blob:d3},protocols:["http","https","file","blob","url","data"]},Vy=typeof window<"u"&&typeof document<"u",Q0=typeof navigator=="object"&&navigator||void 0,p3=Vy&&(!Q0||["ReactNative","NativeScript","NS"].indexOf(Q0.product)<0),m3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g3=Vy&&window.location.href||"http://localhost",y3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserEnv:p3,hasStandardBrowserWebWorkerEnv:m3,navigator:Q0,origin:g3},Symbol.toStringTag,{value:"Module"})),Kn={...y3,...h3};function v3(e,t){return $m(e,new Kn.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,u){return Kn.isNode&&de.isBuffer(n)?(this.append(o,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function x3(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function w3(e){const t={},n=Object.keys(e);let o;const a=n.length;let u;for(o=0;o<a;o++)u=n[o],t[u]=e[u];return t}function cE(e){function t(n,o,a,u){let c=n[u++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=u>=n.length;return c=!c&&de.isArray(a)?a.length:c,h?(de.hasOwnProp(a,c)?a[c]=[a[c],o]:a[c]=o,!d):((!a[c]||!de.isObject(a[c]))&&(a[c]=[]),t(n,o,a[c],u)&&de.isArray(a[c])&&(a[c]=w3(a[c])),!d)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(o,a)=>{t(x3(o),a,n,0)}),n}return null}function S3(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const eh={transitional:uE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,u=de.isObject(t);if(u&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return a?JSON.stringify(cE(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t)||de.isReadableStream(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return v3(t,this.formSerializer).toString();if((d=de.isFileList(t))||o.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return $m(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return u||a?(n.setContentType("application/json",!1),S3(t)):t}],transformResponse:[function(t){const n=this.transitional||eh.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(de.isResponse(t)||de.isReadableStream(t))return t;if(t&&de.isString(t)&&(o&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?rt.from(d,rt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{eh.headers[e]={}});const _3=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E3=e=>{const t={};let n,o,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),o=c.substring(a+1).trim(),!(!n||t[n]&&_3[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},dw=Symbol("internals");function fd(e){return e&&String(e).trim().toLowerCase()}function Wp(e){return e===!1||e==null?e:de.isArray(e)?e.map(Wp):String(e)}function b3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const C3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function u0(e,t,n,o,a){if(de.isFunction(o))return o.call(this,t,n);if(a&&(t=n),!!de.isString(t)){if(de.isString(o))return t.indexOf(o)!==-1;if(de.isRegExp(o))return o.test(t)}}function k3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function T3(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(a,u,c){return this[o].call(this,t,a,u,c)},configurable:!0})})}let Cr=class{constructor(t){t&&this.set(t)}set(t,n,o){const a=this;function u(d,h,m){const y=fd(h);if(!y)throw new Error("header name must be a non-empty string");const x=de.findKey(a,y);(!x||a[x]===void 0||m===!0||m===void 0&&a[x]!==!1)&&(a[x||h]=Wp(d))}const c=(d,h)=>de.forEach(d,(m,y)=>u(m,y,h));if(de.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(de.isString(t)&&(t=t.trim())&&!C3(t))c(E3(t),n);else if(de.isObject(t)&&de.isIterable(t)){let d={},h,m;for(const y of t){if(!de.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[m=y[0]]=(h=d[m])?de.isArray(h)?[...h,y[1]]:[h,y[1]]:y[1]}c(d,n)}else t!=null&&u(n,t,o);return this}get(t,n){if(t=fd(t),t){const o=de.findKey(this,t);if(o){const a=this[o];if(!n)return a;if(n===!0)return b3(a);if(de.isFunction(n))return n.call(this,a,o);if(de.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=fd(t),t){const o=de.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||u0(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let a=!1;function u(c){if(c=fd(c),c){const d=de.findKey(o,c);d&&(!n||u0(o,o[d],d,n))&&(delete o[d],a=!0)}}return de.isArray(t)?t.forEach(u):u(t),a}clear(t){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const u=n[o];(!t||u0(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const n=this,o={};return de.forEach(this,(a,u)=>{const c=de.findKey(o,u);if(c){n[c]=Wp(a),delete n[u];return}const d=t?k3(u):String(u).trim();d!==u&&delete n[u],n[d]=Wp(a),o[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=t&&de.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(a=>o.set(a)),o}static accessor(t){const o=(this[dw]=this[dw]={accessors:{}}).accessors,a=this.prototype;function u(c){const d=fd(c);o[d]||(T3(a,c),o[d]=!0)}return de.isArray(t)?t.forEach(u):u(t),this}};Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(Cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});de.freezeMethods(Cr);function c0(e,t){const n=this||eh,o=t||n,a=Cr.from(o.headers);let u=o.data;return de.forEach(e,function(d){u=d.call(n,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function fE(e){return!!(e&&e.__CANCEL__)}function Ac(e,t,n){rt.call(this,e??"canceled",rt.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Ac,rt,{__CANCEL__:!0});function dE(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function N3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function P3(e,t){e=e||10;const n=new Array(e),o=new Array(e);let a=0,u=0,c;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),y=o[u];c||(c=m),n[a]=h,o[a]=m;let x=u,v=0;for(;x!==a;)v+=n[x++],x=x%e;if(a=(a+1)%e,a===u&&(u=(u+1)%e),m-c<t)return;const S=y&&m-y;return S?Math.round(v*1e3/S):void 0}}function A3(e,t){let n=0,o=1e3/t,a,u;const c=(m,y=Date.now())=>{n=y,a=null,u&&(clearTimeout(u),u=null),e.apply(null,m)};return[(...m)=>{const y=Date.now(),x=y-n;x>=o?c(m,y):(a=m,u||(u=setTimeout(()=>{u=null,c(a)},o-x)))},()=>a&&c(a)]}const am=(e,t,n=3)=>{let o=0;const a=P3(50,250);return A3(u=>{const c=u.loaded,d=u.lengthComputable?u.total:void 0,h=c-o,m=a(h),y=c<=d;o=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&y?(d-c)/m:void 0,event:u,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(x)},n)},hw=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},pw=e=>(...t)=>de.asap(()=>e(...t)),R3=Kn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,D3=Kn.hasStandardBrowserEnv?{write(e,t,n,o,a,u){const c=[e+"="+encodeURIComponent(t)];de.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),de.isString(o)&&c.push("path="+o),de.isString(a)&&c.push("domain="+a),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function M3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function I3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hE(e,t,n){let o=!M3(t);return e&&(o||n==!1)?I3(e,t):t}const mw=e=>e instanceof Cr?{...e}:e;function Cl(e,t){t=t||{};const n={};function o(m,y,x,v){return de.isPlainObject(m)&&de.isPlainObject(y)?de.merge.call({caseless:v},m,y):de.isPlainObject(y)?de.merge({},y):de.isArray(y)?y.slice():y}function a(m,y,x,v){if(de.isUndefined(y)){if(!de.isUndefined(m))return o(void 0,m,x,v)}else return o(m,y,x,v)}function u(m,y){if(!de.isUndefined(y))return o(void 0,y)}function c(m,y){if(de.isUndefined(y)){if(!de.isUndefined(m))return o(void 0,m)}else return o(void 0,y)}function d(m,y,x){if(x in t)return o(m,y);if(x in e)return o(void 0,m)}const h={url:u,method:u,data:u,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,y,x)=>a(mw(m),mw(y),x,!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(y){const x=h[y]||a,v=x(e[y],t[y],y);de.isUndefined(v)&&x!==d||(n[y]=v)}),n}const pE=e=>{const t=Cl({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:u,headers:c,auth:d}=t;t.headers=c=Cr.from(c),t.url=lE(hE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(de.isFormData(n)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[m,...y]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Kn.hasStandardBrowserEnv&&(o&&de.isFunction(o)&&(o=o(t)),o||o!==!1&&R3(t.url))){const m=a&&u&&D3.read(u);m&&c.set(a,m)}return t},L3=typeof XMLHttpRequest<"u",j3=L3&&function(e){return new Promise(function(n,o){const a=pE(e);let u=a.data;const c=Cr.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=a,y,x,v,S,_;function T(){S&&S(),_&&_(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function C(){if(!N)return;const A=Cr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),B={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:A,config:e,request:N};dE(function(O){n(O),T()},function(O){o(O),T()},B),N=null}"onloadend"in N?N.onloadend=C:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(C)},N.onabort=function(){N&&(o(new rt("Request aborted",rt.ECONNABORTED,e,N)),N=null)},N.onerror=function(){o(new rt("Network Error",rt.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let L=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const B=a.transitional||uE;a.timeoutErrorMessage&&(L=a.timeoutErrorMessage),o(new rt(L,B.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,e,N)),N=null},u===void 0&&c.setContentType(null),"setRequestHeader"in N&&de.forEach(c.toJSON(),function(L,B){N.setRequestHeader(B,L)}),de.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),d&&d!=="json"&&(N.responseType=a.responseType),m&&([v,_]=am(m,!0),N.addEventListener("progress",v)),h&&N.upload&&([x,S]=am(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(y=A=>{N&&(o(!A||A.type?new Ac(null,e,N):A),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const M=N3(a.url);if(M&&Kn.protocols.indexOf(M)===-1){o(new rt("Unsupported protocol "+M+":",rt.ERR_BAD_REQUEST,e));return}N.send(u||null)})},O3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,a;const u=function(m){if(!a){a=!0,d();const y=m instanceof Error?m:this.reason;o.abort(y instanceof rt?y:new Ac(y instanceof Error?y.message:y))}};let c=t&&setTimeout(()=>{c=null,u(new rt(`timeout ${t} of ms exceeded`,rt.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),e=null)};e.forEach(m=>m.addEventListener("abort",u));const{signal:h}=o;return h.unsubscribe=()=>de.asap(d),h}},$3=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,a;for(;o<n;)a=o+t,yield e.slice(o,a),o=a},F3=async function*(e,t){for await(const n of V3(e))yield*$3(n,t)},V3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},gw=(e,t,n,o)=>{const a=F3(e,t);let u=0,c,d=h=>{c||(c=!0,o&&o(h))};return new ReadableStream({async pull(h){try{const{done:m,value:y}=await a.next();if(m){d(),h.close();return}let x=y.byteLength;if(n){let v=u+=x;n(v)}h.enqueue(new Uint8Array(y))}catch(m){throw d(m),m}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},Fm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mE=Fm&&typeof ReadableStream=="function",B3=Fm&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},z3=mE&&gE(()=>{let e=!1;const t=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),yw=64*1024,Z0=mE&&gE(()=>de.isReadableStream(new Response("").body)),lm={stream:Z0&&(e=>e.body)};Fm&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!lm[t]&&(lm[t]=de.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new rt(`Response type '${t}' is not supported`,rt.ERR_NOT_SUPPORT,o)})})})(new Response);const U3=async e=>{if(e==null)return 0;if(de.isBlob(e))return e.size;if(de.isSpecCompliantForm(e))return(await new Request(Kn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(de.isArrayBufferView(e)||de.isArrayBuffer(e))return e.byteLength;if(de.isURLSearchParams(e)&&(e=e+""),de.isString(e))return(await B3(e)).byteLength},H3=async(e,t)=>{const n=de.toFiniteNumber(e.getContentLength());return n??U3(t)},W3=Fm&&(async e=>{let{url:t,method:n,data:o,signal:a,cancelToken:u,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:m,headers:y,withCredentials:x="same-origin",fetchOptions:v}=pE(e);m=m?(m+"").toLowerCase():"text";let S=O3([a,u&&u.toAbortSignal()],c),_;const T=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let N;try{if(h&&z3&&n!=="get"&&n!=="head"&&(N=await H3(y,o))!==0){let B=new Request(t,{method:"POST",body:o,duplex:"half"}),X;if(de.isFormData(o)&&(X=B.headers.get("content-type"))&&y.setContentType(X),B.body){const[O,z]=hw(N,am(pw(h)));o=gw(B.body,yw,O,z)}}de.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;_=new Request(t,{...v,signal:S,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:C?x:void 0});let M=await fetch(_);const A=Z0&&(m==="stream"||m==="response");if(Z0&&(d||A&&T)){const B={};["status","statusText","headers"].forEach(q=>{B[q]=M[q]});const X=de.toFiniteNumber(M.headers.get("content-length")),[O,z]=d&&hw(X,am(pw(d),!0))||[];M=new Response(gw(M.body,yw,O,()=>{z&&z(),T&&T()}),B)}m=m||"text";let L=await lm[de.findKey(lm,m)||"text"](M,e);return!A&&T&&T(),await new Promise((B,X)=>{dE(B,X,{data:L,headers:Cr.from(M.headers),status:M.status,statusText:M.statusText,config:e,request:_})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,e,_),{cause:C.cause||C}):rt.from(C,C&&C.code,e,_)}}),J0={http:s3,xhr:j3,fetch:W3};de.forEach(J0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vw=e=>`- ${e}`,K3=e=>de.isFunction(e)||e===null||e===!1,yE={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,o;const a={};for(let u=0;u<t;u++){n=e[u];let c;if(o=n,!K3(n)&&(o=J0[(c=String(n)).toLowerCase()],o===void 0))throw new rt(`Unknown adapter '${c}'`);if(o)break;a[c||"#"+u]=o}if(!o){const u=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?u.length>1?`since :
`+u.map(vw).join(`
`):" "+vw(u[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:J0};function f0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ac(null,e)}function xw(e){return f0(e),e.headers=Cr.from(e.headers),e.data=c0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yE.getAdapter(e.adapter||eh.adapter)(e).then(function(o){return f0(e),o.data=c0.call(e,e.transformResponse,o),o.headers=Cr.from(o.headers),o},function(o){return fE(o)||(f0(e),o&&o.response&&(o.response.data=c0.call(e,e.transformResponse,o.response),o.response.headers=Cr.from(o.response.headers))),Promise.reject(o)})}const vE="1.9.0",Vm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vm[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const ww={};Vm.transitional=function(t,n,o){function a(u,c){return"[Axios v"+vE+"] Transitional option '"+u+"'"+c+(o?". "+o:"")}return(u,c,d)=>{if(t===!1)throw new rt(a(c," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!ww[c]&&(ww[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,c,d):!0}};Vm.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function Y3(e,t,n){if(typeof e!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let a=o.length;for(;a-- >0;){const u=o[a],c=t[u];if(c){const d=e[u],h=d===void 0||c(d,u,e);if(h!==!0)throw new rt("option "+u+" must be "+h,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+u,rt.ERR_BAD_OPTION)}}const Kp={assertOptions:Y3,validators:Vm},lo=Kp.validators;let Sl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new fw,response:new fw}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cl(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:u}=n;o!==void 0&&Kp.assertOptions(o,{silentJSONParsing:lo.transitional(lo.boolean),forcedJSONParsing:lo.transitional(lo.boolean),clarifyTimeoutError:lo.transitional(lo.boolean)},!1),a!=null&&(de.isFunction(a)?n.paramsSerializer={serialize:a}:Kp.assertOptions(a,{encode:lo.function,serialize:lo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Kp.assertOptions(n,{baseUrl:lo.spelling("baseURL"),withXsrfToken:lo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=u&&de.merge(u.common,u[n.method]);u&&de.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),n.headers=Cr.concat(c,u);const d=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let y,x=0,v;if(!h){const _=[xw.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,m),v=_.length,y=Promise.resolve(n);x<v;)y=y.then(_[x++],_[x++]);return y}v=d.length;let S=n;for(x=0;x<v;){const _=d[x++],T=d[x++];try{S=_(S)}catch(N){T.call(this,N);break}}try{y=xw.call(this,S)}catch(_){return Promise.reject(_)}for(x=0,v=m.length;x<v;)y=y.then(m[x++],m[x++]);return y}getUri(t){t=Cl(this.defaults,t);const n=hE(t.baseURL,t.url,t.allowAbsoluteUrls);return lE(n,t.params,t.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(t){Sl.prototype[t]=function(n,o){return this.request(Cl(o||{},{method:t,url:n,data:(o||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(o){return function(u,c,d){return this.request(Cl(d||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}Sl.prototype[t]=n(),Sl.prototype[t+"Form"]=n(!0)});let X3=class xE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const o=this;this.promise.then(a=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](a);o._listeners=null}),this.promise.then=a=>{let u;const c=new Promise(d=>{o.subscribe(d),u=d}).then(a);return c.cancel=function(){o.unsubscribe(u)},c},t(function(u,c,d){o.reason||(o.reason=new Ac(u,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xE(function(a){t=a}),cancel:t}}};function q3(e){return function(n){return e.apply(null,n)}}function G3(e){return de.isObject(e)&&e.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([e,t])=>{ey[t]=e});function wE(e){const t=new Sl(e),n=G_(Sl.prototype.request,t);return de.extend(n,Sl.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return wE(Cl(e,a))},n}const It=wE(eh);It.Axios=Sl;It.CanceledError=Ac;It.CancelToken=X3;It.isCancel=fE;It.VERSION=vE;It.toFormData=$m;It.AxiosError=rt;It.Cancel=It.CanceledError;It.all=function(t){return Promise.all(t)};It.spread=q3;It.isAxiosError=G3;It.mergeConfig=Cl;It.AxiosHeaders=Cr;It.formToJSON=e=>cE(de.isHTMLForm(e)?new FormData(e):e);It.getAdapter=yE.getAdapter;It.HttpStatusCode=ey;It.default=It;const{Axios:RF,AxiosError:DF,CanceledError:MF,isCancel:IF,CancelToken:LF,VERSION:jF,all:OF,Cancel:$F,isAxiosError:FF,spread:VF,toFormData:BF,AxiosHeaders:zF,HttpStatusCode:UF,formToJSON:HF,getAdapter:WF,mergeConfig:KF}=It,SE=P.createContext(void 0),Q3=({backend:e,condition:t,children:n})=>{const[o,a]=P.useState(null),[u,c]=P.useState("logging in"),[d,h]=P.useState(!1),[m]=Mm(),y=m.get("user"),x=m.get("canvas"),v=["shm","elaine","ethan","sophia","bob"],S=async(T,N)=>{try{const C=await fetch(`${e}/api/add-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:T,password:N})}),M=await C.json();C.ok?console.log(`User added: ${T}`):console.error(`Error adding user: ${M.error}`)}catch(C){console.error("Error adding user:",C)}},_=async(T,N)=>{if(N=N||"",T===""){c("logged out");return}if(!y){const C=new URL(window.location.href);C.searchParams.set("user",T),x&&C.searchParams.set("canvas",x),window.location.href=C.toString();return}try{const C=await fetch(`${e}/api/list-users`),M=await C.json();if(C.ok)if(M.users.some(L=>L.userId===y))a(y),console.log(`User logged in: ${y}...`),localStorage.setItem("last_userID",y),localStorage.setItem("last_password",N),c("logged in");else{console.error(`User does not exist: ${y}`);const L=new URL(window.location.href);L.searchParams.delete("user"),window.location.href=L.toString()}else console.error(`Error fetching users: ${M.error}`),c("logged out")}catch(C){console.error("Error logging in user:",C),c("logged out")}};return P.useEffect(()=>{y||(console.log("no user param, operating in logged-out mode."),c("logged out")),y&&!d&&(console.log("Attempting login from url: "+y),_(y)),h(!0),console.log(`Connecting to ${e.includes("local")?"local":e} backend`)},[e,o,y,x]),k.jsx(SE.Provider,{value:{backend:e,userID:o,loginStatus:u,handleUserLogin:_,addUser:S,admins:v,condition:t},children:n})},Li=()=>{const e=P.useContext(SE);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},_E=P.createContext(void 0),Z3=({children:e})=>{const{userID:t,backend:n,loginStatus:o}=Li(),[a,u]=P.useState([]),[c,d]=P.useState("image"),h=async _=>{if(_.type=="image"?d("image"):d("text"),!a.some(T=>T.content===_.content)&&(console.log("Adding node to palette:",_),u(T=>[...T,_]),o==="logged in"))try{const T=await fetch(`${n}/api/add-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:_})}),N=await T.json();if(!T.ok)throw new Error(N.error||"Failed to add clipping");console.log("Clipping added to database:",N)}catch(T){console.error("Error adding clipping to database:",T)}},m=_=>{if(u(T=>T.filter(N=>N.id!==_)),o==="logged in")try{fetch(`${n}/api/remove-clipping`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,clipping:{id:_}})})}catch(T){console.error("Error removing clipping from database:",T)}else o==="logged out"&&v()},y=async _=>{try{const T=await fetch(`${n}/api/get-clippings/${_}`),N=await T.json();if(!T.ok)throw new Error(N.error||"Failed to load clippings");if(!Array.isArray(N.clippings)||N.clippings.length===0){console.log("No clippings found in database");return}u(N.clippings),console.log("Clippings loaded from database:",N.clippings)}catch(T){console.error("Error loading clippings from database:",T)}},x=()=>{try{const _=localStorage.getItem("palette");_?(console.log("Found palette in browser storage:",JSON.parse(_)),u(JSON.parse(_))):console.warn("No palette found in browser storage.")}catch(_){console.error("Error loading palette from browser:",_)}},v=()=>{try{localStorage.setItem("palette",JSON.stringify(a)),console.log("Palette saved to browser storage:",a)}catch(_){console.error("Error saving palette to browser:",_)}},S=()=>a.length;return P.useEffect(()=>{o==="logged in"&&t?y(t):o==="logged out"&&x()},[t,o]),P.useEffect(()=>{o==="logged out"&&v()},[a]),k.jsx(_E.Provider,{value:{clippedNodes:a,setClippedNodes:u,addClippedNode:h,removeNode:m,loadPalette:y,activeTab:c,setActiveTab:d,getNextPaletteIndex:S},children:e})},By=()=>{const e=P.useContext(_E);if(!e)throw new Error("usePaletteContext must be used within a PaletteProvider");return e},EE=P.createContext(void 0),J3=({children:e})=>{const[t,n]=P.useState("default"),[o,a]=P.useState({}),[u,c]=P.useState({x:0,y:0});return k.jsx(EE.Provider,{value:{draggableType:t,setDraggableType:n,draggableData:o,setDraggableData:a,dragStartPosition:u,setDragStartPosition:c},children:e})},mo=()=>{const e=P.useContext(EE);if(e===void 0)throw new Error("useDnD must be used within a DnDProvider");return e},bE=P.createContext({});function e4(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const zy=P.createContext(null),CE=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function t4(e=!0){const t=P.useContext(zy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:a}=t,u=P.useId();P.useEffect(()=>{e&&a(u)},[e]);const c=P.useCallback(()=>e&&o&&o(u),[u,o,e]);return!n&&o?[!1,c]:[!0]}const Uy=typeof window<"u",n4=Uy?P.useLayoutEffect:P.useEffect,Br=e=>e;let kE=Br;function Hy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ec=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o},ns=e=>e*1e3,rs=e=>e/1e3,r4={useManualTiming:!1},Ip=["read","resolveKeyframes","update","preRender","render","postRender"],Sw={value:null};function i4(e,t){let n=new Set,o=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function m(x){c.has(x)&&(y.schedule(x),e()),h++,x(d)}const y={schedule:(x,v=!1,S=!1)=>{const T=S&&a?n:o;return v&&c.add(x),T.has(x)||T.add(x),x},cancel:x=>{o.delete(x),c.delete(x)},process:x=>{if(d=x,a){u=!0;return}a=!0,[n,o]=[o,n],n.forEach(m),t&&Sw.value&&Sw.value.frameloop[t].push(h),h=0,n.clear(),a=!1,u&&(u=!1,y.process(x))}};return y}const o4=40;function TE(e,t){let n=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Ip.reduce((C,M)=>(C[M]=i4(u,t?M:void 0),C),{}),{read:d,resolveKeyframes:h,update:m,preRender:y,render:x,postRender:v}=c,S=()=>{const C=performance.now();n=!1,a.delta=o?1e3/60:Math.max(Math.min(C-a.timestamp,o4),1),a.timestamp=C,a.isProcessing=!0,d.process(a),h.process(a),m.process(a),y.process(a),x.process(a),v.process(a),a.isProcessing=!1,n&&t&&(o=!1,e(S))},_=()=>{n=!0,o=!0,a.isProcessing||e(S)};return{schedule:Ip.reduce((C,M)=>{const A=c[M];return C[M]=(L,B=!1,X=!1)=>(n||_(),A.schedule(L,B,X)),C},{}),cancel:C=>{for(let M=0;M<Ip.length;M++)c[Ip[M]].cancel(C)},state:a,steps:c}}const{schedule:Lt,cancel:oa,state:jn,steps:d0}=TE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),NE=P.createContext({strict:!1}),_w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bc={};for(const e in _w)bc[e]={isEnabled:t=>_w[e].some(n=>!!t[n])};function s4(e){for(const t in e)bc[t]={...bc[t],...e[t]}}const a4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function um(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||a4.has(e)}let PE=e=>!um(e);function l4(e){e&&(PE=t=>t.startsWith("on")?!um(t):e(t))}try{l4(require("@emotion/is-prop-valid").default)}catch{}function u4(e,t,n){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(PE(a)||n===!0&&um(a)||!t&&!um(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function c4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...o)=>e(...o);return new Proxy(n,{get:(o,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Bm=P.createContext({});function zm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $d(e){return typeof e=="string"||Array.isArray(e)}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...Wy];function Um(e){return zm(e.animate)||Ky.some(t=>$d(e[t]))}function AE(e){return!!(Um(e)||e.variants)}function f4(e,t){if(Um(e)){const{initial:n,animate:o}=e;return{initial:n===!1||$d(n)?n:void 0,animate:$d(o)?o:void 0}}return e.inherit!==!1?t:{}}function d4(e){const{initial:t,animate:n}=f4(e,P.useContext(Bm));return P.useMemo(()=>({initial:t,animate:n}),[Ew(t),Ew(n)])}function Ew(e){return Array.isArray(e)?e.join(" "):e}const h4=Symbol.for("motionComponentSymbol");function cc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function p4(e,t,n){return P.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):cc(n)&&(n.current=o))},[t])}const Yy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m4="framerAppearId",RE="data-"+Yy(m4),{schedule:Xy}=TE(queueMicrotask,!1),DE=P.createContext({});function g4(e,t,n,o,a){var u,c;const{visualElement:d}=P.useContext(Bm),h=P.useContext(NE),m=P.useContext(zy),y=P.useContext(CE).reducedMotion,x=P.useRef(null);o=o||h.renderer,!x.current&&o&&(x.current=o(e,{visualState:t,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const v=x.current,S=P.useContext(DE);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&y4(x.current,n,a,S);const _=P.useRef(!1);P.useInsertionEffect(()=>{v&&_.current&&v.update(n,m)});const T=n[RE],N=P.useRef(!!T&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,T))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,T)));return n4(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Xy.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),P.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,T)}),N.current=!1))}),v}function y4(e,t,n,o){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ME(e.parent)),e.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&cc(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:m})}function ME(e){if(e)return e.options.allowProjection!==!1?e.projection:ME(e.parent)}function v4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:a}){var u,c;e&&s4(e);function d(m,y){let x;const v={...P.useContext(CE),...m,layoutId:x4(m)},{isStatic:S}=v,_=d4(m),T=o(m,S);if(!S&&Uy){w4();const N=S4(v);x=N.MeasureLayout,_.visualElement=g4(a,T,v,t,N.ProjectionNode)}return k.jsxs(Bm.Provider,{value:_,children:[x&&_.visualElement?k.jsx(x,{visualElement:_.visualElement,...v}):null,n(a,m,p4(T,_.visualElement,y),T,S,_.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&c!==void 0?c:""})`}`;const h=P.forwardRef(d);return h[h4]=a,h}function x4({layoutId:e}){const t=P.useContext(bE).id;return t&&e!==void 0?t+"-"+e:e}function w4(e,t){P.useContext(NE).strict}function S4(e){const{drag:t,layout:n}=bc;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const IE=e=>t=>typeof t=="string"&&t.startsWith(e),qy=IE("--"),_4=IE("var(--"),Gy=e=>_4(e)?E4.test(e.split("/*")[0].trim()):!1,E4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fd={};function b4(e){for(const t in e)Fd[t]=e[t],qy(t)&&(Fd[t].isCSSVariable=!0)}const Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(Rc);function LE(e,{layout:t,layoutId:n}){return kl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fd[e]||e==="opacity")}const Yn=e=>!!(e&&e.getVelocity),jE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ss=(e,t,n)=>n>t?t:n<e?e:n,Dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vd={...Dc,transform:e=>ss(0,1,e)},Lp={...Dc,default:1},th=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ea=th("deg"),co=th("%"),Qe=th("px"),C4=th("vh"),k4=th("vw"),bw={...co,parse:e=>co.parse(e)/100,transform:e=>co.transform(e*100)},T4={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},N4={rotate:ea,rotateX:ea,rotateY:ea,rotateZ:ea,scale:Lp,scaleX:Lp,scaleY:Lp,scaleZ:Lp,skew:ea,skewX:ea,skewY:ea,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:Vd,originX:bw,originY:bw,originZ:Qe},Cw={...Dc,transform:Math.round},Qy={...T4,...N4,zIndex:Cw,size:Qe,fillOpacity:Vd,strokeOpacity:Vd,numOctaves:Cw},P4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A4=Rc.length;function R4(e,t,n){let o="",a=!0;for(let u=0;u<A4;u++){const c=Rc[u],d=e[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=jE(d,Qy[c]);if(!h){a=!1;const y=P4[c]||c;o+=`${y}(${m}) `}n&&(t[c]=m)}}return o=o.trim(),n?o=n(t,a?"":o):a&&(o="none"),o}function Zy(e,t,n){const{style:o,vars:a,transformOrigin:u}=e;let c=!1,d=!1;for(const h in t){const m=t[h];if(kl.has(h)){c=!0;continue}else if(qy(h)){a[h]=m;continue}else{const y=jE(m,Qy[h]);h.startsWith("origin")?(d=!0,u[h]=y):o[h]=y}}if(t.transform||(c||n?o.transform=R4(t,e.transform,n):o.transform&&(o.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:y=0}=u;o.transformOrigin=`${h} ${m} ${y}`}}const Jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OE(e,t,n){for(const o in t)!Yn(t[o])&&!LE(o,n)&&(e[o]=t[o])}function D4({transformTemplate:e},t){return P.useMemo(()=>{const n=Jy();return Zy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function M4(e,t){const n=e.style||{},o={};return OE(o,n,e),Object.assign(o,D4(e,t)),o}function I4(e,t){const n={},o=M4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const L4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ev(e){return typeof e!="string"||e.includes("-")?!1:!!(L4.indexOf(e)>-1||/[A-Z]/u.test(e))}const j4={offset:"stroke-dashoffset",array:"stroke-dasharray"},O4={offset:"strokeDashoffset",array:"strokeDasharray"};function $4(e,t,n=1,o=0,a=!0){e.pathLength=1;const u=a?j4:O4;e[u.offset]=Qe.transform(-o);const c=Qe.transform(t),d=Qe.transform(n);e[u.array]=`${c} ${d}`}function kw(e,t,n){return typeof e=="string"?e:Qe.transform(t+n*e)}function F4(e,t,n){const o=kw(t,e.x,e.width),a=kw(n,e.y,e.height);return`${o} ${a}`}function tv(e,{attrX:t,attrY:n,attrScale:o,originX:a,originY:u,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...m},y,x){if(Zy(e,m,x),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:S,dimensions:_}=e;v.transform&&(_&&(S.transform=v.transform),delete v.transform),_&&(a!==void 0||u!==void 0||S.transform)&&(S.transformOrigin=F4(_,a!==void 0?a:.5,u!==void 0?u:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),o!==void 0&&(v.scale=o),c!==void 0&&$4(v,c,d,h,!1)}const $E=()=>({...Jy(),attrs:{}}),nv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function V4(e,t,n,o){const a=P.useMemo(()=>{const u=$E();return tv(u,t,nv(o),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};OE(u,e.style,e),a.style={...u,...a.style}}return a}function B4(e=!1){return(n,o,a,{latestValues:u},c)=>{const h=(ev(n)?V4:I4)(o,u,c,n),m=u4(o,typeof n=="string",e),y=n!==P.Fragment?{...m,...h,ref:a}:{},{children:x}=o,v=P.useMemo(()=>Yn(x)?x.get():x,[x]);return P.createElement(n,{...y,children:v})}}function Tw(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function rv(e,t,n,o){if(typeof t=="function"){const[a,u]=Tw(o);t=t(n!==void 0?n:e.custom,a,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,u]=Tw(o);t=t(n!==void 0?n:e.custom,a,u)}return t}const ty=e=>Array.isArray(e),z4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),U4=e=>ty(e)?e[e.length-1]||0:e;function Yp(e){const t=Yn(e)?e.get():e;return z4(t)?t.toValue():t}function H4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},o,a,u){const c={latestValues:W4(o,a,u,e),renderState:t()};return n&&(c.onMount=d=>n({props:o,current:d,...c}),c.onUpdate=d=>n(d)),c}const FE=e=>(t,n)=>{const o=P.useContext(Bm),a=P.useContext(zy),u=()=>H4(e,t,o,a);return n?u():e4(u)};function W4(e,t,n,o){const a={},u=o(e,{});for(const v in u)a[v]=Yp(u[v]);let{initial:c,animate:d}=e;const h=Um(e),m=AE(e);t&&m&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const x=y?d:c;if(x&&typeof x!="boolean"&&!zm(x)){const v=Array.isArray(x)?x:[x];for(let S=0;S<v.length;S++){const _=rv(e,v[S]);if(_){const{transitionEnd:T,transition:N,...C}=_;for(const M in C){let A=C[M];if(Array.isArray(A)){const L=y?A.length-1:0;A=A[L]}A!==null&&(a[M]=A)}for(const M in T)a[M]=T[M]}}}return a}function iv(e,t,n){var o;const{style:a}=e,u={};for(const c in a)(Yn(a[c])||t.style&&Yn(t.style[c])||LE(c,e)||((o=n==null?void 0:n.getValue(c))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(u[c]=a[c]);return u}const K4={useVisualState:FE({scrapeMotionValuesFromProps:iv,createRenderState:Jy})};function VE(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function BE(e,{style:t,vars:n},o,a){Object.assign(e.style,t,a&&a.getProjectionStyles(o));for(const u in n)e.style.setProperty(u,n[u])}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UE(e,t,n,o){BE(e,t,void 0,o);for(const a in t.attrs)e.setAttribute(zE.has(a)?a:Yy(a),t.attrs[a])}function HE(e,t,n){const o=iv(e,t,n);for(const a in e)if(Yn(e[a])||Yn(t[a])){const u=Rc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[u]=e[a]}return o}const Nw=["x","y","width","height","cx","cy","r"],Y4={useVisualState:FE({scrapeMotionValuesFromProps:HE,createRenderState:$E,onUpdate:({props:e,prevProps:t,current:n,renderState:o,latestValues:a})=>{if(!n)return;let u=!!e.drag;if(!u){for(const d in a)if(kl.has(d)){u=!0;break}}if(!u)return;let c=!t;if(t)for(let d=0;d<Nw.length;d++){const h=Nw[d];e[h]!==t[h]&&(c=!0)}c&&Lt.read(()=>{VE(n,o),Lt.render(()=>{tv(o,a,nv(n.tagName),e.transformTemplate),UE(n,o)})})}})};function X4(e,t){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...ev(o)?Y4:K4,preloadedFeatures:e,useRender:B4(a),createVisualElement:t,Component:o};return v4(c)}}function Bd(e,t,n){const o=e.getProps();return rv(o,t,n!==void 0?n:o.custom,e)}const q4=Hy(()=>window.ScrollTimeline!==void 0);class G4{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=n}attachTimeline(t,n){const o=this.animations.map(a=>{if(q4()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{o.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Q4 extends G4{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function ov(e,t){return e?e[t]||e.default||e:void 0}const ny=2e4;function WE(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<ny;)t+=n,o=e.next(t);return t>=ny?1/0:t}function sv(e){return typeof e=="function"}function Pw(e,t){e.timeline=t,e.onfinish=null}const av=e=>Array.isArray(e)&&typeof e[0]=="number",Z4={linearEasing:void 0};function J4(e,t){const n=Hy(e);return()=>{var o;return(o=Z4[t])!==null&&o!==void 0?o:n()}}const cm=J4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),KE=(e,t,n=10)=>{let o="";const a=Math.max(Math.round(t/n),2);for(let u=0;u<a;u++)o+=e(Ec(0,a-1,u))+", ";return`linear(${o.substring(0,o.length-2)})`};function YE(e){return!!(typeof e=="function"&&cm()||!e||typeof e=="string"&&(e in ry||cm())||av(e)||Array.isArray(e)&&e.every(YE))}const gd=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,ry={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gd([0,.65,.55,1]),circOut:gd([.55,0,1,.45]),backIn:gd([.31,.01,.66,-.59]),backOut:gd([.33,1.53,.69,.99])};function XE(e,t){if(e)return typeof e=="function"&&cm()?KE(e,t):av(e)?gd(e):Array.isArray(e)?e.map(n=>XE(n,t)||ry.easeOut):ry[e]}const Ni={x:!1,y:!1};function qE(){return Ni.x||Ni.y}function ej(e,t,n){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const u=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function GE(e,t){const n=ej(e),o=new AbortController,a={passive:!0,...t,signal:o.signal};return[n,a,()=>o.abort()]}function Aw(e){return!(e.pointerType==="touch"||qE())}function tj(e,t,n={}){const[o,a,u]=GE(e,n),c=d=>{if(!Aw(d))return;const{target:h}=d,m=t(h,d);if(typeof m!="function"||!h)return;const y=x=>{Aw(x)&&(m(x),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,a)};return o.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const QE=(e,t)=>t?e===t?!0:QE(e,t.parentElement):!1,lv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rj(e){return nj.has(e.tagName)||e.tabIndex!==-1}const yd=new WeakSet;function Rw(e){return t=>{t.key==="Enter"&&e(t)}}function h0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ij=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=Rw(()=>{if(yd.has(n))return;h0(n,"down");const a=Rw(()=>{h0(n,"up")}),u=()=>h0(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function Dw(e){return lv(e)&&!qE()}function oj(e,t,n={}){const[o,a,u]=GE(e,n),c=d=>{const h=d.currentTarget;if(!Dw(d)||yd.has(h))return;yd.add(h);const m=t(h,d),y=(S,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!Dw(S)||!yd.has(h))&&(yd.delete(h),typeof m=="function"&&m(S,{success:_}))},x=S=>{y(S,n.useGlobalTarget||QE(h,S.target))},v=S=>{y(S,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",v,a)};return o.forEach(d=>{!rj(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d.addEventListener("focus",m=>ij(m,a),a)}),u}function sj(e){return e==="x"||e==="y"?Ni[e]?null:(Ni[e]=!0,()=>{Ni[e]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}const ZE=new Set(["width","height","top","left","right","bottom",...Rc]);let Xp;function aj(){Xp=void 0}const fo={now:()=>(Xp===void 0&&fo.set(jn.isProcessing||r4.useManualTiming?jn.timestamp:performance.now()),Xp),set:e=>{Xp=e,queueMicrotask(aj)}};function uv(e,t){e.indexOf(t)===-1&&e.push(t)}function cv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fv{constructor(){this.subscriptions=[]}add(t){return uv(this.subscriptions,t),()=>cv(this.subscriptions,t)}notify(t,n,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,o);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function JE(e,t){return t?e*(1e3/t):0}const Mw=30,lj=e=>!isNaN(parseFloat(e));class uj{constructor(t,n={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const u=fo.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=fo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new fv);const o=this.events[t].add(n);return t==="change"?()=>{o(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Mw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mw);return JE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zd(e,t){return new uj(e,t)}function cj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zd(n))}function fj(e,t){const n=Bd(e,t);let{transitionEnd:o={},transition:a={},...u}=n||{};u={...u,...o};for(const c in u){const d=U4(u[c]);cj(e,c,d)}}function dj(e){return!!(Yn(e)&&e.add)}function iy(e,t){const n=e.getValue("willChange");if(dj(n))return n.add(t)}function eb(e){return e.props[RE]}const tb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hj=1e-7,pj=12;function mj(e,t,n,o,a){let u,c,d=0;do c=t+(n-t)/2,u=tb(c,o,a)-e,u>0?n=c:t=c;while(Math.abs(u)>hj&&++d<pj);return c}function nh(e,t,n,o){if(e===t&&n===o)return Br;const a=u=>mj(u,0,1,e,n);return u=>u===0||u===1?u:tb(a(u),t,o)}const nb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rb=e=>t=>1-e(1-t),ib=nh(.33,1.53,.69,.99),dv=rb(ib),ob=nb(dv),sb=e=>(e*=2)<1?.5*dv(e):.5*(2-Math.pow(2,-10*(e-1))),hv=e=>1-Math.sin(Math.acos(e)),ab=rb(hv),lb=nb(hv),ub=e=>/^0[^.\s]+$/u.test(e);function gj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ub(e):!0}const Sd=e=>Math.round(e*1e5)/1e5,pv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yj(e){return e==null}const vj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mv=(e,t)=>n=>!!(typeof n=="string"&&vj.test(n)&&n.startsWith(e)||t&&!yj(n)&&Object.prototype.hasOwnProperty.call(n,t)),cb=(e,t,n)=>o=>{if(typeof o!="string")return o;const[a,u,c,d]=o.match(pv);return{[e]:parseFloat(a),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},xj=e=>ss(0,255,e),p0={...Dc,transform:e=>Math.round(xj(e))},vl={test:mv("rgb","red"),parse:cb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+p0.transform(e)+", "+p0.transform(t)+", "+p0.transform(n)+", "+Sd(Vd.transform(o))+")"};function wj(e){let t="",n="",o="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,o+=o,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const oy={test:mv("#"),parse:wj,transform:vl.transform},fc={test:mv("hsl","hue"),parse:cb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+co.transform(Sd(t))+", "+co.transform(Sd(n))+", "+Sd(Vd.transform(o))+")"},Wn={test:e=>vl.test(e)||oy.test(e)||fc.test(e),parse:e=>vl.test(e)?vl.parse(e):fc.test(e)?fc.parse(e):oy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vl.transform(e):fc.transform(e)},Sj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _j(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Sj))===null||n===void 0?void 0:n.length)||0)>0}const fb="number",db="color",Ej="var",bj="var(",Iw="${}",Cj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ud(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(Cj,h=>(Wn.test(h)?(o.color.push(u),a.push(db),n.push(Wn.parse(h))):h.startsWith(bj)?(o.var.push(u),a.push(Ej),n.push(h)):(o.number.push(u),a.push(fb),n.push(parseFloat(h))),++u,Iw)).split(Iw);return{values:n,split:d,indexes:o,types:a}}function hb(e){return Ud(e).values}function pb(e){const{split:t,types:n}=Ud(e),o=t.length;return a=>{let u="";for(let c=0;c<o;c++)if(u+=t[c],a[c]!==void 0){const d=n[c];d===fb?u+=Sd(a[c]):d===db?u+=Wn.transform(a[c]):u+=a[c]}return u}}const kj=e=>typeof e=="number"?0:e;function Tj(e){const t=hb(e);return pb(e)(t.map(kj))}const sa={test:_j,parse:hb,createTransformer:pb,getAnimatableNone:Tj},Nj=new Set(["brightness","contrast","saturate","opacity"]);function Pj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(pv)||[];if(!o)return e;const a=n.replace(o,"");let u=Nj.has(t)?1:0;return o!==n&&(u*=100),t+"("+u+a+")"}const Aj=/\b([a-z-]*)\(.*?\)/gu,sy={...sa,getAnimatableNone:e=>{const t=e.match(Aj);return t?t.map(Pj).join(" "):e}},Rj={...Qy,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:sy,WebkitFilter:sy},gv=e=>Rj[e];function mb(e,t){let n=gv(e);return n!==sy&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dj=new Set(["auto","none","0"]);function Mj(e,t,n){let o=0,a;for(;o<e.length&&!a;){const u=e[o];typeof u=="string"&&!Dj.has(u)&&Ud(u).values.length&&(a=e[o]),o++}if(a&&n)for(const u of t)e[u]=mb(n,a)}const Lw=e=>e===Dc||e===Qe,jw=(e,t)=>parseFloat(e.split(", ")[t]),Ow=(e,t)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return jw(a[1],t);{const u=o.match(/^matrix\((.+)\)$/u);return u?jw(u[1],e):0}},Ij=new Set(["x","y","z"]),Lj=Rc.filter(e=>!Ij.has(e));function jj(e){const t=[];return Lj.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const Cc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ow(4,13),y:Ow(5,14)};Cc.translateX=Cc.x;Cc.translateY=Cc.y;const _l=new Set;let ay=!1,ly=!1;function gb(){if(ly){const e=Array.from(_l).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const a=jj(o);a.length&&(n.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const a=n.get(o);a&&a.forEach(([u,c])=>{var d;(d=o.getValue(u))===null||d===void 0||d.set(c)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}ly=!1,ay=!1,_l.forEach(e=>e.complete()),_l.clear()}function yb(){_l.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ly=!0)})}function Oj(){yb(),gb()}class yv{constructor(t,n,o,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_l.add(this),ay||(ay=!0,Lt.read(yb),Lt.resolveKeyframes(gb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:a}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(o&&n){const h=o.readValue(n,d);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_l.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_l.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),$j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Fj(e){const t=$j.exec(e);if(!t)return[,];const[,n,o,a]=t;return[`--${n??o}`,a]}function xb(e,t,n=1){const[o,a]=Fj(e);if(!o)return;const u=window.getComputedStyle(t).getPropertyValue(o);if(u){const c=u.trim();return vb(c)?parseFloat(c):c}return Gy(a)?xb(a,t,n+1):a}const wb=e=>t=>t.test(e),Vj={test:e=>e==="auto",parse:e=>e},Sb=[Dc,Qe,co,ea,k4,C4,Vj],$w=e=>Sb.find(wb(e));class _b extends yv{constructor(t,n,o,a,u){super(t,n,o,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),Gy(m))){const y=xb(m,n.current);y!==void 0&&(t[h]=y),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!ZE.has(o)||t.length!==2)return;const[a,u]=t,c=$w(a),d=$w(u);if(c!==d)if(Lw(c)&&Lw(d))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let a=0;a<t.length;a++)gj(t[a])&&o.push(a);o.length&&Mj(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cc[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(o,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:o,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const u=n.getValue(o);u&&u.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Cc[o](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const Fw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sa.test(e)||e==="0")&&!e.startsWith("url("));function Bj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function zj(e,t,n,o){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=Fw(a,t),d=Fw(u,t);return!c||!d?!1:Bj(e)||(n==="spring"||sv(n))&&o}const Uj=e=>e!==null;function Hm(e,{repeat:t,repeatType:n="loop"},o){const a=e.filter(Uj),u=t&&n!=="loop"&&t%2===1?0:a.length-1;return!u||o===void 0?a[u]:o}const Hj=40;class Eb{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fo.now(),this.options={autoplay:t,delay:n,type:o,repeat:a,repeatDelay:u,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Hj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Oj(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=fo.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:u,delay:c,onComplete:d,onUpdate:h,isGenerator:m}=this.options;if(!m&&!zj(t,o,a,u))if(c)this.options.duration=0;else{h&&h(Hm(t,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ht=(e,t,n)=>e+(t-e)*n;function m0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wj({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let a=0,u=0,c=0;if(!t)a=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,h=2*n-d;a=m0(h,d,e+1/3),u=m0(h,d,e),c=m0(h,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:o}}function fm(e,t){return n=>n>0?t:e}const g0=(e,t,n)=>{const o=e*e,a=n*(t*t-o)+o;return a<0?0:Math.sqrt(a)},Kj=[oy,vl,fc],Yj=e=>Kj.find(t=>t.test(e));function Vw(e){const t=Yj(e);if(!t)return!1;let n=t.parse(e);return t===fc&&(n=Wj(n)),n}const Bw=(e,t)=>{const n=Vw(e),o=Vw(t);if(!n||!o)return fm(e,t);const a={...n};return u=>(a.red=g0(n.red,o.red,u),a.green=g0(n.green,o.green,u),a.blue=g0(n.blue,o.blue,u),a.alpha=Ht(n.alpha,o.alpha,u),vl.transform(a))},Xj=(e,t)=>n=>t(e(n)),rh=(...e)=>e.reduce(Xj),uy=new Set(["none","hidden"]);function qj(e,t){return uy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Gj(e,t){return n=>Ht(e,t,n)}function vv(e){return typeof e=="number"?Gj:typeof e=="string"?Gy(e)?fm:Wn.test(e)?Bw:Jj:Array.isArray(e)?bb:typeof e=="object"?Wn.test(e)?Bw:Qj:fm}function bb(e,t){const n=[...e],o=n.length,a=e.map((u,c)=>vv(u)(u,t[c]));return u=>{for(let c=0;c<o;c++)n[c]=a[c](u);return n}}function Qj(e,t){const n={...e,...t},o={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(o[a]=vv(e[a])(e[a],t[a]));return a=>{for(const u in o)n[u]=o[u](a);return n}}function Zj(e,t){var n;const o=[],a={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const c=t.types[u],d=e.indexes[c][a[c]],h=(n=e.values[d])!==null&&n!==void 0?n:0;o[u]=h,a[c]++}return o}const Jj=(e,t)=>{const n=sa.createTransformer(t),o=Ud(e),a=Ud(t);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?uy.has(e)&&!a.values.length||uy.has(t)&&!o.values.length?qj(e,t):rh(bb(Zj(o,a),a.values),n):fm(e,t)};function Cb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ht(e,t,n):vv(e)(e,t)}const eO=5;function kb(e,t,n){const o=Math.max(t-eO,0);return JE(n-e(o),t-o)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zw=.001;function tO({duration:e=Zt.duration,bounce:t=Zt.bounce,velocity:n=Zt.velocity,mass:o=Zt.mass}){let a,u,c=1-t;c=ss(Zt.minDamping,Zt.maxDamping,c),e=ss(Zt.minDuration,Zt.maxDuration,rs(e)),c<1?(a=m=>{const y=m*c,x=y*e,v=y-n,S=cy(m,c),_=Math.exp(-x);return zw-v/S*_},u=m=>{const x=m*c*e,v=x*n+n,S=Math.pow(c,2)*Math.pow(m,2)*e,_=Math.exp(-x),T=cy(Math.pow(m,2),c);return(-a(m)+zw>0?-1:1)*((v-S)*_)/T}):(a=m=>{const y=Math.exp(-m*e),x=(m-n)*e+1;return-.001+y*x},u=m=>{const y=Math.exp(-m*e),x=(n-m)*(e*e);return y*x});const d=5/e,h=rO(a,u,d);if(e=ns(e),isNaN(h))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:e};{const m=Math.pow(h,2)*o;return{stiffness:m,damping:c*2*Math.sqrt(o*m),duration:e}}}const nO=12;function rO(e,t,n){let o=n;for(let a=1;a<nO;a++)o=o-e(o)/t(o);return o}function cy(e,t){return e*Math.sqrt(1-t*t)}const iO=["duration","bounce"],oO=["stiffness","damping","mass"];function Uw(e,t){return t.some(n=>e[n]!==void 0)}function sO(e){let t={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...e};if(!Uw(e,oO)&&Uw(e,iO))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),a=o*o,u=2*ss(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Zt.mass,stiffness:a,damping:u}}else{const n=tO(e);t={...t,...n,mass:Zt.mass},t.isResolvedFromDuration=!0}return t}function Tb(e=Zt.visualDuration,t=Zt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:a}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:h,damping:m,mass:y,duration:x,velocity:v,isResolvedFromDuration:S}=sO({...n,velocity:-rs(n.velocity||0)}),_=v||0,T=m/(2*Math.sqrt(h*y)),N=c-u,C=rs(Math.sqrt(h/y)),M=Math.abs(N)<5;o||(o=M?Zt.restSpeed.granular:Zt.restSpeed.default),a||(a=M?Zt.restDelta.granular:Zt.restDelta.default);let A;if(T<1){const B=cy(C,T);A=X=>{const O=Math.exp(-T*C*X);return c-O*((_+T*C*N)/B*Math.sin(B*X)+N*Math.cos(B*X))}}else if(T===1)A=B=>c-Math.exp(-C*B)*(N+(_+C*N)*B);else{const B=C*Math.sqrt(T*T-1);A=X=>{const O=Math.exp(-T*C*X),z=Math.min(B*X,300);return c-O*((_+T*C*N)*Math.sinh(z)+B*N*Math.cosh(z))/B}}const L={calculatedDuration:S&&x||null,next:B=>{const X=A(B);if(S)d.done=B>=x;else{let O=0;T<1&&(O=B===0?ns(_):kb(A,B,X));const z=Math.abs(O)<=o,q=Math.abs(c-X)<=a;d.done=z&&q}return d.value=d.done?c:X,d},toString:()=>{const B=Math.min(WE(L),ny),X=KE(O=>L.next(B*O).value,B,30);return B+"ms "+X}};return L}function Hw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:y}){const x=e[0],v={done:!1,value:x},S=z=>d!==void 0&&z<d||h!==void 0&&z>h,_=z=>d===void 0?h:h===void 0||Math.abs(d-z)<Math.abs(h-z)?d:h;let T=n*t;const N=x+T,C=c===void 0?N:c(N);C!==N&&(T=C-x);const M=z=>-T*Math.exp(-z/o),A=z=>C+M(z),L=z=>{const q=M(z),ee=A(z);v.done=Math.abs(q)<=m,v.value=v.done?C:ee};let B,X;const O=z=>{S(v.value)&&(B=z,X=Tb({keyframes:[v.value,_(v.value)],velocity:kb(A,z,v.value),damping:a,stiffness:u,restDelta:m,restSpeed:y}))};return O(0),{calculatedDuration:null,next:z=>{let q=!1;return!X&&B===void 0&&(q=!0,L(z),O(z)),B!==void 0&&z>=B?X.next(z-B):(!q&&L(z),v)}}}const aO=nh(.42,0,1,1),lO=nh(0,0,.58,1),Nb=nh(.42,0,.58,1),uO=e=>Array.isArray(e)&&typeof e[0]!="number",cO={linear:Br,easeIn:aO,easeInOut:Nb,easeOut:lO,circIn:hv,circInOut:lb,circOut:ab,backIn:dv,backInOut:ob,backOut:ib,anticipate:sb},Ww=e=>{if(av(e)){kE(e.length===4);const[t,n,o,a]=e;return nh(t,n,o,a)}else if(typeof e=="string")return cO[e];return e};function fO(e,t,n){const o=[],a=n||Cb,u=e.length-1;for(let c=0;c<u;c++){let d=a(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||Br:t;d=rh(h,d)}o.push(d)}return o}function dO(e,t,{clamp:n=!0,ease:o,mixer:a}={}){const u=e.length;if(kE(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=fO(t,o,a),h=d.length,m=y=>{if(c&&y<e[0])return t[0];let x=0;if(h>1)for(;x<e.length-2&&!(y<e[x+1]);x++);const v=Ec(e[x],e[x+1],y);return d[x](v)};return n?y=>m(ss(e[0],e[u-1],y)):m}function hO(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const a=Ec(0,t,o);e.push(Ht(n,1,a))}}function pO(e){const t=[0];return hO(t,e.length-1),t}function mO(e,t){return e.map(n=>n*t)}function gO(e,t){return e.map(()=>t||Nb).splice(0,e.length-1)}function dm({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const a=uO(o)?o.map(Ww):Ww(o),u={done:!1,value:t[0]},c=mO(n&&n.length===t.length?n:pO(t),e),d=dO(c,t,{ease:Array.isArray(a)?a:gO(t,a)});return{calculatedDuration:e,next:h=>(u.value=d(h),u.done=h>=e,u)}}const yO=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Lt.update(t,!0),stop:()=>oa(t),now:()=>jn.isProcessing?jn.timestamp:fo.now()}},vO={decay:Hw,inertia:Hw,tween:dm,keyframes:dm,spring:Tb},xO=e=>e/100;class xv extends Eb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:o,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||yv,d=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new c(u,d,n,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,d=sv(n)?n:vO[n]||dm;let h,m;d!==dm&&typeof t[0]!="number"&&(h=rh(xO,Cb(t[0],t[1])),t=[0,100]);const y=d({...this.options,keyframes:t});u==="mirror"&&(m=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=WE(y));const{calculatedDuration:x}=y,v=x+a,S=v*(o+1)-a;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:v,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:o}=this;if(!o){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:m,totalDuration:y,resolvedDuration:x}=o;if(this.startTime===null)return u.next(0);const{delay:v,repeat:S,repeatType:_,repeatDelay:T,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-v*(this.speed>=0?1:-1),M=this.speed>=0?C<0:C>y;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let A=this.currentTime,L=u;if(S){const z=Math.min(this.currentTime,y)/x;let q=Math.floor(z),ee=z%1;!ee&&z>=1&&(ee=1),ee===1&&q--,q=Math.min(q,S+1),!!(q%2)&&(_==="reverse"?(ee=1-ee,T&&(ee-=T/x)):_==="mirror"&&(L=c)),A=ss(0,1,ee)*x}const B=M?{done:!1,value:h[0]}:L.next(A);d&&(B.value=d(B.value));let{done:X}=B;!M&&m!==null&&(X=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return O&&a!==void 0&&(B.value=Hm(h,this.options,a)),N&&N(B.value),O&&this.finish(),B}get duration(){const{resolved:t}=this;return t?rs(t.calculatedDuration):0}get time(){return rs(this.currentTime)}set time(t){t=ns(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yO,onPlay:n,startTime:o}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wO=new Set(["opacity","clipPath","filter","transform"]);function SO(e,t,n,{delay:o=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const m={[t]:n};h&&(m.offset=h);const y=XE(d,a);return Array.isArray(y)&&(m.easing=y),e.animate(m,{delay:o,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const _O=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hm=10,EO=2e4;function bO(e){return sv(e.type)||e.type==="spring"||!YE(e.ease)}function CO(e,t){const n=new xv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const a=[];let u=0;for(;!o.done&&u<EO;)o=n.sample(u),a.push(o.value),u+=hm;return{times:void 0,keyframes:a,duration:u-hm,ease:"linear"}}const Pb={anticipate:sb,backInOut:ob,circInOut:lb};function kO(e){return e in Pb}class Kw extends Eb{constructor(t){super(t);const{name:n,motionValue:o,element:a,keyframes:u}=this.options;this.resolver=new _b(u,(c,d)=>this.onKeyframesResolved(c,d),n,o,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:o=300,times:a,ease:u,type:c,motionValue:d,name:h,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&cm()&&kO(u)&&(u=Pb[u]),bO(this.options)){const{onComplete:x,onUpdate:v,motionValue:S,element:_,...T}=this.options,N=CO(t,T);t=N.keyframes,t.length===1&&(t[1]=t[0]),o=N.duration,a=N.times,u=N.ease,c="keyframes"}const y=SO(d.owner.current,h,t,{...this.options,duration:o,times:a,ease:u});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(Pw(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:x}=this.options;d.set(Hm(t,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:o,times:a,type:c,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return rs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return rs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.currentTime=ns(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Br;const{animation:o}=n;Pw(o,t)}return Br}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:o,duration:a,type:u,ease:c,times:d}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:x,element:v,...S}=this.options,_=new xv({...S,keyframes:o,duration:a,type:u,ease:c,times:d,isGenerator:!0}),T=ns(this.time);m.setWithVelocity(_.sample(T-hm).value,_.sample(T).value,hm)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:o,repeatDelay:a,repeatType:u,damping:c,type:d}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=n.owner.getProps();return _O()&&o&&wO.has(o)&&!h&&!m&&!a&&u!=="mirror"&&c!==0&&d!=="inertia"}}const TO={type:"spring",stiffness:500,damping:25,restSpeed:10},NO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PO={type:"keyframes",duration:.8},AO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RO=(e,{keyframes:t})=>t.length>2?PO:kl.has(e)?e.startsWith("scale")?NO(t[1]):TO:AO;function DO({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const wv=(e,t,n,o={},a,u)=>c=>{const d=ov(o,e)||{},h=d.delay||o.delay||0;let{elapsed:m=0}=o;m=m-ns(h);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:a};DO(d)||(y={...y,...RO(e,y)}),y.duration&&(y.duration=ns(y.duration)),y.repeatDelay&&(y.repeatDelay=ns(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),x&&!u&&t.get()!==void 0){const v=Hm(y.keyframes,d);if(v!==void 0)return Lt.update(()=>{y.onUpdate(v),y.onComplete()}),new Q4([])}return!u&&Kw.supports(y)?new Kw(y):new xv(y)};function MO({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function Ab(e,t,{delay:n=0,transitionOverride:o,type:a}={}){var u;let{transition:c=e.getDefaultTransition(),transitionEnd:d,...h}=t;o&&(c=o);const m=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const x in h){const v=e.getValue(x,(u=e.latestValues[x])!==null&&u!==void 0?u:null),S=h[x];if(S===void 0||y&&MO(y,x))continue;const _={delay:n,...ov(c||{},x)};let T=!1;if(window.MotionHandoffAnimation){const C=eb(e);if(C){const M=window.MotionHandoffAnimation(C,x,Lt);M!==null&&(_.startTime=M,T=!0)}}iy(e,x),v.start(wv(x,v,S,e.shouldReduceMotion&&ZE.has(x)?{type:!1}:_,e,T));const N=v.animation;N&&m.push(N)}return d&&Promise.all(m).then(()=>{Lt.update(()=>{d&&fj(e,d)})}),m}function fy(e,t,n={}){var o;const a=Bd(e,t,n.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(u=n.transitionOverride);const c=a?()=>Promise.all(Ab(e,a,n)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:v}=u;return IO(e,t,y+m,x,v,n)}:()=>Promise.resolve(),{when:h}=u;if(h){const[m,y]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>y())}else return Promise.all([c(),d(n.delay)])}function IO(e,t,n=0,o=0,a=1,u){const c=[],d=(e.variantChildren.size-1)*o,h=a===1?(m=0)=>m*o:(m=0)=>d-m*o;return Array.from(e.variantChildren).sort(LO).forEach((m,y)=>{m.notify("AnimationStart",t),c.push(fy(m,t,{...u,delay:n+h(y)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(c)}function LO(e,t){return e.sortNodePosition(t)}function jO(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const a=t.map(u=>fy(e,u,n));o=Promise.all(a)}else if(typeof t=="string")o=fy(e,t,n);else{const a=typeof t=="function"?Bd(e,t,n.custom):t;o=Promise.all(Ab(e,a,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function Rb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const OO=Ky.length;function Db(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Db(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<OO;n++){const o=Ky[n],a=e.props[o];($d(a)||a===!1)&&(t[o]=a)}return t}const $O=[...Wy].reverse(),FO=Wy.length;function VO(e){return t=>Promise.all(t.map(({animation:n,options:o})=>jO(e,n,o)))}function BO(e){let t=VO(e),n=Yw(),o=!0;const a=h=>(m,y)=>{var x;const v=Bd(e,y,h==="exit"?(x=e.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:S,transitionEnd:_,...T}=v;m={...m,...T,..._}}return m};function u(h){t=h(e)}function c(h){const{props:m}=e,y=Db(e.parent)||{},x=[],v=new Set;let S={},_=1/0;for(let N=0;N<FO;N++){const C=$O[N],M=n[C],A=m[C]!==void 0?m[C]:y[C],L=$d(A),B=C===h?M.isActive:null;B===!1&&(_=N);let X=A===y[C]&&A!==m[C]&&L;if(X&&o&&e.manuallyAnimateOnMount&&(X=!1),M.protectedKeys={...S},!M.isActive&&B===null||!A&&!M.prevProp||zm(A)||typeof A=="boolean")continue;const O=zO(M.prevProp,A);let z=O||C===h&&M.isActive&&!X&&L||N>_&&L,q=!1;const ee=Array.isArray(A)?A:[A];let fe=ee.reduce(a(C),{});B===!1&&(fe={});const{prevResolvedValues:se={}}=M,ue={...se,...fe},$=H=>{z=!0,v.has(H)&&(q=!0,v.delete(H)),M.needsAnimating[H]=!0;const F=e.getValue(H);F&&(F.liveStyle=!1)};for(const H in ue){const F=fe[H],K=se[H];if(S.hasOwnProperty(H))continue;let G=!1;ty(F)&&ty(K)?G=!Rb(F,K):G=F!==K,G?F!=null?$(H):v.add(H):F!==void 0&&v.has(H)?$(H):M.protectedKeys[H]=!0}M.prevProp=A,M.prevResolvedValues=fe,M.isActive&&(S={...S,...fe}),o&&e.blockInitialAnimation&&(z=!1),z&&(!(X&&O)||q)&&x.push(...ee.map(H=>({animation:H,options:{type:C}})))}if(v.size){const N={};if(typeof m.initial!="boolean"){const C=Bd(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(N.transition=C.transition)}v.forEach(C=>{const M=e.getBaseTarget(C),A=e.getValue(C);A&&(A.liveStyle=!0),N[C]=M??null}),x.push({animation:N})}let T=!!x.length;return o&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(T=!1),o=!1,T?t(x):Promise.resolve()}function d(h,m){var y;if(n[h].isActive===m)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(v=>{var S;return(S=v.animationState)===null||S===void 0?void 0:S.setActive(h,m)}),n[h].isActive=m;const x=c(h);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Yw(),o=!0}}}function zO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Rb(t,e):!1}function dl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yw(){return{animate:dl(!0),whileInView:dl(),whileHover:dl(),whileTap:dl(),whileDrag:dl(),whileFocus:dl(),exit:dl()}}class la{constructor(t){this.isMounted=!1,this.node=t}update(){}}class UO extends la{constructor(t){super(t),t.animationState||(t.animationState=BO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let HO=0;class WO extends la{constructor(){super(...arguments),this.id=HO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const KO={animation:{Feature:UO},exit:{Feature:WO}};function Hd(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function ih(e){return{point:{x:e.pageX,y:e.pageY}}}const YO=e=>t=>lv(t)&&e(t,ih(t));function _d(e,t,n,o){return Hd(e,t,YO(n),o)}const Xw=(e,t)=>Math.abs(e-t);function XO(e,t){const n=Xw(e.x,t.x),o=Xw(e.y,t.y);return Math.sqrt(n**2+o**2)}class Mb{constructor(t,n,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=v0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=XO(x.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:_}=x,{timestamp:T}=jn;this.history.push({..._,timestamp:T});const{onStart:N,onMove:C}=this.handlers;v||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=y0(v,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=v0(x.type==="pointercancel"?this.lastMoveEventInfo:y0(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,N),_&&_(x,N)},!lv(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=o,this.contextWindow=a||window;const c=ih(t),d=y0(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=jn;this.history=[{...h,timestamp:m}];const{onSessionStart:y}=n;y&&y(t,v0(d,this.history)),this.removeListeners=rh(_d(this.contextWindow,"pointermove",this.handlePointerMove),_d(this.contextWindow,"pointerup",this.handlePointerUp),_d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),oa(this.updatePoint)}}function y0(e,t){return t?{point:t(e.point)}:e}function qw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function v0({point:e},t){return{point:e,delta:qw(e,Ib(t)),offset:qw(e,qO(t)),velocity:GO(t,.1)}}function qO(e){return e[0]}function Ib(e){return e[e.length-1]}function GO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const a=Ib(e);for(;n>=0&&(o=e[n],!(a.timestamp-o.timestamp>ns(t)));)n--;if(!o)return{x:0,y:0};const u=rs(a.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Lb=1e-4,QO=1-Lb,ZO=1+Lb,jb=.01,JO=0-jb,e$=0+jb;function ir(e){return e.max-e.min}function t$(e,t,n){return Math.abs(e-t)<=n}function Gw(e,t,n,o=.5){e.origin=o,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=ir(n)/ir(t),e.translate=Ht(n.min,n.max,e.origin)-e.originPoint,(e.scale>=QO&&e.scale<=ZO||isNaN(e.scale))&&(e.scale=1),(e.translate>=JO&&e.translate<=e$||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,n,o){Gw(e.x,t.x,n.x,o?o.originX:void 0),Gw(e.y,t.y,n.y,o?o.originY:void 0)}function Qw(e,t,n){e.min=n.min+t.min,e.max=e.min+ir(t)}function n$(e,t,n){Qw(e.x,t.x,n.x),Qw(e.y,t.y,n.y)}function Zw(e,t,n){e.min=t.min-n.min,e.max=e.min+ir(t)}function bd(e,t,n){Zw(e.x,t.x,n.x),Zw(e.y,t.y,n.y)}function r$(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?Ht(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?Ht(n,e,o.max):Math.min(e,n)),e}function Jw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function i$(e,{top:t,left:n,bottom:o,right:a}){return{x:Jw(e.x,n,a),y:Jw(e.y,t,o)}}function e1(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function o$(e,t){return{x:e1(e.x,t.x),y:e1(e.y,t.y)}}function s$(e,t){let n=.5;const o=ir(e),a=ir(t);return a>o?n=Ec(t.min,t.max-o,e.min):o>a&&(n=Ec(e.min,e.max-a,t.min)),ss(0,1,n)}function a$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dy=.35;function l$(e=dy){return e===!1?e=0:e===!0&&(e=dy),{x:t1(e,"left","right"),y:t1(e,"top","bottom")}}function t1(e,t,n){return{min:n1(e,t),max:n1(e,n)}}function n1(e,t){return typeof e=="number"?e:e[t]||0}const r1=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:r1(),y:r1()}),i1=()=>({min:0,max:0}),rn=()=>({x:i1(),y:i1()});function ai(e){return[e("x"),e("y")]}function Ob({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function u$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function x0(e){return e===void 0||e===1}function hy({scale:e,scaleX:t,scaleY:n}){return!x0(e)||!x0(t)||!x0(n)}function pl(e){return hy(e)||$b(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $b(e){return o1(e.x)||o1(e.y)}function o1(e){return e&&e!=="0%"}function pm(e,t,n){const o=e-n,a=t*o;return n+a}function s1(e,t,n,o,a){return a!==void 0&&(e=pm(e,a,o)),pm(e,n,o)+t}function py(e,t=0,n=1,o,a){e.min=s1(e.min,t,n,o,a),e.max=s1(e.max,t,n,o,a)}function Fb(e,{x:t,y:n}){py(e.x,t.translate,t.scale,t.originPoint),py(e.y,n.translate,n.scale,n.originPoint)}const a1=.999999999999,l1=1.0000000000001;function f$(e,t,n,o=!1){const a=n.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=n[d],c=u.projectionDelta;const{visualElement:h}=u.options;h&&h.props.style&&h.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pc(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Fb(e,c)),o&&pl(u.latestValues)&&pc(e,u.latestValues))}t.x<l1&&t.x>a1&&(t.x=1),t.y<l1&&t.y>a1&&(t.y=1)}function hc(e,t){e.min=e.min+t,e.max=e.max+t}function u1(e,t,n,o,a=.5){const u=Ht(e.min,e.max,a);py(e,t,n,u,o)}function pc(e,t){u1(e.x,t.x,t.scaleX,t.scale,t.originX),u1(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vb(e,t){return Ob(c$(e.getBoundingClientRect(),t))}function d$(e,t,n){const o=Vb(e,n),{scroll:a}=t;return a&&(hc(o.x,a.offset.x),hc(o.y,a.offset.y)),o}const Bb=({current:e})=>e?e.ownerDocument.defaultView:null,h$=new WeakMap;class p${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ih(y).point)},u=(y,x)=>{const{drag:v,dragPropagation:S,onDragStart:_}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sj(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(N=>{let C=this.getAxisMotionValue(N).get()||0;if(co.test(C)){const{projection:M}=this.visualElement;if(M&&M.layout){const A=M.layout.layoutBox[N];A&&(C=ir(A)*(parseFloat(C)/100))}}this.originPoint[N]=C}),_&&Lt.postRender(()=>_(y,x)),iy(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(y,x)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:_,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=x;if(S&&this.currentDirection===null){this.currentDirection=m$(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),T&&T(y,x)},d=(y,x)=>this.stop(y,x),h=()=>ai(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Mb(t,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Bb(this.visualElement)})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&Lt.postRender(()=>u(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:a}=this.getProps();if(!o||!jp(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(c=r$(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;n&&cc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=i$(a.layoutBox,n):this.constraints=!1,this.elastic=l$(o),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ai(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=a$(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cc(t))return!1;const o=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=d$(o,a.root,this.visualElement.getTransformPagePoint());let c=o$(a.layout.layoutBox,u);if(n){const d=n(u$(c));this.hasMutatedConstraints=!!d,d&&(c=Ob(d))}return c}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=ai(y=>{if(!jp(y,n,this.currentDirection))return;let x=h&&h[y]||{};c&&(x={min:0,max:0});const v=a?200:1e6,S=a?40:1e7,_={type:"inertia",velocity:o?t[y]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,_)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return iy(this.visualElement,t),o.start(wv(t,o,0,n,this.visualElement,!1))}stopAnimation(){ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ai(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),a=o[n];return a||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){ai(n=>{const{drag:o}=this.getProps();if(!jp(n,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];u.set(t[n]-Ht(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!cc(n)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ai(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();a[c]=s$({min:h,max:h},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),ai(c=>{if(!jp(c,t,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(Ht(h,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;h$.set(this.visualElement,this);const t=this.visualElement.current,n=_d(t,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(h)}),o=()=>{const{dragConstraints:h}=this.getProps();cc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(o);const c=Hd(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(ai(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=h[y].translate,x.set(x.get()+h[y].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=dy,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function jp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function m$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class g$ extends la{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new p$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=e=>(t,n)=>{e&&Lt.postRender(()=>e(t,n))};class y$ extends la{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new Mb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:c1(t),onStart:c1(n),onMove:o,onEnd:(u,c)=>{delete this.session,a&&Lt.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=_d(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qe.test(e))e=parseFloat(e);else return e;const n=f1(e,t.target.x),o=f1(e,t.target.y);return`${n}% ${o}%`}},v$={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,a=sa.parse(e);if(a.length>5)return o;const u=sa.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,h=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=h;const m=Ht(d,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),u(a)}};class x$ extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=t;b4(w$),u&&(n.group&&n.group.add(u),o&&o.register&&a&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),qp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:a,isPresent:u}=this.props,c=o.projection;return c&&(c.isPresent=u,a||t.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Lt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zb(e){const[t,n]=t4(),o=P.useContext(bE);return k.jsx(x$,{...e,layoutGroup:o,switchLayoutGroup:P.useContext(DE),isPresent:t,safeToRemove:n})}const w$={borderRadius:{...dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dd,borderTopRightRadius:dd,borderBottomLeftRadius:dd,borderBottomRightRadius:dd,boxShadow:v$};function S$(e,t,n){const o=Yn(e)?e:zd(e);return o.start(wv("",o,t,n)),o.animation}function _$(e){return e instanceof SVGElement&&e.tagName!=="svg"}const E$=(e,t)=>e.depth-t.depth;class b${constructor(){this.children=[],this.isDirty=!1}add(t){uv(this.children,t),this.isDirty=!0}remove(t){cv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(E$),this.isDirty=!1,this.children.forEach(t)}}function C$(e,t){const n=fo.now(),o=({timestamp:a})=>{const u=a-n;u>=t&&(oa(o),e(u-t))};return Lt.read(o,!0),()=>oa(o)}const Ub=["TopLeft","TopRight","BottomLeft","BottomRight"],k$=Ub.length,d1=e=>typeof e=="string"?parseFloat(e):e,h1=e=>typeof e=="number"||Qe.test(e);function T$(e,t,n,o,a,u){a?(e.opacity=Ht(0,n.opacity!==void 0?n.opacity:1,N$(o)),e.opacityExit=Ht(t.opacity!==void 0?t.opacity:1,0,P$(o))):u&&(e.opacity=Ht(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let c=0;c<k$;c++){const d=`border${Ub[c]}Radius`;let h=p1(t,d),m=p1(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||h1(h)===h1(m)?(e[d]=Math.max(Ht(d1(h),d1(m),o),0),(co.test(m)||co.test(h))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Ht(t.rotate||0,n.rotate||0,o))}function p1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const N$=Hb(0,.5,ab),P$=Hb(.5,.95,Br);function Hb(e,t,n){return o=>o<e?0:o>t?1:n(Ec(e,t,o))}function m1(e,t){e.min=t.min,e.max=t.max}function si(e,t){m1(e.x,t.x),m1(e.y,t.y)}function g1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y1(e,t,n,o,a){return e-=t,e=pm(e,1/n,o),a!==void 0&&(e=pm(e,1/a,o)),e}function A$(e,t=0,n=1,o=.5,a,u=e,c=e){if(co.test(t)&&(t=parseFloat(t),t=Ht(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ht(u.min,u.max,o);e===u&&(d-=t),e.min=y1(e.min,t,n,d,a),e.max=y1(e.max,t,n,d,a)}function v1(e,t,[n,o,a],u,c){A$(e,t[n],t[o],t[a],t.scale,u,c)}const R$=["x","scaleX","originX"],D$=["y","scaleY","originY"];function x1(e,t,n,o){v1(e.x,t,R$,n?n.x:void 0,o?o.x:void 0),v1(e.y,t,D$,n?n.y:void 0,o?o.y:void 0)}function w1(e){return e.translate===0&&e.scale===1}function Wb(e){return w1(e.x)&&w1(e.y)}function S1(e,t){return e.min===t.min&&e.max===t.max}function M$(e,t){return S1(e.x,t.x)&&S1(e.y,t.y)}function _1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Kb(e,t){return _1(e.x,t.x)&&_1(e.y,t.y)}function E1(e){return ir(e.x)/ir(e.y)}function b1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class I${constructor(){this.members=[]}add(t){uv(this.members,t),t.scheduleRender()}remove(t){if(cv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let o;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L$(e,t,n){let o="";const a=e.x.translate/t.x,u=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||u||c)&&(o=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:x,rotateY:v,skewX:S,skewY:_}=n;m&&(o=`perspective(${m}px) ${o}`),y&&(o+=`rotate(${y}deg) `),x&&(o+=`rotateX(${x}deg) `),v&&(o+=`rotateY(${v}deg) `),S&&(o+=`skewX(${S}deg) `),_&&(o+=`skewY(${_}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(o+=`scale(${d}, ${h})`),o||"none"}const w0=["","X","Y","Z"],j$={visibility:"hidden"},C1=1e3;let O$=0;function S0(e,t,n,o){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),o&&(o[e]=0))}function Yb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(a||u))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&Yb(o)}function Xb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=O$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V$),this.nodes.forEach(W$),this.nodes.forEach(K$),this.nodes.forEach(B$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new b$)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_$(c),this.instance=c;const{layoutId:h,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),e){let x;const v=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=C$(v,250),qp.hasAnimatedSinceResize&&(qp.hasAnimatedSinceResize=!1,this.nodes.forEach(T1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||y.getDefaultTransition()||Q$,{onLayoutAnimationStart:N,onLayoutAnimationComplete:C}=y.getProps(),M=!this.targetLayout||!Kb(this.targetLayout,_),A=!v&&S;if(this.options.layoutRoot||this.resumeFrom||A||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const L={...ov(T,"layout"),onPlay:N,onComplete:C};(y.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||T1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y$),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}this.isUpdating||this.nodes.forEach(U$),this.isUpdating=!1,this.nodes.forEach(H$),this.nodes.forEach($$),this.nodes.forEach(F$),this.clearAllSnapshots();const d=fo.now();jn.delta=ss(0,1e3/60,d-jn.timestamp),jn.timestamp=d,jn.isProcessing=!0,d0.update.process(jn),d0.preRender.process(jn),d0.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z$),this.sharedNodes.forEach(X$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ir(this.snapshot.measuredBox.x)&&!ir(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Wb(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(d||pl(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),Z$(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return rn();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(J$))){const{scroll:y}=this.root;y&&(hc(h.x,y.offset.x),hc(h.y,y.offset.y))}return h}removeElementScroll(c){var d;const h=rn();if(si(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:x,options:v}=y;y!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&si(h,c),hc(h.x,x.offset.x),hc(h.y,x.offset.y))}return h}applyTransform(c,d=!1){const h=rn();si(h,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&pc(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),pl(y.latestValues)&&pc(h,y.latestValues)}return pl(this.latestValues)&&pc(h,this.latestValues),h}removeTransform(c){const d=rn();si(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!pl(m.latestValues))continue;hy(m.latestValues)&&m.updateSnapshot();const y=rn(),x=m.measurePageBox();si(y,x),x1(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return pl(this.latestValues)&&x1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),bd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),Fb(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),bd(this.relativeTargetOrigin,this.target,S.target),si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||$b(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(m=!1),m)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;si(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;f$(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=rn());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g1(this.prevProjectionDelta.x,this.projectionDelta.x),g1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!b1(this.projectionDelta.x,this.prevProjectionDelta.x)||!b1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dc(),this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},x=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=rn(),S=h?h.source:void 0,_=this.layout?this.layout.source:void 0,T=S!==_,N=this.getStack(),C=!N||N.members.length<=1,M=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(G$));this.animationProgress=0;let A;this.mixTargetDelta=L=>{const B=L/1e3;N1(x.x,c.x,B),N1(x.y,c.y,B),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q$(this.relativeTarget,this.relativeTargetOrigin,v,B),A&&M$(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=rn()),si(A,this.relativeTarget)),T&&(this.animationValues=y,T$(y,m,this.latestValues,B,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{qp.hasAnimatedSinceResize=!0,this.currentAnimation=S$(0,C1,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:y}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&qb(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||rn();const x=ir(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const v=ir(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}si(d,h),pc(d,y),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new I$),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&S0("z",c,m,this.animationValues);for(let y=0;y<w0.length;y++)S0(`rotate${w0[y]}`,c,m,this.animationValues),S0(`skew${w0[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j$;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Yp(c==null?void 0:c.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Yp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!pl(this.latestValues)&&(T.transform=y?y({},""):"none",this.hasProjected=!1),T}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=L$(this.projectionDeltaWithTransform,this.treeScale,v),y&&(m.transform=y(v,m.transform));const{x:S,y:_}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${_.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const T in Fd){if(v[T]===void 0)continue;const{correct:N,applyTo:C,isCSSVariable:M}=Fd[T],A=m.transform==="none"?v[T]:N(v[T],x);if(C){const L=C.length;for(let B=0;B<L;B++)m[C[B]]=A}else M?this.options.visualElement.renderState.vars[T]=A:m[T]=A}return this.options.layoutId&&(m.pointerEvents=x===this?Yp(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function $$(e){e.updateLayout()}function F$(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:u}=e.options,c=n.source!==e.layout.source;u==="size"?ai(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=ir(v);v.min=o[x].min,v.max=v.min+S}):qb(u,n.layoutBox,o)&&ai(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=ir(o[x]);v.max=v.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+S)});const d=dc();Ed(d,o,n.layoutBox);const h=dc();c?Ed(h,e.applyTransform(a,!0),n.measuredBox):Ed(h,o,n.layoutBox);const m=!Wb(d);let y=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:S}=x;if(v&&S){const _=rn();bd(_,n.layoutBox,v.layoutBox);const T=rn();bd(T,o,S.layoutBox),Kb(_,T)||(y=!0),x.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=_,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function V$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function B$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function z$(e){e.clearSnapshot()}function k1(e){e.clearMeasurements()}function U$(e){e.isLayoutDirty=!1}function H$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function T1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function W$(e){e.resolveTargetDelta()}function K$(e){e.calcProjection()}function Y$(e){e.resetSkewAndRotation()}function X$(e){e.removeLeadSnapshot()}function N1(e,t,n){e.translate=Ht(t.translate,0,n),e.scale=Ht(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function P1(e,t,n,o){e.min=Ht(t.min,n.min,o),e.max=Ht(t.max,n.max,o)}function q$(e,t,n,o){P1(e.x,t.x,n.x,o),P1(e.y,t.y,n.y,o)}function G$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Q$={duration:.45,ease:[.4,0,.1,1]},A1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R1=A1("applewebkit/")&&!A1("chrome/")?Math.round:Br;function D1(e){e.min=R1(e.min),e.max=R1(e.max)}function Z$(e){D1(e.x),D1(e.y)}function qb(e,t,n){return e==="position"||e==="preserve-aspect"&&!t$(E1(t),E1(n),.2)}function J$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const e5=Xb({attachResizeListener:(e,t)=>Hd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_0={current:void 0},Gb=Xb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_0.current){const e=new e5({});e.mount(window),e.setOptions({layoutScroll:!0}),_0.current=e}return _0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),t5={pan:{Feature:y$},drag:{Feature:g$,ProjectionNode:Gb,MeasureLayout:zb}};function M1(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,u=o[a];u&&Lt.postRender(()=>u(t,ih(t)))}class n5 extends la{mount(){const{current:t}=this.node;t&&(this.unmount=tj(t,(n,o)=>(M1(this.node,o,"Start"),a=>M1(this.node,a,"End"))))}unmount(){}}class r5 extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rh(Hd(this.node.current,"focus",()=>this.onFocus()),Hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I1(e,t,n){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),u=o[a];u&&Lt.postRender(()=>u(t,ih(t)))}class i5 extends la{mount(){const{current:t}=this.node;t&&(this.unmount=oj(t,(n,o)=>(I1(this.node,o,"Start"),(a,{success:u})=>I1(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,E0=new WeakMap,o5=e=>{const t=my.get(e.target);t&&t(e)},s5=e=>{e.forEach(o5)};function a5({root:e,...t}){const n=e||document;E0.has(n)||E0.set(n,{});const o=E0.get(n),a=JSON.stringify(t);return o[a]||(o[a]=new IntersectionObserver(s5,{root:e,...t})),o[a]}function l5(e,t,n){const o=a5(t);return my.set(e,n),o.observe(e),()=>{my.delete(e),o.unobserve(e)}}const u5={some:0,all:1};class c5 extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:a="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:u5[a]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),v=m?y:x;v&&v(h)};return l5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(f5(t,n))&&this.startObserver()}unmount(){}}function f5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const d5={inView:{Feature:c5},tap:{Feature:i5},focus:{Feature:r5},hover:{Feature:n5}},h5={layout:{ProjectionNode:Gb,MeasureLayout:zb}},gy={current:null},Qb={current:!1};function p5(){if(Qb.current=!0,!!Uy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gy.current=e.matches;e.addListener(t),t()}else gy.current=!1}const m5=[...Sb,Wn,sa],g5=e=>m5.find(wb(e)),y5=new WeakMap;function v5(e,t,n){for(const o in t){const a=t[o],u=n[o];if(Yn(a))e.addValue(o,a);else if(Yn(u))e.addValue(o,zd(a,{owner:e}));else if(u!==a)if(e.hasValue(o)){const c=e.getValue(o);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(o);e.addValue(o,zd(c!==void 0?c:a,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const L1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class x5{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=fo.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Lt.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:y}=c;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Um(n),this.isVariantNode=AE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const _=v[S];h[S]!==void 0&&Yn(_)&&_.set(h[S],!1)}}mount(t){this.current=t,y5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),Qb.current||p5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=kl.has(t);o&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bc){const n=bc[t];if(!n)continue;const{isEnabled:o,Feature:a}=n;if(!this.features[t]&&a&&o(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<L1.length;o++){const a=L1[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=v5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=zd(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){var o;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(o=this.getBaseTargetFromProps(this.props,t))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(vb(a)||ub(a))?a=parseFloat(a):!g5(a)&&sa.test(n)&&(a=mb(t,n)),this.setBaseTarget(t,Yn(a)?a.get():a)),Yn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const c=rv(this.props,o,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[t])}if(o&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!Yn(u)?u:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new fv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Zb extends x5{constructor(){super(...arguments),this.KeyframeResolver=_b}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function w5(e){return window.getComputedStyle(e)}class S5 extends Zb{constructor(){super(...arguments),this.type="html",this.renderInstance=BE}readValueFromInstance(t,n){if(kl.has(n)){const o=gv(n);return o&&o.default||0}else{const o=w5(t),a=(qy(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Vb(t,n)}build(t,n,o){Zy(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return iv(t,n,o)}}class _5 extends Zb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&VE(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(kl.has(n)){const o=gv(n);return o&&o.default||0}return n=zE.has(n)?n:Yy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return HE(t,n,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&Lt.postRender(this.updateDimensions)}build(t,n,o){tv(t,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,o,a){UE(t,n,o,a)}mount(t){this.isSVGTag=nv(t.tagName),super.mount(t)}}const E5=(e,t)=>ev(e)?new _5(t):new S5(t,{allowProjection:e!==P.Fragment}),b5=X4({...KO,...d5,...t5,...h5},E5),Cn=c4(b5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jb=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,...k5,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:Jb("lucide",a),...d},[...c.map(([m,y])=>P.createElement(m,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(e,t)=>{const n=P.forwardRef(({className:o,...a},u)=>P.createElement(T5,{ref:u,iconNode:t,className:Jb(`lucide-${C5(e)}`,o),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eC=Xn("ArrowLeft",N5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tC=Xn("ArrowRight",P5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]],nC=Xn("BookCopy",A5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Wm=Xn("Bookmark",R5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],M5=Xn("Download",D5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],mm=Xn("Expand",I5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],j5=Xn("Menu",L5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],$5=Xn("Minimize2",O5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],rC=Xn("Paperclip",F5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B5=Xn("Pen",V5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],U5=Xn("Pencil",z5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iC=Xn("Plus",H5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K5=Xn("RefreshCw",W5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],X5=Xn("Save",Y5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],oC=Xn("Search",q5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Q5=Xn("Trash2",G5),Z5=({descriptions:e,isAIGenerated:t,as:n="div"})=>{const[o,a]=P.useState(null),{setDraggableType:u,setDraggableData:c}=mo();P.useEffect(()=>{var v,S;a(((v=e.find(_=>_.source==="synth"))==null?void 0:v.source)||((S=e[0])==null?void 0:S.source)||null)},[e]);const d=()=>{var v;return((v=e.find(S=>S.source===o))==null?void 0:v.description)||""};if(!e||e.length===0)return k.jsx(k.Fragment,{});const h=v=>{a(v)},m=v=>{const S=d();v.dataTransfer.effectAllowed="move",u("text"),c({content:S,provenance:o==="synth"?"ai-description":"description"})},y=d(),x=n;return k.jsxs(x,{className:"mb-4",children:[y?k.jsx("span",{className:`cursor-move inline-block p-1 text-xs 
                        ${t?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,draggable:!0,onDragStart:m,children:y}):k.jsx("span",{className:"text-gray-500 italic inline-block p-2",children:"No description available."}),k.jsxs("span",{className:"italic text-gray-500 text-xs mt-1 block",style:{userSelect:"none"},children:["Source:"," ",e.sort((v,S)=>v.source==="synth"?-1:S.source==="synth"?1:0).map(v=>k.jsx("button",{onClick:()=>h(v.source),className:`px-1 py-1 mx-0.5 rounded text-xxs ${v.source===o?t?"bg-blue-500 text-white":"bg-stone-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v.source},v.source))]})]})},j1=({currentIndex:e,totalItems:t,handlePrev:n,handleNext:o})=>k.jsxs("div",{className:"text-xs/6 flex mt-2 items-center mx-auto",style:{width:"80%"},children:[k.jsx("div",{onClick:n,className:"flex-1 flex items-center justify-end p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(eC,{size:"18"})}),k.jsxs("span",{className:"text-gray-600 mx-2",children:[e+1,"/",t]}),k.jsx("div",{onClick:o,className:"flex-1 flex items-center justify-start p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer",children:k.jsx(tC,{size:"18"})})]}),sC=e=>e.split(" ").map(t=>({value:t})),ml=e=>e.map(t=>t.value).join(" "),O1=e=>{const t=e.details||e;return{value:e.value,entryId:t.entry_id,databaseValue:t.databaseValue,images:t.images||[],isArtist:t.isArtist===1,type:t.type,aliases:t.isArtist===1?(t.artist_aliases||[]).map(n=>n.value):void 0,descriptions:t.descriptions?Object.entries(t.descriptions).map(([n,o])=>({source:n,description:o.description,...o})):[],relatedKeywordIds:t.relatedKeywordIds||[],relatedKeywordStrings:t.relatedKeywordStrings||[]}},Op=e=>{const n=()=>Math.random()*40-10,o=e.x+e.width/2,a=e.y+e.height/2,u=o-10+n(),c=a>=e.y+e.height/2?e.y+e.height+10+n():e.y+10+n();return{x:u,y:c}},aC=P.createContext(void 0),J5=({children:e})=>{const{userID:t,backend:n,loginStatus:o}=Li(),[a,u]=P.useState("new-canvas"),[c,d]=P.useState("Untitled"),[h,m]=P.useState("Never"),y=P.useCallback((N,C,M)=>{const A=C||a;try{const{nodes:L,edges:B,viewport:X}=N;localStorage.setItem(`${A}`,JSON.stringify({nodes:L,edges:B,viewport:X})),M&&localStorage.setItem(`${A}-name`,M)}catch(L){console.error("Error saving canvas to browser:",L)}},[a]),x=P.useCallback(async N=>{try{const C=await It.get(`${n}/api/get-canvas/${N}`);if(C.status===200&&C.data.success){console.log("response.data FROM BACKEND after pulling canvas:",C.data);const{canvasName:M,nodes:A,edges:L,viewport:B}=C.data.canvas,X=C.data.timestamp,O=typeof L=="string"?JSON.parse(L):L,z=typeof A=="string"?JSON.parse(A):A,q={nodes:z||[],edges:O||[],viewport:B||{x:0,y:0,zoom:1}};return console.log(`Loaded canvas "${M}" (ID: ${N}) with ${z.length} nodes and ${O.length} edges and timestamp: ${X}`),{canvasData:q,canvasName:M,timestamp:X}}}catch(C){console.error("Error loading canvas:",C)}return null},[n]),v=N=>{try{const C=localStorage.getItem(`${N}`);if(C)return console.log("canvas context found canvasID:",N,JSON.parse(C)),JSON.parse(C);console.warn("No canvas found for:",N)}catch(C){console.error("Error loading canvas from browser:",C)}return null},S=P.useCallback(async(N,C,M)=>{if(C=C||a,M=M||c||"Untitled",o!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",o);return}if(!N){console.error("No canvas data provided. Cannot save.");return}try{const A=new Date().toISOString();await It.post(`${n}/api/save-canvas`,{userID:t,canvasID:C,canvasName:M,canvasJSONObject:N,timestamp:A}),m(A),console.log("saved canvas:",C,M," at ",A)}catch(A){console.error("Error saving canvas:",A)}},[n,t,a,c,o]),_=P.useCallback(async N=>{if(o!="logged in"){console.error("You have to log in before you can create a new canvas. You are currently... ",o);return}const M=await(await fetch(`${n}/api/next-canvas-id/${N}`)).json();if(!M.success){console.error("Error fetching next canvas ID.");return}console.log("received next canvas ID:",M.nextCanvasId," calling save canvas on the new canvas"),await S({nodes:[],edges:[],viewport:{x:0,y:0,zoom:1}},`${M.nextCanvasId}`,"Untitled"),console.log("redirecting to new canvas: "+M.nextCanvasId),window.location.href=`/?user=${N}&canvas=${M.nextCanvasId}`},[o]),T=P.useCallback(async N=>{if(!t||t==="default"){console.error("You aren't logged in.");return}try{const C=await It.delete(`${n}/api/delete-canvas/${t}/${N}`);C.status===200&&C.data.success?console.log(`Canvas ${N} deleted successfully for user ${t}.`):console.error("Error deleting canvas:",C.data.error)}catch(C){console.error("Error deleting canvas:",C)}},[t,n]);return k.jsx(aC.Provider,{value:{canvasID:a,setCanvasId:u,canvasName:c,setCanvasName:d,saveCanvas:S,deleteCanvas:T,createNewCanvas:_,pullCanvas:x,quickSaveToBrowser:y,pullCanvasFromBrowser:v,lastSaved:h,setLastSaved:m},children:e})},Km=()=>{const e=P.useContext(aC);if(!e)throw new Error("useCanvasContext must be used within a CanvasProvider");return e};var vd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var eF=vd.exports,$1;function tF(){return $1||($1=1,function(e,t){(function(){var n,o="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",x=1,v=2,S=4,_=1,T=2,N=1,C=2,M=4,A=8,L=16,B=32,X=64,O=128,z=256,q=512,ee=30,fe="...",se=800,ue=16,$=1,ne=2,Y=3,H=1/0,F=9007199254740991,K=17976931348623157e292,G=NaN,V=4294967295,J=V-1,ge=V>>>1,ye=[["ary",O],["bind",N],["bindKey",C],["curry",A],["curryRight",L],["flip",q],["partial",B],["partialRight",X],["rearg",z]],we="[object Arguments]",ve="[object Array]",_e="[object AsyncFunction]",ke="[object Boolean]",Re="[object Date]",We="[object DOMException]",Ye="[object Error]",Ne="[object Function]",Pe="[object GeneratorFunction]",Ue="[object Map]",nt="[object Number]",Et="[object Null]",cn="[object Object]",li="[object Promise]",or="[object Proxy]",$e="[object RegExp]",be="[object Set]",Ze="[object String]",Ke="[object Symbol]",yt="[object Undefined]",St="[object WeakMap]",_t="[object WeakSet]",Ft="[object ArrayBuffer]",bt="[object DataView]",Yt="[object Float32Array]",sn="[object Float64Array]",kn="[object Int8Array]",ua="[object Int16Array]",cs="[object Int32Array]",fs="[object Uint8Array]",ca="[object Uint8ClampedArray]",go="[object Uint16Array]",yo="[object Uint32Array]",fa=/\b__p \+= '';/g,da=/\b(__p \+=) '' \+/g,ha=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ui=/&(?:amp|lt|gt|quot|#39);/g,ci=/[&<>"']/g,Tl=RegExp(ui.source),pa=RegExp(ci.source),Nl=/<%-([\s\S]+?)%>/g,Pl=/<%([\s\S]+?)%>/g,ma=/<%=([\s\S]+?)%>/g,ga=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Al=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xo=/[\\^$.*+?()[\]{}|]/g,wo=RegExp(xo.source),ya=/^\s+/,So=/\s/,ds=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hs=/\{\n\/\* \[wrapped with (.+)\] \*/,va=/,? & /,Ic=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lc=/[()=,{}\[\]\/\s]/,Rl=/\\(\\)?/g,Ur=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xa=/\w*$/,Dl=/^[-+]0x[0-9a-f]+$/i,jc=/^0b[01]+$/i,Ml=/^\[object .+?Constructor\]$/,Il=/^0o[0-7]+$/i,Ll=/^(?:0|[1-9]\d*)$/,jl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_o=/($^)/,Oc=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",$c="\\u0300-\\u036f",wa="\\ufe20-\\ufe2f",Ol="\\u20d0-\\u20ff",Eo=$c+wa+Ol,$l="\\u2700-\\u27bf",ps="a-z\\xdf-\\xf6\\xf8-\\xff",ms="\\xac\\xb1\\xd7\\xf7",sr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fc="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fl="A-Z\\xc0-\\xd6\\xd8-\\xde",Vl="\\ufe0e\\ufe0f",Bl=ms+sr+Fc+qn,kr="[']",gs="["+Ct+"]",ji="["+Bl+"]",Tr="["+Eo+"]",zl="\\d+",Vc="["+$l+"]",bo="["+ps+"]",Bc="[^"+Ct+Bl+zl+$l+ps+Fl+"]",Sa="\\ud83c[\\udffb-\\udfff]",_a="(?:"+Tr+"|"+Sa+")",oh="[^"+Ct+"]",Ea="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",Co="["+Fl+"]",zc="\\u200d",Ul="(?:"+bo+"|"+Bc+")",sh="(?:"+Co+"|"+Bc+")",Uc="(?:"+kr+"(?:d|ll|m|re|s|t|ve))?",Hc="(?:"+kr+"(?:D|LL|M|RE|S|T|VE))?",Hl=_a+"?",ba="["+Vl+"]?",Oi="(?:"+zc+"(?:"+[oh,Ea,mt].join("|")+")"+ba+Hl+")*",$i="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ys=ba+Hl+Oi,Ca="(?:"+[Vc,Ea,mt].join("|")+")"+ys,Vi="(?:"+[oh+Tr+"?",Tr,Ea,mt,gs].join("|")+")",Ym=RegExp(kr,"g"),ah=RegExp(Tr,"g"),ko=RegExp(Sa+"(?="+Sa+")|"+Vi+ys,"g"),Xm=RegExp([Co+"?"+bo+"+"+Uc+"(?="+[ji,Co,"$"].join("|")+")",sh+"+"+Hc+"(?="+[ji,Co+Ul,"$"].join("|")+")",Co+"?"+Ul+"+"+Uc,Co+"+"+Hc,Fi,$i,zl,Ca].join("|"),"g"),lh=RegExp("["+zc+Ct+Eo+Vl+"]"),Wl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qm=-1,vt={};vt[Yt]=vt[sn]=vt[kn]=vt[ua]=vt[cs]=vt[fs]=vt[ca]=vt[go]=vt[yo]=!0,vt[we]=vt[ve]=vt[Ft]=vt[ke]=vt[bt]=vt[Re]=vt[Ye]=vt[Ne]=vt[Ue]=vt[nt]=vt[cn]=vt[$e]=vt[be]=vt[Ze]=vt[St]=!1;var gt={};gt[we]=gt[ve]=gt[Ft]=gt[bt]=gt[ke]=gt[Re]=gt[Yt]=gt[sn]=gt[kn]=gt[ua]=gt[cs]=gt[Ue]=gt[nt]=gt[cn]=gt[$e]=gt[be]=gt[Ze]=gt[Ke]=gt[fs]=gt[ca]=gt[go]=gt[yo]=!0,gt[Ye]=gt[Ne]=gt[St]=!1;var vs={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Kl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wc=parseFloat,Yl=parseInt,Xl=typeof _p=="object"&&_p&&_p.Object===Object&&_p,ch=typeof self=="object"&&self&&self.Object===Object&&self,Rt=Xl||ch||Function("return this")(),ka=t&&!t.nodeType&&t,Hr=ka&&!0&&e&&!e.nodeType&&e,Kc=Hr&&Hr.exports===ka,xs=Kc&&Xl.process,Tn=function(){try{var re=Hr&&Hr.require&&Hr.require("util").types;return re||xs&&xs.binding&&xs.binding("util")}catch{}}(),Yc=Tn&&Tn.isArrayBuffer,On=Tn&&Tn.isDate,To=Tn&&Tn.isMap,ql=Tn&&Tn.isRegExp,ws=Tn&&Tn.isSet,fh=Tn&&Tn.isTypedArray;function Nn(re,he,le){switch(le.length){case 0:return re.call(he);case 1:return re.call(he,le[0]);case 2:return re.call(he,le[0],le[1]);case 3:return re.call(he,le[0],le[1],le[2])}return re.apply(he,le)}function Xc(re,he,le,De){for(var Je=-1,dt=re==null?0:re.length;++Je<dt;){var Xt=re[Je];he(De,Xt,le(Xt),re)}return De}function gn(re,he){for(var le=-1,De=re==null?0:re.length;++le<De&&he(re[le],le,re)!==!1;);return re}function Gl(re,he){for(var le=re==null?0:re.length;le--&&he(re[le],le,re)!==!1;);return re}function qc(re,he){for(var le=-1,De=re==null?0:re.length;++le<De;)if(!he(re[le],le,re))return!1;return!0}function Bi(re,he){for(var le=-1,De=re==null?0:re.length,Je=0,dt=[];++le<De;){var Xt=re[le];he(Xt,le,re)&&(dt[Je++]=Xt)}return dt}function Ql(re,he){var le=re==null?0:re.length;return!!le&&Ss(re,he,0)>-1}function Gc(re,he,le){for(var De=-1,Je=re==null?0:re.length;++De<Je;)if(le(he,re[De]))return!0;return!1}function kt(re,he){for(var le=-1,De=re==null?0:re.length,Je=Array(De);++le<De;)Je[le]=he(re[le],le,re);return Je}function zi(re,he){for(var le=-1,De=he.length,Je=re.length;++le<De;)re[Je+le]=he[le];return re}function Qc(re,he,le,De){var Je=-1,dt=re==null?0:re.length;for(De&&dt&&(le=re[++Je]);++Je<dt;)le=he(le,re[Je],Je,re);return le}function Zm(re,he,le,De){var Je=re==null?0:re.length;for(De&&Je&&(le=re[--Je]);Je--;)le=he(le,re[Je],Je,re);return le}function Zc(re,he){for(var le=-1,De=re==null?0:re.length;++le<De;)if(he(re[le],le,re))return!0;return!1}var Jm=ef("length");function dh(re){return re.split("")}function eg(re){return re.match(Ic)||[]}function hh(re,he,le){var De;return le(re,function(Je,dt,Xt){if(he(Je,dt,Xt))return De=dt,!1}),De}function Zl(re,he,le,De){for(var Je=re.length,dt=le+(De?1:-1);De?dt--:++dt<Je;)if(he(re[dt],dt,re))return dt;return-1}function Ss(re,he,le){return he===he?tu(re,he,le):Zl(re,ph,le)}function Jc(re,he,le,De){for(var Je=le-1,dt=re.length;++Je<dt;)if(De(re[Je],he))return Je;return-1}function ph(re){return re!==re}function mh(re,he){var le=re==null?0:re.length;return le?tf(re,he)/le:G}function ef(re){return function(he){return he==null?n:he[re]}}function Jl(re){return function(he){return re==null?n:re[he]}}function gh(re,he,le,De,Je){return Je(re,function(dt,Xt,xt){le=De?(De=!1,dt):he(le,dt,Xt,xt)}),le}function tg(re,he){var le=re.length;for(re.sort(he);le--;)re[le]=re[le].value;return re}function tf(re,he){for(var le,De=-1,Je=re.length;++De<Je;){var dt=he(re[De]);dt!==n&&(le=le===n?dt:le+dt)}return le}function nf(re,he){for(var le=-1,De=Array(re);++le<re;)De[le]=he(le);return De}function ng(re,he){return kt(he,function(le){return[le,re[le]]})}function yh(re){return re&&re.slice(0,nu(re)+1).replace(ya,"")}function Gn(re){return function(he){return re(he)}}function Ta(re,he){return kt(he,function(le){return re[le]})}function fi(re,he){return re.has(he)}function vh(re,he){for(var le=-1,De=re.length;++le<De&&Ss(he,re[le],0)>-1;);return le}function rf(re,he){for(var le=re.length;le--&&Ss(he,re[le],0)>-1;);return le}function xh(re,he){for(var le=re.length,De=0;le--;)re[le]===he&&++De;return De}var wh=Jl(vs),Sh=Jl(Kl);function _h(re){return"\\"+Qm[re]}function _s(re,he){return re==null?n:re[he]}function Es(re){return lh.test(re)}function rg(re){return Wl.test(re)}function ig(re){for(var he,le=[];!(he=re.next()).done;)le.push(he.value);return le}function eu(re){var he=-1,le=Array(re.size);return re.forEach(function(De,Je){le[++he]=[Je,De]}),le}function of(re,he){return function(le){return re(he(le))}}function ar(re,he){for(var le=-1,De=re.length,Je=0,dt=[];++le<De;){var Xt=re[le];(Xt===he||Xt===y)&&(re[le]=y,dt[Je++]=le)}return dt}function Ui(re){var he=-1,le=Array(re.size);return re.forEach(function(De){le[++he]=De}),le}function og(re){var he=-1,le=Array(re.size);return re.forEach(function(De){le[++he]=[De,De]}),le}function tu(re,he,le){for(var De=le-1,Je=re.length;++De<Je;)if(re[De]===he)return De;return-1}function sg(re,he,le){for(var De=le+1;De--;)if(re[De]===he)return De;return De}function No(re){return Es(re)?bh(re):Jm(re)}function Qn(re){return Es(re)?Ch(re):dh(re)}function nu(re){for(var he=re.length;he--&&So.test(re.charAt(he)););return he}var Eh=Jl(Gm);function bh(re){for(var he=ko.lastIndex=0;ko.test(re);)++he;return he}function Ch(re){return re.match(ko)||[]}function ag(re){return re.match(Xm)||[]}var lg=function re(he){he=he==null?Rt:bs.defaults(Rt.Object(),he,bs.pick(Rt,uh));var le=he.Array,De=he.Date,Je=he.Error,dt=he.Function,Xt=he.Math,xt=he.Object,Na=he.RegExp,ug=he.String,lr=he.TypeError,di=le.prototype,sf=dt.prototype,Wr=xt.prototype,Cs=he["__core-js_shared__"],Pa=sf.toString,ht=Wr.hasOwnProperty,ks=0,ru=function(){var s=/[^.]+$/.exec(Cs&&Cs.keys&&Cs.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Aa=Wr.toString,iu=Pa.call(xt),kh=Rt._,Th=Na("^"+Pa.call(ht).replace(xo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ra=Kc?he.Buffer:n,hi=he.Symbol,Da=he.Uint8Array,af=Ra?Ra.allocUnsafe:n,Nr=of(xt.getPrototypeOf,xt),ou=xt.create,su=Wr.propertyIsEnumerable,au=di.splice,Nh=hi?hi.isConcatSpreadable:n,pi=hi?hi.iterator:n,Po=hi?hi.toStringTag:n,Ma=function(){try{var s=eo(xt,"defineProperty");return s({},"",{}),s}catch{}}(),Ph=he.clearTimeout!==Rt.clearTimeout&&he.clearTimeout,Nt=De&&De.now!==Rt.Date.now&&De.now,lf=he.setTimeout!==Rt.setTimeout&&he.setTimeout,Ao=Xt.ceil,Hi=Xt.floor,lu=xt.getOwnPropertySymbols,uf=Ra?Ra.isBuffer:n,Ts=he.isFinite,uu=di.join,Ns=of(xt.keys,xt),qt=Xt.max,yn=Xt.min,cg=De.now,Ah=he.parseInt,Ia=Xt.random,cu=di.reverse,La=eo(he,"DataView"),Ro=eo(he,"Map"),ja=eo(he,"Promise"),Wi=eo(he,"Set"),Oa=eo(he,"WeakMap"),Ps=eo(xt,"create"),fu=Oa&&new Oa,As={},cf=to(La),Ki=to(Ro),Rh=to(ja),Rs=to(Wi),Kr=to(Oa),Yi=hi?hi.prototype:n,Zn=Yi?Yi.valueOf:n,du=Yi?Yi.toString:n;function I(s){if(Qt(s)&&!tt(s)&&!(s instanceof et)){if(s instanceof vn)return s;if(ht.call(s,"__wrapped__"))return op(s)}return new vn(s)}var Ds=function(){function s(){}return function(l){if(!Ut(l))return{};if(ou)return ou(l);s.prototype=l;var g=new s;return s.prototype=n,g}}();function Yr(){}function vn(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}I.templateSettings={escape:Nl,evaluate:Pl,interpolate:ma,variable:"",imports:{_:I}},I.prototype=Yr.prototype,I.prototype.constructor=I,vn.prototype=Ds(Yr.prototype),vn.prototype.constructor=vn;function et(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function hu(){var s=new et(this.__wrapped__);return s.__actions__=An(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=An(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=An(this.__views__),s}function ff(){if(this.__filtered__){var s=new et(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Ms(){var s=this.__wrapped__.value(),l=this.__dir__,g=tt(s),b=l<0,R=g?s.length:0,j=Ff(0,R,this.__views__),W=j.start,Z=j.end,ie=Z-W,pe=b?Z:W-1,me=this.__iteratees__,Ee=me.length,Ae=0,Ve=yn(ie,this.__takeCount__);if(!g||!b&&R==ie&&Ve==ie)return Bs(s,this.__actions__);var qe=[];e:for(;ie--&&Ae<Ve;){pe+=l;for(var st=-1,Ge=s[pe];++st<Ee;){var lt=me[st],ft=lt.iteratee,$r=lt.type,rr=ft(Ge);if($r==ne)Ge=rr;else if(!rr){if($r==$)continue e;break e}}qe[Ae++]=Ge}return qe}et.prototype=Ds(Yr.prototype),et.prototype.constructor=et;function $n(s){var l=-1,g=s==null?0:s.length;for(this.clear();++l<g;){var b=s[l];this.set(b[0],b[1])}}function Pt(){this.__data__=Ps?Ps(null):{},this.size=0}function Tt(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function Xi(s){var l=this.__data__;if(Ps){var g=l[s];return g===h?n:g}return ht.call(l,s)?l[s]:n}function xn(s){var l=this.__data__;return Ps?l[s]!==n:ht.call(l,s)}function Fn(s,l){var g=this.__data__;return this.size+=this.has(s)?0:1,g[s]=Ps&&l===n?h:l,this}$n.prototype.clear=Pt,$n.prototype.delete=Tt,$n.prototype.get=Xi,$n.prototype.has=xn,$n.prototype.set=Fn;function Pn(s){var l=-1,g=s==null?0:s.length;for(this.clear();++l<g;){var b=s[l];this.set(b[0],b[1])}}function Is(){this.__data__=[],this.size=0}function Vn(s){var l=this.__data__,g=Sn(l,s);if(g<0)return!1;var b=l.length-1;return g==b?l.pop():au.call(l,g,1),--this.size,!0}function pu(s){var l=this.__data__,g=Sn(l,s);return g<0?n:l[g][1]}function Dh(s){return Sn(this.__data__,s)>-1}function Mh(s,l){var g=this.__data__,b=Sn(g,s);return b<0?(++this.size,g.push([s,l])):g[b][1]=l,this}Pn.prototype.clear=Is,Pn.prototype.delete=Vn,Pn.prototype.get=pu,Pn.prototype.has=Dh,Pn.prototype.set=Mh;function ur(s){var l=-1,g=s==null?0:s.length;for(this.clear();++l<g;){var b=s[l];this.set(b[0],b[1])}}function Ih(){this.size=0,this.__data__={hash:new $n,map:new(Ro||Pn),string:new $n}}function mi(s){var l=Ja(this,s).delete(s);return this.size-=l?1:0,l}function mu(s){return Ja(this,s).get(s)}function df(s){return Ja(this,s).has(s)}function Lh(s,l){var g=Ja(this,s),b=g.size;return g.set(s,l),this.size+=g.size==b?0:1,this}ur.prototype.clear=Ih,ur.prototype.delete=mi,ur.prototype.get=mu,ur.prototype.has=df,ur.prototype.set=Lh;function Do(s){var l=-1,g=s==null?0:s.length;for(this.__data__=new ur;++l<g;)this.add(s[l])}function qi(s){return this.__data__.set(s,h),this}function Ls(s){return this.__data__.has(s)}Do.prototype.add=Do.prototype.push=qi,Do.prototype.has=Ls;function wn(s){var l=this.__data__=new Pn(s);this.size=l.size}function gu(){this.__data__=new Pn,this.size=0}function yu(s){var l=this.__data__,g=l.delete(s);return this.size=l.size,g}function cr(s){return this.__data__.get(s)}function fr(s){return this.__data__.has(s)}function Mo(s,l){var g=this.__data__;if(g instanceof Pn){var b=g.__data__;if(!Ro||b.length<a-1)return b.push([s,l]),this.size=++g.size,this;g=this.__data__=new ur(b)}return g.set(s,l),this.size=g.size,this}wn.prototype.clear=gu,wn.prototype.delete=yu,wn.prototype.get=cr,wn.prototype.has=fr,wn.prototype.set=Mo;function Xr(s,l){var g=tt(s),b=!g&&fl(s),R=!g&&!b&&Qs(s),j=!g&&!b&&!R&&sc(s),W=g||b||R||j,Z=W?nf(s.length,ug):[],ie=Z.length;for(var pe in s)(l||ht.call(s,pe))&&!(W&&(pe=="length"||R&&(pe=="offset"||pe=="parent")||j&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||Mt(pe,ie)))&&Z.push(pe);return Z}function qr(s){var l=s.length;return l?s[Fs(0,l-1)]:n}function Io(s,l){return Uu(An(s),gi(l,0,s.length))}function jh(s){return Uu(An(s))}function $a(s,l,g){(g!==n&&!ki(s[l],g)||g===n&&!(l in s))&&Gr(s,l,g)}function Lo(s,l,g){var b=s[l];(!(ht.call(s,l)&&ki(b,g))||g===n&&!(l in s))&&Gr(s,l,g)}function Sn(s,l){for(var g=s.length;g--;)if(ki(s[g][0],l))return g;return-1}function Jn(s,l,g,b){return Zr(s,function(R,j,W){l(b,R,g(R),W)}),b}function At(s,l){return s&&Ar(l,bn(l),s)}function Pr(s,l){return s&&Ar(l,wr(l),s)}function Gr(s,l,g){l=="__proto__"&&Ma?Ma(s,l,{configurable:!0,enumerable:!0,value:g,writable:!0}):s[l]=g}function vu(s,l){for(var g=-1,b=l.length,R=le(b),j=s==null;++g<b;)R[g]=j?n:Ig(s,l[g]);return R}function gi(s,l,g){return s===s&&(g!==n&&(s=s<=g?s:g),l!==n&&(s=s>=l?s:l)),s}function Bn(s,l,g,b,R,j){var W,Z=l&x,ie=l&v,pe=l&S;if(g&&(W=R?g(s,b,R,j):g(s)),W!==n)return W;if(!Ut(s))return s;var me=tt(s);if(me){if(W=tl(s),!Z)return An(s,W)}else{var Ee=hn(s),Ae=Ee==Ne||Ee==Pe;if(Qs(s))return Tf(s,Z);if(Ee==cn||Ee==we||Ae&&!R){if(W=ie||Ae?{}:pn(s),!Z)return ie?dg(s,Pr(W,s)):Ru(s,At(W,s))}else{if(!gt[Ee])return R?s:{};W=hg(s,Ee,Z)}}j||(j=new wn);var Ve=j.get(s);if(Ve)return Ve;j.set(s,W),Cv(s)?s.forEach(function(Ge){W.add(Bn(Ge,l,g,Ge,s,j))}):Ev(s)&&s.forEach(function(Ge,lt){W.set(lt,Bn(Ge,l,g,lt,s,j))});var qe=pe?ie?Za:Qa:ie?wr:bn,st=me?n:qe(s);return gn(st||s,function(Ge,lt){st&&(lt=Ge,Ge=s[lt]),Lo(W,lt,Bn(Ge,l,g,lt,s,j))}),W}function Oh(s){var l=bn(s);return function(g){return Fa(g,s,l)}}function Fa(s,l,g){var b=g.length;if(s==null)return!b;for(s=xt(s);b--;){var R=g[b],j=l[R],W=s[R];if(W===n&&!(R in s)||!j(W))return!1}return!0}function hf(s,l,g){if(typeof s!="function")throw new lr(c);return Xs(function(){s.apply(n,g)},l)}function Qr(s,l,g,b){var R=-1,j=Ql,W=!0,Z=s.length,ie=[],pe=l.length;if(!Z)return ie;g&&(l=kt(l,Gn(g))),b?(j=Gc,W=!1):l.length>=a&&(j=fi,W=!1,l=new Do(l));e:for(;++R<Z;){var me=s[R],Ee=g==null?me:g(me);if(me=b||me!==0?me:0,W&&Ee===Ee){for(var Ae=pe;Ae--;)if(l[Ae]===Ee)continue e;ie.push(me)}else j(l,Ee,b)||ie.push(me)}return ie}var Zr=gr(er),$h=gr(Gi,!0);function Va(s,l){var g=!0;return Zr(s,function(b,R,j){return g=!!l(b,R,j),g}),g}function jo(s,l,g){for(var b=-1,R=s.length;++b<R;){var j=s[b],W=l(j);if(W!=null&&(Z===n?W===W&&!Or(W):g(W,Z)))var Z=W,ie=j}return ie}function Fh(s,l,g,b){var R=s.length;for(g=ot(g),g<0&&(g=-g>R?0:R+g),b=b===n||b>R?R:ot(b),b<0&&(b+=R),b=g>b?0:Tv(b);g<b;)s[g++]=l;return s}function pf(s,l){var g=[];return Zr(s,function(b,R,j){l(b,R,j)&&g.push(b)}),g}function Vt(s,l,g,b,R){var j=-1,W=s.length;for(g||(g=Vu),R||(R=[]);++j<W;){var Z=s[j];l>0&&g(Z)?l>1?Vt(Z,l-1,g,b,R):zi(R,Z):b||(R[R.length]=Z)}return R}var xu=Mu(),Ba=Mu(!0);function er(s,l){return s&&xu(s,l,bn)}function Gi(s,l){return s&&Ba(s,l,bn)}function js(s,l){return Bi(l,function(g){return qo(s[g])})}function yi(s,l){l=ti(l,s);for(var g=0,b=l.length;s!=null&&g<b;)s=s[Ir(l[g++])];return g&&g==b?s:n}function wu(s,l,g){var b=l(s);return tt(s)?b:zi(b,g(s))}function fn(s){return s==null?s===n?yt:Et:Po&&Po in xt(s)?Fu(s):Bf(s)}function Qi(s,l){return s>l}function dr(s,l){return s!=null&&ht.call(s,l)}function Oo(s,l){return s!=null&&l in xt(s)}function mf(s,l,g){return s>=yn(l,g)&&s<qt(l,g)}function Su(s,l,g){for(var b=g?Gc:Ql,R=s[0].length,j=s.length,W=j,Z=le(j),ie=1/0,pe=[];W--;){var me=s[W];W&&l&&(me=kt(me,Gn(l))),ie=yn(me.length,ie),Z[W]=!g&&(l||R>=120&&me.length>=120)?new Do(W&&me):n}me=s[0];var Ee=-1,Ae=Z[0];e:for(;++Ee<R&&pe.length<ie;){var Ve=me[Ee],qe=l?l(Ve):Ve;if(Ve=g||Ve!==0?Ve:0,!(Ae?fi(Ae,qe):b(pe,qe,g))){for(W=j;--W;){var st=Z[W];if(!(st?fi(st,qe):b(s[W],qe,g)))continue e}Ae&&Ae.push(qe),pe.push(Ve)}}return pe}function vi(s,l,g,b){return er(s,function(R,j,W){l(b,g(R),j,W)}),b}function hr(s,l,g){l=ti(l,s),s=an(s,l);var b=s==null?s:s[Ir(Mn(l))];return b==null?n:Nn(b,s,g)}function _u(s){return Qt(s)&&fn(s)==we}function Vh(s){return Qt(s)&&fn(s)==Ft}function xi(s){return Qt(s)&&fn(s)==Re}function pr(s,l,g,b,R){return s===l?!0:s==null||l==null||!Qt(s)&&!Qt(l)?s!==s&&l!==l:Eu(s,l,g,b,pr,R)}function Eu(s,l,g,b,R,j){var W=tt(s),Z=tt(l),ie=W?ve:hn(s),pe=Z?ve:hn(l);ie=ie==we?cn:ie,pe=pe==we?cn:pe;var me=ie==cn,Ee=pe==cn,Ae=ie==pe;if(Ae&&Qs(s)){if(!Qs(l))return!1;W=!0,me=!1}if(Ae&&!me)return j||(j=new wn),W||sc(s)?Of(s,l,g,b,R,j):$f(s,l,ie,g,b,R,j);if(!(g&_)){var Ve=me&&ht.call(s,"__wrapped__"),qe=Ee&&ht.call(l,"__wrapped__");if(Ve||qe){var st=Ve?s.value():s,Ge=qe?l.value():l;return j||(j=new wn),R(st,Ge,g,b,j)}}return Ae?(j||(j=new wn),Qh(s,l,g,b,R,j)):!1}function Bh(s){return Qt(s)&&hn(s)==Ue}function Os(s,l,g,b){var R=g.length,j=R,W=!b;if(s==null)return!j;for(s=xt(s);R--;){var Z=g[R];if(W&&Z[2]?Z[1]!==s[Z[0]]:!(Z[0]in s))return!1}for(;++R<j;){Z=g[R];var ie=Z[0],pe=s[ie],me=Z[1];if(W&&Z[2]){if(pe===n&&!(ie in s))return!1}else{var Ee=new wn;if(b)var Ae=b(pe,me,ie,s,l,Ee);if(!(Ae===n?pr(me,pe,_|T,b,Ee):Ae))return!1}}return!0}function gf(s){if(!Ut(s)||ep(s))return!1;var l=qo(s)?Th:Ml;return l.test(to(s))}function za(s){return Qt(s)&&fn(s)==$e}function Jr(s){return Qt(s)&&hn(s)==be}function Ua(s){return Qt(s)&&xp(s.length)&&!!vt[fn(s)]}function $s(s){return typeof s=="function"?s:s==null?Sr:typeof s=="object"?tt(s)?Dt(s[0],s[1]):bu(s):$v(s)}function wi(s){if(!bi(s))return Ns(s);var l=[];for(var g in xt(s))ht.call(s,g)&&g!="constructor"&&l.push(g);return l}function yf(s){if(!Ut(s))return rp(s);var l=bi(s),g=[];for(var b in s)b=="constructor"&&(l||!ht.call(s,b))||g.push(b);return g}function Zi(s,l){return s<l}function vf(s,l){var g=-1,b=xr(s)?le(s.length):[];return Zr(s,function(R,j,W){b[++g]=l(R,j,W)}),b}function bu(s){var l=el(s);return l.length==1&&l[0][2]?Bu(l[0][0],l[0][1]):function(g){return g===s||Os(g,s,l)}}function Dt(s,l){return Ie(s)&&rl(l)?Bu(Ir(s),l):function(g){var b=Ig(g,s);return b===n&&b===l?Lg(g,s):pr(l,b,_|T)}}function $o(s,l,g,b,R){s!==l&&xu(l,function(j,W){if(R||(R=new wn),Ut(j))xf(s,l,W,g,$o,b,R);else{var Z=b?b(ii(s,W),j,W+"",s,l,R):n;Z===n&&(Z=j),$a(s,W,Z)}},wr)}function xf(s,l,g,b,R,j,W){var Z=ii(s,g),ie=ii(l,g),pe=W.get(ie);if(pe){$a(s,g,pe);return}var me=j?j(Z,ie,g+"",s,l,W):n,Ee=me===n;if(Ee){var Ae=tt(ie),Ve=!Ae&&Qs(ie),qe=!Ae&&!Ve&&sc(ie);me=ie,Ae||Ve||qe?tt(Z)?me=Z:tn(Z)?me=An(Z):Ve?(Ee=!1,me=Tf(ie,!0)):qe?(Ee=!1,me=Kh(ie,!0)):me=[]:od(ie)||fl(ie)?(me=Z,fl(Z)?me=Nv(Z):(!Ut(Z)||qo(Z))&&(me=pn(ie))):Ee=!1}Ee&&(W.set(ie,me),R(me,ie,b,j,W),W.delete(ie)),$a(s,g,me)}function Cu(s,l){var g=s.length;if(g)return l+=l<0?g:0,Mt(l,g)?s[l]:n}function Ha(s,l,g){l.length?l=kt(l,function(j){return tt(j)?function(W){return yi(W,j.length===1?j[0]:j)}:j}):l=[Sr];var b=-1;l=kt(l,Gn(He()));var R=vf(s,function(j,W,Z){var ie=kt(l,function(pe){return pe(j)});return{criteria:ie,index:++b,value:j}});return tg(R,function(j,W){return fg(j,W,g)})}function wf(s,l){return Ji(s,l,function(g,b){return Lg(s,b)})}function Ji(s,l,g){for(var b=-1,R=l.length,j={};++b<R;){var W=l[b],Z=yi(s,W);g(Z,W)&&Vo(j,ti(W,s),Z)}return j}function jt(s){return function(l){return yi(l,s)}}function Bt(s,l,g,b){var R=b?Jc:Ss,j=-1,W=l.length,Z=s;for(s===l&&(l=An(l)),g&&(Z=kt(s,Gn(g)));++j<W;)for(var ie=0,pe=l[j],me=g?g(pe):pe;(ie=R(Z,me,ie,b))>-1;)Z!==s&&au.call(Z,ie,1),au.call(s,ie,1);return s}function Jt(s,l){for(var g=s?l.length:0,b=g-1;g--;){var R=l[g];if(g==b||R!==j){var j=R;Mt(R)?au.call(s,R,1):Nu(s,R)}}return s}function Fs(s,l){return s+Hi(Ia()*(l-s+1))}function Wa(s,l,g,b){for(var R=-1,j=qt(Ao((l-s)/(g||1)),0),W=le(j);j--;)W[b?j:++R]=s,s+=g;return W}function Fo(s,l){var g="";if(!s||l<1||l>F)return g;do l%2&&(g+=s),l=Hi(l/2),l&&(s+=s);while(l);return g}function it(s,l){return tr(zu(s,l,Sr),s+"")}function _n(s){return qr(ac(s))}function Sf(s,l){var g=ac(s);return Uu(g,gi(l,0,g.length))}function Vo(s,l,g,b){if(!Ut(s))return s;l=ti(l,s);for(var R=-1,j=l.length,W=j-1,Z=s;Z!=null&&++R<j;){var ie=Ir(l[R]),pe=g;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return s;if(R!=W){var me=Z[ie];pe=b?b(me,ie,Z):n,pe===n&&(pe=Ut(me)?me:Mt(l[R+1])?[]:{})}Lo(Z,ie,pe),Z=Z[ie]}return s}var ku=fu?function(s,l){return fu.set(s,l),s}:Sr,ei=Ma?function(s,l){return Ma(s,"toString",{configurable:!0,enumerable:!1,value:Og(l),writable:!0})}:Sr;function mr(s){return Uu(ac(s))}function En(s,l,g){var b=-1,R=s.length;l<0&&(l=-l>R?0:R+l),g=g>R?R:g,g<0&&(g+=R),R=l>g?0:g-l>>>0,l>>>=0;for(var j=le(R);++b<R;)j[b]=s[b+l];return j}function _f(s,l){var g;return Zr(s,function(b,R,j){return g=l(b,R,j),!g}),!!g}function Vs(s,l,g){var b=0,R=s==null?b:s.length;if(typeof l=="number"&&l===l&&R<=ge){for(;b<R;){var j=b+R>>>1,W=s[j];W!==null&&!Or(W)&&(g?W<=l:W<l)?b=j+1:R=j}return R}return Tu(s,l,Sr,g)}function Tu(s,l,g,b){var R=0,j=s==null?0:s.length;if(j===0)return 0;l=g(l);for(var W=l!==l,Z=l===null,ie=Or(l),pe=l===n;R<j;){var me=Hi((R+j)/2),Ee=g(s[me]),Ae=Ee!==n,Ve=Ee===null,qe=Ee===Ee,st=Or(Ee);if(W)var Ge=b||qe;else pe?Ge=qe&&(b||Ae):Z?Ge=qe&&Ae&&(b||!Ve):ie?Ge=qe&&Ae&&!Ve&&(b||!st):Ve||st?Ge=!1:Ge=b?Ee<=l:Ee<l;Ge?R=me+1:j=me}return yn(j,J)}function Ef(s,l){for(var g=-1,b=s.length,R=0,j=[];++g<b;){var W=s[g],Z=l?l(W):W;if(!g||!ki(Z,ie)){var ie=Z;j[R++]=W===0?0:W}}return j}function bf(s){return typeof s=="number"?s:Or(s)?G:+s}function zn(s){if(typeof s=="string")return s;if(tt(s))return kt(s,zn)+"";if(Or(s))return du?du.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function Si(s,l,g){var b=-1,R=Ql,j=s.length,W=!0,Z=[],ie=Z;if(g)W=!1,R=Gc;else if(j>=a){var pe=l?null:Gh(s);if(pe)return Ui(pe);W=!1,R=fi,ie=new Do}else ie=l?[]:Z;e:for(;++b<j;){var me=s[b],Ee=l?l(me):me;if(me=g||me!==0?me:0,W&&Ee===Ee){for(var Ae=ie.length;Ae--;)if(ie[Ae]===Ee)continue e;l&&ie.push(Ee),Z.push(me)}else R(ie,Ee,g)||(ie!==Z&&ie.push(Ee),Z.push(me))}return Z}function Nu(s,l){return l=ti(l,s),s=an(s,l),s==null||delete s[Ir(Mn(l))]}function Cf(s,l,g,b){return Vo(s,l,g(yi(s,l)),b)}function Ka(s,l,g,b){for(var R=s.length,j=b?R:-1;(b?j--:++j<R)&&l(s[j],j,s););return g?En(s,b?0:j,b?j+1:R):En(s,b?j+1:0,b?R:j)}function Bs(s,l){var g=s;return g instanceof et&&(g=g.value()),Qc(l,function(b,R){return R.func.apply(R.thisArg,zi([b],R.args))},g)}function Pu(s,l,g){var b=s.length;if(b<2)return b?Si(s[0]):[];for(var R=-1,j=le(b);++R<b;)for(var W=s[R],Z=-1;++Z<b;)Z!=R&&(j[R]=Qr(j[R]||W,s[Z],l,g));return Si(Vt(j,1),l,g)}function Ya(s,l,g){for(var b=-1,R=s.length,j=l.length,W={};++b<R;){var Z=b<j?l[b]:n;g(W,s[b],Z)}return W}function zs(s){return tn(s)?s:[]}function Au(s){return typeof s=="function"?s:Sr}function ti(s,l){return tt(s)?s:Ie(s,l)?[s]:Hf(wt(s))}var zh=it;function _i(s,l,g){var b=s.length;return g=g===n?b:g,!l&&g>=b?s:En(s,l,g)}var kf=Ph||function(s){return Rt.clearTimeout(s)};function Tf(s,l){if(l)return s.slice();var g=s.length,b=af?af(g):new s.constructor(g);return s.copy(b),b}function Xa(s){var l=new s.constructor(s.byteLength);return new Da(l).set(new Da(s)),l}function Uh(s,l){var g=l?Xa(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.byteLength)}function Hh(s){var l=new s.constructor(s.source,xa.exec(s));return l.lastIndex=s.lastIndex,l}function Wh(s){return Zn?xt(Zn.call(s)):{}}function Kh(s,l){var g=l?Xa(s.buffer):s.buffer;return new s.constructor(g,s.byteOffset,s.length)}function Nf(s,l){if(s!==l){var g=s!==n,b=s===null,R=s===s,j=Or(s),W=l!==n,Z=l===null,ie=l===l,pe=Or(l);if(!Z&&!pe&&!j&&s>l||j&&W&&ie&&!Z&&!pe||b&&W&&ie||!g&&ie||!R)return 1;if(!b&&!j&&!pe&&s<l||pe&&g&&R&&!b&&!j||Z&&g&&R||!W&&R||!ie)return-1}return 0}function fg(s,l,g){for(var b=-1,R=s.criteria,j=l.criteria,W=R.length,Z=g.length;++b<W;){var ie=Nf(R[b],j[b]);if(ie){if(b>=Z)return ie;var pe=g[b];return ie*(pe=="desc"?-1:1)}}return s.index-l.index}function Yh(s,l,g,b){for(var R=-1,j=s.length,W=g.length,Z=-1,ie=l.length,pe=qt(j-W,0),me=le(ie+pe),Ee=!b;++Z<ie;)me[Z]=l[Z];for(;++R<W;)(Ee||R<j)&&(me[g[R]]=s[R]);for(;pe--;)me[Z++]=s[R++];return me}function Pf(s,l,g,b){for(var R=-1,j=s.length,W=-1,Z=g.length,ie=-1,pe=l.length,me=qt(j-Z,0),Ee=le(me+pe),Ae=!b;++R<me;)Ee[R]=s[R];for(var Ve=R;++ie<pe;)Ee[Ve+ie]=l[ie];for(;++W<Z;)(Ae||R<j)&&(Ee[Ve+g[W]]=s[R++]);return Ee}function An(s,l){var g=-1,b=s.length;for(l||(l=le(b));++g<b;)l[g]=s[g];return l}function Ar(s,l,g,b){var R=!g;g||(g={});for(var j=-1,W=l.length;++j<W;){var Z=l[j],ie=b?b(g[Z],s[Z],Z,g,s):n;ie===n&&(ie=s[Z]),R?Gr(g,Z,ie):Lo(g,Z,ie)}return g}function Ru(s,l){return Ar(s,Rr(s),l)}function dg(s,l){return Ar(s,Zh(s),l)}function Du(s,l){return function(g,b){var R=tt(g)?Xc:Jn,j=l?l():{};return R(g,s,He(b,2),j)}}function Us(s){return it(function(l,g){var b=-1,R=g.length,j=R>1?g[R-1]:n,W=R>2?g[2]:n;for(j=s.length>3&&typeof j=="function"?(R--,j):n,W&&Dn(g[0],g[1],W)&&(j=R<3?n:j,R=1),l=xt(l);++b<R;){var Z=g[b];Z&&s(l,Z,b,j)}return l})}function gr(s,l){return function(g,b){if(g==null)return g;if(!xr(g))return s(g,b);for(var R=g.length,j=l?R:-1,W=xt(g);(l?j--:++j<R)&&b(W[j],j,W)!==!1;);return g}}function Mu(s){return function(l,g,b){for(var R=-1,j=xt(l),W=b(l),Z=W.length;Z--;){var ie=W[s?Z:++R];if(g(j[ie],ie,j)===!1)break}return l}}function Iu(s,l,g){var b=l&N,R=Hs(s);function j(){var W=this&&this!==Rt&&this instanceof j?R:s;return W.apply(b?g:this,arguments)}return j}function Af(s){return function(l){l=wt(l);var g=Es(l)?Qn(l):n,b=g?g[0]:l.charAt(0),R=g?_i(g,1).join(""):l.slice(1);return b[s]()+R}}function Bo(s){return function(l){return Qc(jv(Lv(l).replace(Ym,"")),s,"")}}function Hs(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var g=Ds(s.prototype),b=s.apply(g,l);return Ut(b)?b:g}}function Rf(s,l,g){var b=Hs(s);function R(){for(var j=arguments.length,W=le(j),Z=j,ie=Ei(R);Z--;)W[Z]=arguments[Z];var pe=j<3&&W[0]!==ie&&W[j-1]!==ie?[]:ar(W,ie);if(j-=pe.length,j<g)return Rn(s,l,Ws,R.placeholder,n,W,pe,n,n,g-j);var me=this&&this!==Rt&&this instanceof R?b:s;return Nn(me,this,W)}return R}function zo(s){return function(l,g,b){var R=xt(l);if(!xr(l)){var j=He(g,3);l=bn(l),g=function(Z){return j(R[Z],Z,R)}}var W=s(l,g,b);return W>-1?R[j?l[W]:W]:n}}function Lu(s){return ri(function(l){var g=l.length,b=g,R=vn.prototype.thru;for(s&&l.reverse();b--;){var j=l[b];if(typeof j!="function")throw new lr(c);if(R&&!W&&Ks(j)=="wrapper")var W=new vn([],!0)}for(b=W?b:g;++b<g;){j=l[b];var Z=Ks(j),ie=Z=="wrapper"?$u(j):n;ie&&nl(ie[0])&&ie[1]==(O|A|B|z)&&!ie[4].length&&ie[9]==1?W=W[Ks(ie[0])].apply(W,ie[3]):W=j.length==1&&nl(j)?W[Z]():W.thru(j)}return function(){var pe=arguments,me=pe[0];if(W&&pe.length==1&&tt(me))return W.plant(me).value();for(var Ee=0,Ae=g?l[Ee].apply(this,pe):me;++Ee<g;)Ae=l[Ee].call(this,Ae);return Ae}})}function Ws(s,l,g,b,R,j,W,Z,ie,pe){var me=l&O,Ee=l&N,Ae=l&C,Ve=l&(A|L),qe=l&q,st=Ae?n:Hs(s);function Ge(){for(var lt=arguments.length,ft=le(lt),$r=lt;$r--;)ft[$r]=arguments[$r];if(Ve)var rr=Ei(Ge),Fr=xh(ft,rr);if(b&&(ft=Yh(ft,b,R,Ve)),j&&(ft=Pf(ft,j,W,Ve)),lt-=Fr,Ve&&lt<pe){var nn=ar(ft,rr);return Rn(s,l,Ws,Ge.placeholder,g,ft,nn,Z,ie,pe-lt)}var Ti=Ee?g:this,Qo=Ae?Ti[s]:s;return lt=ft.length,Z?ft=Dr(ft,Z):qe&&lt>1&&ft.reverse(),me&&ie<lt&&(ft.length=ie),this&&this!==Rt&&this instanceof Ge&&(Qo=st||Hs(Qo)),Qo.apply(Ti,ft)}return Ge}function Xh(s,l){return function(g,b){return vi(g,s,l(b),{})}}function qa(s,l){return function(g,b){var R;if(g===n&&b===n)return l;if(g!==n&&(R=g),b!==n){if(R===n)return b;typeof g=="string"||typeof b=="string"?(g=zn(g),b=zn(b)):(g=bf(g),b=bf(b)),R=s(g,b)}return R}}function ju(s){return ri(function(l){return l=kt(l,Gn(He())),it(function(g){var b=this;return s(l,function(R){return Nn(R,b,g)})})})}function Ga(s,l){l=l===n?" ":zn(l);var g=l.length;if(g<2)return g?Fo(l,s):l;var b=Fo(l,Ao(s/No(l)));return Es(l)?_i(Qn(b),0,s).join(""):b.slice(0,s)}function qh(s,l,g,b){var R=l&N,j=Hs(s);function W(){for(var Z=-1,ie=arguments.length,pe=-1,me=b.length,Ee=le(me+ie),Ae=this&&this!==Rt&&this instanceof W?j:s;++pe<me;)Ee[pe]=b[pe];for(;ie--;)Ee[pe++]=arguments[++Z];return Nn(Ae,R?g:this,Ee)}return W}function Df(s){return function(l,g,b){return b&&typeof b!="number"&&Dn(l,g,b)&&(g=b=n),l=Go(l),g===n?(g=l,l=0):g=Go(g),b=b===n?l<g?1:-1:Go(b),Wa(l,g,b,s)}}function Ou(s){return function(l,g){return typeof l=="string"&&typeof g=="string"||(l=oi(l),g=oi(g)),s(l,g)}}function Rn(s,l,g,b,R,j,W,Z,ie,pe){var me=l&A,Ee=me?W:n,Ae=me?n:W,Ve=me?j:n,qe=me?n:j;l|=me?B:X,l&=~(me?X:B),l&M||(l&=-4);var st=[s,l,R,Ve,Ee,qe,Ae,Z,ie,pe],Ge=g.apply(n,st);return nl(s)&&zf(Ge,st),Ge.placeholder=b,Uf(Ge,s,l)}function dn(s){var l=Xt[s];return function(g,b){if(g=oi(g),b=b==null?0:yn(ot(b),292),b&&Ts(g)){var R=(wt(g)+"e").split("e"),j=l(R[0]+"e"+(+R[1]+b));return R=(wt(j)+"e").split("e"),+(R[0]+"e"+(+R[1]-b))}return l(g)}}var Gh=Wi&&1/Ui(new Wi([,-0]))[1]==H?function(s){return new Wi(s)}:Vg;function Mf(s){return function(l){var g=hn(l);return g==Ue?eu(l):g==be?og(l):ng(l,s(l))}}function ni(s,l,g,b,R,j,W,Z){var ie=l&C;if(!ie&&typeof s!="function")throw new lr(c);var pe=b?b.length:0;if(pe||(l&=-97,b=R=n),W=W===n?W:qt(ot(W),0),Z=Z===n?Z:ot(Z),pe-=R?R.length:0,l&X){var me=b,Ee=R;b=R=n}var Ae=ie?n:$u(s),Ve=[s,l,g,b,R,me,Ee,j,W,Z];if(Ae&&np(Ve,Ae),s=Ve[0],l=Ve[1],g=Ve[2],b=Ve[3],R=Ve[4],Z=Ve[9]=Ve[9]===n?ie?0:s.length:qt(Ve[9]-pe,0),!Z&&l&(A|L)&&(l&=-25),!l||l==N)var qe=Iu(s,l,g);else l==A||l==L?qe=Rf(s,l,Z):(l==B||l==(N|B))&&!R.length?qe=qh(s,l,g,b):qe=Ws.apply(n,Ve);var st=Ae?ku:zf;return Uf(st(qe,Ve),s,l)}function If(s,l,g,b){return s===n||ki(s,Wr[g])&&!ht.call(b,g)?l:s}function Lf(s,l,g,b,R,j){return Ut(s)&&Ut(l)&&(j.set(l,s),$o(s,l,n,Lf,j),j.delete(l)),s}function jf(s){return od(s)?n:s}function Of(s,l,g,b,R,j){var W=g&_,Z=s.length,ie=l.length;if(Z!=ie&&!(W&&ie>Z))return!1;var pe=j.get(s),me=j.get(l);if(pe&&me)return pe==l&&me==s;var Ee=-1,Ae=!0,Ve=g&T?new Do:n;for(j.set(s,l),j.set(l,s);++Ee<Z;){var qe=s[Ee],st=l[Ee];if(b)var Ge=W?b(st,qe,Ee,l,s,j):b(qe,st,Ee,s,l,j);if(Ge!==n){if(Ge)continue;Ae=!1;break}if(Ve){if(!Zc(l,function(lt,ft){if(!fi(Ve,ft)&&(qe===lt||R(qe,lt,g,b,j)))return Ve.push(ft)})){Ae=!1;break}}else if(!(qe===st||R(qe,st,g,b,j))){Ae=!1;break}}return j.delete(s),j.delete(l),Ae}function $f(s,l,g,b,R,j,W){switch(g){case bt:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case Ft:return!(s.byteLength!=l.byteLength||!j(new Da(s),new Da(l)));case ke:case Re:case nt:return ki(+s,+l);case Ye:return s.name==l.name&&s.message==l.message;case $e:case Ze:return s==l+"";case Ue:var Z=eu;case be:var ie=b&_;if(Z||(Z=Ui),s.size!=l.size&&!ie)return!1;var pe=W.get(s);if(pe)return pe==l;b|=T,W.set(s,l);var me=Of(Z(s),Z(l),b,R,j,W);return W.delete(s),me;case Ke:if(Zn)return Zn.call(s)==Zn.call(l)}return!1}function Qh(s,l,g,b,R,j){var W=g&_,Z=Qa(s),ie=Z.length,pe=Qa(l),me=pe.length;if(ie!=me&&!W)return!1;for(var Ee=ie;Ee--;){var Ae=Z[Ee];if(!(W?Ae in l:ht.call(l,Ae)))return!1}var Ve=j.get(s),qe=j.get(l);if(Ve&&qe)return Ve==l&&qe==s;var st=!0;j.set(s,l),j.set(l,s);for(var Ge=W;++Ee<ie;){Ae=Z[Ee];var lt=s[Ae],ft=l[Ae];if(b)var $r=W?b(ft,lt,Ae,l,s,j):b(lt,ft,Ae,s,l,j);if(!($r===n?lt===ft||R(lt,ft,g,b,j):$r)){st=!1;break}Ge||(Ge=Ae=="constructor")}if(st&&!Ge){var rr=s.constructor,Fr=l.constructor;rr!=Fr&&"constructor"in s&&"constructor"in l&&!(typeof rr=="function"&&rr instanceof rr&&typeof Fr=="function"&&Fr instanceof Fr)&&(st=!1)}return j.delete(s),j.delete(l),st}function ri(s){return tr(zu(s,n,Wu),s+"")}function Qa(s){return wu(s,bn,Rr)}function Za(s){return wu(s,wr,Zh)}var $u=fu?function(s){return fu.get(s)}:Vg;function Ks(s){for(var l=s.name+"",g=As[l],b=ht.call(As,l)?g.length:0;b--;){var R=g[b],j=R.func;if(j==null||j==s)return R.name}return l}function Ei(s){var l=ht.call(I,"placeholder")?I:s;return l.placeholder}function He(){var s=I.iteratee||$g;return s=s===$g?$s:s,arguments.length?s(arguments[0],arguments[1]):s}function Ja(s,l){var g=s.__data__;return Ys(l)?g[typeof l=="string"?"string":"hash"]:g.map}function el(s){for(var l=bn(s),g=l.length;g--;){var b=l[g],R=s[b];l[g]=[b,R,rl(R)]}return l}function eo(s,l){var g=_s(s,l);return gf(g)?g:n}function Fu(s){var l=ht.call(s,Po),g=s[Po];try{s[Po]=n;var b=!0}catch{}var R=Aa.call(s);return b&&(l?s[Po]=g:delete s[Po]),R}var Rr=lu?function(s){return s==null?[]:(s=xt(s),Bi(lu(s),function(l){return su.call(s,l)}))}:Bg,Zh=lu?function(s){for(var l=[];s;)zi(l,Rr(s)),s=Nr(s);return l}:Bg,hn=fn;(La&&hn(new La(new ArrayBuffer(1)))!=bt||Ro&&hn(new Ro)!=Ue||ja&&hn(ja.resolve())!=li||Wi&&hn(new Wi)!=be||Oa&&hn(new Oa)!=St)&&(hn=function(s){var l=fn(s),g=l==cn?s.constructor:n,b=g?to(g):"";if(b)switch(b){case cf:return bt;case Ki:return Ue;case Rh:return li;case Rs:return be;case Kr:return St}return l});function Ff(s,l,g){for(var b=-1,R=g.length;++b<R;){var j=g[b],W=j.size;switch(j.type){case"drop":s+=W;break;case"dropRight":l-=W;break;case"take":l=yn(l,s+W);break;case"takeRight":s=qt(s,l-W);break}}return{start:s,end:l}}function Jh(s){var l=s.match(hs);return l?l[1].split(va):[]}function Vf(s,l,g){l=ti(l,s);for(var b=-1,R=l.length,j=!1;++b<R;){var W=Ir(l[b]);if(!(j=s!=null&&g(s,W)))break;s=s[W]}return j||++b!=R?j:(R=s==null?0:s.length,!!R&&xp(R)&&Mt(W,R)&&(tt(s)||fl(s)))}function tl(s){var l=s.length,g=new s.constructor(l);return l&&typeof s[0]=="string"&&ht.call(s,"index")&&(g.index=s.index,g.input=s.input),g}function pn(s){return typeof s.constructor=="function"&&!bi(s)?Ds(Nr(s)):{}}function hg(s,l,g){var b=s.constructor;switch(l){case Ft:return Xa(s);case ke:case Re:return new b(+s);case bt:return Uh(s,g);case Yt:case sn:case kn:case ua:case cs:case fs:case ca:case go:case yo:return Kh(s,g);case Ue:return new b;case nt:case Ze:return new b(s);case $e:return Hh(s);case be:return new b;case Ke:return Wh(s)}}function pg(s,l){var g=l.length;if(!g)return s;var b=g-1;return l[b]=(g>1?"& ":"")+l[b],l=l.join(g>2?", ":" "),s.replace(ds,`{
/* [wrapped with `+l+`] */
`)}function Vu(s){return tt(s)||fl(s)||!!(Nh&&s&&s[Nh])}function Mt(s,l){var g=typeof s;return l=l??F,!!l&&(g=="number"||g!="symbol"&&Ll.test(s))&&s>-1&&s%1==0&&s<l}function Dn(s,l,g){if(!Ut(g))return!1;var b=typeof l;return(b=="number"?xr(g)&&Mt(l,g.length):b=="string"&&l in g)?ki(g[l],s):!1}function Ie(s,l){if(tt(s))return!1;var g=typeof s;return g=="number"||g=="symbol"||g=="boolean"||s==null||Or(s)?!0:Al.test(s)||!ga.test(s)||l!=null&&s in xt(l)}function Ys(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function nl(s){var l=Ks(s),g=I[l];if(typeof g!="function"||!(l in et.prototype))return!1;if(s===g)return!0;var b=$u(g);return!!b&&s===b[0]}function ep(s){return!!ru&&ru in s}var mg=Cs?qo:zg;function bi(s){var l=s&&s.constructor,g=typeof l=="function"&&l.prototype||Wr;return s===g}function rl(s){return s===s&&!Ut(s)}function Bu(s,l){return function(g){return g==null?!1:g[s]===l&&(l!==n||s in xt(g))}}function tp(s){var l=ae(s,function(b){return g.size===m&&g.clear(),b}),g=l.cache;return l}function np(s,l){var g=s[1],b=l[1],R=g|b,j=R<(N|C|O),W=b==O&&g==A||b==O&&g==z&&s[7].length<=l[8]||b==(O|z)&&l[7].length<=l[8]&&g==A;if(!(j||W))return s;b&N&&(s[2]=l[2],R|=g&N?0:M);var Z=l[3];if(Z){var ie=s[3];s[3]=ie?Yh(ie,Z,l[4]):Z,s[4]=ie?ar(s[3],y):l[4]}return Z=l[5],Z&&(ie=s[5],s[5]=ie?Pf(ie,Z,l[6]):Z,s[6]=ie?ar(s[5],y):l[6]),Z=l[7],Z&&(s[7]=Z),b&O&&(s[8]=s[8]==null?l[8]:yn(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=R,s}function rp(s){var l=[];if(s!=null)for(var g in xt(s))l.push(g);return l}function Bf(s){return Aa.call(s)}function zu(s,l,g){return l=qt(l===n?s.length-1:l,0),function(){for(var b=arguments,R=-1,j=qt(b.length-l,0),W=le(j);++R<j;)W[R]=b[l+R];R=-1;for(var Z=le(l+1);++R<l;)Z[R]=b[R];return Z[l]=g(W),Nn(s,this,Z)}}function an(s,l){return l.length<2?s:yi(s,En(l,0,-1))}function Dr(s,l){for(var g=s.length,b=yn(l.length,g),R=An(s);b--;){var j=l[b];s[b]=Mt(j,g)?R[j]:n}return s}function ii(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var zf=Mr(ku),Xs=lf||function(s,l){return Rt.setTimeout(s,l)},tr=Mr(ei);function Uf(s,l,g){var b=l+"";return tr(s,pg(b,ip(Jh(b),g)))}function Mr(s){var l=0,g=0;return function(){var b=cg(),R=ue-(b-g);if(g=b,R>0){if(++l>=se)return arguments[0]}else l=0;return s.apply(n,arguments)}}function Uu(s,l){var g=-1,b=s.length,R=b-1;for(l=l===n?b:l;++g<l;){var j=Fs(g,R),W=s[j];s[j]=s[g],s[g]=W}return s.length=l,s}var Hf=tp(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(vo,function(g,b,R,j){l.push(R?j.replace(Rl,"$1"):b||g)}),l});function Ir(s){if(typeof s=="string"||Or(s))return s;var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}function to(s){if(s!=null){try{return Pa.call(s)}catch{}try{return s+""}catch{}}return""}function ip(s,l){return gn(ye,function(g){var b="_."+g[0];l&g[1]&&!Ql(s,b)&&s.push(b)}),s.sort()}function op(s){if(s instanceof et)return s.clone();var l=new vn(s.__wrapped__,s.__chain__);return l.__actions__=An(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function Hu(s,l,g){(g?Dn(s,l,g):l===n)?l=1:l=qt(ot(l),0);var b=s==null?0:s.length;if(!b||l<1)return[];for(var R=0,j=0,W=le(Ao(b/l));R<b;)W[j++]=En(s,R,R+=l);return W}function Wf(s){for(var l=-1,g=s==null?0:s.length,b=0,R=[];++l<g;){var j=s[l];j&&(R[b++]=j)}return R}function yr(){var s=arguments.length;if(!s)return[];for(var l=le(s-1),g=arguments[0],b=s;b--;)l[b-1]=arguments[b];return zi(tt(g)?An(g):[g],Vt(l,1))}var ct=it(function(s,l){return tn(s)?Qr(s,Vt(l,1,tn,!0)):[]}),ln=it(function(s,l){var g=Mn(l);return tn(g)&&(g=n),tn(s)?Qr(s,Vt(l,1,tn,!0),He(g,2)):[]}),Gt=it(function(s,l){var g=Mn(l);return tn(g)&&(g=n),tn(s)?Qr(s,Vt(l,1,tn,!0),n,g):[]});function mn(s,l,g){var b=s==null?0:s.length;return b?(l=g||l===n?1:ot(l),En(s,l<0?0:l,b)):[]}function nr(s,l,g){var b=s==null?0:s.length;return b?(l=g||l===n?1:ot(l),l=b-l,En(s,0,l<0?0:l)):[]}function qs(s,l){return s&&s.length?Ka(s,He(l,3),!0,!0):[]}function en(s,l){return s&&s.length?Ka(s,He(l,3),!0):[]}function il(s,l,g,b){var R=s==null?0:s.length;return R?(g&&typeof g!="number"&&Dn(s,l,g)&&(g=0,b=R),Fh(s,l,g,b)):[]}function no(s,l,g){var b=s==null?0:s.length;if(!b)return-1;var R=g==null?0:ot(g);return R<0&&(R=qt(b+R,0)),Zl(s,He(l,3),R)}function ol(s,l,g){var b=s==null?0:s.length;if(!b)return-1;var R=b-1;return g!==n&&(R=ot(g),R=g<0?qt(b+R,0):yn(R,b-1)),Zl(s,He(l,3),R,!0)}function Wu(s){var l=s==null?0:s.length;return l?Vt(s,1):[]}function sl(s){var l=s==null?0:s.length;return l?Vt(s,H):[]}function Un(s,l){var g=s==null?0:s.length;return g?(l=l===n?1:ot(l),Vt(s,l)):[]}function Kf(s){for(var l=-1,g=s==null?0:s.length,b={};++l<g;){var R=s[l];b[R[0]]=R[1]}return b}function Uo(s){return s&&s.length?s[0]:n}function Ci(s,l,g){var b=s==null?0:s.length;if(!b)return-1;var R=g==null?0:ot(g);return R<0&&(R=qt(b+R,0)),Ss(s,l,R)}function Ku(s){var l=s==null?0:s.length;return l?En(s,0,-1):[]}var Yf=it(function(s){var l=kt(s,zs);return l.length&&l[0]===s[0]?Su(l):[]}),ro=it(function(s){var l=Mn(s),g=kt(s,zs);return l===Mn(g)?l=n:g.pop(),g.length&&g[0]===s[0]?Su(g,He(l,2)):[]}),Yu=it(function(s){var l=Mn(s),g=kt(s,zs);return l=typeof l=="function"?l:n,l&&g.pop(),g.length&&g[0]===s[0]?Su(g,n,l):[]});function io(s,l){return s==null?"":uu.call(s,l)}function Mn(s){var l=s==null?0:s.length;return l?s[l-1]:n}function al(s,l,g){var b=s==null?0:s.length;if(!b)return-1;var R=b;return g!==n&&(R=ot(g),R=R<0?qt(b+R,0):yn(R,b-1)),l===l?sg(s,l,R):Zl(s,ph,R,!0)}function Xf(s,l){return s&&s.length?Cu(s,ot(l)):n}var Xu=it(ll);function ll(s,l){return s&&s.length&&l&&l.length?Bt(s,l):s}function In(s,l,g){return s&&s.length&&l&&l.length?Bt(s,l,He(g,2)):s}function oo(s,l,g){return s&&s.length&&l&&l.length?Bt(s,l,n,g):s}var Lr=ri(function(s,l){var g=s==null?0:s.length,b=vu(s,l);return Jt(s,kt(l,function(R){return Mt(R,g)?+R:R}).sort(Nf)),b});function Hn(s,l){var g=[];if(!(s&&s.length))return g;var b=-1,R=[],j=s.length;for(l=He(l,3);++b<j;){var W=s[b];l(W,b,s)&&(g.push(W),R.push(b))}return Jt(s,R),g}function qu(s){return s==null?s:cu.call(s)}function qf(s,l,g){var b=s==null?0:s.length;return b?(g&&typeof g!="number"&&Dn(s,l,g)?(l=0,g=b):(l=l==null?0:ot(l),g=g===n?b:ot(g)),En(s,l,g)):[]}function Gf(s,l){return Vs(s,l)}function gg(s,l,g){return Tu(s,l,He(g,2))}function so(s,l){var g=s==null?0:s.length;if(g){var b=Vs(s,l);if(b<g&&ki(s[b],l))return b}return-1}function sp(s,l){return Vs(s,l,!0)}function Qf(s,l,g){return Tu(s,l,He(g,2),!0)}function Ho(s,l){var g=s==null?0:s.length;if(g){var b=Vs(s,l,!0)-1;if(ki(s[b],l))return b}return-1}function Zf(s){return s&&s.length?Ef(s):[]}function Wo(s,l){return s&&s.length?Ef(s,He(l,2)):[]}function ap(s){var l=s==null?0:s.length;return l?En(s,1,l):[]}function lp(s,l,g){return s&&s.length?(l=g||l===n?1:ot(l),En(s,0,l<0?0:l)):[]}function Jf(s,l,g){var b=s==null?0:s.length;return b?(l=g||l===n?1:ot(l),l=b-l,En(s,l<0?0:l,b)):[]}function Gu(s,l){return s&&s.length?Ka(s,He(l,3),!1,!0):[]}function yg(s,l){return s&&s.length?Ka(s,He(l,3)):[]}var vg=it(function(s){return Si(Vt(s,1,tn,!0))}),up=it(function(s){var l=Mn(s);return tn(l)&&(l=n),Si(Vt(s,1,tn,!0),He(l,2))}),cp=it(function(s){var l=Mn(s);return l=typeof l=="function"?l:n,Si(Vt(s,1,tn,!0),n,l)});function Ko(s){return s&&s.length?Si(s):[]}function xg(s,l){return s&&s.length?Si(s,He(l,2)):[]}function Gs(s,l){return l=typeof l=="function"?l:n,s&&s.length?Si(s,n,l):[]}function Qu(s){if(!(s&&s.length))return[];var l=0;return s=Bi(s,function(g){if(tn(g))return l=qt(g.length,l),!0}),nf(l,function(g){return kt(s,ef(g))})}function Ot(s,l){if(!(s&&s.length))return[];var g=Qu(s);return l==null?g:kt(g,function(b){return Nn(l,n,b)})}var wg=it(function(s,l){return tn(s)?Qr(s,l):[]}),fp=it(function(s){return Pu(Bi(s,tn))}),Sg=it(function(s){var l=Mn(s);return tn(l)&&(l=n),Pu(Bi(s,tn),He(l,2))}),_g=it(function(s){var l=Mn(s);return l=typeof l=="function"?l:n,Pu(Bi(s,tn),n,l)}),dp=it(Qu);function hp(s,l){return Ya(s||[],l||[],Lo)}function Eg(s,l){return Ya(s||[],l||[],Vo)}var vr=it(function(s){var l=s.length,g=l>1?s[l-1]:n;return g=typeof g=="function"?(s.pop(),g):n,Ot(s,g)});function Zu(s){var l=I(s);return l.__chain__=!0,l}function bg(s,l){return l(s),s}function jr(s,l){return l(s)}var Ju=ri(function(s){var l=s.length,g=l?s[0]:0,b=this.__wrapped__,R=function(j){return vu(j,s)};return l>1||this.__actions__.length||!(b instanceof et)||!Mt(g)?this.thru(R):(b=b.slice(g,+g+(l?1:0)),b.__actions__.push({func:jr,args:[R],thisArg:n}),new vn(b,this.__chain__).thru(function(j){return l&&!j.length&&j.push(n),j}))});function Yo(){return Zu(this)}function ec(){return new vn(this.value(),this.__chain__)}function ed(){this.__values__===n&&(this.__values__=kv(this.value()));var s=this.__index__>=this.__values__.length,l=s?n:this.__values__[this.__index__++];return{done:s,value:l}}function td(){return this}function Cg(s){for(var l,g=this;g instanceof Yr;){var b=op(g);b.__index__=0,b.__values__=n,l?R.__wrapped__=b:l=b;var R=b;g=g.__wrapped__}return R.__wrapped__=s,l}function nd(){var s=this.__wrapped__;if(s instanceof et){var l=s;return this.__actions__.length&&(l=new et(this)),l=l.reverse(),l.__actions__.push({func:jr,args:[qu],thisArg:n}),new vn(l,this.__chain__)}return this.thru(qu)}function kg(){return Bs(this.__wrapped__,this.__actions__)}var pp=Du(function(s,l,g){ht.call(s,g)?++s[g]:Gr(s,g,1)});function mp(s,l,g){var b=tt(s)?qc:Va;return g&&Dn(s,l,g)&&(l=n),b(s,He(l,3))}function tc(s,l){var g=tt(s)?Bi:pf;return g(s,He(l,3))}var nc=zo(no),gp=zo(ol);function rd(s,l){return Vt(Xo(s,l),1)}function Tg(s,l){return Vt(Xo(s,l),H)}function yp(s,l,g){return g=g===n?1:ot(g),Vt(Xo(s,l),g)}function rc(s,l){var g=tt(s)?gn:Zr;return g(s,He(l,3))}function ul(s,l){var g=tt(s)?Gl:$h;return g(s,He(l,3))}var id=Du(function(s,l,g){ht.call(s,g)?s[g].push(l):Gr(s,g,[l])});function ic(s,l,g,b){s=xr(s)?s:ac(s),g=g&&!b?ot(g):0;var R=s.length;return g<0&&(g=qt(R+g,0)),wp(s)?g<=R&&s.indexOf(l,g)>-1:!!R&&Ss(s,l,g)>-1}var vp=it(function(s,l,g){var b=-1,R=typeof l=="function",j=xr(s)?le(s.length):[];return Zr(s,function(W){j[++b]=R?Nn(l,W,g):hr(W,l,g)}),j}),Ng=Du(function(s,l,g){Gr(s,g,l)});function Xo(s,l){var g=tt(s)?kt:vf;return g(s,He(l,3))}function Pg(s,l,g,b){return s==null?[]:(tt(l)||(l=l==null?[]:[l]),g=b?n:g,tt(g)||(g=g==null?[]:[g]),Ha(s,l,g))}var cl=Du(function(s,l,g){s[g?0:1].push(l)},function(){return[[],[]]});function Ag(s,l,g){var b=tt(s)?Qc:gh,R=arguments.length<3;return b(s,He(l,4),g,R,Zr)}function oc(s,l,g){var b=tt(s)?Zm:gh,R=arguments.length<3;return b(s,He(l,4),g,R,$h)}function r(s,l){var g=tt(s)?Bi:pf;return g(s,Te(He(l,3)))}function i(s){var l=tt(s)?qr:_n;return l(s)}function f(s,l,g){(g?Dn(s,l,g):l===n)?l=1:l=ot(l);var b=tt(s)?Io:Sf;return b(s,l)}function p(s){var l=tt(s)?jh:mr;return l(s)}function w(s){if(s==null)return 0;if(xr(s))return wp(s)?No(s):s.length;var l=hn(s);return l==Ue||l==be?s.size:wi(s).length}function E(s,l,g){var b=tt(s)?Zc:_f;return g&&Dn(s,l,g)&&(l=n),b(s,He(l,3))}var D=it(function(s,l){if(s==null)return[];var g=l.length;return g>1&&Dn(s,l[0],l[1])?l=[]:g>2&&Dn(l[0],l[1],l[2])&&(l=[l[0]]),Ha(s,Vt(l,1),[])}),U=Nt||function(){return Rt.Date.now()};function Q(s,l){if(typeof l!="function")throw new lr(c);return s=ot(s),function(){if(--s<1)return l.apply(this,arguments)}}function ce(s,l,g){return l=g?n:l,l=s&&l==null?s.length:l,ni(s,O,n,n,n,n,l)}function Se(s,l){var g;if(typeof l!="function")throw new lr(c);return s=ot(s),function(){return--s>0&&(g=l.apply(this,arguments)),s<=1&&(l=n),g}}var Ce=it(function(s,l,g){var b=N;if(g.length){var R=ar(g,Ei(Ce));b|=B}return ni(s,b,l,g,R)}),xe=it(function(s,l,g){var b=N|C;if(g.length){var R=ar(g,Ei(xe));b|=B}return ni(l,b,s,g,R)});function Me(s,l,g){l=g?n:l;var b=ni(s,A,n,n,n,n,n,l);return b.placeholder=Me.placeholder,b}function Le(s,l,g){l=g?n:l;var b=ni(s,L,n,n,n,n,n,l);return b.placeholder=Le.placeholder,b}function je(s,l,g){var b,R,j,W,Z,ie,pe=0,me=!1,Ee=!1,Ae=!0;if(typeof s!="function")throw new lr(c);l=oi(l)||0,Ut(g)&&(me=!!g.leading,Ee="maxWait"in g,j=Ee?qt(oi(g.maxWait)||0,l):j,Ae="trailing"in g?!!g.trailing:Ae);function Ve(nn){var Ti=b,Qo=R;return b=R=n,pe=nn,W=s.apply(Qo,Ti),W}function qe(nn){return pe=nn,Z=Xs(lt,l),me?Ve(nn):W}function st(nn){var Ti=nn-ie,Qo=nn-pe,Fv=l-Ti;return Ee?yn(Fv,j-Qo):Fv}function Ge(nn){var Ti=nn-ie,Qo=nn-pe;return ie===n||Ti>=l||Ti<0||Ee&&Qo>=j}function lt(){var nn=U();if(Ge(nn))return ft(nn);Z=Xs(lt,st(nn))}function ft(nn){return Z=n,Ae&&b?Ve(nn):(b=R=n,W)}function $r(){Z!==n&&kf(Z),pe=0,b=ie=R=Z=n}function rr(){return Z===n?W:ft(U())}function Fr(){var nn=U(),Ti=Ge(nn);if(b=arguments,R=this,ie=nn,Ti){if(Z===n)return qe(ie);if(Ee)return kf(Z),Z=Xs(lt,l),Ve(ie)}return Z===n&&(Z=Xs(lt,l)),W}return Fr.cancel=$r,Fr.flush=rr,Fr}var zt=it(function(s,l){return hf(s,1,l)}),oe=it(function(s,l,g){return hf(s,oi(l)||0,g)});function te(s){return ni(s,q)}function ae(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new lr(c);var g=function(){var b=arguments,R=l?l.apply(this,b):b[0],j=g.cache;if(j.has(R))return j.get(R);var W=s.apply(this,b);return g.cache=j.set(R,W)||j,W};return g.cache=new(ae.Cache||ur),g}ae.Cache=ur;function Te(s){if(typeof s!="function")throw new lr(c);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function Fe(s){return Se(2,s)}var ze=zh(function(s,l){l=l.length==1&&tt(l[0])?kt(l[0],Gn(He())):kt(Vt(l,1),Gn(He()));var g=l.length;return it(function(b){for(var R=-1,j=yn(b.length,g);++R<j;)b[R]=l[R].call(this,b[R]);return Nn(s,this,b)})}),Be=it(function(s,l){var g=ar(l,Ei(Be));return ni(s,B,n,l,g)}),Xe=it(function(s,l){var g=ar(l,Ei(Xe));return ni(s,X,n,l,g)}),un=ri(function(s,l){return ni(s,z,n,n,n,l)});function pt(s,l){if(typeof s!="function")throw new lr(c);return l=l===n?l:ot(l),it(s,l)}function ao(s,l){if(typeof s!="function")throw new lr(c);return l=l==null?0:qt(ot(l),0),it(function(g){var b=g[l],R=_i(g,0,l);return b&&zi(R,b),Nn(s,this,R)})}function Rg(s,l,g){var b=!0,R=!0;if(typeof s!="function")throw new lr(c);return Ut(g)&&(b="leading"in g?!!g.leading:b,R="trailing"in g?!!g.trailing:R),je(s,l,{leading:b,maxWait:l,trailing:R})}function hC(s){return ce(s,1)}function pC(s,l){return Be(Au(l),s)}function mC(){if(!arguments.length)return[];var s=arguments[0];return tt(s)?s:[s]}function gC(s){return Bn(s,S)}function yC(s,l){return l=typeof l=="function"?l:n,Bn(s,S,l)}function vC(s){return Bn(s,x|S)}function xC(s,l){return l=typeof l=="function"?l:n,Bn(s,x|S,l)}function wC(s,l){return l==null||Fa(s,l,bn(l))}function ki(s,l){return s===l||s!==s&&l!==l}var SC=Ou(Qi),_C=Ou(function(s,l){return s>=l}),fl=_u(function(){return arguments}())?_u:function(s){return Qt(s)&&ht.call(s,"callee")&&!su.call(s,"callee")},tt=le.isArray,EC=Yc?Gn(Yc):Vh;function xr(s){return s!=null&&xp(s.length)&&!qo(s)}function tn(s){return Qt(s)&&xr(s)}function bC(s){return s===!0||s===!1||Qt(s)&&fn(s)==ke}var Qs=uf||zg,CC=On?Gn(On):xi;function kC(s){return Qt(s)&&s.nodeType===1&&!od(s)}function TC(s){if(s==null)return!0;if(xr(s)&&(tt(s)||typeof s=="string"||typeof s.splice=="function"||Qs(s)||sc(s)||fl(s)))return!s.length;var l=hn(s);if(l==Ue||l==be)return!s.size;if(bi(s))return!wi(s).length;for(var g in s)if(ht.call(s,g))return!1;return!0}function NC(s,l){return pr(s,l)}function PC(s,l,g){g=typeof g=="function"?g:n;var b=g?g(s,l):n;return b===n?pr(s,l,n,g):!!b}function Dg(s){if(!Qt(s))return!1;var l=fn(s);return l==Ye||l==We||typeof s.message=="string"&&typeof s.name=="string"&&!od(s)}function AC(s){return typeof s=="number"&&Ts(s)}function qo(s){if(!Ut(s))return!1;var l=fn(s);return l==Ne||l==Pe||l==_e||l==or}function _v(s){return typeof s=="number"&&s==ot(s)}function xp(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=F}function Ut(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function Qt(s){return s!=null&&typeof s=="object"}var Ev=To?Gn(To):Bh;function RC(s,l){return s===l||Os(s,l,el(l))}function DC(s,l,g){return g=typeof g=="function"?g:n,Os(s,l,el(l),g)}function MC(s){return bv(s)&&s!=+s}function IC(s){if(mg(s))throw new Je(u);return gf(s)}function LC(s){return s===null}function jC(s){return s==null}function bv(s){return typeof s=="number"||Qt(s)&&fn(s)==nt}function od(s){if(!Qt(s)||fn(s)!=cn)return!1;var l=Nr(s);if(l===null)return!0;var g=ht.call(l,"constructor")&&l.constructor;return typeof g=="function"&&g instanceof g&&Pa.call(g)==iu}var Mg=ql?Gn(ql):za;function OC(s){return _v(s)&&s>=-9007199254740991&&s<=F}var Cv=ws?Gn(ws):Jr;function wp(s){return typeof s=="string"||!tt(s)&&Qt(s)&&fn(s)==Ze}function Or(s){return typeof s=="symbol"||Qt(s)&&fn(s)==Ke}var sc=fh?Gn(fh):Ua;function $C(s){return s===n}function FC(s){return Qt(s)&&hn(s)==St}function VC(s){return Qt(s)&&fn(s)==_t}var BC=Ou(Zi),zC=Ou(function(s,l){return s<=l});function kv(s){if(!s)return[];if(xr(s))return wp(s)?Qn(s):An(s);if(pi&&s[pi])return ig(s[pi]());var l=hn(s),g=l==Ue?eu:l==be?Ui:ac;return g(s)}function Go(s){if(!s)return s===0?s:0;if(s=oi(s),s===H||s===-1/0){var l=s<0?-1:1;return l*K}return s===s?s:0}function ot(s){var l=Go(s),g=l%1;return l===l?g?l-g:l:0}function Tv(s){return s?gi(ot(s),0,V):0}function oi(s){if(typeof s=="number")return s;if(Or(s))return G;if(Ut(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Ut(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=yh(s);var g=jc.test(s);return g||Il.test(s)?Yl(s.slice(2),g?2:8):Dl.test(s)?G:+s}function Nv(s){return Ar(s,wr(s))}function UC(s){return s?gi(ot(s),-9007199254740991,F):s===0?s:0}function wt(s){return s==null?"":zn(s)}var HC=Us(function(s,l){if(bi(l)||xr(l)){Ar(l,bn(l),s);return}for(var g in l)ht.call(l,g)&&Lo(s,g,l[g])}),Pv=Us(function(s,l){Ar(l,wr(l),s)}),Sp=Us(function(s,l,g,b){Ar(l,wr(l),s,b)}),WC=Us(function(s,l,g,b){Ar(l,bn(l),s,b)}),KC=ri(vu);function YC(s,l){var g=Ds(s);return l==null?g:At(g,l)}var XC=it(function(s,l){s=xt(s);var g=-1,b=l.length,R=b>2?l[2]:n;for(R&&Dn(l[0],l[1],R)&&(b=1);++g<b;)for(var j=l[g],W=wr(j),Z=-1,ie=W.length;++Z<ie;){var pe=W[Z],me=s[pe];(me===n||ki(me,Wr[pe])&&!ht.call(s,pe))&&(s[pe]=j[pe])}return s}),qC=it(function(s){return s.push(n,Lf),Nn(Av,n,s)});function GC(s,l){return hh(s,He(l,3),er)}function QC(s,l){return hh(s,He(l,3),Gi)}function ZC(s,l){return s==null?s:xu(s,He(l,3),wr)}function JC(s,l){return s==null?s:Ba(s,He(l,3),wr)}function e2(s,l){return s&&er(s,He(l,3))}function t2(s,l){return s&&Gi(s,He(l,3))}function n2(s){return s==null?[]:js(s,bn(s))}function r2(s){return s==null?[]:js(s,wr(s))}function Ig(s,l,g){var b=s==null?n:yi(s,l);return b===n?g:b}function i2(s,l){return s!=null&&Vf(s,l,dr)}function Lg(s,l){return s!=null&&Vf(s,l,Oo)}var o2=Xh(function(s,l,g){l!=null&&typeof l.toString!="function"&&(l=Aa.call(l)),s[l]=g},Og(Sr)),s2=Xh(function(s,l,g){l!=null&&typeof l.toString!="function"&&(l=Aa.call(l)),ht.call(s,l)?s[l].push(g):s[l]=[g]},He),a2=it(hr);function bn(s){return xr(s)?Xr(s):wi(s)}function wr(s){return xr(s)?Xr(s,!0):yf(s)}function l2(s,l){var g={};return l=He(l,3),er(s,function(b,R,j){Gr(g,l(b,R,j),b)}),g}function u2(s,l){var g={};return l=He(l,3),er(s,function(b,R,j){Gr(g,R,l(b,R,j))}),g}var c2=Us(function(s,l,g){$o(s,l,g)}),Av=Us(function(s,l,g,b){$o(s,l,g,b)}),f2=ri(function(s,l){var g={};if(s==null)return g;var b=!1;l=kt(l,function(j){return j=ti(j,s),b||(b=j.length>1),j}),Ar(s,Za(s),g),b&&(g=Bn(g,x|v|S,jf));for(var R=l.length;R--;)Nu(g,l[R]);return g});function d2(s,l){return Rv(s,Te(He(l)))}var h2=ri(function(s,l){return s==null?{}:wf(s,l)});function Rv(s,l){if(s==null)return{};var g=kt(Za(s),function(b){return[b]});return l=He(l),Ji(s,g,function(b,R){return l(b,R[0])})}function p2(s,l,g){l=ti(l,s);var b=-1,R=l.length;for(R||(R=1,s=n);++b<R;){var j=s==null?n:s[Ir(l[b])];j===n&&(b=R,j=g),s=qo(j)?j.call(s):j}return s}function m2(s,l,g){return s==null?s:Vo(s,l,g)}function g2(s,l,g,b){return b=typeof b=="function"?b:n,s==null?s:Vo(s,l,g,b)}var Dv=Mf(bn),Mv=Mf(wr);function y2(s,l,g){var b=tt(s),R=b||Qs(s)||sc(s);if(l=He(l,4),g==null){var j=s&&s.constructor;R?g=b?new j:[]:Ut(s)?g=qo(j)?Ds(Nr(s)):{}:g={}}return(R?gn:er)(s,function(W,Z,ie){return l(g,W,Z,ie)}),g}function v2(s,l){return s==null?!0:Nu(s,l)}function x2(s,l,g){return s==null?s:Cf(s,l,Au(g))}function w2(s,l,g,b){return b=typeof b=="function"?b:n,s==null?s:Cf(s,l,Au(g),b)}function ac(s){return s==null?[]:Ta(s,bn(s))}function S2(s){return s==null?[]:Ta(s,wr(s))}function _2(s,l,g){return g===n&&(g=l,l=n),g!==n&&(g=oi(g),g=g===g?g:0),l!==n&&(l=oi(l),l=l===l?l:0),gi(oi(s),l,g)}function E2(s,l,g){return l=Go(l),g===n?(g=l,l=0):g=Go(g),s=oi(s),mf(s,l,g)}function b2(s,l,g){if(g&&typeof g!="boolean"&&Dn(s,l,g)&&(l=g=n),g===n&&(typeof l=="boolean"?(g=l,l=n):typeof s=="boolean"&&(g=s,s=n)),s===n&&l===n?(s=0,l=1):(s=Go(s),l===n?(l=s,s=0):l=Go(l)),s>l){var b=s;s=l,l=b}if(g||s%1||l%1){var R=Ia();return yn(s+R*(l-s+Wc("1e-"+((R+"").length-1))),l)}return Fs(s,l)}var C2=Bo(function(s,l,g){return l=l.toLowerCase(),s+(g?Iv(l):l)});function Iv(s){return jg(wt(s).toLowerCase())}function Lv(s){return s=wt(s),s&&s.replace(jl,wh).replace(ah,"")}function k2(s,l,g){s=wt(s),l=zn(l);var b=s.length;g=g===n?b:gi(ot(g),0,b);var R=g;return g-=l.length,g>=0&&s.slice(g,R)==l}function T2(s){return s=wt(s),s&&pa.test(s)?s.replace(ci,Sh):s}function N2(s){return s=wt(s),s&&wo.test(s)?s.replace(xo,"\\$&"):s}var P2=Bo(function(s,l,g){return s+(g?"-":"")+l.toLowerCase()}),A2=Bo(function(s,l,g){return s+(g?" ":"")+l.toLowerCase()}),R2=Af("toLowerCase");function D2(s,l,g){s=wt(s),l=ot(l);var b=l?No(s):0;if(!l||b>=l)return s;var R=(l-b)/2;return Ga(Hi(R),g)+s+Ga(Ao(R),g)}function M2(s,l,g){s=wt(s),l=ot(l);var b=l?No(s):0;return l&&b<l?s+Ga(l-b,g):s}function I2(s,l,g){s=wt(s),l=ot(l);var b=l?No(s):0;return l&&b<l?Ga(l-b,g)+s:s}function L2(s,l,g){return g||l==null?l=0:l&&(l=+l),Ah(wt(s).replace(ya,""),l||0)}function j2(s,l,g){return(g?Dn(s,l,g):l===n)?l=1:l=ot(l),Fo(wt(s),l)}function O2(){var s=arguments,l=wt(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var $2=Bo(function(s,l,g){return s+(g?"_":"")+l.toLowerCase()});function F2(s,l,g){return g&&typeof g!="number"&&Dn(s,l,g)&&(l=g=n),g=g===n?V:g>>>0,g?(s=wt(s),s&&(typeof l=="string"||l!=null&&!Mg(l))&&(l=zn(l),!l&&Es(s))?_i(Qn(s),0,g):s.split(l,g)):[]}var V2=Bo(function(s,l,g){return s+(g?" ":"")+jg(l)});function B2(s,l,g){return s=wt(s),g=g==null?0:gi(ot(g),0,s.length),l=zn(l),s.slice(g,g+l.length)==l}function z2(s,l,g){var b=I.templateSettings;g&&Dn(s,l,g)&&(l=n),s=wt(s),l=Sp({},l,b,If);var R=Sp({},l.imports,b.imports,If),j=bn(R),W=Ta(R,j),Z,ie,pe=0,me=l.interpolate||_o,Ee="__p += '",Ae=Na((l.escape||_o).source+"|"+me.source+"|"+(me===ma?Ur:_o).source+"|"+(l.evaluate||_o).source+"|$","g"),Ve="//# sourceURL="+(ht.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qm+"]")+`
`;s.replace(Ae,function(Ge,lt,ft,$r,rr,Fr){return ft||(ft=$r),Ee+=s.slice(pe,Fr).replace(Oc,_h),lt&&(Z=!0,Ee+=`' +
__e(`+lt+`) +
'`),rr&&(ie=!0,Ee+=`';
`+rr+`;
__p += '`),ft&&(Ee+=`' +
((__t = (`+ft+`)) == null ? '' : __t) +
'`),pe=Fr+Ge.length,Ge}),Ee+=`';
`;var qe=ht.call(l,"variable")&&l.variable;if(!qe)Ee=`with (obj) {
`+Ee+`
}
`;else if(Lc.test(qe))throw new Je(d);Ee=(ie?Ee.replace(fa,""):Ee).replace(da,"$1").replace(ha,"$1;"),Ee="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var st=Ov(function(){return dt(j,Ve+"return "+Ee).apply(n,W)});if(st.source=Ee,Dg(st))throw st;return st}function U2(s){return wt(s).toLowerCase()}function H2(s){return wt(s).toUpperCase()}function W2(s,l,g){if(s=wt(s),s&&(g||l===n))return yh(s);if(!s||!(l=zn(l)))return s;var b=Qn(s),R=Qn(l),j=vh(b,R),W=rf(b,R)+1;return _i(b,j,W).join("")}function K2(s,l,g){if(s=wt(s),s&&(g||l===n))return s.slice(0,nu(s)+1);if(!s||!(l=zn(l)))return s;var b=Qn(s),R=rf(b,Qn(l))+1;return _i(b,0,R).join("")}function Y2(s,l,g){if(s=wt(s),s&&(g||l===n))return s.replace(ya,"");if(!s||!(l=zn(l)))return s;var b=Qn(s),R=vh(b,Qn(l));return _i(b,R).join("")}function X2(s,l){var g=ee,b=fe;if(Ut(l)){var R="separator"in l?l.separator:R;g="length"in l?ot(l.length):g,b="omission"in l?zn(l.omission):b}s=wt(s);var j=s.length;if(Es(s)){var W=Qn(s);j=W.length}if(g>=j)return s;var Z=g-No(b);if(Z<1)return b;var ie=W?_i(W,0,Z).join(""):s.slice(0,Z);if(R===n)return ie+b;if(W&&(Z+=ie.length-Z),Mg(R)){if(s.slice(Z).search(R)){var pe,me=ie;for(R.global||(R=Na(R.source,wt(xa.exec(R))+"g")),R.lastIndex=0;pe=R.exec(me);)var Ee=pe.index;ie=ie.slice(0,Ee===n?Z:Ee)}}else if(s.indexOf(zn(R),Z)!=Z){var Ae=ie.lastIndexOf(R);Ae>-1&&(ie=ie.slice(0,Ae))}return ie+b}function q2(s){return s=wt(s),s&&Tl.test(s)?s.replace(ui,Eh):s}var G2=Bo(function(s,l,g){return s+(g?" ":"")+l.toUpperCase()}),jg=Af("toUpperCase");function jv(s,l,g){return s=wt(s),l=g?n:l,l===n?rg(s)?ag(s):eg(s):s.match(l)||[]}var Ov=it(function(s,l){try{return Nn(s,n,l)}catch(g){return Dg(g)?g:new Je(g)}}),Q2=ri(function(s,l){return gn(l,function(g){g=Ir(g),Gr(s,g,Ce(s[g],s))}),s});function Z2(s){var l=s==null?0:s.length,g=He();return s=l?kt(s,function(b){if(typeof b[1]!="function")throw new lr(c);return[g(b[0]),b[1]]}):[],it(function(b){for(var R=-1;++R<l;){var j=s[R];if(Nn(j[0],this,b))return Nn(j[1],this,b)}})}function J2(s){return Oh(Bn(s,x))}function Og(s){return function(){return s}}function ek(s,l){return s==null||s!==s?l:s}var tk=Lu(),nk=Lu(!0);function Sr(s){return s}function $g(s){return $s(typeof s=="function"?s:Bn(s,x))}function rk(s){return bu(Bn(s,x))}function ik(s,l){return Dt(s,Bn(l,x))}var ok=it(function(s,l){return function(g){return hr(g,s,l)}}),sk=it(function(s,l){return function(g){return hr(s,g,l)}});function Fg(s,l,g){var b=bn(l),R=js(l,b);g==null&&!(Ut(l)&&(R.length||!b.length))&&(g=l,l=s,s=this,R=js(l,bn(l)));var j=!(Ut(g)&&"chain"in g)||!!g.chain,W=qo(s);return gn(R,function(Z){var ie=l[Z];s[Z]=ie,W&&(s.prototype[Z]=function(){var pe=this.__chain__;if(j||pe){var me=s(this.__wrapped__),Ee=me.__actions__=An(this.__actions__);return Ee.push({func:ie,args:arguments,thisArg:s}),me.__chain__=pe,me}return ie.apply(s,zi([this.value()],arguments))})}),s}function ak(){return Rt._===this&&(Rt._=kh),this}function Vg(){}function lk(s){return s=ot(s),it(function(l){return Cu(l,s)})}var uk=ju(kt),ck=ju(qc),fk=ju(Zc);function $v(s){return Ie(s)?ef(Ir(s)):jt(s)}function dk(s){return function(l){return s==null?n:yi(s,l)}}var hk=Df(),pk=Df(!0);function Bg(){return[]}function zg(){return!1}function mk(){return{}}function gk(){return""}function yk(){return!0}function vk(s,l){if(s=ot(s),s<1||s>F)return[];var g=V,b=yn(s,V);l=He(l),s-=V;for(var R=nf(b,l);++g<s;)l(g);return R}function xk(s){return tt(s)?kt(s,Ir):Or(s)?[s]:An(Hf(wt(s)))}function wk(s){var l=++ks;return wt(s)+l}var Sk=qa(function(s,l){return s+l},0),_k=dn("ceil"),Ek=qa(function(s,l){return s/l},1),bk=dn("floor");function Ck(s){return s&&s.length?jo(s,Sr,Qi):n}function kk(s,l){return s&&s.length?jo(s,He(l,2),Qi):n}function Tk(s){return mh(s,Sr)}function Nk(s,l){return mh(s,He(l,2))}function Pk(s){return s&&s.length?jo(s,Sr,Zi):n}function Ak(s,l){return s&&s.length?jo(s,He(l,2),Zi):n}var Rk=qa(function(s,l){return s*l},1),Dk=dn("round"),Mk=qa(function(s,l){return s-l},0);function Ik(s){return s&&s.length?tf(s,Sr):0}function Lk(s,l){return s&&s.length?tf(s,He(l,2)):0}return I.after=Q,I.ary=ce,I.assign=HC,I.assignIn=Pv,I.assignInWith=Sp,I.assignWith=WC,I.at=KC,I.before=Se,I.bind=Ce,I.bindAll=Q2,I.bindKey=xe,I.castArray=mC,I.chain=Zu,I.chunk=Hu,I.compact=Wf,I.concat=yr,I.cond=Z2,I.conforms=J2,I.constant=Og,I.countBy=pp,I.create=YC,I.curry=Me,I.curryRight=Le,I.debounce=je,I.defaults=XC,I.defaultsDeep=qC,I.defer=zt,I.delay=oe,I.difference=ct,I.differenceBy=ln,I.differenceWith=Gt,I.drop=mn,I.dropRight=nr,I.dropRightWhile=qs,I.dropWhile=en,I.fill=il,I.filter=tc,I.flatMap=rd,I.flatMapDeep=Tg,I.flatMapDepth=yp,I.flatten=Wu,I.flattenDeep=sl,I.flattenDepth=Un,I.flip=te,I.flow=tk,I.flowRight=nk,I.fromPairs=Kf,I.functions=n2,I.functionsIn=r2,I.groupBy=id,I.initial=Ku,I.intersection=Yf,I.intersectionBy=ro,I.intersectionWith=Yu,I.invert=o2,I.invertBy=s2,I.invokeMap=vp,I.iteratee=$g,I.keyBy=Ng,I.keys=bn,I.keysIn=wr,I.map=Xo,I.mapKeys=l2,I.mapValues=u2,I.matches=rk,I.matchesProperty=ik,I.memoize=ae,I.merge=c2,I.mergeWith=Av,I.method=ok,I.methodOf=sk,I.mixin=Fg,I.negate=Te,I.nthArg=lk,I.omit=f2,I.omitBy=d2,I.once=Fe,I.orderBy=Pg,I.over=uk,I.overArgs=ze,I.overEvery=ck,I.overSome=fk,I.partial=Be,I.partialRight=Xe,I.partition=cl,I.pick=h2,I.pickBy=Rv,I.property=$v,I.propertyOf=dk,I.pull=Xu,I.pullAll=ll,I.pullAllBy=In,I.pullAllWith=oo,I.pullAt=Lr,I.range=hk,I.rangeRight=pk,I.rearg=un,I.reject=r,I.remove=Hn,I.rest=pt,I.reverse=qu,I.sampleSize=f,I.set=m2,I.setWith=g2,I.shuffle=p,I.slice=qf,I.sortBy=D,I.sortedUniq=Zf,I.sortedUniqBy=Wo,I.split=F2,I.spread=ao,I.tail=ap,I.take=lp,I.takeRight=Jf,I.takeRightWhile=Gu,I.takeWhile=yg,I.tap=bg,I.throttle=Rg,I.thru=jr,I.toArray=kv,I.toPairs=Dv,I.toPairsIn=Mv,I.toPath=xk,I.toPlainObject=Nv,I.transform=y2,I.unary=hC,I.union=vg,I.unionBy=up,I.unionWith=cp,I.uniq=Ko,I.uniqBy=xg,I.uniqWith=Gs,I.unset=v2,I.unzip=Qu,I.unzipWith=Ot,I.update=x2,I.updateWith=w2,I.values=ac,I.valuesIn=S2,I.without=wg,I.words=jv,I.wrap=pC,I.xor=fp,I.xorBy=Sg,I.xorWith=_g,I.zip=dp,I.zipObject=hp,I.zipObjectDeep=Eg,I.zipWith=vr,I.entries=Dv,I.entriesIn=Mv,I.extend=Pv,I.extendWith=Sp,Fg(I,I),I.add=Sk,I.attempt=Ov,I.camelCase=C2,I.capitalize=Iv,I.ceil=_k,I.clamp=_2,I.clone=gC,I.cloneDeep=vC,I.cloneDeepWith=xC,I.cloneWith=yC,I.conformsTo=wC,I.deburr=Lv,I.defaultTo=ek,I.divide=Ek,I.endsWith=k2,I.eq=ki,I.escape=T2,I.escapeRegExp=N2,I.every=mp,I.find=nc,I.findIndex=no,I.findKey=GC,I.findLast=gp,I.findLastIndex=ol,I.findLastKey=QC,I.floor=bk,I.forEach=rc,I.forEachRight=ul,I.forIn=ZC,I.forInRight=JC,I.forOwn=e2,I.forOwnRight=t2,I.get=Ig,I.gt=SC,I.gte=_C,I.has=i2,I.hasIn=Lg,I.head=Uo,I.identity=Sr,I.includes=ic,I.indexOf=Ci,I.inRange=E2,I.invoke=a2,I.isArguments=fl,I.isArray=tt,I.isArrayBuffer=EC,I.isArrayLike=xr,I.isArrayLikeObject=tn,I.isBoolean=bC,I.isBuffer=Qs,I.isDate=CC,I.isElement=kC,I.isEmpty=TC,I.isEqual=NC,I.isEqualWith=PC,I.isError=Dg,I.isFinite=AC,I.isFunction=qo,I.isInteger=_v,I.isLength=xp,I.isMap=Ev,I.isMatch=RC,I.isMatchWith=DC,I.isNaN=MC,I.isNative=IC,I.isNil=jC,I.isNull=LC,I.isNumber=bv,I.isObject=Ut,I.isObjectLike=Qt,I.isPlainObject=od,I.isRegExp=Mg,I.isSafeInteger=OC,I.isSet=Cv,I.isString=wp,I.isSymbol=Or,I.isTypedArray=sc,I.isUndefined=$C,I.isWeakMap=FC,I.isWeakSet=VC,I.join=io,I.kebabCase=P2,I.last=Mn,I.lastIndexOf=al,I.lowerCase=A2,I.lowerFirst=R2,I.lt=BC,I.lte=zC,I.max=Ck,I.maxBy=kk,I.mean=Tk,I.meanBy=Nk,I.min=Pk,I.minBy=Ak,I.stubArray=Bg,I.stubFalse=zg,I.stubObject=mk,I.stubString=gk,I.stubTrue=yk,I.multiply=Rk,I.nth=Xf,I.noConflict=ak,I.noop=Vg,I.now=U,I.pad=D2,I.padEnd=M2,I.padStart=I2,I.parseInt=L2,I.random=b2,I.reduce=Ag,I.reduceRight=oc,I.repeat=j2,I.replace=O2,I.result=p2,I.round=Dk,I.runInContext=re,I.sample=i,I.size=w,I.snakeCase=$2,I.some=E,I.sortedIndex=Gf,I.sortedIndexBy=gg,I.sortedIndexOf=so,I.sortedLastIndex=sp,I.sortedLastIndexBy=Qf,I.sortedLastIndexOf=Ho,I.startCase=V2,I.startsWith=B2,I.subtract=Mk,I.sum=Ik,I.sumBy=Lk,I.template=z2,I.times=vk,I.toFinite=Go,I.toInteger=ot,I.toLength=Tv,I.toLower=U2,I.toNumber=oi,I.toSafeInteger=UC,I.toString=wt,I.toUpper=H2,I.trim=W2,I.trimEnd=K2,I.trimStart=Y2,I.truncate=X2,I.unescape=q2,I.uniqueId=wk,I.upperCase=G2,I.upperFirst=jg,I.each=rc,I.eachRight=ul,I.first=Uo,Fg(I,function(){var s={};return er(I,function(l,g){ht.call(I.prototype,g)||(s[g]=l)}),s}(),{chain:!1}),I.VERSION=o,gn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){I[s].placeholder=I}),gn(["drop","take"],function(s,l){et.prototype[s]=function(g){g=g===n?1:qt(ot(g),0);var b=this.__filtered__&&!l?new et(this):this.clone();return b.__filtered__?b.__takeCount__=yn(g,b.__takeCount__):b.__views__.push({size:yn(g,V),type:s+(b.__dir__<0?"Right":"")}),b},et.prototype[s+"Right"]=function(g){return this.reverse()[s](g).reverse()}}),gn(["filter","map","takeWhile"],function(s,l){var g=l+1,b=g==$||g==Y;et.prototype[s]=function(R){var j=this.clone();return j.__iteratees__.push({iteratee:He(R,3),type:g}),j.__filtered__=j.__filtered__||b,j}}),gn(["head","last"],function(s,l){var g="take"+(l?"Right":"");et.prototype[s]=function(){return this[g](1).value()[0]}}),gn(["initial","tail"],function(s,l){var g="drop"+(l?"":"Right");et.prototype[s]=function(){return this.__filtered__?new et(this):this[g](1)}}),et.prototype.compact=function(){return this.filter(Sr)},et.prototype.find=function(s){return this.filter(s).head()},et.prototype.findLast=function(s){return this.reverse().find(s)},et.prototype.invokeMap=it(function(s,l){return typeof s=="function"?new et(this):this.map(function(g){return hr(g,s,l)})}),et.prototype.reject=function(s){return this.filter(Te(He(s)))},et.prototype.slice=function(s,l){s=ot(s);var g=this;return g.__filtered__&&(s>0||l<0)?new et(g):(s<0?g=g.takeRight(-s):s&&(g=g.drop(s)),l!==n&&(l=ot(l),g=l<0?g.dropRight(-l):g.take(l-s)),g)},et.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},et.prototype.toArray=function(){return this.take(V)},er(et.prototype,function(s,l){var g=/^(?:filter|find|map|reject)|While$/.test(l),b=/^(?:head|last)$/.test(l),R=I[b?"take"+(l=="last"?"Right":""):l],j=b||/^find/.test(l);R&&(I.prototype[l]=function(){var W=this.__wrapped__,Z=b?[1]:arguments,ie=W instanceof et,pe=Z[0],me=ie||tt(W),Ee=function(lt){var ft=R.apply(I,zi([lt],Z));return b&&Ae?ft[0]:ft};me&&g&&typeof pe=="function"&&pe.length!=1&&(ie=me=!1);var Ae=this.__chain__,Ve=!!this.__actions__.length,qe=j&&!Ae,st=ie&&!Ve;if(!j&&me){W=st?W:new et(this);var Ge=s.apply(W,Z);return Ge.__actions__.push({func:jr,args:[Ee],thisArg:n}),new vn(Ge,Ae)}return qe&&st?s.apply(this,Z):(Ge=this.thru(Ee),qe?b?Ge.value()[0]:Ge.value():Ge)})}),gn(["pop","push","shift","sort","splice","unshift"],function(s){var l=di[s],g=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",b=/^(?:pop|shift)$/.test(s);I.prototype[s]=function(){var R=arguments;if(b&&!this.__chain__){var j=this.value();return l.apply(tt(j)?j:[],R)}return this[g](function(W){return l.apply(tt(W)?W:[],R)})}}),er(et.prototype,function(s,l){var g=I[l];if(g){var b=g.name+"";ht.call(As,b)||(As[b]=[]),As[b].push({name:l,func:g})}}),As[Ws(n,C).name]=[{name:"wrapper",func:n}],et.prototype.clone=hu,et.prototype.reverse=ff,et.prototype.value=Ms,I.prototype.at=Ju,I.prototype.chain=Yo,I.prototype.commit=ec,I.prototype.next=ed,I.prototype.plant=Cg,I.prototype.reverse=nd,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=kg,I.prototype.first=I.prototype.head,pi&&(I.prototype[pi]=td),I},bs=lg();Hr?((Hr.exports=bs)._=bs,ka._=bs):Rt._=bs}).call(eF)}(vd,vd.exports)),vd.exports}var nF=tF();const Ln=[];for(let e=0;e<256;++e)Ln.push((e+256).toString(16).slice(1));function rF(e,t=0){return(Ln[e[t+0]]+Ln[e[t+1]]+Ln[e[t+2]]+Ln[e[t+3]]+"-"+Ln[e[t+4]]+Ln[e[t+5]]+"-"+Ln[e[t+6]]+Ln[e[t+7]]+"-"+Ln[e[t+8]]+Ln[e[t+9]]+"-"+Ln[e[t+10]]+Ln[e[t+11]]+Ln[e[t+12]]+Ln[e[t+13]]+Ln[e[t+14]]+Ln[e[t+15]]).toLowerCase()}let b0;const iF=new Uint8Array(16);function oF(){if(!b0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b0=crypto.getRandomValues.bind(crypto)}return b0(iF)}const sF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F1={randomUUID:sF};function Cd(e,t,n){var a;if(F1.randomUUID&&!e)return F1.randomUUID();e=e||{};const o=e.random??((a=e.rng)==null?void 0:a.call(e))??oF();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,rF(o)}const lC=P.createContext(void 0),aF=({children:e})=>{const{loginStatus:t}=Li(),{canvasName:n,canvasID:o,quickSaveToBrowser:a,saveCanvas:u}=Km(),[c]=Mm(),d=c.get("user"),h=c.get("canvas"),[m,y]=P.useState([]),[x,v]=P.useState([]),[S,_]=P.useState({x:0,y:0,zoom:1}),T=P.useCallback(z=>{_(z)},[]),N=P.useCallback(()=>({nodes:m,edges:x,viewport:S}),[m,x,S]),C=P.useCallback(nF.debounce(z=>{t==="logged in"?u(z):a(z)},1e3),[u,a,t]),M=P.useCallback(z=>{v(q=>q.filter(ee=>ee.source!==z&&ee.target!==z)),y(q=>q.filter(ee=>ee.id!==z)),C(N())},[]),A=P.useCallback(z=>{if(z.length===0)return;const q=z.map(ue=>ue.content).join(" "),ee=z.reduce((ue,$)=>(ue.x+=$.position.x,ue.y+=$.position.y,ue),{x:0,y:0});ee.x/=z.length,ee.y/=z.length;const fe={x:ee.x,y:ee.y+210},se={id:`text-${Cd()}`,type:"text",position:fe,data:{content:q,words:sC(q),provenance:"user",intersections:[]}};z.forEach(ue=>{const $={id:`edge-${ue.id}-${se.id}`,source:ue.id,target:se.id,type:"default"};v(ne=>F0($,ne))}),y(ue=>ue.concat(se)),C(N())},[]),L=(z,q,ee)=>{const fe=ee.find(ue=>ue.id===z),se=ee.find(ue=>ue.id===q);if(fe&&se){const ue={id:`edge-${z}-${q}`,source:z,target:q,type:"default"};v($=>F0(ue,$))}},B=P.useCallback(z=>{y(q=>n_(z,q))},[y,a,N,d,h,t,o,n]),X=P.useCallback(z=>{const q=z.filter(ee=>ee.type!=="remove");v(ee=>r_(q,ee))},[v,a,N,d,h,t,o,n]),O=P.useCallback(z=>{v(z.reduce((q,ee)=>{const fe=MA(ee,m,x),se=DA(ee,m,x),ue=kS([ee],x),$=q.filter(Y=>!ue.includes(Y)),ne=fe.flatMap(({id:Y})=>se.map(({id:H})=>({id:`${Y}->${H}`,source:Y,target:H})));return[...$,...ne]},x)),y(q=>q.filter(ee=>!z.some(fe=>fe.id===ee.id)))},[m,x,o,n,u,N]);return P.useEffect(()=>{C(N())},[m,x,C,N]),k.jsx(lC.Provider,{value:{nodes:m,edges:x,currentViewport:S,setNodes:y,setEdges:v,drawEdge:L,mergeNodes:A,onNodesDelete:O,handleOnEdgesChange:X,handleOnNodesChange:B,canvasToObject:N,saveCurrentViewport:T,deleteNodeById:M},children:e})},Mc=()=>{const e=P.useContext(lC);if(!e)throw new Error("useNodeContext must be used within a NodeProvider");return e},lF=({parentNodeId:e,similarArtworks:t,width:n,height:o,showFolder:a,toggleFolder:u,isAIGenerated:c,selected:d})=>{const[h,m]=P.useState(0),{setDraggableType:y,setDraggableData:x}=mo(),[v,S]=P.useState(!1),_=(O,z,q,ee)=>{O.dataTransfer.effectAllowed="move",y(z),x({content:q,prompt:ee,parentNodeId:e,provenance:"history"})},T=()=>{m(O=>O>0?O-1:t.length-1)},N=()=>{m(O=>O<t.length-1?O+1:0)},C=t[h];P.useEffect(()=>{m(0)},[t]),P.useEffect(()=>{d||S(!1)});const M=O=>{if(!O.descriptions)return"";for(const z of Object.values(O.descriptions))if(z.date)return z.date;return""},A=O=>{if(!O.descriptions)return[];const z=[];for(const[q,ee]of Object.entries(O.descriptions))ee.description&&z.push({source:q,description:ee.description});return z},L=O=>{if(!O.descriptions)return[];const z=[],q=["description","date","additional_information"];for(const fe of Object.values(O.descriptions))for(const[se,ue]of Object.entries(fe))if(!q.includes(se)&&ue&&typeof ue=="string"){const $=(se.charAt(0).toUpperCase()+se.slice(1)).replace(/_/g," ");z.push({key:$,value:ue})}return z.filter((fe,se,ue)=>se===ue.findIndex($=>$.key===fe.key&&$.value===fe.value))},B=O=>!O||O.length===0?"Unknown Artist":O.length===1?O[0]:O.length===2?O.join(" and "):O.slice(0,-1).join(", ")+", and "+O[O.length-1],X=O=>{var q,ee;if((q=O.image_urls)!=null&&q.medium)return O.image_urls.medium;if((ee=O.image_urls)!=null&&ee.large)return O.image_urls.large;if(O.image_url)return O.image_url;const z=Object.values(O.image_urls||{});return z.length>0?z[0]:""};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                    w-12 h-20 p-1
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-left rounded-l-md
                    cursor-pointer transition-colors duration-200 
                    ${a?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:u,children:[k.jsx(oC,{size:20,className:"text-gray-600"})," "]}),k.jsx(Cn.div,{initial:{transform:"rotateX(-45deg) scaleX(0.5)"},animate:{transform:a?"rotateX(0deg) scaleX(1)":"rotateX(-60deg) scaleX(0.5)"},transition:{duration:a?.5:.1,type:"spring",bounce:.3},className:"absolute z-0",children:k.jsx(Cn.div,{initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:a?.5:.1,type:"spring",bounce:.3},className:`nowheel absolute left-0 top-0 transform -translate-x-[${n+6}px] ${c?"bg-blue-100":"bg-[#f2e7ce]"} border shadow-md z-3`,style:{height:`${o}px`,width:`${n}px`},children:!C||!C.value?k.jsx("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",height:"100%"},children:k.jsx("div",{className:"loader"})}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`sticky top-0 z-10 ${c?"bg-blue-100":"bg-[#f2e7ce]"}`,children:[k.jsx("button",{onClick:()=>S(!0),className:"absolute top-2 right-5 p-1 rounded bg-gray-500 hover:bg-gray-300",title:"Expand reader view",children:k.jsx(mm,{size:16})}),k.jsx(j1,{handlePrev:T,handleNext:N,currentIndex:h,totalItems:t.length})]}),C?k.jsxs("div",{className:"p-3 pr-5 ml-0 h-[85%] overflow-y-scroll flex flex-col items-center",children:[k.jsxs("div",{draggable:!0,onDragStart:O=>{const z=M(C),q=B(C.artist_names),ee=z?`${C.value} (${z}) by ${q}`:`${C.value} by ${q}`;_(O,"text",ee)},className:`nodrag rounded-md p-1 ${c?"hover:bg-blue-300":"hover:bg-[#dbcdb4]"} text-center`,children:[k.jsx("span",{className:"artwork-title text-md font-medium text-gray-900 italic font-bold block",children:C.value}),M(C)&&k.jsx("span",{className:"text-gray-700 block",children:M(C)}),k.jsxs("span",{className:"text-md text-black-700 block",children:["by ",B(C.artist_names)]})]}),k.jsx("img",{draggable:!0,onDragStart:O=>{const z=M(C),q=B(C.artist_names),ee=z?`"${C.value}" (${z}) by ${q}`:`"${C.value}" by ${q}`;_(O,"image",X(C),ee)},className:`artwork-image nodrag rounded-md m-2 border-2 ${c?"border-blue-200":"border-[#dbcdb4]"}`,src:X(C),alt:`${C.value} by ${B(C.artist_names)}`,style:{maxHeight:"90%",width:"auto",objectFit:"cover"}}),L(C).length>0&&k.jsx("div",{className:"mt-2 text-center",children:k.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:L(C).map((O,z)=>k.jsxs("span",{draggable:!0,onDragStart:q=>_(q,"text",`${O.key}: ${O.value}`),className:`nodrag text-xs px-2 py-1 rounded ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"} cursor-move`,children:[O.key,": ",O.value]},`${O.key}-${z}`))})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx("div",{className:"mt-2 text-center",children:k.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:C.relatedKeywordStrings.slice(0,5).map((O,z)=>k.jsx("span",{draggable:!0,onDragStart:q=>_(q,"text",O),className:`nodrag text-xs px-2 py-1 rounded ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"} cursor-move`,children:O},z))})}),k.jsx("div",{className:"mt-2 text-center",children:k.jsx(Z5,{descriptions:A(C),isAIGenerated:c,as:"div"})}),C.rights&&k.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:C.rights})]}):k.jsx("div",{className:"p-3 ml-0 h-full overflow-y-auto",children:k.jsx("h2",{className:"text-xs font-medium text-gray-900 italic font-bold",children:"No content"})})]})})}),v&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>S(!1)}),k.jsxs("div",{className:"fixed z-50 bg-white border border-gray-700 rounded shadow-lg p-5 w-[600px] h-[700px] overflow-y-auto",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[k.jsx("button",{onClick:()=>S(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-400 bg-gray-700",children:k.jsx($5,{size:20,className:"text-white"})}),k.jsx(j1,{handlePrev:T,handleNext:N,currentIndex:h,totalItems:t.length}),k.jsxs("div",{className:"text-black",children:[k.jsxs("h2",{className:"text-2xl font-bold text-center mb-4",children:[C.value,M(C)&&` (${M(C)})`]}),k.jsxs("p",{className:"text-lg text-center mb-4",children:["by ",B(C.artist_names)]}),k.jsx("img",{className:"mx-auto mb-4 max-h-[300px] rounded",src:X(C),alt:`${C.value} by ${B(C.artist_names)}`}),L(C).length>0&&k.jsx("div",{className:"mb-4",children:k.jsx("div",{className:"space-y-1",children:L(C).map((O,z)=>k.jsxs("p",{className:"text-sm",children:[k.jsxs("span",{className:"font-medium",children:[O.key,":"]})," ",O.value]},`${O.key}-${z}`))})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx("div",{className:"mb-4",children:k.jsx("p",{className:"text-sm",children:C.relatedKeywordStrings.join(", ")})}),A(C).length>0&&k.jsxs("div",{className:"mb-4",children:[k.jsx("h3",{className:"font-semibold mb-2",children:"Description:"}),k.jsx("div",{className:"text-sm space-y-2",children:A(C).map(O=>k.jsxs("div",{children:[k.jsxs("p",{className:"font-medium text-gray-600",children:[O.source,":"]}),k.jsx("p",{children:O.description})]},O.source))})]}),C.rights&&k.jsx("p",{className:"text-xs text-gray-500 mt-4",children:C.rights})]})]})]})]})},uF=({content:e,showDescription:t=!1,containerHeight:n=100,containerWidth:o=100,parentNodeId:a,toggleDescription:u,isAIGenerated:c=!1})=>{const{setDraggableType:d,setDraggableData:h}=mo(),m=(y,x,v="text",S)=>{y.dataTransfer.effectAllowed="move",d(v),h({content:x,prompt:S,provenance:c?"ai":"history",parentNodeId:a})};return e?k.jsxs("div",{className:"relative",style:{height:`${n}px`,overflow:"visible"},children:[k.jsx("div",{className:"overflow-hidden",style:{height:`calc(${n-24}px)`,width:`${o}px`},children:k.jsx(Cn.div,{initial:{},animate:{scaleY:t?1:.5,rotateX:t?0:90},transition:{duration:t?.5:.1,opacity:t?1:0,type:"spring",bounce:.2},className:`nowheel p-3 overflow-scroll border rounded-b-md shadow-md p-0 h-full ${c?"bg-blue-50":"bg-[#f4efe3] border-[#998056]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[c?"Prompt:":"",k.jsx("div",{className:`nodrag ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"} rounded-md p-1 flex flex-col gap-3 overflow-y-auto text-xs flex-grow`,children:k.jsx("p",{draggable:!0,onDragStart:y=>m(y,e),children:e})})]})})}),k.jsxs("div",{className:`
                    w-12 h-10 p-1 mt-5
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-center rounded-br-md rounded-bl-md
                    cursor-pointer transition-colors duration-200 
                    absolute bottom-0 right-2
                    ${t?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:u,children:[k.jsx(Wm,{size:20,className:"text-gray-600"})," "]})]}):null};function V1({id:e,data:t,selected:n,dragging:o}){const{mergeNodes:a}=Mc(),{addClippedNode:u,getNextPaletteIndex:c}=By(),[d,h]=P.useState(""),[m,y]=P.useState(150),[x,v]=P.useState(150),[S,_]=P.useState(!1),[T,N]=P.useState(!1),[C,M]=P.useState(!1),[A,L]=P.useState(!1),B=()=>{L(!A)};P.useEffect(()=>{t.content&&h(t.content)},[t.content]);const X=()=>{_(!S)},O=()=>{N(!T)},[z,q]=P.useState(!0),ee=[{image_id:"",image_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019",image_urls:{original:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"},filename:"",value:"",artist_names:[],descriptions:{default:{date:"",description:"No description available."}},relatedKeywordIds:[],relatedKeywordStrings:[],rights:void 0,distance:void 0}],[fe,se]=P.useState(t.similarArtworks||ee),{backend:ue,userID:$,admins:ne,condition:Y}=Li(),H=async J=>{try{console.log("sending this image to the backend for lookup:",J);const we=(await It.post(`${ue}/api/get-similar-images`,{image:J},{headers:{"Content-Type":"application/json"}})).data.map(ve=>({image_id:ve.image_id,image_url:ve.image_url,image_urls:ve.image_urls||{},filename:ve.filename,value:ve.value,artist_names:Array.isArray(ve.artist_names)?ve.artist_names.flatMap(_e=>{try{const ke=JSON.parse(_e);return Array.isArray(ke)?ke:typeof ke=="string"?[ke]:[]}catch{return[_e]}}):[],descriptions:ve.descriptions||{},relatedKeywordIds:ve.relatedKeywordIds||[],relatedKeywordStrings:ve.relatedKeywordStrings||[],rights:ve.rights,distance:ve.distance}));return console.log("fetched similar artworks from backend:",we),we}catch(ge){return console.error("Error fetching similar artworks:",ge),ee}},[F,K]=P.useState(!0);P.useEffect(()=>{h(t.content||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019"),n?(q(!0),t.similarArtworks&&t.similarArtworks.length>0&&!o&&N(!0),t.prompt&&!o&&_(!0)):(_(!1),N(!1),q(!1),L(!1))},[n,d,t.content,t.similarArtworks]),P.useEffect(()=>{t.similarArtworks&&t.similarArtworks.length>0&&Y==="experimental"&&se(t.similarArtworks)},[JSON.stringify(t.similarArtworks),Y]),P.useEffect(()=>{M(t.provenance==="ai")},[t.provenance]),P.useEffect(()=>{const J=async()=>{const ge=await H(d);t.similarArtworks=ge,se(ge),K(!1)};Y==="experimental"&&F&&(!t.similarArtworks||t.similarArtworks.length<=0)&&d!==""&&J()},[F,t.similarArtworks,d,Y]);const G="relative nowheel p-0.5",V=C?`${G} bg-blue-400 rounded-xl   ${n?"ring-2 ring-blue-300":""}`:`${G} bg-stone-500  ${n?"ring-2 ring-[#dbcdb4] border-[#b39e79]":""}`;return k.jsxs(Cn.div,{initial:{opacity:0,x:0,y:10,scale:1.1,rotateY:-45,filter:"drop-shadow(10px 10px 10px rgba(0, 0, 0, 0.55))"},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,scaleX:1,filter:"drop-shadow(1px 2px 1px rgba(0, 0, 0, 0.15))"},transition:{duration:.3,type:"spring",bounce:.1},className:"drag-handle__invisible bg-transparent",children:[Y==="experimental"&&k.jsx(Cn.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:T?`-${m*2-10}px`:"-6px",transform:"scaleY(1)",opacity:z?1:0},transition:{duration:.2},className:"absolute",children:k.jsx(lF,{parentNodeId:e,similarArtworks:fe,width:m*2,height:x*2,showFolder:T,toggleFolder:O,isAIGenerated:C,selected:n})}),k.jsxs(W0,{isVisible:n,position:Oe.Top,children:[k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>u({id:c(),type:"image",content:d,prompt:t.prompt||"",provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarArtworks:fe}),"aria-label":"Save to Palette",style:{},children:k.jsx(rC,{size:16})}),t.intersections&&t.intersections.length>1&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>a(t.intersections),"aria-label":"Merge",style:{marginRight:"0px"},children:k.jsx(nC,{size:16})}),k.jsx("button",{className:"border-5 text-gray-800  bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:B,"aria-label":"Enlarge Image",children:k.jsx(mm,{size:16})})]}),$&&ne.includes($)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Wm,{size:16})})]}),k.jsx("div",{className:`bg-transparent rounded-full ${C?"rounded-xl":""}`,style:{width:`${m}px`,height:`${x}px`,position:"relative"},children:k.jsx("img",{className:`${V}`,src:d,alt:t.prompt||"generated image",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top"}})}),k.jsx(ia,{type:"source",position:Oe.Bottom,id:"a",isConnectable:!1,className:"invisible",onConnect:J=>console.log("handle onConnect",J)}),k.jsx(ia,{type:"target",position:Oe.Top,id:"b",isConnectable:!1,className:"invisible",onConnect:J=>console.log("handle onConnect",J)}),k.jsx(Cn.div,{initial:{top:0},animate:{top:S?x:40,opacity:z?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(uF,{containerHeight:x,containerWidth:m,showDescription:S,toggleDescription:X,parentNodeId:e,content:t.prompt,isAIGenerated:C})}),A&&k.jsx(Cn.div,{className:"fixed top-0 left-0 w-screen-[50vw] h-screen-[50vw] bg-black/70 flex justify-center items-center z-50",onClick:()=>L(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:k.jsx("img",{src:d,className:"max-w-[45vw] max-h-[45vh] rounded-lg shadow-xl"})})]})}const uC=({currentIndex:e,totalItems:t,handlePrev:n,handleNext:o,itemLabel:a})=>k.jsxs("div",{className:"flex items-center w-full mt-2",children:[k.jsx("button",{onClick:n,className:"flex-1 flex justify-end items-center p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer bg-transparent","aria-label":"Previous",type:"button",style:{background:"none"},children:k.jsx(eC,{size:"18"})}),k.jsxs("span",{className:"flex-shrink-0 mx-4 text-gray-600 text-xs",children:[e+1,"/",t,typeof a=="string"&&` ${a}${t>1?"s":""}`]}),k.jsx("button",{onClick:o,className:"flex-1 flex justify-start items-center p-2 rounded-full text-gray-500 hover:text-amber-800 cursor-pointer bg-transparent","aria-label":"Next",type:"button",style:{background:"none"},children:k.jsx(tC,{size:"18"})})]}),cF=({imageIds:e,parentNodeId:t})=>{var N;const[n,o]=P.useState([]),[a,u]=P.useState(0),[c,d]=P.useState(!1),{backend:h}=Li(),{setDraggableType:m,setDraggableData:y}=mo(),x=(C,M,A,L)=>{C.dataTransfer.effectAllowed="move",m(M),y({content:A,prompt:L,parentNodeId:t,provenance:"history"})};P.useEffect(()=>{if(!e||e.length===0){o([]);return}d(!0),fetch(`${h}/api/get-artworks-by-ids`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entryIds:e})}).then(C=>C.json()).then(C=>{C&&C.success&&Array.isArray(C.artworks)?o(C.artworks):o([]),u(0)}).finally(()=>d(!1))},[e,h]);const v=()=>{u(C=>C>0?C-1:n.length-1)},S=()=>{u(C=>C<n.length-1?C+1:0)};if(c)return k.jsx("div",{className:"text-center text-gray-400 text-xs py-4",children:"Loading images..."});if(!n.length)return k.jsx("div",{className:"text-center text-gray-400 text-xs py-4",children:"No images to display."});const _=n[a],T=((N=Object.values(_.descriptions||{}).find(C=>C.date))==null?void 0:N.date)||"";return k.jsxs("div",{draggable:!0,className:"nodrag flex flex-col items-center w-full",children:[k.jsx("div",{draggable:!0,onDragStart:C=>{const M=_.artist_names&&_.artist_names.length>0?_.artist_names.join(", "):"Unknown artist",A=T?`"${_.value}" (${T}) by ${M}`:`"${_.value}" by ${M}`;x(C,"image",_.image_url,A)},className:"w-full flex justify-center",children:k.jsx("img",{src:_.image_url,alt:_.value,className:"max-h-32 max-w-full rounded shadow",style:{objectFit:"contain"}})}),k.jsx("div",{className:"w-full mt-2 text-left text-xs italic text-gray-600",children:k.jsxs("div",{children:[_.value,T&&` (${T})`]})}),k.jsx(uC,{currentIndex:a,totalItems:n.length,handlePrev:v,handleNext:S,itemLabel:"artwork"})]})},cC=({descriptions:e,isAIGenerated:t,as:n="div"})=>{const[o,a]=P.useState(null),{setDraggableType:u,setDraggableData:c}=mo();P.useEffect(()=>{var v,S;a(((v=e.find(_=>_.source==="synth"))==null?void 0:v.source)||((S=e[0])==null?void 0:S.source)||null)},[e]);const d=()=>{var v;return((v=e.find(S=>S.source===o))==null?void 0:v.description)||""};if(!e||e.length===0)return;const h=v=>{a(v)},m=v=>{const S=d();v.dataTransfer.effectAllowed="move",u("text"),c({content:S,provenance:o==="synth"?"ai-description":"description"})},y=d(),x=n;return k.jsxs(x,{className:"mb-4",children:[y?k.jsx("span",{className:`cursor-move inline-block p-1 text-xs 
                        ${t?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`,draggable:!0,onDragStart:m,children:y}):k.jsx("span",{className:"text-gray-500 italic inline-block p-2"}),k.jsxs("span",{className:"italic text-gray-500 text-xs mt-1 block",style:{userSelect:"none"},children:["Source:"," ",e.sort((v,S)=>v.source==="synth"?-1:S.source==="synth"?1:0).map(v=>k.jsx("button",{onClick:()=>h(v.source),className:`px-1 py-1 mx-0.5 rounded text-xxs ${v.source===o?t?"bg-blue-500 text-white":"bg-stone-400 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v.source},v.source))]})]})},fF=({word:e})=>k.jsx("span",{style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:"cursor-pointer rounded-sm m-0.5 p-0.5",children:e.value})}),dF=({keyword:e,handleKeywordClick:t})=>{const[n,o]=P.useState(!1),a=()=>{t(),o(!n)};return k.jsx(Cn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},style:{position:"relative",display:"inline-block"},children:k.jsx("span",{className:`cursor-pointer 
                    rounded-sm mx-0.5 p-0
                    transition-all duration-200 
                    bg-amber-100 hover:bg-amber-200`,onClick:a,children:e.value})})},fC=({relatedKeywords:e,isAIGenerated:t})=>{const{setDraggableType:n,setDraggableData:o}=mo(),a=(u,c)=>{u.dataTransfer.effectAllowed="move",n("text"),o({content:c,provenance:"history"})};return k.jsxs("div",{className:"nodrag p-2 flex flex-wrap gap-0.5 mb-5 pb-5",children:[k.jsx("strong",{className:"text-gray-900 text-sm italic mr-1",children:"see also: "}),e.map((u,c)=>k.jsx("div",{className:`text-xs p-0.5 rounded-sm cursor-grab ${t?"text-blue-50 bg-blue-500 hover:bg-blue-400":"text-stone-50 bg-stone-500 hover:bg-stone-400"}`,draggable:!0,onDragStart:d=>a(d,u),children:u},c))]})},hF=({keyword:e,containerHeight:t=100,containerWidth:n=100,showDescription:o=!1,parentNodeId:a,toggleDescription:u,isAIGenerated:c=!1})=>{const{setDraggableType:d,setDraggableData:h}=mo(),m=(y,x,v,S)=>{y.dataTransfer.effectAllowed="move",d(x),h({content:v,prompt:S,provenance:"history",parentNodeId:a})};return e?k.jsxs("div",{className:"relative",style:{height:`${t}px`,width:`${n}px`,overflow:"visible"},children:[k.jsx("div",{id:"descriptionpanel-body",className:"overflow-hidden",style:{height:`calc(${t-24}px`,zIndex:-1},children:k.jsx(Cn.div,{initial:{},animate:{scaleY:o?1:.5,rotateX:o?0:90},transition:{duration:o?.5:.1,type:"spring",bounce:.2},className:`nodrag nowheel overflow-scroll border rounded-b-md shadow-md p-0 h-full ${c?"bg-blue-50":"bg-[#f4efe3] border-[#d9cdb2]"}`,children:k.jsxs("div",{className:"flex flex-col justify-between",children:[e.databaseValue&&k.jsx("div",{draggable:!0,onDragStart:y=>m(y,"text",e.databaseValue||e.value),className:`nodrag nowheel text-sm font-bold text-gray-800 mb-2 cursor-pointer ${c?" bg-blue-100 hover:bg-blue-300":"hover:bg-[#D1BC97]"}`,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",marginTop:"5px",marginLeft:"-1px",backgroundColor:c?"#f5f5dc":"#dbcdb4",borderBottom:"1px solid rgba(0, 0, 0, 0.34)",overflow:"visible",width:"90%",borderRadius:"0 8px 8px 0"},children:e.databaseValue||e.value}),k.jsx("div",{className:"text-xs/4 m-2 p-0.5 rounded-sm",children:e.descriptions&&k.jsx(cC,{descriptions:e.descriptions,isAIGenerated:c})}),e.relatedKeywordStrings&&e.relatedKeywordStrings.length>0&&k.jsx(fC,{relatedKeywords:e.relatedKeywordStrings,isAIGenerated:c})]})})}),k.jsxs("div",{className:`
        w-12 h-10 p-1 
        ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-yellow-300"}
        flex items-center justify-center rounded-br-md rounded-bl-md
        cursor-pointer transition-colors duration-200 
        absolute bottom-0 right-2
        ${o?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,style:{zIndex:1},onClick:u,children:[k.jsx(Wm,{size:20,className:"text-gray-600"})," "]})]}):null},pF=({parentNodeId:e,width:t,height:n,showFolder:o,toggleFolder:a,similarTexts:u,isAIGenerated:c=!1,selected:d})=>{const[h,m]=P.useState(0),[y,x]=P.useState(!1),{setDraggableType:v,setDraggableData:S}=mo(),_=(M,A,L,B)=>{M.dataTransfer.effectAllowed="move",v(A),S({content:L,prompt:B,provenance:"history",parentNodeId:e})},T=()=>{m(M=>M>0?M-1:u.length-1)},N=()=>{m(M=>M<u.length-1?M+1:0)},C=u[h];return P.useEffect(()=>{d||x(!1)},[d]),k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:`absolute left-0 top-2 transform -translate-x-7 -translate-y-2 
                    w-12 h-20 p-1
                    ${c?"bg-blue-200 hover:bg-blue-300":"bg-[#dbcdb4] hover:bg-[#b39e79]"}
                    flex items-center justify-left rounded-l-md
                    cursor-pointer transition-colors duration-200 
                    ${o?c?"bg-blue-200":"bg-[#dbcdb4]":""}`,onClick:a,children:[k.jsx(oC,{size:20,className:"text-gray-600"})," "]}),k.jsx(Cn.div,{initial:{transform:"rotateX(-45deg)"},animate:{transform:o?"rotateX(0deg)":"rotateX(-60deg)"},transition:{duration:.3,type:"spring",bounce:.2},className:"absolute",children:k.jsx("div",{className:`absolute left-0 top-0 transform ${y?`-translate-x-[${t*1.5+6}px] z-500`:`-translate-x-[${t+50}px]`} ${y?"bg-white border-2 border-gray-700":c?"bg-blue-100":o?"bg-[#f2e7ce]":"bg-[#dbcdb4]"} rounded-md shadow-md`,style:{height:y?`${n*3}px`:`${n*2}px`,width:y?`${t*1.5}px`:`${t}px`,fontSize:y?"1.2rem":"inherit"},children:u.length>0?k.jsx(k.Fragment,{children:k.jsxs("div",{className:`p-3 pt-0 ml-0 h-full overflow-y-auto ${y?"p-5":""}`,children:[k.jsx(uC,{currentIndex:h,totalItems:u.length,handlePrev:T,handleNext:N}),C&&k.jsxs("div",{className:`nodrag nowheel overflow-y-auto ${y?"text-black":"text-gray-600"}`,children:[k.jsx("p",{draggable:!0,onDragStart:M=>_(M,"text",C.value),className:`font-bold ${y?"text-xl hover:bg-gray-200":`text-md ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`}`,children:C.value}),k.jsx("p",{draggable:!0,onDragStart:M=>_(M,"text",C.type),className:`italic ${y?"text-sm hover:bg-gray-200":`text-xs ${c?"hover:bg-blue-200":"hover:bg-[#dbcdb4]"}`}`,children:C.type}),C.images&&C.images.length>0&&k.jsx(cF,{imageIds:C.images,parentNodeId:e}),k.jsx("div",{className:`mt-2 p-0.5 rounded-sm ${y?"text-base":"text-xs/4"}`,children:C.descriptions&&k.jsx(cC,{descriptions:C.descriptions,isAIGenerated:c})}),C.relatedKeywordStrings&&C.relatedKeywordStrings.length>0&&k.jsx(fC,{relatedKeywords:C.relatedKeywordStrings,isAIGenerated:c})]})]})}):k.jsxs("div",{className:`p-3 ml-0 h-full overflow-y-auto flex flex-col items-center justify-center ${y?"text-black":""}`,children:[k.jsx("h2",{className:`font-medium italic font-bold text-center mb-5 ${y?"text-base":"text-xs text-gray-900"}`,children:"...We haven't found anything relevant to this in our database yet..."}),k.jsx("div",{className:"loader"})]})})})]})};function B1({id:e,data:t,selected:n}){const o=P.useRef(null),[a,u]=P.useState(t.content||""),[c,d]=P.useState(!1),[h,m]=P.useState(!1),[y,x]=P.useState(t.words||[]),[v,S]=P.useState(t.similarTexts||[]),[_,T]=P.useState(null),{mergeNodes:N}=Mc(),[C,M]=P.useState(200),[A,L]=P.useState(150),[B,X]=P.useState(!1),[O,z]=P.useState(!1),{backend:q,userID:ee,admins:fe,condition:se}=Li(),{addClippedNode:ue,getNextPaletteIndex:$}=By(),[ne,Y]=P.useState(!0),[H,F]=P.useState(t.provenance==="ai"),K=async Ne=>{console.log("fetching texts for:",Ne);try{const Pe=await fetch(`${q}/api/get-similar-texts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:Ne})});if(!Pe.ok)throw new Error("Failed to fetch similar texts");const Ue=await Pe.json();if(Ue.length===0)return[];{const nt=Ue.map(Et=>O1(Et));return console.log("similar texts found:",nt),nt}}catch(Pe){return console.error("Error fetching similar texts:",Pe),{id:"0",value:"none",description:"it seems some kind of error occurred. check your connection!",type:"none"}}},G=async Ne=>{if(Ne.length===0)return[];try{const Pe=await fetch(`${q}/api/check-for-keywords`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Ne.map(Et=>Et.value).join(" ")})});if(!Pe.ok)throw new Error("Failed to check for keywords");return(await Pe.json()).words.map(Et=>Et.details?O1(Et):{value:Et.value})}catch(Pe){return console.error("Error checking for keywords:",Pe),console.log("Fallback words array:",y),y}},V=Ne=>{u(Ne.target.value)},J=()=>{u(y.map(Ne=>Ne.value).join(" ")),d(!0),m(!1)},ge=()=>{d(!0),m(!0)},ye=async Ne=>{if(Ne.key==="Enter"){Ne.preventDefault();const Pe=sC(a);x(Pe),t.words=Pe,t.hasNoKeywords=!1,t.hasNoSimilarTexts=!1,d(!1),X(!1),z(!1),T(null),console.log("words hve changed to:",Pe);const Ue=await G(Pe);x(Ue),t.words=Ue;const nt=await K(ml(Ue));S(nt),t.similarTexts=nt}},we=Ne=>{T(Ne),X(!B)},ve=()=>{X(!B)},_e=()=>{z(!O)},[ke,Re]=P.useState(!0);P.useEffect(()=>{if(x(t.words||[]),t.content=ml(y),_===null){const Ne=y.find(Pe=>"id"in Pe);Ne&&T(Ne)}},[JSON.stringify(t.words),_]),P.useEffect(()=>{t.similarTexts&&t.similarTexts.length>0&&S(t.similarTexts||[])},[t.similarTexts]),P.useEffect(()=>{(t.words&&t.words.some(Ne=>"id"in Ne)||t.hasNoKeywords)&&(t.similarTexts&&t.similarTexts.length>0||t.hasNoSimilarTexts)?(S(t.similarTexts||[]),x(t.words||[]),Y(!1)):ne&&((async()=>{if(t.words&&t.words.some(Pe=>"id"in Pe)||t.hasNoKeywords)x(t.words);else if(se==="experimental"){const Pe=await G(y);x(Pe),t.words=Pe,t.content=ml(Pe)}if(t.similarTexts&&t.similarTexts.length>0&&!t.hasNoSimilarTexts)S(t.similarTexts);else if(se==="experimental"){const Pe=await K(ml(y));t.similarTexts=Pe}Y(!1)})(),t.similarTexts&&t.similarTexts.length>0&&S(t.similarTexts||[]))},[]),P.useEffect(()=>{if(o.current){const Pe=o.current;Pe.style.height="auto",Pe.style.height=`${Pe.scrollHeight}px`;const nt=parseInt(getComputedStyle(Pe).lineHeight,10)*10;Pe.scrollHeight>nt?(Pe.style.height=`${nt}px`,Pe.style.overflowY="scroll"):Pe.style.overflowY="hidden"}n?Re(!0):(X(!1),z(!1),T(null),d(!1),Re(!1),m(!1)),c&&T(null)},[a,t,y,c,n]);const We=`relative nowheel p-4 border ${n?"ring-2 ring-blue-400":""}`,Ye=H?`${We} border-blue-200 bg-blue-50 rounded-lg shadow-sm`:`${We} border-amber-300 bg-amber-50 shadow-sm`;return P.useEffect(()=>{F(t.provenance==="ai")},[t.provenance]),k.jsxs(Cn.div,{initial:{opacity:.2,x:0,y:10,scale:1.1,rotateY:Math.random()*30-15,rotateX:-75},animate:{opacity:1,x:0,y:0,scale:1,rotateY:0,rotateX:0,scaleX:1},transition:{duration:.15,type:"spring",bounce:.1},className:"",children:[k.jsx(ia,{type:"source",position:Oe.Bottom,id:"a",isConnectable:!1,onConnect:Ne=>console.log("handle onConnect",Ne)}),k.jsx(ia,{type:"target",position:Oe.Top,id:"b",isConnectable:!1,onConnect:Ne=>console.log("handle onConnect",Ne)}),k.jsx("div",{className:"relative",style:{width:`${C}px`},children:c?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{fontSize:"0.75rem",color:"gray",filter:"none",position:"absolute",top:"-1.5rem",left:"0"},children:"ENTER TO CONFIRM"}),!h&&t.content&&t.content.length>100&&k.jsx(W0,{isVisible:n,position:Oe.Right,children:k.jsx("div",{className:"flex items-center justify-center space-x-2",children:k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:ge,"aria-label":"Expand Editor",style:{marginRight:"0px"},children:k.jsx(mm,{size:16})})})}),k.jsx("div",{className:`text-xs border border-gray-700 rounded bg-white nowheel ${h?"p-5 w-[400px] h-[500px] text-lg":"p-2 w-[200px] h-[150px]"}`,children:k.jsx("textarea",{className:`nowheel nodrag resize-none border overflow-auto font-inherit p-2 w-full h-full ${h?"text-lg":"text-xs"}`,ref:o,value:a,onChange:V,onKeyDown:ye})})]}):k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:J,style:{display:ke?"block":"none",position:"absolute",top:"2px",right:"-10px",zIndex:1e3},className:"p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",children:k.jsx(B5,{size:16})}),se==="experimental"&&k.jsx(Cn.div,{initial:{left:"-6px",transform:"scaleY(0.5)"},animate:{left:O?`-${C+50}px`:"-6px",transform:"scaleY(1)",opacity:ke?1:0},transition:{duration:.2},className:"absolute",children:k.jsx(pF,{parentNodeId:e,width:O?C+50:C,height:A,showFolder:O,toggleFolder:_e,similarTexts:v,isAIGenerated:H,selected:n&&O})}),k.jsx(W0,{isVisible:n,position:Oe.Top,children:k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>ue({id:$(),type:"text",content:ml(y),provenance:t.provenance||"user",parentNodeId:t.parentNodeId||e,similarTexts:t.similarTexts,prompt:"none"}),"aria-label":"Save to Palette",style:{marginRight:"0px"},children:k.jsx(rC,{size:16})}),t.content&&t.content.length>100&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:ge,"aria-label":"Expand Editor",style:{marginRight:"0px"},children:k.jsx(mm,{size:16})}),t.intersections&&t.intersections.length>1&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-gray-400 dark:hover:bg-gray-400",type:"button",onClick:()=>N(t.intersections),"aria-label":"Merge",style:{marginRight:"0px"},children:k.jsx(nC,{size:16})}),ee&&fe.includes(ee)&&k.jsx("button",{className:"border-5 text-gray-800 bg-white border-gray-800 shadow-lg rounded-full hover:bg-[#dbcdb4]",type:"button",onClick:()=>console.log(e,t),"aria-label":"Print Node Data",children:k.jsx(Wm,{size:16})})]})}),k.jsx("div",{className:`${Ye}`,style:{zIndex:10,height:`${A}px`,filter:"drop-shadow(3px 3px 3px rgba(0, 0, 0, 0.25))"},onDoubleClick:J,children:ne?k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-xs nowheel",style:{position:"relative",opacity:.7,color:"gray",overflow:"auto",height:"100%",width:"100%"},children:a}),k.jsx("div",{className:"loader",style:{opacity:.7,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):k.jsx(k.Fragment,{children:k.jsx("div",{className:"nowheel p-0 overflow-y-auto overflow-x-visible h-full text-xs/4 text-gray-800 relative inline-block",children:y.map((Ne,Pe)=>k.jsx(vy.Fragment,{children:"entryId"in Ne&&se==="experimental"?k.jsx(dF,{keyword:Ne,handleKeywordClick:()=>we(Ne)}):k.jsx(fF,{word:Ne})},Pe))})})}),se==="experimental"&&k.jsx(Cn.div,{initial:{top:0},animate:{top:B?A:-A+40,opacity:ke?1:0},transition:{type:"spring",bounce:.1,duration:.3},className:"absolute mt-0",children:k.jsx(hF,{keyword:_,containerHeight:A*2,containerWidth:C,showDescription:B,parentNodeId:e,toggleDescription:ve,isAIGenerated:H})})]})})]})}function mF(){return k.jsx(Cn.div,{initial:{opacity:0,x:0,y:3,scale:.6},animate:{opacity:1,x:0,y:0,scale:1,scaleX:1},transition:{duration:.4,type:"spring",bounce:.1},className:"text-md",children:k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",fontStyle:"italic"},children:[k.jsx("div",{className:"text-gray-800",children:"...loading..."}),k.jsx("div",{className:"loader"})]})})}const Sv={words:["your","text","here.","click","the","pencil","icon","in","the","top","right","to","edit.","Use","Alt+Click","to","generate","new","nodes."].map(e=>({value:e})),intersections:[],similarTexts:[],provenance:"user",hasNoKeywords:!0,hasNoSimilarTexts:!0},dC={default:mF,image:V1,text:B1,imagewithlookup:V1,textwithkeywords:B1},gF=e=>{const[t,n]=P.useState(null),{setNodes:o,setEdges:a}=Mc(),u=P.useCallback(()=>{const h=e.filter(m=>m.selected);n(h)},[e]),c=P.useCallback(()=>{const h=e.filter(m=>m.selected);n(h),o(m=>m.filter(y=>!y.selected))},[e,o]),d=P.useCallback(()=>{if(t){const h=10*(e.length+1),m=t.map(x=>{const v=x.type;return{...x,id:`${v}-${Cd()}`,position:{x:x.position.x+h,y:x.position.y+h},selected:!0}}),y=t.map((x,v)=>({id:`edge-${x.id}-${m[v].id}`,source:x.id,target:m[v].id,type:"default"}));a(x=>[...x,...y]),o(x=>x.map(v=>({...v,selected:!1})).concat(m))}},[t,e,o,a]);return{handleCopy:u,handleCut:c,handlePaste:d}},yF=({addTextWithKeywordsNode:e})=>{const[t,n]=P.useState({x:20,y:100}),[o,a]=P.useState(!1),[u,c]=P.useState({x:0,y:0}),d=y=>{a(!0),c({x:y.clientX-t.x,y:y.clientY-t.y})},h=y=>{o&&n({x:y.clientX-u.x,y:y.clientY-u.y})},m=()=>{a(!1)};return k.jsxs("div",{style:{position:"absolute",top:`${t.y}px`,left:`${t.x}px`,display:"flex",flexDirection:"column",gap:"10px",background:"rgba(35, 30, 24, 0.8)",padding:"10px",borderRadius:"10px",zIndex:10,cursor:o?"grabbing":"grab",userSelect:"none"},onMouseMove:h,onMouseUp:m,onMouseLeave:m,children:[k.jsx("div",{onMouseDown:d,style:{cursor:"grab",padding:"-10px",margin:"-5px",textAlign:"center",color:"#AAA",fontSize:"14px",fontWeight:"bold"},children:""}),k.jsx("button",{onClick:()=>e(),className:"text-white bg-stone-800 w-8 h-8 flex items-center justify-center border border-gray-500 rounded hover:bg-stone-600 active:bg-stone-700 transition duration-300 cursor-pointer",children:k.jsx(iC,{size:28})})]})},vF=()=>{const{userID:e,backend:t,loginStatus:n}=Li(),{saveCanvas:o,canvasName:a,canvasID:u,setCanvasId:c,pullCanvas:d,quickSaveToBrowser:h,pullCanvasFromBrowser:m,setCanvasName:y,setLastSaved:x,createNewCanvas:v}=Km(),{nodes:S,setNodes:_,edges:T,setEdges:N,drawEdge:C,saveCurrentViewport:M,canvasToObject:A,handleOnEdgesChange:L,handleOnNodesChange:B,onNodesDelete:X,deleteNodeById:O}=Mc(),{screenToFlowPosition:z,setViewport:q,getViewport:ee,getNodesBounds:fe,getIntersectingNodes:se,getNode:ue}=Nm(),{draggableType:$,draggableData:ne,setDraggableData:Y,setDraggableType:H}=mo(),[F,K]=P.useState(!1),[G,V]=P.useState(!1),[J,ge]=P.useState(0),[ye]=Mm(),we=ye.get("canvas"),ve=async($e,be)=>{if(be){if($e&&be&&!be.includes($e))return window.location.href=`/?userId=${$e}&canvasId=${$e}-${be}`,!1;{const Ke=await(await fetch(`${t}/api/list-canvases/${$e}`)).json();if(!Ke.success||!Ke.canvases.includes(be))return console.error(`${be} not found for the user `+$e+"in"+Ke.canvases),!1}}else return!1;return!0},_e=P.useCallback(($e,be)=>{H(be.type),Y(be.data),be.type!="default"&&Re(be,S)},[_,se]),ke=P.useCallback(($e,be)=>{_(Ze=>Re(be,Ze))},[_,e]),Re=($e,be)=>{const Ze=se($e).filter(Ke=>Ke.type===$e.type).map(Ke=>Ke.id);return be.map(Ke=>{if(Ke.id===$e.id){const yt=[{id:Ke.id,position:Ke.position,content:Ke.type==="image"?Ke.data.prompt:Ke.data.content},...Ze.map(St=>{const _t=be.find(Ft=>Ft.id===St);return _t?{id:_t.id,position:_t.position,content:_t.type==="image"?_t.data.prompt:_t.data.content}:null}).filter(Boolean)];return{...Ke,data:{...Ke.data,intersections:yt}}}return Ke})},We=P.useCallback(($e,be)=>{if($e.preventDefault(),be.data.type!=="default"){if(be.data.content&&be.data.content!="loading ")or(be.id,be.data.content,Op(fe([be])));else if(Array.isArray(be.data.words)){const Ze=ml(be.data.words);or(be.id,Ze,Op(fe([be])))}console.log("you right clicked this node:",be.data)}},[]),Ye=P.useCallback(($e,be)=>{if($e.altKey){if(be.data.type==="default")return;if(be.data.content&&be.data.content!="loading ")or(be.id,be.data.content,Op(fe([be])));else if(Array.isArray(be.data.words)){const Ze=ml(be.data.words);or(be.id,Ze,Op(fe([be])))}console.log("you option clicked this node:",be.data)}},[]);wM({onStart:()=>ge(0),onEnd:()=>{const $e=ee();M($e)}});const{handleCopy:Ne,handleCut:Pe,handlePaste:Ue}=gF(S);P.useEffect(()=>{const $e=be=>{(be.metaKey||be.ctrlKey)&&(be.key==="c"&&Ne(),be.key==="x"&&Pe(),be.key==="v"&&Ue())};return document.addEventListener("keydown",$e),()=>document.removeEventListener("keydown",$e)},[Ne,Pe,Ue]);const nt=($e="your text here",be="user",Ze,Ke=!1,yt,St)=>{let _t=Ze;const Ft=$e==="your text here"&&be==="user"&&!Ze&&!Ke;if(Ft){const sn={x:window.innerWidth/4,y:window.innerHeight/4},kn=z({x:sn.x,y:sn.y});_t={x:kn.x+J*15+Math.random()*50-25,y:kn.y+J*20},ge(J+1),console.log("making a default text node")}const bt=Ft?Sv:{words:$e.split(" ").map(sn=>({value:sn})),provenance:be,content:$e,intersections:[],similarTexts:St??[],hasNoKeywords:Ke},Yt={id:`text-${Cd()}`,type:"text",zIndex:1e3,position:_t??{x:250,y:250},data:bt};console.log("put the new text node at: ",_t),_(sn=>{const kn=[...sn,Yt];return yt&&C(yt,Yt.id,kn),kn})},Et=($e,be,Ze,Ke,yt,St)=>{$e=$e??"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",Ze=Ze??"default placeholder image. try creating something of your own!",Ke=Ke??"user",St=St&&St.length>0?St:void 0,be=be??{x:Math.random()*250,y:Math.random()*250};const _t=`image-${Cd()}`,Ft={id:_t,type:"image",position:be,zIndex:1e3,data:{content:$e,prompt:Ze,provenance:Ke,parentNodeId:yt,similarArtworks:St,intersections:[]},dragHandle:".drag-handle__invisible"};_(bt=>{const Yt=[...bt,Ft];return yt&&C(yt,_t,Yt),Yt})},cn=P.useCallback($e=>{$e.preventDefault(),$e.dataTransfer.dropEffect="move"},[]),li=P.useCallback($e=>{if($e.preventDefault(),!$)return;const be=z({x:$e.clientX-60,y:$e.clientY-60});if(console.log(`you just dropped a: ${JSON.stringify($)} in this location: ${JSON.stringify(be)} with this content: ${JSON.stringify(ne)}`),$==="image"){const Ze="content"in ne?ne.content:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/660px-No-Image-Placeholder.svg.png?20200912122019",Ke="prompt"in ne?ne.prompt:"",yt="provenance"in ne?ne.provenance:"user",St="parentNodeId"in ne?ne.parentNodeId:void 0,_t="similarArtworks"in ne?ne.similarArtworks:[];Et(Ze,be,Ke,yt,St,_t)}else if("content"in ne){const Ze="provenance"in ne?ne.provenance:"user",Ke="parentNodeId"in ne?ne.parentNodeId:void 0,yt="similarTexts"in ne?ne.similarTexts:[];nt(ne.content,Ze,be,!1,Ke,yt)}o(A(),u,a)},[$,ne,z,n]),or=P.useCallback(async($e,be="bunny on the moon",Ze={x:250,y:250})=>{var _t,Ft;const Ke=/\.(jpeg|jpg|gif|png|webp)$/.test(be),yt=`loading-${Cd()}`,St={id:yt,type:"default",position:Ze,zIndex:1e3,data:{content:"loading "}};_(bt=>[...bt,St]);try{if(Ke){const bt=await It.post(`${t}/api/generate-text`,{imageUrl:be});if(bt.status===200){const Yt=(_t=ue(yt))==null?void 0:_t.position;nt(bt.data.text,"ai",Yt,!1,$e,[]),O(yt)}else console.error(`Text generation Error: ${bt.status}`)}else{console.log(`Generating with prompt: ${be}`),new FormData().append("prompt",be);const Yt=await It.post(`${t}/api/generate-image`,{prompt:be});if(Yt.status===200){const sn=(Ft=ue(yt))==null?void 0:Ft.position;Et(Yt.data.imageUrl,sn||St.position,be,"ai",$e,[]),O(yt)}else console.error(`Image generation Error: ${Yt.status}`)}}catch(bt){bt instanceof Error?console.error("Failed to generate image:",bt.message):console.error("Unknown error occurred:",bt)}},[]);return P.useEffect(()=>{if(F||n==="logging in")return;(async()=>{if(n==="logged out"){console.log("USER IS LOGGED OUT"),c("browser");const be=m("browser");if(be){console.log("Canvas loaded from browser storage!: ",be);const{nodes:Ze=[],edges:Ke=[],viewport:yt={x:0,y:0,zoom:1}}=be;_(Ze),N(Ke),q(yt)}else console.log("No canvas found in browser storage. Creating a new one for the logged out user..."),_([]),N([]),nt("your text here","user",{x:0,y:0}),q({x:0,y:0,zoom:1}),h(A(),"browser","browserCanvas");K(!0);return}if(n==="logged in"&&e)if(we)c(we),d(`${we}`).then(be=>{if(be!==null){console.log("URL requested canvas found in the database!"),console.log(be);const{nodes:Ze=[],edges:Ke=[],viewport:yt={x:0,y:0,zoom:1}}=be.canvasData;console.log("flow has received: ",be),_(Ze),N(Ke),q(yt),y(be.canvasName),x(be.timestamp),K(!0);return}else console.log("No canvas found for the given ID.")});else{const Ze=await(await fetch(`${t}/api/list-canvases/${e}`)).json();if(Ze.success&&Ze.canvases.length>0){const Ke=Ze.canvases[Ze.canvases.length-1].canvasId;console.log("Redirecting to the last canvas:",Ke),K(!0),window.location.href=`/?user=${e}&canvas=${Ke}`}else Ze.success&&Ze.canvases.length===0&&(console.log("No canvases found, creating a new one."),v(e));K(!0)}})()},[e,n,F,we,t,ve,d,c,_,q,y,x,h,A,nt,v,m]),P.useEffect(()=>{const $e=setInterval(()=>{e?o(A()):h(A(),"browser","browserCanvas")},6e4);return()=>clearInterval($e)},[e,u,a,h,o,A]),k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{width:"100%",height:"100%"},children:k.jsxs(N_,{nodes:S,edges:T,nodeTypes:dC,minZoom:.009,onNodesChange:B,onEdgesChange:L,onNodeDrag:_e,onNodeDragStop:ke,onNodesDelete:X,onNodeContextMenu:We,onNodeClick:($e,be)=>Ye($e,be),onDrop:li,onDragOver:cn,zoomOnDoubleClick:!1,fitView:!0,selectionOnDrag:!0,children:[k.jsx(CM,{}),k.jsx(DM,{})]})}),k.jsx(yF,{addTextWithKeywordsNode:()=>nt(),addImageNode:Et,addSynthesizer:()=>V(!0)})]})},xF=()=>k.jsx("div",{children:k.jsx("div",{className:"flex h-screen mt-20 bg-red",children:k.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[k.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"ArtiFactor"}),k.jsxs("div",{id:"section1",className:"my-8",children:[k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Our Project"}),k.jsx("p",{children:"Pretend we filled this out."})]}),k.jsx("div",{id:"exampleSection",className:"mb-8",children:k.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Text with keywords test"})})]})})}),wF=()=>{const{backend:e,addUser:t}=Li(),[n,o]=P.useState([]),[a,u]=P.useState([]),[c,d]=P.useState([]),[h,m]=P.useState([]),[y,x]=P.useState(""),[v,S]=P.useState(""),[_,T]=P.useState(""),[N,C]=P.useState(""),[M,A]=P.useState(""),[L,B]=P.useState(""),[X,O]=P.useState(""),[z,q]=P.useState(!1),ee=async H=>{const F=H.target.value;if(x(F),S(""),T(""),C(""),A(""),o([]),F==="browserdata"){const K=Object.keys(localStorage).filter(G=>{var V;return(V=localStorage.getItem(G))==null?void 0:V.includes('"nodes":')});d(K.map(G=>({id:G,name:G})))}else{const G=await(await fetch(`${e}/api/list-users`)).json();if(G.success){const V=G.users.find(J=>J.userId===F);d(V?V.canvases:[])}else console.error("Failed to fetch users:",G.error)}},fe=async H=>{const F=H.target.value;S(F),T(""),C(""),A(""),o([]);const G=await(await fetch(`${e}/api/list-versions/${F}`)).json();G.success?(console.log("fetched versions:",G),m(G.versions)):console.error("Failed to fetch versions:",G.error)},se=async H=>{try{const K=await(await fetch(`${e}/api/get-version/${H}`)).json();return K.success?K.version.jsonBlob:(console.error("Failed to fetch version:",K.error),null)}catch(F){return console.error("Error fetching version:",F),null}},ue=async H=>{console.log(`Fetching all versions for canvas ID: ${H}`);try{const K=await(await fetch(`${e}/api/list-versions/${H}`)).json();if(K.success){console.log(`Successfully fetched versions for canvas ID: ${H}`,K.versions);const G=K.versions,V={};for(let J=0;J<G.length;J++){const ge=G[J];console.log(`Fetching data for version ${J+1} of ${G.length}: ${ge.versionId}`);const ye=await se(ge.versionId);ye?(console.log(`Successfully fetched data for version ID: ${ge.versionId}`),V[ge.versionId]=ye):console.warn(`No data found for version ID: ${ge.versionId}`)}return console.log("Compiled versions:",V),V}else return console.error(`Failed to fetch versions for canvas ID: ${H}`,K.error),null}catch(F){return console.error(`Error fetching all versions of canvas ID: ${H}`,F),null}},$=async H=>{const F=H.target.value;T(F);const G=await(await fetch(`${e}/api/get-version/${F}`)).json();if(G.success){const V=G.version.jsonBlob;C(G.version.timestamp),A(JSON.stringify(V,null,2)),o(V.nodes.map(J=>({node_id:J.id,type:J.type,content:ne(J.data.content)?k.jsx("img",{src:J.data.content,alt:"node content",style:{maxWidth:"50px"}}):J.data.content.substring(0,100)})))}else console.error("Failed to fetch version:",G.error)},ne=H=>/\.(jpeg|jpg|gif|png|webp)$/.test(H),Y=async()=>{y&&v&&window.confirm("Are you sure you want to delete this canvas?")&&((await(await fetch(`${e}/api/delete-canvas/${y}/${v}`,{method:"DELETE"})).json()).success?(alert("Canvas deleted successfully"),S(""),C(""),o([]),A("")):alert("Failed to delete canvas"))};return P.useEffect(()=>{(async()=>{try{const K=await(await fetch(`${e}/api/list-users`)).json();K.success?(console.log("fetched users:",K),u(K.users)):console.error("Failed to fetch users:",K.error)}catch(F){console.error("Error fetching users:",F)}})()},[e]),k.jsx("div",{className:"flex flex-col mt-20 overflow-scroll px-10",style:{height:"calc(100vh - 100px)"},children:k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex flex-wrap bg-stone-200 p-4",children:[k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsxs("h3",{onClick:()=>q(!z),className:"cursor-pointer",children:[z?"":""," Add new user"]}),z&&k.jsxs("div",{children:[k.jsx("input",{type:"text",placeholder:"Enter new user ID",value:L,onChange:H=>B(H.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("input",{type:"password",placeholder:"Enter new user password",value:X,onChange:H=>O(H.target.value),className:"w-full p-2 border rounded text-black mb-2"}),k.jsx("button",{onClick:()=>t(L,X),className:"w-full bg-stone-500 text-white p-2 rounded",children:"Add User"})]})]}),k.jsxs("div",{className:"mr-4 mb-4 display-block w-full p-3 relative",children:[k.jsx("button",{onClick:()=>console.log(localStorage),className:"w-50% bg-brown-500 text-white p-2 rounded mt-2",children:"Print Local Storage to console"}),k.jsx("button",{onClick:()=>{Object.keys(localStorage).filter(F=>{var K;return(K=localStorage.getItem(F))==null?void 0:K.includes('"nodes":')}).forEach(F=>localStorage.removeItem(F)),alert("All canvases in LocalStorage have been deleted.")},className:"w-50% bg-red-500 text-white p-2 rounded mt-2",children:"Delete All LocalStorage Canvases"}),k.jsx("br",{}),k.jsx("label",{htmlFor:"user-select",children:"Select User: "}),k.jsxs("select",{id:"user-select",value:y,onChange:ee,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a user"}),a.map(H=>k.jsx("option",{value:H.userId,children:H.userId},H.userId)),k.jsx("option",{value:"browserdata",children:"Browser Data"})]})]}),y&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("label",{htmlFor:"canvas-select",children:"Select Canvas: "}),k.jsxs("select",{id:"canvas-select",value:v,onChange:fe,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a canvas"}),c.map(H=>k.jsx("option",{value:H.canvasId,children:H.canvasName},H.canvasId))]})]}),v&&k.jsxs("div",{className:"mr-4 mb-4",children:[k.jsx("button",{onClick:async()=>{const H=await ue(v),F=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=URL.createObjectURL(F),G=document.createElement("a");G.href=K,G.download=`${y}-${v}.json`,G.click()},className:"bg-green-500 text-white px-4 py-2 mb-4",children:"Download All Versions as JSON data dump"}),k.jsx("br",{}),k.jsx("label",{htmlFor:"version-select",children:"Select Version: "}),k.jsxs("select",{id:"version-select",value:_,onChange:$,className:"w-full p-2 border rounded text-black mb-2",children:[k.jsx("option",{value:"",children:"Select a version"}),h.map(H=>k.jsx("option",{value:H.versionId,children:H.versionId},H.versionId))]})]})]}),v&&_&&k.jsxs("div",{className:"bg-brown-200 p-4",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("button",{onClick:()=>{console.log("sending user to: "+y+" and canvas to:"+v),window.location.href=`/?user=${y}&canvas=${v}`},className:"bg-blue-500 text-white px-4 py-2 mb-4",children:"Go to Canvas Page"}),k.jsxs("p",{children:["Canvas ID in database: ",v]}),k.jsxs("p",{children:["Timestamp: ",N]}),k.jsxs("p",{children:["Number of Nodes: ",n.length]}),k.jsx("p",{className:"font-bold",children:"Raw canvas data dump from server: "}),k.jsx("div",{className:"overflow-scroll bg-gray-100 p-4 mt-4 text-xs",style:{height:"200px",width:"100%",whiteSpace:"pre-wrap"},children:k.jsx("pre",{children:M})}),k.jsx("button",{onClick:Y,className:"bg-red-500 text-white px-4 py-2",children:"Delete Canvas"})]}),k.jsxs("div",{className:"overflow-scroll",style:{height:"calc(100vh - 100px)"},children:[v&&k.jsxs("div",{className:"flex justify-between mb-4",children:[k.jsx("button",{onClick:()=>{const H=h.findIndex(F=>F.versionId===_);if(H>0){const F=h[H-1].versionId;T(F),$({target:{value:F}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:h.findIndex(H=>H.versionId===_)===0,children:"Previous"}),k.jsxs("span",{className:"px-4 py-2 text-center",children:[h.findIndex(H=>H.versionId===_)+1," / ",h.length,k.jsxs("p",{className:"text-center",children:["Version ID: ",_]})]}),k.jsx("button",{onClick:()=>{const H=h.findIndex(F=>F.versionId===_);if(H<h.length-1){const F=h[H+1].versionId;T(F),$({target:{value:F}})}},className:"bg-gray-500 text-white px-4 py-2",disabled:h.findIndex(H=>H.versionId===_)===h.length-1,children:"Next"})]}),k.jsx("p",{className:"font-bold",children:"Node data from server, as a table: "}),k.jsxs("table",{className:"min-w-full",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-4 py-2"}),n.length>0&&Object.keys(n[0]).map(H=>k.jsx("th",{className:"px-4 py-2",children:H},H))]})}),k.jsx("tbody",{children:n.map((H,F)=>k.jsxs("tr",{children:[k.jsx("td",{className:"border px-4 py-2",children:F+1}),Object.values(H).map((K,G)=>k.jsx("td",{className:"border px-4 py-2",children:K},G))]},F))})]})]})]})]})})},C0=()=>{const e=["the dog is eating a sandwich by paul cezanne","the cat is playing with a ball by vincent van gogh","light bright shining, 2d, futurism, claude monet","the moon is rising, abstract expressionism, rembrandt","a beautiful sunset cubism, picasso, impressionism, edgar degas"],t=e[Math.floor(Math.random()*e.length)],n=t.split(" ").map(a=>({value:a}));return{...Sv,content:t,words:n,similarTexts:[{entryId:"1",value:"quantum",databaseValue:"Quantum Computing",images:["image1.jpg","image2.jpg"],isArtist:!1,type:"technology",aliases:[],descriptions:[{source:"wikipedia",description:"A type of computing that uses quantum-mechanical phenomena",date:"2023-10-01"},{source:"synth",description:"Recent advancements in quantum computing algorithms",date:"2023-09-15"}],relatedKeywordIds:["2","3","4"],relatedKeywordStrings:["computing","physics","technology"]},{entryId:"2",value:"machine learning",databaseValue:"Machine Learning",images:["image3.jpg","image4.jpg"],isArtist:!1,type:"technology",aliases:[],descriptions:[{source:"wikipedia",description:"A subset of artificial intelligence that enables systems to learn from data",date:"2023-10-01"},{source:"arxiv",description:"Recent advancements in machine learning algorithms and applications",date:"2023-09-15"}],relatedKeywordIds:["5","6","7"],relatedKeywordStrings:["AI","algorithms","data science"]}],hasNoKeywords:!1,hasNoSimilarTexts:!1,provenance:Math.random()>.5?"ai":"user"}},SF=()=>{const[e,t]=P.useState([{id:"1",type:"textwithkeywords",position:{x:250,y:100},data:C0()}]),[n,o]=P.useState(0),[a,u]=P.useState(!1),c=async()=>{u(!0),await new Promise(v=>setTimeout(v,500)),t(v=>v.map(S=>({...S,data:C0()}))),o(v=>v+1),u(!1)},d=()=>{const v={id:`${e.length+1}`,type:"textwithkeywords",position:{x:250+e.length%3*300,y:100+Math.floor(e.length/3)*250},data:C0()};t(S=>[...S,v])},h=()=>{t([]),o(0)},m=()=>{t(v=>v.map(S=>({...S,data:{...S.data,provenance:S.data.provenance==="ai"?"user":"ai"}})))},y=()=>{t([{id:"1",type:"textwithkeywords",position:{x:250,y:100},data:{...Sv}}])},x=()=>{t(v=>v.length<2?v:v.map((S,_)=>_===0?{...S,data:{...S.data,intersections:[{id:v[1].id,position:v[1].position,content:v[1].data.content||""}]}}:_===1?{...S,data:{...S.data,intersections:[{id:v[0].id,position:v[0].position,content:v[0].data.content||""}]}}:S))};return k.jsxs("div",{style:{width:"100vw",height:"calc(100vh - 48px)",marginTop:"48px",display:"flex",flexDirection:"column"},children:[k.jsxs("div",{style:{padding:"20px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[k.jsx("h1",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"TextWithKeywordsNode Test Page"}),k.jsxs("div",{style:{display:"flex",gap:"10px",marginLeft:"auto"},children:[k.jsxs("button",{onClick:c,disabled:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #3b82f6",backgroundColor:"#3b82f6",color:"white",cursor:a?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:a?.6:1,transition:"all 0.2s"},onMouseEnter:v=>!a&&(v.currentTarget.style.backgroundColor="#2563eb"),onMouseLeave:v=>!a&&(v.currentTarget.style.backgroundColor="#3b82f6"),children:[k.jsx(K5,{size:16,className:a?"animate-spin":""}),a?"Refreshing...":"Refresh Data"]}),k.jsxs("button",{onClick:d,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #10b981",backgroundColor:"#10b981",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#059669",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#10b981",children:[k.jsx(iC,{size:16}),"Add Node"]}),k.jsx("button",{onClick:m,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #8b5cf6",backgroundColor:"#8b5cf6",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#7c3aed",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#8b5cf6",children:"Toggle AI/User"}),k.jsx("button",{onClick:y,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #6b7280",backgroundColor:"#6b7280",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:v=>v.currentTarget.style.backgroundColor="#4b5563",onMouseLeave:v=>v.currentTarget.style.backgroundColor="#6b7280",children:"Use Default Data"}),k.jsx("button",{onClick:x,disabled:e.length<2,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #f59e0b",backgroundColor:"#f59e0b",color:"white",cursor:e.length<2?"not-allowed":"pointer",opacity:e.length<2?.6:1,transition:"all 0.2s"},onMouseEnter:v=>e.length>=2&&(v.currentTarget.style.backgroundColor="#d97706"),onMouseLeave:v=>e.length>=2&&(v.currentTarget.style.backgroundColor="#f59e0b"),children:"Test Intersections"}),k.jsxs("button",{onClick:h,disabled:e.length===0,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #ef4444",backgroundColor:"#ef4444",color:"white",cursor:e.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:e.length===0?.6:1,transition:"all 0.2s"},onMouseEnter:v=>e.length>0&&(v.currentTarget.style.backgroundColor="#dc2626"),onMouseLeave:v=>e.length>0&&(v.currentTarget.style.backgroundColor="#ef4444"),children:[k.jsx(Q5,{size:16}),"Clear All"]})]})]}),k.jsxs("div",{style:{padding:"15px 20px",backgroundColor:"#fef3c7",borderBottom:"1px solid #fbbf24",fontSize:"14px"},children:[k.jsx("strong",{children:"Info:"})," Nodes: ",e.length," | Refreshes: ",n," |",k.jsx("span",{style:{marginLeft:"10px"},children:"Click on nodes to interact with them. Double-click to edit text. Press Enter to confirm edits and trigger keyword/similar text fetching."})]}),k.jsx("div",{style:{flex:1},children:k.jsx(N_,{nodes:e,onNodesChange:v=>{t(S=>{const _=[...S];return v.forEach(T=>{if(T.type==="position"&&T.position){const N=_.find(C=>C.id===T.id);N&&(N.position=T.position)}if(T.type==="select"){const N=_.find(C=>C.id===T.id);N&&(N.selected=T.selected)}}),_})},nodeTypes:dC,fitView:!0,style:{backgroundColor:"#f9fafb"}})}),k.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        .loader {
          border: 2px solid #f3f3f3;
          border-top: 2px solid #3498db;
          border-radius: 50%;
          width: 20px;
          height: 20px;
          animation: spin 1s linear infinite;
        }
      `})]})},_F=({onClose:e})=>{const{canvasID:t,canvasName:n,saveCanvas:o,deleteCanvas:a,createNewCanvas:u}=Km(),{backend:c,handleUserLogin:d,userID:h,admins:m,loginStatus:y}=Li(),{canvasToObject:x}=Mc(),[v,S]=P.useState(""),[_,T]=P.useState(""),[N,C]=P.useState([]),[M,A]=P.useState(!1),[L,B]=P.useState(!1);P.useEffect(()=>{ee()},[h,n,t]);const X=async()=>{if(B(!0),!t||!h){console.error("No canvas to save.");return}try{console.log("sidebar is calling save canvas"),await o(x(),t,n)}catch(se){console.error("Error saving canvas:",se)}ee(),B(!1)},O=async()=>{if(h)try{u(h)}catch(se){console.error("Sidebar failed to create new canvas:",se)}else{console.error("You have to log in before you can create a new canvas.");return}},z=async se=>{se.preventDefault(),T("");try{await d(v,"")}catch(ue){console.error("Error logging in user:",ue),T("Something went wrong.")}},q=()=>{window.confirm("Are you sure you want to log out? (You may lose unsaved changes)")&&(window.location.href="/",localStorage.removeItem("last_userID"),localStorage.removeItem("last_password"),d("",""))},ee=async()=>{if(!(!h||h==="default"))try{console.log("Refreshing canvases...");const ue=await(await fetch(`${c}/api/list-canvases/${h}`)).json();if(!ue.success){T("Error fetching canvases.");return}C(ue.canvases)}catch(se){console.error("Error refreshing canvasList:",se),T("Something went wrong.")}},fe=async se=>{if(se===t){alert("You can't delete the canvas you're currently working on!");return}window.confirm("Are you sure you want to delete this canvas?")&&(await a(se),ee())};return k.jsxs("div",{className:"fixed top-0 left-0 w-64 h-full bg-gray-800 text-white p-4 z-40",children:[k.jsx("button",{onClick:e,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded",children:"Close"}),(!h||h==="default")&&k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Enter UserID"}),k.jsxs("form",{onSubmit:z,className:"mb-4",children:[k.jsx("input",{type:"text",value:v,onChange:se=>S(se.target.value),placeholder:"enter userID:",className:"w-full p-2 border rounded text-black"}),k.jsx("button",{type:"submit",className:"mt-2 w-full bg-blue-500 text-white p-2 rounded",children:"Submit"})]}),k.jsx("p",{className:"text-red-500",children:_})]}),h&&y==="logged in"&&k.jsxs(k.Fragment,{children:[k.jsxs("h2",{className:"text-lg font-bold mb-2",children:["Hi, ",h,"!"]}),k.jsx(Cn.button,{onClick:X,className:`mt-2 w-full text-white p-2 rounded ${L?"bg-stone-600":"bg-stone-500"}`,animate:{y:L?[0,-2,0]:0},transition:{duration:.5,ease:"easeInOut",repeat:L?1/0:0},children:L?"Saving...":`Save this canvas (${n})`}),k.jsx("button",{onClick:O,className:"w-full text-center text-left bg-gray-700 hover:bg-gray-600 p-2 rounded",children:"+ Start New Canvas"}),k.jsxs("div",{className:"flex items-center justify-between mt-2",children:[k.jsx("h3",{className:"text-md font-semibold",children:"Your Canvases:"}),k.jsx("button",{onClick:ee,className:"text-white p-2 rounded",children:""}),k.jsx("button",{onClick:()=>A(!M),className:"text-white p-2 rounded",children:""})]}),k.jsx("ul",{className:"mt-2",children:N&&N.length>0?N.map(se=>k.jsxs("li",{className:"mt-1 flex items-center",children:[k.jsxs(Cn.button,{onClick:()=>{window.location.href=`/?user=${h}&canvas=${se.canvasId}`},className:`w-full text-left p-2 rounded ${se.canvasId===t?"bg-stone-500":M?"bg-gray-700":"bg-gray-700 hover:bg-gray-600"}`,disabled:M||se.canvasId===t,animate:M&&se.canvasId!=t?{rotate:[0,-1,1,0]}:{},transition:{duration:.3,repeat:M?1/0:0},children:[se.canvasName," ",se.canvasId===t&&"(current canvas)"]}),M&&se.canvasId!=t&&k.jsx("button",{onClick:()=>fe(se.canvasId),className:"ml-2 text-red-500 hover:text-red-700",children:""})]},se.canvasId)):k.jsx("p",{className:"text-gray-400",children:"No canvases yet."})}),k.jsx("button",{onClick:q,className:"mt-4 w-full bg-red-500 text-white p-2 rounded",children:"Log Out"})]}),h&&m.includes(h)&&k.jsxs("div",{className:"mt-4 p-4 bg-black rounded",children:[k.jsx("h2",{className:"text-lg font-bold mb-2",children:"Admin Controls"}),k.jsx("button",{onClick:()=>window.location.href="/admin",className:"w-full bg-blue-500 text-white p-2 rounded mt-2",children:"Go to Admin Page"})]})]})},EF=({data:e,type:t,removeNode:n})=>{const{setDraggableType:o,setDraggableData:a}=mo(),[u,c]=P.useState(!1),{userID:d,admins:h}=Li(),[m,y]=P.useState(!1),x=S=>{S.dataTransfer.effectAllowed="move",o(t),a(e)},v=async()=>{try{const S=e.content,_=await fetch(S);if(!_.ok)throw new Error("Failed to fetch the image.");const T=await _.blob(),N=URL.createObjectURL(T),C=document.createElement("a");C.href=N,C.download=`${e.prompt}.png`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)}catch(S){console.error("Error downloading image:",S)}};return k.jsx("div",{className:"border border-gray-600 rounded-md p-2 cursor-grab hover:bg-gray-50 hover:shadow-sm transition-all text-sm relative",draggable:!0,onDragStart:x,style:{width:"100%"},onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),y(!1)},onClick:()=>y(!m),children:t==="text"?k.jsxs(Cn.div,{className:"relative pr-2.5",style:{textOverflow:"ellipsis",overflow:"hidden"},animate:{height:u?"auto":"20px"},transition:{duration:.35},children:[e.content,k.jsx("button",{type:"button",className:"absolute top-0 right-0 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),n(e.id)},children:""})]}):k.jsxs("div",{className:"relative",children:[k.jsxs(Cn.div,{className:`max-h-${u?"full":"60"} overflow-hidden relative`,style:{height:u?"auto":"60px"},animate:{height:u?"auto":"60px"},transition:{duration:.35},children:[k.jsx("img",{src:e.content,alt:e.prompt,className:"rounded-md object-cover w-full h-full"}),k.jsxs("div",{className:`absolute bottom-0 left-0 w-full h-full bg-white bg-opacity-50 
               text-gray-800 text-md uppercase text-center p-1 
               ${m?"opacity-100":"opacity-0"} 
               transition-opacity duration-300 font-bold italic 
               leading-tight flex flex-col items-center justify-center`,style:{zIndex:10,visibility:m?"visible":"hidden"},children:[k.jsx("span",{children:e.prompt.length>40?`${e.prompt.substring(0,40)}...`:e.prompt}),k.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),v()},className:"bg-gray-800 text-white px-2 py-1 rounded-md text-sm mt-2",children:k.jsx(M5,{size:16})})]})]}),k.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),n(e.id)},children:""}),d&&h.includes(d)&&k.jsx("button",{type:"button",className:"absolute top-1 left-1 bg-white text-black rounded-full w-5 h-5 text-xs flex items-center justify-center z-50",onClick:S=>{S.stopPropagation(),console.log(e)},children:"data"})]})})},bF=()=>{const{removeNode:e,activeTab:t,setActiveTab:n,clippedNodes:o=[]}=By();P.useEffect(()=>{o.length>0&&n(o[o.length-1].type)},[o,n]);const a=c=>{e(c)},u=o.filter(c=>c.type===t);return k.jsxs("div",{className:"p-4 h-[100%] border-stone-800 rounded-md flex flex-col",children:[k.jsx("div",{className:"flex space-x-2 mb-4 sticky top-0 bg-white z-10",children:["text","image"].map(c=>k.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t===c?"bg-stone-800 text-white":"bg-stone-200 text-stone-600"}`,onClick:()=>n(c),type:"button",children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),k.jsx("div",{className:"space-y-3 overflow-y-scroll flex-grow",children:u.map((c,d)=>k.jsx("div",{className:"relative",children:k.jsx(EF,{data:c,type:t,removeNode:()=>a(c.id)})},d))})]})},CF=({toggleSidebar:e})=>{const{canvasID:t,canvasName:n,setCanvasName:o,saveCanvas:a,lastSaved:u}=Km(),{loginStatus:c,condition:d}=Li(),{canvasToObject:h}=Mc(),[m,y]=P.useState(!1),[x,v]=P.useState(n),[S,_]=P.useState("Never"),[T,N]=P.useState(!1),C=async()=>{y(!1),x.trim()!==""&&x!==n?o(x):v(n),M()},M=async()=>{if(t){N(!0),console.log("Title bar is saving the canvas.");try{await a(h(),t,n)}catch(A){console.error("Error saving canvas:",A)}N(!1)}};return P.useEffect(()=>{c==="logged in"&&v(n)},[n]),P.useEffect(()=>{if(u){const A=new Date,L=new Date(u),B=Math.floor((A.getTime()-L.getTime())/1e3);if(B<=3)_("just now");else{const X=Math.floor(B/60),O=B%60;_(X>0?`${X} minute${X>1?"s":""} and ${O} second${O!==1?"s":""} ago`:`${O} second${O!==1?"s":""} ago`)}}else _("Never")},[u]),k.jsxs("div",{className:"w-full flex items-center justify-between bg-stone-900 text-white px-4 py-2 shadow-md",children:[d&&c==="logged in"&&k.jsx("button",{onClick:e,className:"p-2",children:k.jsx(j5,{size:16})}),c!=="logged in"?k.jsx("h1",{className:"text-lg font-semibold text-stone-400",children:"ArtiFactor"}):k.jsxs("div",{className:"flex-1 flex items-center justify-center gap-4",children:[k.jsxs("div",{className:"flex items-center",children:[m?k.jsx("input",{type:"text",value:x,onChange:A=>v(A.target.value),onBlur:C,onKeyDown:A=>A.key==="Enter"&&C(),autoFocus:!0,className:"bg-stone-800 text-white px-2 py-1 border border-gray-700 rounded"}):k.jsx("span",{className:"text-white cursor-pointer",onClick:()=>y(!0),children:n}),k.jsx(U5,{size:16,className:"ml-2 cursor-pointer",onClick:()=>y(!0)})]}),k.jsxs("span",{className:"text-sm text-stone-400",children:["Last saved... ",S]})]}),c==="logged in"&&k.jsx("button",{onClick:M,className:`flex items-center gap-2 px-4 py-2 rounded ${T?"bg-gray-600":"bg-stone-500"} text-white`,children:T?"...":k.jsx(X5,{size:16})})]})},kF="https://snailbunny.site";function TF(){const[e]=Mm();let t=e.get("con");t==="A"||t==="a"?t="control":t="experimental";const[n,o]=P.useState(!1),a=()=>{o(u=>!u)};return P.useEffect(()=>{const u=c=>{c.preventDefault(),c.returnValue=""};return window.addEventListener("beforeunload",u),()=>{window.removeEventListener("beforeunload",u)}},[]),P.useEffect(()=>{const u=c=>{const{ctrlKey:d}=c;d&&c.preventDefault()};return window.addEventListener("wheel",u,{passive:!1}),()=>{window.removeEventListener("wheel",u)}},[]),k.jsx(Q3,{backend:kF,condition:t,children:k.jsx(J5,{children:k.jsx(J3,{children:k.jsx(T_,{children:k.jsx(aF,{children:k.jsx(Z3,{children:k.jsxs("div",{className:"relative h-screen w-screen overflow-hidden",children:[k.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-800 text-white w-64 transition-transform duration-300 ${n?"translate-x-0":"-translate-x-64"}`,style:{zIndex:50,overflow:"hidden"},children:k.jsx(_F,{onClose:a})}),k.jsx("div",{className:"fixed top-0 left-0 w-full h-12 bg-gray-800 text-white transition-transform duration-300",style:{overflow:"hidden"},children:k.jsx(CF,{toggleSidebar:a})}),k.jsxs(VI,{children:[k.jsx(md,{path:"/about",element:k.jsx("div",{className:"flex bottom-0 bg-red",style:{height:"calc(100vh - 100px)",marginTop:"50px",padding:"10px",overflow:"scroll",background:"red"},children:k.jsx(xF,{})})}),k.jsx(md,{path:"/test",element:k.jsx(SF,{})}),k.jsx(md,{path:"/admin",element:k.jsx(wF,{})}),k.jsx(md,{path:"/",element:k.jsxs("div",{className:"flex fixed",style:{height:"calc(100vh - 80px)",marginTop:"24px",overflow:"hidden"},children:[k.jsx("div",{className:"border border-gray-500",style:{height:"100%",width:"75vw",margin:0,padding:0,overflow:"hidden"},children:k.jsx(vF,{})}),k.jsx("div",{className:"border border-gray-500 ml-5 rounded-lg",style:{height:"100%",width:"21vw",margin:0,marginRight:10,zIndex:3,overflow:"hidden"},children:k.jsx(bF,{})})]})})]})]})})})})})})})}function NF(){return k.jsx(fL,{children:k.jsx(TF,{})})}Hk.createRoot(document.getElementById("root")).render(k.jsx(k.Fragment,{children:k.jsxs(vy.StrictMode,{children:[" ",k.jsx(eT,{}),k.jsx(NF,{})]})}));
